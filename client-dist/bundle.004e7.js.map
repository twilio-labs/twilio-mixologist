{"version":3,"sources":["webpack:///bundle.004e7.js","webpack:///webpack/bootstrap 169fe25e432ba8d28472","webpack:///../node_modules/twilio-sync/browser/network.js","webpack:///../node_modules/core-js/library/modules/es6.set.js","webpack:///../node_modules/twilio-sync/browser/configuration.js","webpack:///../node_modules/preact-router/dist/preact-router.es.js","webpack:///../node_modules/twilio-sync/browser/retryingqueue.js","webpack:///../node_modules/core-js/library/modules/_shared-key.js","webpack:///../node_modules/core-js/library/fn/object/freeze.js","webpack:///../node_modules/babel-runtime/core-js/object/freeze.js","webpack:///../node_modules/core-js/library/modules/_property-desc.js","webpack:///../node_modules/twilsock/lib/index.js","webpack:///../node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///../node_modules/core-js/library/modules/_library.js","webpack:///../node_modules/es5-ext/object/normalize-options.js","webpack:///../node_modules/core-js/library/modules/es7.map.to-json.js","webpack:///../node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///../node_modules/preact-mdl/dist/preact-mdl.js","webpack:///../node_modules/es5-ext/string/#/contains/shim.js","webpack:///../node_modules/twilio-sync/browser/utils/deferred.js","webpack:///../node_modules/es5-ext/object/keys/shim.js","webpack:///../node_modules/core-js/library/fn/object/define-property.js","webpack:///../node_modules/core-js/library/modules/_ctx.js","webpack:///../node_modules/twilio-sync/browser/synclist.js","webpack:///../node_modules/core-js/library/modules/_descriptors.js","webpack:///../node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///../node_modules/es5-ext/string/#/contains/is-implemented.js","webpack:///../node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///../node_modules/preact-cli/lib/components/async.js","webpack:///../node_modules/babel-runtime/core-js/set.js","webpack:///../node_modules/twilsock/lib/configuration.js","webpack:///../node_modules/core-js/library/modules/_array-species-constructor.js","webpack:///../node_modules/twilsock/lib/client.js","webpack:///../node_modules/core-js/library/modules/es6.promise.js","webpack:///../node_modules/core-js/library/modules/_dom-create.js","webpack:///../node_modules/core-js/library/fn/promise.js","webpack:///../node_modules/twilio-ems-client/browser/persistentState.js","webpack:///../node_modules/core-js/library/modules/es6.symbol.js","webpack:///../node_modules/core-js/library/modules/_collection-strong.js","webpack:///../node_modules/precond/lib/errors.js","webpack:///../node_modules/bottleneck/lib/Bottleneck.js","webpack:///../node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack:///../node_modules/twilio-sync/browser/services/storage.js","webpack:///../node_modules/core-js/library/modules/_species-constructor.js","webpack:///../node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///../node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///../node_modules/twilio-notifications/lib/twilsock.connector.js","webpack:///../node_modules/core-js/library/modules/es6.object.freeze.js","webpack:///../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///../node_modules/core-js/library/modules/_is-object.js","webpack:///../node_modules/core-js/library/modules/core.is-iterable.js","webpack:///../node_modules/backoff/lib/strategy/strategy.js","webpack:///../node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///../node_modules/bottleneck/lib/DLList.js","webpack:///../node_modules/bottleneck/lib/Cluster.js","webpack:///../node_modules/precond/index.js","webpack:///../node_modules/twilio-notifications/lib/registrar.js","webpack:///../shared/consts.js","webpack:///../node_modules/backoff/lib/backoff.js","webpack:///../node_modules/twilio-sync/browser/logger.js","webpack:///../node_modules/core-js/library/modules/_iobject.js","webpack:///../node_modules/core-js/library/modules/_to-primitive.js","webpack:///../node_modules/twilio-notifications/lib/logger.js","webpack:///../node_modules/babel-runtime/core-js/object/define-property.js","webpack:///../node_modules/core-js/library/modules/_set-species.js","webpack:///../node_modules/events/events.js","webpack:///../node_modules/core-js/library/modules/es6.object.define-properties.js","webpack:///../node_modules/twilio-sync/browser/entity.js","webpack:///../node_modules/core-js/library/modules/_object-dp.js","webpack:///../node_modules/babel-runtime/helpers/typeof.js","webpack:///../node_modules/core-js/library/modules/_microtask.js","webpack:///../node_modules/twilio-notifications/lib/index.js","webpack:///../node_modules/core-js/library/modules/_object-gpo.js","webpack:///../node_modules/babel-runtime/core-js/json/stringify.js","webpack:///../node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///../node_modules/twilio-transport/lib/transport.js","webpack:///../node_modules/cuint/lib/uint64.js","webpack:///../node_modules/twilio-sync/browser/entitiesCache.js","webpack:///../node_modules/ieee754/index.js","webpack:///./routes/admin/index.js?119d","webpack:///./routes/dashboard/index.js?3118","webpack:///./routes/home/index.js?f3f2","webpack:///./routes/kiosk/index.js?8ee5","webpack:///./routes/orders/index.js?1843","webpack:///./components/header/index.js","webpack:///./components/app.js","webpack:///./index.js","webpack:///../node_modules/core-js/library/fn/map.js","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///../node_modules/core-js/library/modules/_an-instance.js","webpack:///../node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///../node_modules/core-js/library/fn/symbol/index.js","webpack:///../node_modules/babel-runtime/core-js/promise.js","webpack:///../node_modules/twilio-notifications/lib/registrar.connector.js","webpack:///../node_modules/core-js/library/modules/_array-includes.js","webpack:///../node_modules/twilio-ems-client/browser/client.js","webpack:///../node_modules/babel-runtime/core-js/object/define-properties.js","webpack:///../node_modules/core-js/library/modules/_iter-detect.js","webpack:///./lib/sync-client.js","webpack:///../node_modules/core-js/library/fn/get-iterator.js","webpack:///../node_modules/core-js/library/modules/_to-integer.js","webpack:///../node_modules/core-js/library/modules/_to-index.js","webpack:///../node_modules/core-js/library/modules/es6.array.from.js","webpack:///../node_modules/es5-ext/object/valid-callable.js","webpack:///../node_modules/core-js/library/modules/_shared.js","webpack:///../node_modules/twilio-sync/browser/paginator.js","webpack:///../node_modules/xxhashjs/lib/xxhash.js","webpack:///../node_modules/core-js/library/modules/_object-gopn.js","webpack:///../node_modules/core-js/library/fn/array/from.js","webpack:///../node_modules/core-js/library/modules/_redefine-all.js","webpack:///../node_modules/xxhashjs/lib/xxhash64.js","webpack:///../node_modules/twilio-sync/browser/router.js","webpack:///../node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///../node_modules/core-js/library/modules/_object-gops.js","webpack:///../node_modules/cuint/index.js","webpack:///../node_modules/twilio-sync/browser/utils.js","webpack:///../node_modules/event-emitter/index.js","webpack:///../node_modules/backoff/index.js","webpack:///../node_modules/core-js/library/fn/json/stringify.js","webpack:///../node_modules/material-design-lite/material.js","webpack:///../node_modules/regenerator-runtime/runtime.js","webpack:///../node_modules/regenerator-runtime/runtime-module.js","webpack:///../node_modules/twilio-sync/browser/mapitem.js","webpack:///../node_modules/twilio-sync/browser/clientInfo.js","webpack:///../node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///../node_modules/isarray/index.js","webpack:///../node_modules/core-js/library/modules/_to-length.js","webpack:///../node_modules/core-js/library/modules/es6.map.js","webpack:///../node_modules/core-js/library/modules/_cof.js","webpack:///../node_modules/babel-runtime/helpers/extends.js","webpack:///../node_modules/loglevel/lib/loglevel.js","webpack:///../node_modules/core-js/library/modules/_array-species-create.js","webpack:///../node_modules/core-js/library/fn/is-iterable.js","webpack:///../node_modules/core-js/library/modules/_object-create.js","webpack:///../node_modules/twilio-notifications/lib/client.js","webpack:///../node_modules/core-js/library/modules/_defined.js","webpack:///../node_modules/core-js/library/modules/_wks.js","webpack:///./components/header/style.less?4a07","webpack:///../node_modules/backoff/lib/function_call.js","webpack:///../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","webpack:///../node_modules/twilio-sync/browser/client.js","webpack:///../node_modules/babel-runtime/core-js/array/from.js","webpack:///../node_modules/core-js/library/modules/_to-iobject.js","webpack:///../node_modules/core-js/library/modules/_uid.js","webpack:///../node_modules/babel-runtime/core-js/get-iterator.js","webpack:///../node_modules/core-js/library/modules/es7.set.to-json.js","webpack:///../node_modules/backoff/lib/strategy/fibonacci.js","webpack:///../node_modules/es5-ext/object/valid-value.js","webpack:///../node_modules/twilio-sync/browser/syncerror.js","webpack:///../node_modules/core-js/library/modules/es6.object.assign.js","webpack:///../node_modules/core-js/library/modules/_array-from-iterable.js","webpack:///../node_modules/babel-runtime/core-js/map.js","webpack:///../node_modules/twilio-ems-client/browser/configuration.js","webpack:///../node_modules/core-js/library/modules/_classof.js","webpack:///../node_modules/babel-runtime/helpers/inherits.js","webpack:///../node_modules/twilio-sync/browser/cache.js","webpack:///../node_modules/core-js/library/modules/_set-proto.js","webpack:///../node_modules/es6-promise/dist/es6-promise.js","webpack:///../node_modules/core-js/library/modules/_wks-ext.js","webpack:///../node_modules/babel-runtime/regenerator/index.js","webpack:///../node_modules/core-js/library/modules/_is-array-iter.js","webpack:///../node_modules/core-js/library/modules/_hide.js","webpack:///../node_modules/twilio-sync/browser/syncmap.js","webpack:///../node_modules/core-js/library/modules/_is-array.js","webpack:///../node_modules/es5-ext/object/is-callable.js","webpack:///../node_modules/rfc6902/rfc6902.js","webpack:///../node_modules/backoff/lib/strategy/exponential.js","webpack:///../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///../node_modules/core-js/library/modules/_iter-create.js","webpack:///../node_modules/core-js/library/modules/_wks-define.js","webpack:///../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///../node_modules/twilio-sync/browser/subscriptions.js","webpack:///../node_modules/core-js/library/modules/_object-sap.js","webpack:///../node_modules/core-js/library/modules/_collection.js","webpack:///../node_modules/core-js/library/fn/object/create.js","webpack:///../node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///../node_modules/uuid/lib/bytesToUuid.js","webpack:///../node_modules/twilio-sync/browser/index.js","webpack:///../node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///../node_modules/core-js/library/modules/_iterators.js","webpack:///../node_modules/core-js/library/modules/_meta.js","webpack:///../node_modules/twilio-sync/browser/syncNetworkError.js","webpack:///../node_modules/core-js/library/modules/_html.js","webpack:///../node_modules/uuid/lib/rng-browser.js","webpack:///../node_modules/twilsock/lib/packetinterface.js","webpack:///../node_modules/es5-ext/object/is-value.js","webpack:///../node_modules/es5-ext/object/assign/index.js","webpack:///../node_modules/bluebird/js/browser/bluebird.js","webpack:///../node_modules/core-js/library/modules/_a-function.js","webpack:///../node_modules/precond/lib/checks.js","webpack:///../node_modules/babel-runtime/core-js/object/assign.js","webpack:///../node_modules/util/util.js","webpack:///../node_modules/core-js/library/modules/_object-dps.js","webpack:///../node_modules/babel-runtime/core-js/is-iterable.js","webpack:///../node_modules/core-js/library/modules/_redefine.js","webpack:///../node_modules/es5-ext/object/keys/is-implemented.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///../node_modules/core-js/library/modules/_iter-call.js","webpack:///../node_modules/uuid/v1.js","webpack:///../node_modules/uuid/v4.js","webpack:///../node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///../node_modules/twilio-sync/browser/syncdocument.js","webpack:///../node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///../node_modules/operation-retrier/lib/retrier.js","webpack:///../node_modules/core-js/library/modules/_global.js","webpack:///../node_modules/d/index.js","webpack:///../node_modules/twilio-common/lib/accessmanager.js","webpack:///../node_modules/twilio-transport/lib/httprequest.js","webpack:///../node_modules/babel-runtime/core-js/symbol.js","webpack:///../node_modules/babel-runtime/helpers/createClass.js","webpack:///../node_modules/core-js/library/modules/_object-keys.js","webpack:///../node_modules/platform/platform.js","webpack:///../node_modules/twilsock/lib/twilsock.js","webpack:///../node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///../node_modules/webpack/buildin/module.js","webpack:///../node_modules/karibu/browser/tree.js","webpack:///../node_modules/twilio-ems-client/browser/logger.js","webpack:///../node_modules/core-js/library/modules/_string-at.js","webpack:///../node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///../node_modules/core-js/library/modules/_to-object.js","webpack:///../node_modules/cuint/lib/uint32.js","webpack:///../node_modules/core-js/library/fn/symbol/iterator.js","webpack:///../node_modules/es5-ext/object/keys/index.js","webpack:///../node_modules/core-js/library/modules/_invoke.js","webpack:///../node_modules/twilsock/lib/logger.js","webpack:///../node_modules/es5-ext/object/assign/shim.js","webpack:///../node_modules/core-js/library/modules/_for-of.js","webpack:///../node_modules/twilio-common/lib/index.js","webpack:///../node_modules/core-js/library/modules/_keyof.js","webpack:///../node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/twilio-sync/package.json","webpack:///../node_modules/uuid/index.js","webpack:///../node_modules/twilio-sync/browser/listitem.js","webpack:///../node_modules/es5-ext/function/noop.js","webpack:///../node_modules/xxhashjs/lib/index.js","webpack:///../node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///../node_modules/preact-router/match.js","webpack:///../node_modules/core-js/library/modules/_object-gopd.js","webpack:///../node_modules/core-js/library/modules/_array-methods.js","webpack:///../node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///../node_modules/core-js/library/fn/object/define-properties.js","webpack:///../node_modules/core-js/library/modules/_iter-define.js","webpack:///../node_modules/core-js/library/modules/core.get-iterator.js","webpack:///../node_modules/core-js/library/modules/_object-assign.js","webpack:///../node_modules/javascript-state-machine/state-machine.js","webpack:///../node_modules/core-js/library/modules/_task.js","webpack:///../node_modules/core-js/library/modules/_export.js","webpack:///../node_modules/core-js/library/modules/_create-property.js","webpack:///../node_modules/core-js/library/fn/object/assign.js","webpack:///../node_modules/util/support/isBufferBrowser.js","webpack:///../node_modules/core-js/library/fn/set.js","webpack:///../node_modules/core-js/library/modules/_fails.js","webpack:///../node_modules/core-js/library/modules/_collection-to-json.js","webpack:///../node_modules/core-js/library/modules/_iter-step.js","webpack:///../node_modules/es5-ext/object/assign/is-implemented.js","webpack:///../node_modules/bottleneck/lib/index.js","webpack:///../node_modules/core-js/library/modules/es6.object.create.js","webpack:///../node_modules/core-js/library/modules/_has.js","webpack:///../node_modules/core-js/library/modules/_enum-keys.js","webpack:///../node_modules/babel-runtime/core-js/object/create.js","webpack:///../node_modules/base64-js/index.js","webpack:///../node_modules/es5-ext/string/#/contains/index.js","webpack:///../node_modules/core-js/library/modules/_object-pie.js","webpack:///../node_modules/core-js/library/modules/_core.js","webpack:///../node_modules/twilio-notifications/lib/configuration.js","webpack:///../node_modules/core-js/library/modules/_an-object.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","parentJsonpFunction","window","chunkIds","moreModules","executeModules","chunkId","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","shift","5","e","onScriptComplete","script","onerror","onload","clearTimeout","timeout","chunk","Error","undefined","installedChunkData","Promise","resolve","promise","reject","head","document","getElementsByTagName","createElement","type","charset","async","nc","setAttribute","src","p","0","1","2","3","4","setTimeout","appendChild","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","n","__esModule","object","property","oe","err","console","error","s","+/Dx","_interopRequireDefault","obj","default","messageFromErrorBody","trasportError","body","message","status","codeFromErrorBody","code","mapTransportError","transportError","syncNetworkError_1","SyncNetworkError","syncerror_1","SyncError","twilio_transport_1","TwilsockUnavailableError","_promise","_promise2","_extends2","_extends3","_stringify","_stringify2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","value","uuid","logger_1","operation_retrier_1","Network","productId","clientInfo","config","transport","this","key","Content-Type","Twilio-Sync-Client-Info","Twilio-Request-Id","v4","replace","X-Twilio-Product-Id","X-Twilio-Token","token","min","max","maxAttemptsTime","randomness","backoffConfig","request","_this","retryWhenThrottled","arguments","codesToRetryOn","retrier","on","then","result","succeeded","catch","indexOf","delayOverride","parseInt","headers","failed","isNaN","removeAllListeners","cancel","start","uri","_this2","createHeaders","debug","executeWithRetry","revision","twilsockOnly","_this3","post","_this4","put","_this5","delete","+o4f","strong","add","def","/GKJ","getWithDefault","container","defaultValue","Configuration","options","Sync","DataSync","baseUri","cdsUri","_token","settings","subscriptionsUri","documentsUri","listsUri","mapsUri","sessionStorageEnabled","/QC5","__webpack_exports__","assign","props","exec","url","route","opts","EMPTY$1","ret","reg","match","matches","split","r","decodeURIComponent","slice","join","segmentize","Math","i$1","charAt","param","flags","plus","star","val","map","pathRankSort","a","b","aAttr","attributes","bAttr","rank","path","strip","isPreactElement","node","__preactattr_","Symbol","for","setUrl","customHistory","history","getCurrentUrl","location","getCurrentLocation","EMPTY","pathname","search","canRoute","routeTo","ROUTERS","didRoute","subscribers","routeFromLink","getAttribute","href","target","handleLinkClick","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","t","String","nodeName","toUpperCase","hasAttribute","parentNode","initEventListeners","eventListenersInitialized","addEventListener","Router","Route","Link","__WEBPACK_IMPORTED_MODULE_0_preact__","Component$$1","state","__proto__","create","constructor","shouldComponentUpdate","static","onChange","getMatchingChildren","children","_didRoute","setState","updating","forceUpdate","componentWillMount","componentDidMount","this$1","unlisten","listen","componentWillUnmount","splice","componentWillUpdate","componentDidUpdate","invoke","sort","vnode","attrs","newProps","filter","Boolean","render","ref","ref$1","active","current","previous","previousUrl","router","onClick","component","/lpw","_freeze","_freeze2","RetryingQueue","queue","Array","isActive","executeTask","arg","task","context","pickNext","handle","pickSame","errorHandler","wakeupQueue","/wuY","shared","uid","0KnF","freeze","0Qy9","0WCH","bitmap","writable","0Zys","_client","11Ut","f","has","TAG","it","tag","stat","1kq3","1uac","isValue","forEach","process","2SH0","$export","P","R","toJSON","2mwf","3PZ7","global","factory","preact","mdl","componentHandler","uidCounter","extend","base","setClass","append","cl","getClass","className","class","_extends","AwaitValue","AsyncGenerator","gen","send","next","back","front","resume","settle","done","_invoke","return","asyncIterator","throw","source","inherits","subClass","superClass","TypeError","setPrototypeOf","objectWithoutProperties","keys","possibleConstructorReturn","self","ReferenceError","MDL_PREFIX","MDL_NO_PREFIX","is-active","propMaps","disabled","_ref","badge","_ref2","_ref3","shadow","_ref4","parseFloat","MaterialComponent","_Component","_temp","_ret","_len","args","_key","apply","concat","js","ripple","mdlClasses","upgradedBase","mdlRender","h","createMdlClasses","preserveMdlDom","persist","v","upgradeQueue","classList","contains","mapping","propClassMapping","downgradeElements","parentElement","upgradeElement","Component","items","requestAnimationFrame","el","u","j","updateClasses_","onFocus_","input_","Icon","_MaterialComponent","icon","Button","_MaterialComponent2","_temp2","_ret2","_len2","_key2","Card","_MaterialComponent3","_temp3","_ret3","_len3","_key3","CardTitle","_MaterialComponent4","_temp4","_ret4","_len4","_key4","expand","CardTitleText","_MaterialComponent5","_temp5","_this6","_ret5","_len5","_key5","CardMedia","_MaterialComponent6","_temp6","_this7","_ret6","_len6","_key6","CardText","_MaterialComponent7","_temp7","_this8","_ret7","_len7","_key7","CardActions","_MaterialComponent8","_temp8","_this9","_ret8","_len8","_key8","CardMenu","_MaterialComponent9","_temp9","_this10","_ret9","_len9","_key9","Title","TitleText","Media","Text","Actions","Menu","Dialog","_MaterialComponent10","_temp10","_this11","_ret10","_len10","_key10","show","showModal","close","DialogTitle","_MaterialComponent11","_temp11","_this12","_ret11","_len11","_key11","DialogContent","_MaterialComponent12","_temp12","_this13","_ret12","_len12","_key12","DialogActions","_MaterialComponent13","_temp13","_this14","_ret13","_len13","_key13","Content","Layout","_MaterialComponent14","_temp14","_this15","_ret14","_len14","_key14","LayoutHeader","_MaterialComponent15","_temp15","_this16","_ret15","_len15","_key15","LayoutHeaderRow","_MaterialComponent16","_temp16","_this17","_ret16","_len16","_key16","LayoutTitle","_MaterialComponent17","_temp17","_this18","_ret17","_len17","_key17","LayoutSpacer","_MaterialComponent18","_temp18","_this19","_ret18","_len18","_key18","LayoutDrawer","_MaterialComponent19","_temp19","_this20","_ret19","_len19","_key19","LayoutContent","_MaterialComponent20","_temp20","_this21","_ret20","_len20","_key20","LayoutTabBar","_MaterialComponent21","_temp21","_this22","_ret21","_len21","_key21","LayoutTab","_MaterialComponent22","_temp22","_this23","_ret22","_len22","_key22","LayoutTabPanel","_MaterialComponent23","_temp23","_this24","_ret23","_len23","_key23","Header","HeaderRow","Spacer","Drawer","TabBar","Tab","TabPanel","Navigation","_MaterialComponent24","_temp24","_this25","_ret24","_len24","_key24","large-screen-only","item","NavigationLink","_MaterialComponent25","_len25","_key25","_this26","handleClick","bind","_props","onclick","_ref5","Tabs","_MaterialComponent26","_temp25","_this27","_ret25","_len26","_key26","_MaterialComponent27","_temp26","_this28","_ret26","_len27","_key27","_MaterialComponent28","_temp27","_this29","_ret27","_len28","_key28","_MaterialComponent29","_temp28","_this30","_ret28","_len29","_key29","Bar","Panel","MegaFooter","_MaterialComponent30","_temp29","_this31","_ret29","_len30","_key30","MegaFooterMiddleSection","_MaterialComponent31","_temp30","_this32","_ret30","_len31","_key31","MegaFooterDropDownSection","_MaterialComponent32","_temp31","_this33","_ret31","_len32","_key32","MegaFooterHeading","_MaterialComponent33","_temp32","_this34","_ret32","_len33","_key33","MegaFooterLinkList","_MaterialComponent34","_temp33","_this35","_ret33","_len34","_key34","MegaFooterBottomSection","_MaterialComponent35","_temp34","_this36","_ret34","_len35","_key35","MiddleSection","DropDownSection","Heading","LinkList","BottomSection","MiniFooter","_MaterialComponent36","_temp35","_this37","_ret35","_len36","_key36","MiniFooterLeftSection","_MaterialComponent37","_temp36","_this38","_ret36","_len37","_key37","MiniFooterLinkList","_MaterialComponent38","_temp37","_this39","_ret37","_len38","_key38","LeftSection","Grid","_MaterialComponent39","_temp38","_this40","_ret38","_len39","_key39","Cell","_MaterialComponent40","_temp39","_this41","_ret39","_len40","_key40","Progress","_MaterialComponent41","_temp40","_this42","_ret40","_len41","_key41","api","MaterialProgress","progress","setProgress","buffer","setBuffer","Spinner","_MaterialComponent42","_temp41","_this43","_ret41","_len42","_key42","_MaterialComponent43","_temp42","_this44","_ret42","_len43","_key43","MenuItem","_MaterialComponent44","_temp43","_this45","_ret43","_len44","_key44","Item","Slider","_MaterialComponent45","_temp44","_this46","_ret44","_len45","_key45","tabindex","Snackbar","_MaterialComponent46","_temp45","_this47","_ret45","_len46","_key46","CheckBox","_MaterialComponent47","_temp46","_this48","_ret46","_len47","_key47","getValue","checked","evt","Radio","_MaterialComponent48","_temp47","_this49","_ret47","_len48","_key48","IconToggle","_MaterialComponent49","_temp48","_this50","_ret48","_len49","_key49","Switch","_MaterialComponent50","_temp49","_this51","_ret49","_len50","_key50","_ref6","_ref7","Table","_MaterialComponent51","_temp50","_this52","_ret50","_len51","_key51","TableCell","_MaterialComponent52","_temp51","_this53","_ret51","_len52","_key52","List","_MaterialComponent53","_temp52","_this54","_ret52","_len53","_key53","ListItem","_MaterialComponent54","_temp53","_this55","_ret53","_len54","_key54","TextField","_MaterialComponent55","_len55","_key55","_this56","id","input","querySelector","setCustomValidity","errorMessage","field","label","multiline","expandable","Tooltip","_MaterialComponent56","_temp54","_this57","_ret54","_len56","_key56","index","3RK5","searchString","3Y9o","Deferred","_resolve","_reject","3cwc","3v7p","$Object","desc","3zRh","aFunction","fn","that","6Hp8","_regenerator","_regenerator2","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","__awaiter","thisArg","_arguments","generator","fulfilled","step","rejected","utils_1","entity_1","retryingqueue_1","listitem_1","paginator_1","cache_1","SyncList","_entity_1$SyncEntity","services","descriptor","removalHandler","actionQueue","cache","Cache","mark","_callee","response","wrap","_context","prev","network","data","sent","abrupt","stop","_callee2","_context2","links","Number","store","lastEventId","last_event_id","emit","_actualSet","resolver","_callee4","updatedItemDescriptor","_resolver","_context4","__set","_callee3","refreshedItem","_context3","_get","deepClone","update","mutator","_callee5","_context5","_callee6","_context6","mutate","remote","_callee7","_context7","_callee8","cachedItem","_context8","_callee9","_context9","queryItems","_callee10","meta","_context10","UriBuilder","queryParam","from","limit","pageToken","order","build","_handleItemUpdated","Paginator","previous_token","next_token","_callee11","_context11","pageSize","_callee12","_context12","_callee13","_context13","t0","_callee14","_context14","onRemoved","locally","_unsubscribe","sid","uniqueName","eventId","isKnown","isStrictlyOrdered","itemIndex","item_index","_handleItemAdded","item_url","item_revision","item_data","_handleItemRemoved","_handleContextUpdate","context_data","_advanceLastEventId","list_revision","shouldIgnoreEvent","unique_name","SyncEntity","6MLN","6t7t","753d","str","7AqT","classof","ITERATOR","Iterators","getIteratorMethod","7N8r","req","Async","_preact","old","nextBase","__b","child","_","nxt","dangerouslySetInnerHTML","__html","innerHTML","7Zlx","7ruU","_defineProperties","_defineProperties2","TwilsockConfig","_twilsockWsHost","Twilsock","wsServer","twilsockUri","7tZR","isObject","isArray","SPECIES","original","C","7xPs","_set","_set2","_map","_map2","_events","_events2","_logger","_logger2","_uuid","_uuid2","_configuration","_configuration2","_twilsock","_twilsock2","_packetinterface","_packetinterface2","TwilsockClient","_EventEmitter","logLevel","setLevel","twilsock","packetInterface","_config","_socket","_packet","_registrations","_registrationsInProgress","isConnected","connected","_updateRegistrations","to","info","updateToken","contextId","registrationAttempts","set","attemptId","putNotificationContext","size","_c","_updateRegistration","deleteNotificationContext","connect","disconnect","9kJF","Internal","GenericPromiseCapability","Wrapper","LIBRARY","ctx","anInstance","forOf","speciesConstructor","microtask","$Promise","isNode","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","$$resolve","$$reject","perform","notify","isReject","_n","chain","_v","ok","_s","reaction","handler","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","isUnhandled","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","onFulfilled","onRejected","G","W","F","S","capability","x","iter","all","iterable","values","remaining","$index","alreadyCalled","race","9kxq","is","9u1Q","AMYL","PersistentState","cachedContinuationToken","myInstanceNumber","initializeInstanceId","cachedInstancesCount","sessionStorage","getItem","instancesCounter","setItem","toString","removeItem","shouldUsePersistentToken","continuationToken","Aa2f","DESCRIPTORS","redefine","META","KEY","$fails","setToStringTag","wks","wksExt","wksDefine","keyOf","enumKeys","anObject","toIObject","toPrimitive","createDesc","_create","gOPNExt","$GOPD","$DP","$keys","gOPD","dP","gOPN","$Symbol","$JSON","JSON","stringify","HIDDEN","TO_PRIMITIVE","isEnum","propertyIsEnumerable","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","QObject","setter","findChild","setSymbolDesc","D","protoDesc","sym","_k","isSymbol","iterator","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","IS_OP","$set","symbols","keyFor","useSetter","useSimple","defineProperties","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","replacer","$replacer","valueOf","AePr","redefineAll","defined","$iterDefine","setSpecies","fastKey","SIZE","getEntry","entry","_i","_f","k","getConstructor","NAME","IS_MAP","ADDER","_l","clear","callbackfn","setStrong","iterated","kind","_t","AgUv","IllegalArgumentError","IllegalStateError","util","An/8","Bottleneck","MIDDLE_PRIORITY","NB_PRIORITIES","me","maxNb","minTime","highWater","strategy","rejectOnDrop","LEAK","schedulePriority","submitPriority","submit","_nextRequest","Date","now","_nbRunning","_queues","_makeQueues","_running","_nextIndex","_unblockTime","penalty","interrupt","reservoir","limiter","events","OVERFLOW","OVERFLOW_PRIORITY","BLOCK","Cluster","DLList","_trigger","cb","results","isBlocked","_sanitizePriority","priority","sProperty","_find","arr","len","nbQueued","reduce","nbRunning","_getFirst","_conditionsCheck","check","_tryToRun","queued","wait","completed","job","reachedHighWaterMark","shifted","reverse","schedule","wrapped","changeSettings","changePenalty","changeReservoir","incrementReservoir","incr","stopAll","len1","Aq8W","AwcA","SessionStorage","storage","storageId","isReady","_store","storageKey","_read","patch","_apply","storedData","parse","B1ls","O","B9Lq","arrayIndexOf","IE_PROTO","BX4+","BYJX","toArray","_set3","TwilsockConnector","_messageTypes","removeNotificationsContext","_updateContext","messageType","trace","messageTypes","product_id","notification_protocol_version","endpoint_platform","platform","ttl","message_types","setNotificationsContext","Bdru","onFreeze","$freeze","BtHH","toObject","$getPrototypeOf","BxvP","By4a","isIterable","C6lX","isDef","BackoffStrategy","initialDelay","maxDelay","initialDelay_","maxDelay_","randomisationFactor","randomisationFactor_","getMaxDelay","getInitialDelay","backoffDelay","next_","randomisationMultiple","random","round","reset","reset_","COf8","hide","TO_STRING_TAG","collections","Collection","proto","Cp6S","_first","_last","ref1","getArray","Cv+O","hasProp","limiters","startAutoCleanup","deleteKey","stopAutoCleanup","interval","setInterval","time","unref","clearInterval","changeTimeout","Dygy","E07s","_registrar","_registrar2","Registrar","_conf","_connectors","_detectPlatform","channelType","notificationId","_connector","setNotificationId","subscribe","unsubscribe","connector","_platform","navigator","product","userAgent","substring","E1Zn","SYNC_NAMES","ORDER_QUEUE","CONFIGURATION","EVENT_CONFIG","CUSTOMERS","ALL_ORDERS","METRICS","TAGS","INTERACTED","ALL","OPEN_ORDER","PREFIX_EVENT","INTENTS","HELP","QUEUE","ORDER","CANCEL","INVALID","UNREGISTER","REGISTER","GET_EVENT","COOKIES","CUSTOMER_STATE","EVENT_MAPPING","ORIGINAL_MESSAGE","CUSTOMER_STATES","SET","AVAILABLE_DEFAULT_OPTIONS","SPELLING_MISTAKES","expreso","expresso","espresso","cappacino","capacino","cappocino","capocino","cappucino","cappuccino","capuccino","capochino","late","lattey","larte","lattee","latte","cafe late","caffeé latte","caffe latte","americano","white americano","caffeé","flat white","flatwhite","flat-white","flatt white","filter coffee","coffee","fliter coffee","hot chocolate","chocolate","cocolate","DEFAULT_CONFIGURATION","connectedPhoneNumbers","spellingMap","DEFAULT_EVENT_CONFIGURATION","isOn","isVisible","mode","offlineMessage","availableCoffees","array","repoUrl","expectedOrders","visibleNumbers","DEFAULT_JSON_ENTRY_KEY","E1ih","Backoff","backoffStrategy","EventEmitter","backoffStrategy_","maxNumberOfRetry_","backoffNumber_","backoffDelay_","timeoutID_","handlers","backoff","onBackoff_","precond","failAfter","maxNumberOfRetry","checkArgument","checkState","E56Z","prepareLine","prefix","_from2","_from","log","level","warn","E5Ce","cof","EKwp","EbM4","EwCr","_loglevel","_loglevel2","FFZn","FGzK","core","FRpO","_maxListeners","isFunction","isNumber","isUndefined","defaultMaxListeners","setMaxListeners","er","listeners","addListener","listener","newListener","warned","once","g","removeListener","fired","list","position","listenerCount","evlistener","emitter","FshL","GBRx","events_1","_events_1$EventEmitte","Gfzd","IE8_DOM_DEFINE","Attributes","GyB/","_iterator","_iterator2","_symbol","_symbol2","_typeof","H109","macrotask","Observer","MutationObserver","WebKitMutationObserver","last","flush","parent","nextTick","toggle","createTextNode","observe","characterData","H3OR","HHE0","getPrototypeOf","HxWs","ID6i","JE0K","_possibleConstructorReturn","_inherits","parseUri","uriStruct","protocol","host","hostname","port","hash","params","curr","twilsockAddress","method","parsedUri","twilsockParams","adaptTwilsockResponse","header","http_headers","httpParams","adaptHttpResponse","lowercaseHeaders","toLowerCase","Transport","_createClass","Constructor","protoProps","staticProps","_httprequest","_httprequest2","_extendableBuiltin2","cls","ExtendableBuiltin","instance","Reflect","construct","_activeGetRequests","Map","_http","_twilsockIsAvailable","_concurrentHttpRequestLimit","concurrentHttpRequestLimit","Infinity","_concurrentHttpRequestCount","_requestQueue","_processQueuedRequests","forceTwilsock","sendingOptions","paths","sendViaTwilsock","sendDirectHttp","_oneOfBasedOnChannelAvailability","JWsA","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","UINT64","a00","a16","a32","a48","remainder","fromString","fromNumber","fromBits","_a00","_a16","_a32","_a48","radix","radixUint","radixPowerCache","pow","multiply","16","10","radixCache","toNumber","gt","clone","res","div","other","subtract","negate","b00","b16","b32","b48","c00","c16","c32","c48","eq","_other","lt","shiftLeft","shiftRight","equals","greaterThan","lessThan","or","and","xor","not","shiftr","shiftl","allowOverflow","rotateLeft","rotl","high","low","_high","_low","rotateRight","rotr","Jb0q","EntitiesCache","entities","entity","stored","resolvedSid","getResolved","cached","JgNJ","read","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","write","rt","abs","floor","LN2","JkW7","load","dashboard_load","home_load","kiosk_load","orders_load","app__classCallCheck","app__possibleConstructorReturn","app__inherits","preact_min","preact_router_es","sync_client","components_async","async_default","admin","dashboard","home","kiosk","orders","header_style","header_style_default","header__ref","header_Header","adminLink","isAdmin","activeClassName","app_App","App","handleRoute","currentUrl","isLoggedIn","syncClient","init","endsWith","role","isPathWithHeader","K+F3","KM04","pop","__d","A","debounceRendering","splitText","_componentConstructor","__n","defaultProps","createElementNS","removeChild","style","cssText","V","test","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","event","afterMount","H","ownerSVGElement","_component","nodeValue","replaceChild","U","firstChild","nextSibling","childNodes","y","w","N","__k","trim","insertBefore","L","lastChild","previousSibling","I","T","__x","__r","componentWillReceiveProps","__c","__p","syncComponentUpdates","__s","getChildContext","M","__u","unshift","afterUpdate","__h","beforeUnmount","$","cloneElement","rerender","KUik","forbiddenField","KxjL","Ky5l","L3Vt","LGMx","_javascriptStateMachine","_javascriptStateMachine2","_backoff","_backoff2","RegistrarConnector","fsm","initial","defer","callbacks","onregistering","_register","onunregistering","_unregister","onregistered","_onRegistered","onunregistered","_onUnregistered","onretrying","_initRetry","onfailure","exponential","_retry","_transport","_url","registrarUri","_fsm","_channelType","_registrationId","_notificationId","_pendingUpdate","_removeRegistration","_update","regData","userUpdate","_setPendingUpdate","pendingUpdate","_checkPendingUpdate","registrarRequest","channel_type","version","registration_id","_registrationData","registered","failure","unregistered","LNnS","toLength","toIndex","IS_INCLUDES","$this","fromIndex","LUBQ","configuration_1","persistentState_1","TokenRequest","EmsClient","twilsockClient","fpaToken","oldTokenRequest","currentFpaToken","currentTokenRequest","establishToken","notifyRejected","tokenRequest","establishTokenImpl","run","requestRtdToken","exception","continuation_token","rtdToken","twilio_rtd_token","identity","accountSid","account_sid","serviceSids","instance_sids","fpa_token","description","EMSClient","LlWG","Lli7","SAFE_CLOSING","riter","skipClosing","safe","Lpj9","TwilioClient","__WEBPACK_IMPORTED_MODULE_0_event_emitter__","__WEBPACK_IMPORTED_MODULE_1_twilio_common__","__WEBPACK_IMPORTED_MODULE_2_twilio_sync__","accessManager","client","isDashboard","fetchToken","createAccessManager","createClient","connectionState","fetch","credentials","resp","json","Lvd3","MpYs","ceil","N1kU","toInteger","N484","isArrayIter","createProperty","getIterFn","arrayLike","aLen","mapfn","iterFn","N9bW","NB7d","NQ19","prevToken","nextToken","hasNextPage","hasPrevPage","Nf0/","Buffer","toUTF8Array","utf8","charcode","charCodeAt","Uint8Array","XXH","digest","seed","UINT32","v1","PRIME32_1","PRIME32_2","v2","v3","total_len","memsize","memory","xxh_update","PRIME32_3","PRIME32_4","PRIME32_5","isArrayBuffer","isString","ArrayBuffer","bEnd","subarray","copy","p32","h32","Ni5N","hiddenKeys","O35A","O6kh","OFjk","XXH64","PRIME64_1","PRIME64_2","PRIME64_3","PRIME64_4","PRIME64_5","p64","h64","OLak","SYNC_DOCUMENT_NOTIFICATION_TYPE","SYNC_LIST_NOTIFICATION_TYPE","SYNC_MAP_NOTIFICATION_TYPE","SYNC_NOTIFICATION_TYPE","subscriptions","notifications","payload","onMessage","onConnectionStateChanged","acceptMessage","remove","OYXR","addToUnscopables","Arguments","Ocr3","P5jY","PD3G","encodeURIComponent","PR/g","off","methods","descriptors","callable","Function","__ee__","__eeOnceListener__","candidate","PvFw","ExponentialBackoffStrategy","FibonacciBackoffStrategy","FunctionCall","FibonacciStrategy","ExponentialStrategy","fibonacci","vargs","callback","Q17y","QJSD","MaterialTab","tab","element_","CssClasses_","MDL_JS_RIPPLE_EFFECT","rippleContainer","MDL_RIPPLE_CONTAINER","MDL_RIPPLE","panel","resetTabState_","resetPanelState_","ACTIVE_CLASS","MaterialLayoutTab","tabs","panels","layout","selectTab","content_","IS_ACTIVE","tabBar_","JS_RIPPLE_EFFECT","RIPPLE_CONTAINER","RIPPLE","TAB_MANUAL_SWITCH","upgradeDom","upgradeElements","upgradeAllRegistered","registerUpgradedCallback","register","findRegisteredClass_","optReplace","registeredComponents_","getUpgradedListOfElement_","element","dataUpgraded","isElementUpgraded_","jsClass","createEvent_","eventType","bubbles","cancelable","CustomEvent","ev","createEvent","initEvent","upgradeDomInternal","optJsClass","optCssClass","cssClass","registeredClass","elements","querySelectorAll","upgradeElementInternal","Element","upgradingEv","dispatchEvent","defaultPrevented","upgradedList","classesToUpgrade","classConstructor","componentConfigProperty_","createdComponents_","widget","upgradedEv","upgradeElementsInternal","HTMLElement","registerInternal","widgetMissing","newConfig","classAsString","registerUpgradedCallbackInternal","regClass","upgradeAllRegisteredInternal","deconstructComponentInternal","componentIndex","upgrades","downgradeNodesInternal","nodes","downgradeNode","NodeList","Node","documentElement","getTime","vendors","vp","cancelAnimationFrame","lastTime","nextTime","MaterialButton","Constant_","RIPPLE_EFFECT","blurHandler_","blur","disable","enable","rippleElement_","boundRippleBlurHandler","boundButtonBlurHandler","MaterialCheckbox","TINY_TIMEOUT","INPUT","BOX_OUTLINE","FOCUS_HELPER","TICK_OUTLINE","RIPPLE_IGNORE_EVENTS","RIPPLE_CENTER","IS_FOCUSED","IS_DISABLED","IS_CHECKED","IS_UPGRADED","onChange_","onBlur_","onMouseUp_","blur_","checkDisabled","checkToggleState","inputElement_","uncheck","boxOutline","tickContainer","tickOutline","rippleContainerElement_","boundRippleMouseUp","boundInputOnChange","boundInputOnFocus","boundInputOnBlur","boundElementMouseUp","MaterialIconToggle","boundElementOnMouseUp","MaterialMenu","TRANSITION_DURATION_SECONDS","TRANSITION_DURATION_FRACTION","CLOSE_TIMEOUT","Keycodes_","ENTER","ESCAPE","SPACE","UP_ARROW","DOWN_ARROW","CONTAINER","OUTLINE","ITEM","ITEM_RIPPLE_CONTAINER","IS_VISIBLE","IS_ANIMATING","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","UNALIGNED","container_","outline","outline_","forElId","forEl","getElementById","forElement_","handleForClick_","handleForKeyboardEvent_","boundItemKeydown_","handleItemKeyboardEvent_","boundItemClick_","handleItemClick_","tabIndex","rect","getBoundingClientRect","forRect","right","top","offsetTop","offsetHeight","left","offsetLeft","bottom","keyCode","focus","currentIndex","MouseEvent","click","closing_","applyClip_","height","width","clip","removeAnimationEndListener_","addAnimationEndListener_","transitionDuration","itemDelay","transitionDelay","removeProperty","INDETERMINATE_CLASS","progressbar_","bufferbar_","auxbar_","MaterialRadio","JS_RADIO","RADIO_BTN","RADIO_OUTER_CIRCLE","RADIO_INNER_CIRCLE","radios","getElementsByClassName","btnElement_","onMouseup_","boundChangeHandler_","boundFocusHandler_","boundBlurHandler_","boundMouseUpHandler_","outerCircle","innerCircle","MaterialSlider","isIE_","msPointerEnabled","IE_CONTAINER","SLIDER_CONTAINER","BACKGROUND_FLEX","BACKGROUND_LOWER","BACKGROUND_UPPER","IS_LOWEST_VALUE","onInput_","updateValueStyles_","onContainerMouseDown_","buttons","clientX","clientY","fraction","backgroundLower_","flex","webkitFlex","backgroundUpper_","change","containerIE","backgroundFlex","boundInputHandler","boundChangeHandler","boundMouseUpHandler","boundContainerMouseDownHandler","MaterialSnackbar","textElement_","cssClasses_","MESSAGE","actionElement_","ACTION","actionHandler_","message_","actionText_","queuedNotifications_","setActionHidden_","ANIMATION_LENGTH","SNACKBAR","ACTIVE","displaySnackbar_","textContent","cleanup_","timeout_","showSnackbar","checkQueue_","MaterialSpinner","MDL_SPINNER_LAYER_COUNT","MDL_SPINNER_LAYER","MDL_SPINNER_CIRCLE_CLIPPER","MDL_SPINNER_CIRCLE","MDL_SPINNER_GAP_PATCH","MDL_SPINNER_LEFT","MDL_SPINNER_RIGHT","createLayer","layer","leftClipper","gapPatch","rightClipper","circleOwners","circle","MaterialSwitch","TRACK","THUMB","track","thumb","focusHelper","boundFocusHandler","boundBlurHandler","MaterialTabs","TAB_CLASS","PANEL_CLASS","UPGRADED_CLASS","MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS","initTabs_","tabs_","panels_","MaterialTextfield","maxRows","NO_MAX_ROWS","MAX_ROWS_ATTRIBUTE","LABEL","IS_DIRTY","IS_INVALID","HAS_PLACEHOLDER","onKeyDown_","currentRowCount","onReset_","checkValidity","checkDirty","checkFocus","validity","valid","label_","boundUpdateClassesHandler","boundResetHandler","boundKeyDownHandler","invalid","MaterialTooltip","BOTTOM","LEFT","RIGHT","TOP","handleMouseEnter_","marginLeft","offsetWidth","marginTop","hideTooltip_","boundMouseEnterHandler","boundMouseLeaveAndScrollHandler","MaterialLayout","MAX_WIDTH","TAB_SCROLL_PIXELS","RESIZE_TIMEOUT","MENU_ICON","CHEVRON_LEFT","CHEVRON_RIGHT","Mode_","STANDARD","SEAMED","WATERFALL","SCROLL","HEADER","DRAWER","CONTENT","DRAWER_BTN","ICON","HEADER_SEAMED","HEADER_WATERFALL","HEADER_SCROLL","FIXED_HEADER","OBFUSCATOR","TAB_BAR","TAB_CONTAINER","TAB","TAB_BAR_BUTTON","TAB_BAR_LEFT_BUTTON","TAB_BAR_RIGHT_BUTTON","PANEL","HAS_DRAWER","HAS_TABS","HAS_SCROLLING_HEADER","CASTING_SHADOW","IS_COMPACT","IS_SMALL_SCREEN","IS_DRAWER_OPEN","ON_LARGE_SCREEN","ON_SMALL_SCREEN","contentScrollHandler_","header_","headerVisible","scrollTop","keyboardEventHandler_","drawer_","toggleDrawer","screenSizeHandler_","screenSizeMediaQuery_","obfuscator_","drawerToggleHandler_","headerTransitionEndHandler_","headerClickHandler_","tabBar","drawerButton","focusedElement","directChildren","numChildren","persisted","overflowY","drawerButtonIcon","obfuscator","matchMedia","tabContainer","leftButton","leftButtonIcon","scrollLeft","rightButton","rightButtonIcon","tabUpdateHandler","scrollWidth","windowResizeHandler","resizeTimeoutId_","MaterialDataTable","DATA_TABLE","SELECTABLE","SELECT_ELEMENT","IS_SELECTED","selectRow_","checkbox","row","opt_rows","createCheckbox_","firstHeader","bodyRows","footRows","rows","th","firstCell","td","MaterialRipple","INITIAL_SCALE","INITIAL_SIZE","INITIAL_OPACITY","FINAL_OPACITY","FINAL_SCALE","RIPPLE_EFFECT_IGNORE_EVENTS","downHandler_","boundHeight","boundWidth","rippleSize_","sqrt","ignoringMouseDown_","getFrameCount","setFrameCount","bound","touches","setRippleXY","setRippleStyles","animFrameHandler","upHandler_","detail","recentering","frameCount_","x_","y_","boundDownHandler","boundUpHandler","fC","getRippleElement","newX","newY","transformString","scale","webkitTransform","msTransform","transform","QVnC","innerFn","outerFn","tryLocsList","protoGenerator","Generator","makeInvokeMethod","Context","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AsyncIterator","record","hasOwn","__await","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","GenStateSuspendedYield","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","iteratorSymbol","Op","asyncIteratorSymbol","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootEntry","rootRecord","rval","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","QYzI","hadRuntime","oldRuntime","QlMj","MapItem","R1bg","ClientInfo","sdk","sdkVer","os","family","osVer","pl","plVer","R6c1","REa7","S7IM","SKjJ","ShN9","T4f3","_assign","T51w","__WEBPACK_AMD_DEFINE_FACTORY__","root","definition","realMethod","methodName","undefinedType","bindMethod","noop","enableLoggingWhenConsoleArrives","loggerName","replaceLoggingMethods","logMethods","methodFactory","defaultMethodFactory","Logger","defaultLevel","persistLevelIfPossible","levelNum","levelName","localStorage","ignore","cookie","getPersistedLevel","storedLevel","levels","currentLevel","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setDefaultLevel","enableAll","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","TD/Z","TEgB","TNJq","dPs","enumBugKeys","Empty","createDict","iframeDocument","iframe","display","contentWindow","open","Properties","TpZJ","per","_bottleneck2","_bottleneck","_twilioTransport","_twilioTransport2","_twilioEmsClient","Client","minTokenRefreshInterval","emsClient","reliableTransportState","overall","registration","lastEmitted","_emsClient","_reliableTransportState","_updateToken","setToken","_onTransportStateChange","_onRegistrationStateChange","_onNeedReliableTransport","_routeMessage","isNeeded","_updateTransportState","overallState","msg","registrationId","_fpaToken","U72i","Ug9I","USE_SYMBOL","V3m6","V5Fu","checkIsFunction","checkIsArray","function_","arguments_","callback_","lastResult_","numRetries_","backoff_","strategy_","failAfter_","retryPredicate_","DEFAULT_RETRY_PREDICATE_","state_","State_","PENDING","RUNNING","COMPLETED","ABORTED","isPending","isRunning","isCompleted","isAborted","setStrategy","retryIf","retryPredicate","getLastResult","getNumRetries","abort","doCallback_","backoffFactory","doCall_","handleBackoff_","isRetry","eventArgs","handleFunctionCallback_","number","delay","VOrx","_typeof2","_typeof3","Vroa","subscribable","_subscribe","createPayload","purpose","decompose","optimistic","xxhashjs_1","twilio_ems_client_1","Notifications","subscriptions_1","router_1","network_1","syncdocument_1","synclist_1","syncmap_1","clientInfo_1","entitiesCache_1","storage_1","utils_2","deferred_1","SYNC_PRODUCT_ID","SDK_VERSION","SyncClient","notificationsClient","localStorageId","authData","handleEmsResponse","Subscriptions","serviceSid","updateStorageId","valueToStore","SyncDocument","pathSegment","readRootFromSessionCache","SyncMap","_decompose","docFromInMemoryCache","docDescriptor","syncDocument","ensureReady","getCached","_getDocument","_createDocument","storeRootInSessionCache","removeFromCacheAndSession","_decompose2","mapFromInMemoryCache","mapDescriptor","syncMap","_getMap","_createMap","_decompose3","listFromInMemoryCache","listDescriptor","syncList","_getList","_createList","shutdown","VuZO","Wyka","IObject","X6va","px","X9RM","XMdB","XdV9","nextBackoffDelay_","XtTh","XzVR","_Error","YD0x","YLmZ","YZrv","ZAcJ","emsConfig","realm","DEFAULT_EMS_HOST","emsUri","emsUrl","ZHvQ","ARG","tryGet","B","callee","ZKjc","_setPrototypeOf","_setPrototypeOf2","_create2","ZUV3","karibu_1","Entry","Tombstone","TreeMap","isValid","ZaKr","buggy","Zt7E","objectOrFunction","setScheduler","scheduleFn","customSchedulerFn","setAsap","asapFn","asap","useVertxTimer","vertxNext","useSetTimeout","globalSetTimeout","onFulfillment","onRejection","PROMISE_ID","makePromise","_state","invokeCallback","_result","selfFulfillment","cannotReturnOwn","getThen","GET_THEN_ERROR","tryThen","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","then$$","publishRejection","_onerror","publish","_subscribers","settled","ErrorObject","TRY_CATCH_ERROR","hasCallback","initializePromise","nextId","Enumerator","_instanceConstructor","_input","_remaining","_enumerate","validationError","entries","needsResolver","needsNew","polyfill","local","promiseToString","cast","_isArray","scheduleFlush","browserWindow","browserGlobal","BrowserMutationObserver","isWorker","Uint8ClampedArray","importScripts","MessageChannel","iterations","observer","channel","port1","onmessage","port2","postMessage","vertx","runOnLoop","runOnContext","_eachEntry","resolve$$","_then","_settledAt","_willSettleAt","enumerator","_setScheduler","_setAsap","_asap","ZxII","aIIw","af0K","ArrayProto","akPY","al4s","mapitem_1","itemDescriptor","keyValue","existingItemLocation","_response","resolvedData","_value","added","addOrUpdateResult","_tryAddOrUpdate","processPage","page","nextPage","item_key","map_revision","ayXv","az0W","b0lL","require","_dereq_","isDestructive","op","add_key","del_key","intersection","objects","key_counts","threshold","objectType","isArrayAdd","array_operation","isArrayRemove","diffArrays","output","ptr","dist","memoized","memo","compare","alternatives","remove_alternative","operations","cost","add_alternative","replace_alternative","0,0","input_length","output_length","array_operations","_array_operations$reduce","_slicedToArray","padding","padded_index","index_token","operation","replace_ptr","replace_operations","diffAny","_toConsumableArray","_array_operations$reduce2","diffObjects","diffValues","input_type","output_type","_step","_arr","arr2","./equal","zip","zipped","compareArrays","every","pair","compareObjects","left_keys","receiver","MissingError","InvalidOperationError","_Error2","TestError","_Error3","actual","expected","applyPatch","operationFunction","operationFunctions","createPatch","Pointer","createTest","endpoint","fromJSON","evaluate","createTests","tests","pathTest","fromTest","_diff","./diff","./errors","./patch","./pointer","_add","_remove","move","from_endpoint","_errors","6","unescape","escape","prop","tokens","b1KJ","factor_","DEFAULT_FACTOR","factor","b1tA","b7Q2","bM4l","c2zY","c6mp","cFQ4","_slicedToArray2","_slicedToArray3","_getIterator2","_getIterator3","SubscribedEntity","localObject","pendingCorrelationId","established","retryCount","isStrictlyOrderd","rejectedWithError","reportFailure","maxBatchSize","latestPokeResponseArrivalTimestampByCorrelationId","_getSubscriptionUpdat","getSubscriptionUpdateBatch","action","subscriptionRequests","applyNewSubscriptionUpdateBatch","substract","these","those","ignoreCurrentOp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step$value","thisKey","thisValue","isInTransition","listToAdd","listToRemove","requests","correlationId","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","subscribed","newMaxBatchSize","estimatedDeliveryInMs","isNumeric","isValidTimeout","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","attemptedSubscription","processLocalActions","recordActionAttemptOn","max_batch_size","isFinite","estimated_delivery_in_ms","verifyPokeDelivery","t1","recordActionFailureOn","t2","lastReceived","silencePeriod","timeoutExtension","persistedSubscription","object_sid","object_type","retriedRequests","event_protocol_version","correlation_id","retried_requests","existingSubscription","event_type","applySubscriptionEstablishedMessage","applySubscriptionCancelledMessage","applySubscriptionFailedMessage","applyEventToSubscribedEntity","map_sid","list_sid","document_sid","subscriptionIntent","replay_status","subscription","markAsFailed","isEstablished","poke","failedSubscriptions","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_it","cOHw","fails","exp","cYD/","each","common","IS_WEAK","Base","IS_ADDER","NEED","cjsw","dACh","dAjQ","bytesToUuid","buf","bth","byteToHex","substr","dVxL","client_1","SyncListItem","SyncMapItem","dXs8","dhak","e8vu","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","getWeak","eDHa","_syncerror_1$SyncErro","ebIA","f+DB","rng","crypto","msCrypto","getRandomValues","rnds8","rnds","f/lV","isHttpSuccess","isHttpReply","packet","http_status","PacketInterface","socket","_activeRequests","_processReply","reply","requestDescriptor","address","sendUpstreamMessage","_storeRequest","notification_ctx_id","f648","_undefined","flj+","fp6q","define","any","promises","SomePromiseArray","setHowMany","setUnwrap","_SomePromiseArray","_customScheduler","_isTickUsed","_lateQueue","Queue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","firstLineError","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","stderr","stack","throwLater","invokeLater","settlePromises","_settlePromises","_drainQueue","_reset","./queue","./schedule","./util","INTERNAL","tryConvertToPromise","calledBind","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","bindingResolved","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","bluebird","./promise","cr","callerCache","getterCache","ensureMethod","classString","caller","namedGetter","indexedGetter","getGetter","canEvaluate","propertyName","isIndex","maybeGetter","PromiseArray","apiRejection","errorObj","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","catchFilter","instances","boundTo","predicateLoop","matchesPredicate","getKeys","./es5","8","_trace","CapturedTrace","peekContext","createContext","longStackTraces","lastIndex","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","9","generatePromiseLifecycleEventObject","defaultFireEvent","cancellationExecute","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","ignoreSelf","canAttachTrace","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","notEnumerableProp","checkForgottenReturns","returnValue","promiseCreated","wForgottenReturn","_returnedNonUndefined","handlerLine","creatorLine","traceLines","cleanStack","line","nodeFramePattern","lineMatches","parseLinePattern","firstUserLine","deprecated","replacement","shouldUseOwnTrace","warnings","warning","Warning","activeFireEvent","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","removeCommonRoots","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","stackFramePattern","isInternalFrame","shouldIgnore","indentStackFrames","stackFramesAsArray","title","isSoft","formatStack","printWarning","fireRejectionEvent","localHandler","localEventFired","formatNonError","snip","maxChars","longStackTracesIsSupported","captureStackTrace","parseLineInfo","parseLineInfoRegex","fileName","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","bluebirdFramePattern","_promisesCreated","uncycle","unhandledRejectionHandled","possiblyUnhandledRejection","getDomain","_getDomain","debugging","env","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_setReturnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","onPossiblyUnhandledRejection","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","hasLongStackTraces","fireDomEvent","domEvent","Event","initCustomEvent","fireGlobalEvent","eventToObjectGenerator","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","globalEventFired","domEventFired","warningsOption","_clearCancellationData","_execute","monitoring","_fireEvent","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","color","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","catchReturn","11","promiseAllThis","PromiseAll","PromiseMapSeries","PromiseReduce","mapSeries","12","subError","nameProperty","defaultMessage","SubError","OperationalError","cause","_TypeError","_RangeError","es5","Objectfreeze","CancellationError","TimeoutError","AggregateError","RangeError","indent","lines","errorTypes","RejectionError","13","isES5","getDescriptor","propertyIsWritable","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","ObjectFreeze","ObjectGetPrototypeOf","14","PromiseMap","15","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","Proxyable","promiseFromYieldHandler","yieldHandlers","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","errors","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","bitField","_proxy","PromiseSpawn$","spawn","addYieldHandler","17","spread","18","MappingPromiseArray","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","_totalResolved","booleans","19","_resolveFromSyncValue","attempt","20","isUntypedError","wrapAsOperationalError","rErrorKey","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","maybeWrapAsError","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","reflect","didFulfill","didReject","_setIsFinal","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","_setFulfilled","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","pending","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","toResolutionValue","resolveValueIfEmpty","asArray","_resolveEmptyArray","_iterate","getActualLength","shouldCopyValues","isResolved","24","propsFilter","noCopyPropsPattern","isPromisified","__isPromisified__","hasPromisified","suffix","getDataPropertyOrDefault","defaultPromisified","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","inheritedDataKeys","passesDefaultFilter","defaultFilter","makeNodePromisifiedClosure","__","promisified","THIS","defaultThis","withAppended","promisifyAll","promisifier","RegExp","escapeIdentRegex","promisifiedKey","makeNodePromisified","promisify","makeNodePromisifiedEval","noCopyProps","isIdentifier","copyDescriptors","isClass","25","PropertiesPromiseArray","isMap","Es6Map","mapToEntries","_isMap","castValue","extractEntry","entriesToMap","keyOffset","26","arrayMove","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","_resizeTo","oldCapacity","27","raceLater","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","noAsyncScheduler","NativePromise","getNativePromise","GlobalSetImmediate","setImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","toggleScheduled","div2","scheduleToggle","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","31","_howMany","_unwrap","_initialized","some","howMany","CANCELLATION","isArrayResolved","_canPossiblyFulfill","_getRangeError","count","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","isAnyBluebirdPromise","doThenable","doGetThen","34","HandleWrapper","successClear","failureClear","afterValue","ms","afterTimeout","handleWrapper","35","castPreservingDisposable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","tryDispose","Disposer","_data","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","NULL","resource","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatcher","tryCatchTarget","isPrimitive","maybeError","safeToString","appendee","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","thisAssignmentPattern","FakeConstructor","rident","filledRange","isError","hasEnvVariables","globalObject","Child","Parent","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","ArrayFrom","itResult","chrome","loadTimes","versions","g31e","g7Jl","failCheck","ExceptionConstructor","messageFormat","formatArgs","format","failArgumentCheck","failStateCheck","typeOf","typeCheck","expect","checkIsDef","checkIsDefAndNotNull","checkIsString","checkIsNumber","checkIsBoolean","checkIsObject","gc0D","gfUn","inspect","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","recurseTimes","primitive","formatPrimitive","visibleKeys","formatError","isRegExp","isDate","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","isNull","numLinesEst","cur","ar","isNullOrUndefined","re","objectToString","pad","timestamp","getHours","getMinutes","getSeconds","getDate","months","getMonth","formatRegExp","deprecate","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","string","date","regexp","isBuffer","origin","gjjs","gkZy","gojl","gq3z","h6ac","eval","hEIm","hVVj","clockseq","_clockseq","msecs","nsecs","_lastNSecs","dt","_lastMSecs","tl","tmh","_nodeId","_seedBytes","hYHi","ii","htFH","hznj","rfc6902_1","originalData","document_revision","document_data","traverse","updatedData","isLocalEvent","conditional","conflictResolver","softSync","i+u+","$at","point","i/BB","__extends","extendStatics","Retrier","_super","minDelay","maxAttemptsCount","inProgress","attemptNum","prevDelay","currDelay","nextDelay","randomize","area","corr","scheduleAttempt","cleanup","startTimestamp","nextAttemptDelayOverride","i1Q6","__g","iAJW","normalizeOpts","isCallable","dscr","gs","iH9W","AccessManager","initialToken","expires","isExpired","tokenWillExpireTimer","tokenExpiredTimer","tokenUpdatedTimer","tokenPayload","_expires","_identity","_isExpired","_tokenExpiredTimer","_tokenWillExpireTimer","_tokenUpdatedTimer","_tokenPayload","parsePayload","jwt","segments","encodedPayloadString","payloadString","decodeBase64URL","encoded","padlen","decodeBase64","getIdentity","grants","scope","getIdentityFromCapabilityTokenScope","getIdentityFromSATGrants","getIdentityFromFPAGrants","grant","newToken","iSVM","parseResponseHeaders","headerString","extractBody","xhr","contentType","getResponseHeader","responseText","XHR","XMLHttpRequest","Request","onreadystatechange","readyState","getAllResponseHeaders","statusText","headerName","setRequestHeader","ibPW","jx4H","_defineProperty","_defineProperty2","knrM","kohK","capitalize","cleanupOS","pattern","10.0","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.01","5.0","4.0","4.90","maxSafeInteger","forOwn","getClassOf","isHostType","qualify","accumulator","ua","getProduct","guesses","guess","toStringPlatform","isCustomContext","nav","isSpecialCasedOS","isModuleScope","thisBinding","oldRoot","likeChrome","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","opera","operamini","operaClass","reOpera","arch","prerelease","useFeatures","manufacturer","Apple","iPad","iPhone","iPod","Archos","Amazon","Kindle","Kindle Fire","Asus","Transformer","Barnes & Noble","Nook","BlackBerry","PlayBook","Google","Google TV","Nexus","HP","TouchPad","HTC","LG","Microsoft","Xbox","Xbox One","Motorola","Xoom","Nintendo","Wii U","Wii","Nokia","Lumia","Samsung","Galaxy S","Galaxy S2","Galaxy S3","Galaxy S4","Sony","PlayStation","PlayStation Vita","patterns","lang","System","getProperty","system","browser","electron","nw","flash","Capabilities","phantom","major","minor","documentMode","toFixed","appMinorVersion","external","architecture","cpuClass","objectTypes","function","freeExports","freeModule","nodeType","freeGlobal","objectProto","kthq","byteLength","p1","fromCharCode","stringToUint8Array","escstr","binstr","ch","uint8ArrayToString","getMagic","strMagic","idx","chr","magics","headerSize","preparePayload","getJsonObject","WebSocket","MozWebSocket","TwilsockChannel","_transportReady","_disconnectedPromiseResolve","_backoffDefault","_watchTimer","_timestamp","_activeToken","activeToken","enumberable","_getState","_isConnected","_disconnectingTimer","_isDeferredUpdate","onconnecting","_startWatchdogTimer","_setupSocket","onenterinitialising","_sendInit","onleaveinitialising","_cancelInit","onenterupdating","_sendUpdate","onleaveupdating","_cancelUpdate","onenterretrying","onenterconnected","_resetBackoff","_onConnected","onuserUpdateToken","ontokenRejected","_closeSocket","_finalizeSocket","onuserDisconnect","onenterdisconnecting","_startDisconnectTimer","onleavedisconnecting","_cancelDisconnectTimer","onenterwaitSocketClosed","onleavewaitSocketClosed","onenterwaitOffloadSocketClosed","onleavewaitOffloadSocketClosed","ondisconnected","onreceiveClose","_onCloseReceived","onreceiveOffload","_modifyBackoff","onunsupported","onenterstate","_changeState","backoffPolicy","backoff_policy","reconnect_min_ms","reconnect_max_ms","reqType","initSuccess","tokenRejected","initError","updateSuccess","updateError","timeoutMs","CONNECTED","DISCONNECTED","CONNECTING","DISCONNECTING","userRetry","_stopWatchdogTimer","_onDisconnected","binaryType","onopen","socketConnected","onclose","socketClosed","dataView","magic","unsupportedProtocol","protocolError","payload_size","payloadOffset","payloadSize","payload_type","_updateActivityTimestamp","_confirmReceiving","message_type","receiveOffload","receiveFatalClose","receiveClose","_sendPacket","_step2$value","messageHeader","magicString","userConnect","userDisconnect","userUpdateToken","httpRequest","twilsockHeader","http_request","ky2m","l262","webpackPolyfill","lmjd","balanceFactor","less","equal","isLessThan","isEqual","getNode","insert","currNode","prevBalanceFactor","isLeftChild","rebalance","currentNode","maxLeft","isRoot","mlParent","mlLeft","pivot","getIterator","fromleft","getReverseIterator","fromright","luWe","lytE","TO_STRING","pos","m8OI","_isIterable2","_isIterable3","sliceIterator","_e","mbLO","mc9D","nFDa","nhVq","o4G5","un","obon","ojUF","dest","ozpD","BREAK","RETURN","p+Kh","pFSU","peL6","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromObject","assertSize","alloc","fill","encoding","isEncoding","fromArrayLike","byteOffset","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","lastIndexOf","indexSize","readUInt16BE","arrLength","valLength","foundIndex","found","hexWrite","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","units","leadSurrogate","byteArray","hi","lo","toByteArray","INSPECT_MAX_BYTES","foo","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","includes","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","pwNi","serviceWorker","interopDefault","firstElementChild","app","qEFr","_args","_id","_inBundle","_integrity","_location","_phantomChildren","_requested","registry","raw","escapedName","rawSpec","saveSpec","fetchSpec","_requiredBy","_resolved","_spec","_where","author","dependencies","babel-runtime","karibu","loglevel","operation-retrier","rfc6902","twilio-ems-client","twilio-notifications","twilio-transport","xxhashjs","devDependencies","@types/chai","@types/chai-as-promised","@types/loglevel","@types/mocha","@types/node","@types/sinon","@types/sinon-as-promised","@types/sinon-chai","async-test-tools","babel-cli","babel-plugin-add-module-exports","babel-plugin-array-includes","babel-plugin-transform-object-assign","babel-plugin-transform-runtime","babel-preset-es2015","babelify","browserify","chai","chai-as-promised","cheerio","del","gulp","gulp-babel","gulp-derequire","gulp-exit","gulp-insert","gulp-istanbul","gulp-mocha","gulp-rename","gulp-replace","gulp-tap","gulp-tslint","gulp-typescript","gulp-uglify","gulp-util","ink-docstrap","isparta","jsdoc","jsonwebtoken","karma","karma-browserify","karma-browserstack-launcher","karma-mocha","karma-mocha-reporter","run-sequence","sinon","sinon-as-promised","sinon-chai","ts-node","tslint","twilio","typescript","underscore","vinyl-buffer","vinyl-source-stream","watchify","engines","license","main","scripts","prepublish","qQO4","qXBc","qYbH","r9SO","rMkZ","windowNames","getWindowNames","rdar","sw5u","_objectWithoutProperties","Match","_preactRouter","nextUrl","sxPs","pIE","tMiz","asc","TYPE","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","tcrG","superCtor","super_","TempCtor","tuDi","tvE3","uRfg","$iterCreate","BUGGY","returnThis","DEFAULT","IS_SET","FORCED","getMethod","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","ugM7","uj5A","gOPS","$assign","K","getSymbols","uxiv","StateMachine","VERSION","Result","SUCCEEDED","NOTRANSITION","CANCELLED","INVALID_TRANSITION","PENDING_TRANSITION","INVALID_CALLBACK","WILDCARD","ASYNC","cfg","terminal","transitions","buildEvent","can","transition","cannot","isFinished","states","doCallback","func","beforeAnyEvent","afterAnyEvent","leaveAnyState","enterAnyState","changeState","beforeThisEvent","afterThisEvent","leaveThisState","enterThisState","beforeEvent","afterEvent","leaveState","specific","general","enterState","leave","uzcO","html","cel","setTask","clearTask","clearImmediate","counter","vSO4","own","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","IS_WRAP","expProto","virtual","vUQk","vcHl","vexR","vvo2","Set","wLcK","x6MZ","xwD+","y60x","bar","trzy","y9oC","yOG5","yS17","ycyv","yeEC","yh9p","placeHoldersCount","b64","tmp","placeHolders","Arr","revLookup","tripletToBase64","num","lookup","encodeChunk","uint8","extraBytes","parts","len2","z+/R","z7R8","zKeE","__e","zWNa","NotificationConfig","Notification","_registrarUri","ersUri","zotD"],"mappings":"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","file":"bundle.004e7.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId]) {\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\t}\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n/******/ \t\twhile(resolves.length) {\n/******/ \t\t\tresolves.shift()();\n/******/ \t\t}\n/******/\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// objects to store loaded and loading chunks\n/******/ \tvar installedChunks = {\n/******/ \t\t5: 0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tvar installedChunkData = installedChunks[chunkId];\n/******/ \t\tif(installedChunkData === 0) {\n/******/ \t\t\treturn new Promise(function(resolve) { resolve(); });\n/******/ \t\t}\n/******/\n/******/ \t\t// a Promise means \"currently loading\".\n/******/ \t\tif(installedChunkData) {\n/******/ \t\t\treturn installedChunkData[2];\n/******/ \t\t}\n/******/\n/******/ \t\t// setup Promise in chunk cache\n/******/ \t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n/******/ \t\t});\n/******/ \t\tinstalledChunkData[2] = promise;\n/******/\n/******/ \t\t// start chunk loading\n/******/ \t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\tvar script = document.createElement('script');\n/******/ \t\tscript.type = \"text/javascript\";\n/******/ \t\tscript.charset = 'utf-8';\n/******/ \t\tscript.async = true;\n/******/ \t\tscript.timeout = 120000;\n/******/\n/******/ \t\tif (__webpack_require__.nc) {\n/******/ \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t}\n/******/ \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"route-dashboard\",\"1\":\"route-admin\",\"2\":\"route-orders\",\"3\":\"route-kiosk\",\"4\":\"route-home\"}[chunkId]||chunkId) + \".chunk.\" + {\"0\":\"b51ce\",\"1\":\"ac2d4\",\"2\":\"b3cdf\",\"3\":\"55172\",\"4\":\"b08f3\"}[chunkId] + \".js\";\n/******/ \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n/******/ \t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\tfunction onScriptComplete() {\n/******/ \t\t\t// avoid mem leaks in IE.\n/******/ \t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\tclearTimeout(timeout);\n/******/ \t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\tif(chunk !== 0) {\n/******/ \t\t\t\tif(chunk) {\n/******/ \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n/******/ \t\t\t\t}\n/******/ \t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t\thead.appendChild(script);\n/******/\n/******/ \t\treturn promise;\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"+/Dx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _stringify = __webpack_require__(\"HxWs\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uuid = __webpack_require__(\"qQO4\");\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar syncerror_1 = __webpack_require__(\"XzVR\");\nvar syncNetworkError_1 = __webpack_require__(\"eDHa\");\nvar operation_retrier_1 = __webpack_require__(\"i/BB\");\nvar twilio_transport_1 = __webpack_require__(\"JE0K\");\nvar MINIMUM_RETRY_DELAY = 4000;\nvar MAXIMUM_RETRY_DELAY = 60000;\nvar MAXIMUM_ATTEMPTS_TIME = 90000;\nvar RETRY_DELAY_RANDOMNESS = 0.2;\nfunction messageFromErrorBody(trasportError) {\n    if (trasportError.body) {\n        if (trasportError.body.message) {\n            return trasportError.body.message;\n        }\n    }\n    switch (trasportError.status) {\n        case 429:\n            return 'Throttled by server';\n        case 404:\n            return 'Not found from server';\n        default:\n            return 'Error from server';\n    }\n}\nfunction codeFromErrorBody(trasportError) {\n    if (trasportError.body) {\n        return trasportError.body.code;\n    }\n    return 0;\n}\nfunction mapTransportError(transportError) {\n    if (transportError.status === 409) {\n        return new syncNetworkError_1.SyncNetworkError(messageFromErrorBody(transportError), transportError.status, codeFromErrorBody(transportError), transportError.body);\n    } else if (transportError.status) {\n        return new syncerror_1.SyncError(messageFromErrorBody(transportError), transportError.status, codeFromErrorBody(transportError));\n    } else if (transportError instanceof twilio_transport_1.TwilsockUnavailableError) {\n        return transportError;\n    } else {\n        return new syncerror_1.SyncError(transportError.message, 0, 0);\n    }\n}\n/**\n * @classdesc Incapsulates network operations to make it possible to add some optimization/caching strategies\n */\n\nvar Network = function () {\n    function Network(productId, clientInfo, config, transport) {\n        (0, _classCallCheck3.default)(this, Network);\n\n        this.productId = productId;\n        this.clientInfo = clientInfo;\n        this.config = config;\n        this.transport = transport;\n    }\n\n    (0, _createClass3.default)(Network, [{\n        key: \"createHeaders\",\n        value: function createHeaders() {\n            return {\n                'Content-Type': 'application/json',\n                'Twilio-Sync-Client-Info': (0, _stringify2.default)(this.clientInfo),\n                'Twilio-Request-Id': 'RQ' + uuid.v4().replace(/-/g, ''),\n                'X-Twilio-Product-Id': this.productId,\n                'X-Twilio-Token': this.config.token\n            };\n        }\n    }, {\n        key: \"backoffConfig\",\n        value: function backoffConfig() {\n            return (0, _extends3.default)({ min: MINIMUM_RETRY_DELAY,\n                max: MAXIMUM_RETRY_DELAY,\n                maxAttemptsTime: MAXIMUM_ATTEMPTS_TIME,\n                randomness: RETRY_DELAY_RANDOMNESS }, this.config.backoffConfig);\n        }\n    }, {\n        key: \"executeWithRetry\",\n        value: function executeWithRetry(request) {\n            var _this = this;\n\n            var retryWhenThrottled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            return new _promise2.default(function (resolve, reject) {\n                var codesToRetryOn = [502, 503, 504];\n                if (retryWhenThrottled) {\n                    codesToRetryOn.push(429);\n                }\n                var retrier = new operation_retrier_1.default(_this.backoffConfig());\n                retrier.on('attempt', function () {\n                    request().then(function (result) {\n                        return retrier.succeeded(result);\n                    }).catch(function (err) {\n                        if (codesToRetryOn.indexOf(err.status) !== -1) {\n                            var delayOverride = parseInt(err.headers ? err.headers['Retry-After'] : null);\n                            retrier.failed(mapTransportError(err), isNaN(delayOverride) ? null : delayOverride * 1000);\n                        } else if (err.message === 'Twilsock disconnected') {\n                            // Ugly hack. We must make a proper exceptions for twilsock\n                            retrier.failed(mapTransportError(err));\n                        } else {\n                            // Fatal error\n                            retrier.removeAllListeners();\n                            retrier.cancel();\n                            reject(mapTransportError(err));\n                        }\n                    });\n                });\n                retrier.on('succeeded', function (result) {\n                    resolve(result);\n                });\n                retrier.on('cancelled', function (err) {\n                    return reject(mapTransportError(err));\n                });\n                retrier.on('failed', function (err) {\n                    return reject(mapTransportError(err));\n                });\n                retrier.start();\n            });\n        }\n        /**\n         * Make a GET request by given URI\n         * @Returns Promise<Response> Result of successful get request\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(uri) {\n            var _this2 = this;\n\n            var headers = this.createHeaders();\n            logger_1.default.debug('GET', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this2.transport.get(uri, headers);\n            }, true);\n        }\n    }, {\n        key: \"post\",\n        value: function post(uri, body, revision, twilsockOnly) {\n            var _this3 = this;\n\n            var headers = this.createHeaders();\n            if (typeof revision !== 'undefined' && revision !== null) {\n                headers['If-Match'] = revision;\n            }\n            logger_1.default.debug('POST', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this3.transport.post(uri, headers, body, twilsockOnly);\n            }, false);\n        }\n    }, {\n        key: \"put\",\n        value: function put(uri, body, revision) {\n            var _this4 = this;\n\n            var headers = this.createHeaders();\n            if (typeof revision !== 'undefined' && revision !== null) {\n                headers['If-Match'] = revision;\n            }\n            logger_1.default.debug('PUT', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this4.transport.put(uri, headers, body);\n            }, false);\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(uri) {\n            var _this5 = this;\n\n            var headers = this.createHeaders();\n            logger_1.default.debug('DELETE', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this5.transport.delete(uri, headers);\n            }, false);\n        }\n    }]);\n    return Network;\n}();\n\nexports.Network = Network;\nexports.default = Network;\n\n/***/ }),\n\n/***/ \"+o4f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar strong = __webpack_require__(\"AePr\");\n\n// 23.2 Set Objects\nmodule.exports = __webpack_require__(\"cYD/\")('Set', function (get) {\n  return function Set() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n/***/ }),\n\n/***/ \"/GKJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CDS_URI = 'https://cds.twilio.com';\nvar SUBSCRIPTIONS_PATH = '/v4/Subscriptions';\nvar MAPS_PATH = '/v3/Maps';\nvar LISTS_PATH = '/v3/Lists';\nvar DOCUMENTS_PATH = '/v3/Documents';\nfunction getWithDefault(container, key, defaultValue) {\n    if (container && typeof container[key] !== 'undefined') {\n        return container[key];\n    }\n    return defaultValue;\n}\n/**\n * Settings container for Sync library\n */\n\nvar Configuration = function () {\n    /**\n     * @param {String} token - authentication token\n     */\n    function Configuration(token, options) {\n        (0, _classCallCheck3.default)(this, Configuration);\n\n        options = options || {};\n        options = options.Sync || options.DataSync || {};\n        var baseUri = options.cdsUri || CDS_URI;\n        this._token = token;\n        this.settings = {\n            subscriptionsUri: baseUri + SUBSCRIPTIONS_PATH,\n            documentsUri: baseUri + DOCUMENTS_PATH,\n            listsUri: baseUri + LISTS_PATH,\n            mapsUri: baseUri + MAPS_PATH,\n            sessionStorageEnabled: getWithDefault(options, 'enableSessionStorage', true)\n        };\n    }\n\n    (0, _createClass3.default)(Configuration, [{\n        key: \"updateToken\",\n        value: function updateToken(token) {\n            this._token = token;\n        }\n    }, {\n        key: \"token\",\n        get: function get() {\n            return this._token;\n        }\n    }, {\n        key: \"subscriptionsUri\",\n        get: function get() {\n            return this.settings.subscriptionsUri;\n        }\n    }, {\n        key: \"documentsUri\",\n        get: function get() {\n            return this.settings.documentsUri;\n        }\n    }, {\n        key: \"listsUri\",\n        get: function get() {\n            return this.settings.listsUri;\n        }\n    }, {\n        key: \"mapsUri\",\n        get: function get() {\n            return this.settings.mapsUri;\n        }\n    }, {\n        key: \"backoffConfig\",\n        get: function get() {\n            return this.settings.backoffConfig || {};\n        }\n    }, {\n        key: \"sessionStorageEnabled\",\n        get: function get() {\n            return this.settings.sessionStorageEnabled;\n        }\n    }]);\n    return Configuration;\n}();\n\nexports.Configuration = Configuration;\n\n/***/ }),\n\n/***/ \"/QC5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"subscribers\", function() { return subscribers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentUrl\", function() { return getCurrentUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"route\", function() { return route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Router\", function() { return Router; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Route\", function() { return Route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Link\", function() { return Link; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tif (opts === void 0) opts = EMPTY$1;\n\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t    c = url.match(reg),\n\t    matches = {},\n\t    ret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i = 0; i < p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1 = 0; i$1 < max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0) === ':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t    flags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t    plus = ~flags.indexOf('+'),\n\t\t\t    star = ~flags.indexOf('*'),\n\t\t\t    val = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?') < 0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (route[i$1] !== url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default !== true && ret === false) {\n\t\treturn false;\n\t}\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\tvar aAttr = a.attributes || EMPTY$1,\n\t    bAttr = b.attributes || EMPTY$1;\n\tif (aAttr.default) {\n\t\treturn 1;\n\t}\n\tif (bAttr.default) {\n\t\treturn -1;\n\t}\n\tvar diff = rank(aAttr.path) - rank(bAttr.path);\n\treturn diff || aAttr.path.length - bAttr.path.length;\n}\n\nfunction segmentize(url) {\n\treturn strip(url).split('/');\n}\n\nfunction rank(url) {\n\treturn (strip(url).match(/\\/+/g) || '').length;\n}\n\nfunction strip(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '');\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_ != null || typeof Symbol !== 'undefined' && node[Symbol.for('preactattr')] != null;\n}\n\nfunction setUrl(url, type) {\n\tif (type === void 0) type = 'push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t} else if (typeof history !== 'undefined' && history[type + 'State']) {\n\t\thistory[type + 'State'](null, null, url);\n\t}\n}\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t} else if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t} else {\n\t\turl = typeof location !== 'undefined' ? location : EMPTY;\n\t}\n\treturn \"\" + (url.pathname || '') + (url.search || '');\n}\n\nfunction route(url, replace) {\n\tif (replace === void 0) replace = false;\n\n\tif (typeof url !== 'string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i = ROUTERS.length; i--;) {\n\t\tif (ROUTERS[i].canRoute(url)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i = 0; i < ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url) === true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1 = subscribers.length; i$1--;) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) {\n\t\treturn;\n\t}\n\n\tvar href = node.getAttribute('href'),\n\t    target = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || target && !target.match(/^_?self$/i)) {\n\t\treturn;\n\t}\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\nfunction handleLinkClick(e) {\n\tif (e.button == 0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation();\n\t\t}\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button !== 0) {\n\t\treturn;\n\t}\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase() === 'A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while (t = t.parentNode);\n}\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) {\n\t\treturn;\n\t}\n\n\tif (typeof addEventListener === 'function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\treturn routeTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\nvar Router = function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif (Component$$1) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create(Component$$1 && Component$$1.prototype);\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate(props) {\n\t\tif (props.static !== true) {\n\t\t\treturn true;\n\t\t}\n\t\treturn props.url !== this.props.url || props.onChange !== this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute(url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo(url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) {\n\t\t\treturn this.canRoute(url);\n\t\t}\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount() {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo(\"\" + (location.pathname || '') + (location.search || ''));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tif (typeof this.unlisten === 'function') {\n\t\t\tthis.unlisten();\n\t\t}\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate() {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate() {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren(children, url, invoke) {\n\t\treturn children.slice().sort(pathRankSort).map(function (vnode) {\n\t\t\tvar attrs = vnode.attributes || {},\n\t\t\t    path = attrs.path,\n\t\t\t    matches = exec(url, path, attrs);\n\t\t\tif (matches) {\n\t\t\t\tif (invoke !== false) {\n\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"cloneElement\"])(vnode, newProps);\n\t\t\t\t}\n\t\t\t\treturn vnode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render(ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url !== previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar Link = function Link(props) {\n\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('a', assign({ onClick: handleLinkClick }, props));\n};\n\nvar Route = function Route(props) {\n\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(props.component, props);\n};\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Router);\n//# sourceMappingURL=preact-router.es.js.map\n\n/***/ }),\n\n/***/ \"/lpw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar RetryingQueue = function () {\n    function RetryingQueue() {\n        (0, _classCallCheck3.default)(this, RetryingQueue);\n\n        this.queue = new Array();\n        this.isActive = false;\n    }\n\n    (0, _createClass3.default)(RetryingQueue, [{\n        key: \"wakeupQueue\",\n        value: function wakeupQueue() {\n            var _this = this;\n\n            if (!this.isActive && this.queue.length > 0) {\n                this.isActive = true;\n                setTimeout(function () {\n                    return _this.executeTask(_this.queue[0]);\n                }, 0);\n            }\n        }\n    }, {\n        key: \"pickNext\",\n        value: function pickNext() {\n            var _this2 = this;\n\n            this.queue.shift();\n            if (this.queue.length === 0) {\n                this.isActive = false;\n                return;\n            }\n            setTimeout(function () {\n                return _this2.executeTask(_this2.queue[0]);\n            }, 0);\n        }\n    }, {\n        key: \"pickSame\",\n        value: function pickSame(arg) {\n            var _this3 = this;\n\n            this.queue[0].arg = arg;\n            setTimeout(function () {\n                return _this3.executeTask(_this3.queue[0]);\n            }, 0);\n        }\n    }, {\n        key: \"executeTask\",\n        value: function executeTask(task) {\n            var _this4 = this;\n\n            task.task(task.context, task.arg).then(function (result) {\n                _this4.pickNext();\n                task.resolve(result);\n            }).catch(function (error) {\n                try {\n                    if (task.handle) {\n                        task.handle(error).then(function (result) {\n                            return _this4.pickSame(result);\n                        }).catch(task.reject);\n                    } else {\n                        throw error;\n                    }\n                } catch (e) {\n                    task.reject(error);\n                }\n            });\n        }\n    }, {\n        key: \"add\",\n        value: function add(task, context, arg, errorHandler) {\n            var _this5 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                _this5.queue.push({\n                    task: task,\n                    context: context,\n                    arg: arg,\n                    handle: errorHandler,\n                    resolve: resolve,\n                    reject: reject\n                });\n                _this5.wakeupQueue();\n            });\n        }\n    }]);\n    return RetryingQueue;\n}();\n\nexports.RetryingQueue = RetryingQueue;\n(0, _freeze2.default)(RetryingQueue);\nexports.default = RetryingQueue;\n\n/***/ }),\n\n/***/ \"/wuY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(\"NB7d\")('keys'),\n    uid = __webpack_require__(\"X6va\");\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"0KnF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"Bdru\");\nmodule.exports = __webpack_require__(\"zKeE\").Object.freeze;\n\n/***/ }),\n\n/***/ \"0Qy9\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"0KnF\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"0WCH\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n/***/ }),\n\n/***/ \"0Zys\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = __webpack_require__(\"7xPs\");\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = _client2.default;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"11Ut\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar def = __webpack_require__(\"Gfzd\").f,\n    has = __webpack_require__(\"yS17\"),\n    TAG = __webpack_require__(\"Ug9I\")('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n/***/ }),\n\n/***/ \"1kq3\":\n/***/ (function(module, exports) {\n\nmodule.exports = true;\n\n/***/ }),\n\n/***/ \"1uac\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isValue = __webpack_require__(\"f648\");\n\nvar forEach = Array.prototype.forEach,\n    create = Object.create;\n\nvar process = function process(src, obj) {\n\tvar key;\n\tfor (key in src) {\n\t\tobj[key] = src[key];\n\t}\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"2SH0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = __webpack_require__(\"vSO4\");\n\n$export($export.P + $export.R, 'Map', { toJSON: __webpack_require__(\"x6MZ\")('Map') });\n\n/***/ }),\n\n/***/ \"2mwf\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"c2zY\")('observable');\n\n/***/ }),\n\n/***/ \"3PZ7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n   true ? factory(exports, __webpack_require__(\"KM04\")) : typeof define === 'function' && define.amd ? define(['exports', 'preact'], factory) : factory(global.preactMdl = global.preactMdl || {}, global.preact);\n})(this, function (exports, preact) {\n  'use strict';\n\n  var asyncGenerator = function () {\n    function AwaitValue(value) {\n      this.value = value;\n    }\n\n    function AsyncGenerator(gen) {\n      var front, back;\n\n      function send(key, arg) {\n        return new Promise(function (resolve, reject) {\n          var request = {\n            key: key,\n            arg: arg,\n            resolve: resolve,\n            reject: reject,\n            next: null\n          };\n\n          if (back) {\n            back = back.next = request;\n          } else {\n            front = back = request;\n            resume(key, arg);\n          }\n        });\n      }\n\n      function resume(key, arg) {\n        try {\n          var result = gen[key](arg);\n          var value = result.value;\n\n          if (value instanceof AwaitValue) {\n            Promise.resolve(value.value).then(function (arg) {\n              resume(\"next\", arg);\n            }, function (arg) {\n              resume(\"throw\", arg);\n            });\n          } else {\n            settle(result.done ? \"return\" : \"normal\", result.value);\n          }\n        } catch (err) {\n          settle(\"throw\", err);\n        }\n      }\n\n      function settle(type, value) {\n        switch (type) {\n          case \"return\":\n            front.resolve({\n              value: value,\n              done: true\n            });\n            break;\n\n          case \"throw\":\n            front.reject(value);\n            break;\n\n          default:\n            front.resolve({\n              value: value,\n              done: false\n            });\n            break;\n        }\n\n        front = front.next;\n\n        if (front) {\n          resume(front.key, front.arg);\n        } else {\n          back = null;\n        }\n      }\n\n      this._invoke = send;\n\n      if (typeof gen.return !== \"function\") {\n        this.return = undefined;\n      }\n    }\n\n    if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n      AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n        return this;\n      };\n    }\n\n    AsyncGenerator.prototype.next = function (arg) {\n      return this._invoke(\"next\", arg);\n    };\n\n    AsyncGenerator.prototype.throw = function (arg) {\n      return this._invoke(\"throw\", arg);\n    };\n\n    AsyncGenerator.prototype.return = function (arg) {\n      return this._invoke(\"return\", arg);\n    };\n\n    return {\n      wrap: function wrap(fn) {\n        return function () {\n          return new AsyncGenerator(fn.apply(this, arguments));\n        };\n      },\n      await: function _await(value) {\n        return new AwaitValue(value);\n      }\n    };\n  }();\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var inherits = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  };\n\n  var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  var options = {};\n\n  function mdl() {\n    return options.mdl || options.componentHandler || window.componentHandler;\n  }\n\n  var RIPPLE_CLASS = 'js-ripple-effect';\n\n  var MDL_PREFIX = function MDL_PREFIX(s) {\n    return MDL_NO_PREFIX[s] ? s : 'mdl-' + s;\n  };\n\n  var MDL_NO_PREFIX = { 'is-active': true };\n\n  var uidCounter = 1;\n\n  function uid() {\n    return ++uidCounter;\n  }\n\n  function extend(base, props) {\n    for (var i in props) {\n      if (props.hasOwnProperty(i)) base[i] = props[i];\n    }return base;\n  }\n\n  function setClass(attributes, value, append) {\n    var cl = getClass(attributes);\n    if (attributes.className) delete attributes.className;\n    if (append) value = cl ? cl + ' ' + value : value;\n    attributes.class = value;\n  }\n\n  function getClass(attributes) {\n    return attributes.class || attributes.className;\n  }\n\n  var propMaps = {\n    disabled: function disabled(_ref) {\n      var attributes = _ref.attributes;\n\n      if (attributes.hasOwnProperty('disabled') && !attributes.disabled) {\n        attributes.disabled = null;\n      }\n    },\n    badge: function badge(_ref2) {\n      var attributes = _ref2.attributes;\n\n      attributes['data-badge'] = attributes.badge;\n      delete attributes.badge;\n      setClass(attributes, 'mdl-badge', true);\n    },\n    active: function active(_ref3) {\n      var attributes = _ref3.attributes;\n\n      if (attributes.active) {\n        setClass(attributes, 'is-active', true);\n      }\n    },\n    shadow: function shadow(_ref4) {\n      var attributes = _ref4.attributes;\n\n      var d = parseFloat(attributes.shadow) | 0,\n          c = getClass(attributes).replace(/\\smdl-[^ ]+--shadow\\b/g, '');\n      setClass(attributes, c + (c ? ' ' : '') + ('mdl-shadow--' + d + 'dp'));\n    }\n  };\n\n  var MaterialComponent = function (_Component) {\n    inherits(MaterialComponent, _Component);\n\n    function MaterialComponent() {\n      var _temp, _this, _ret;\n\n      classCallCheck(this, MaterialComponent);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.component = 'none', _this.js = false, _this.ripple = false, _this.mdlClasses = null, _this.upgradedBase = null, _temp), possibleConstructorReturn(_this, _ret);\n    }\n\n    MaterialComponent.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('div', props, props.children);\n    };\n\n    MaterialComponent.prototype.render = function render(props, state) {\n      var r = this.mdlRender(props, state);\n      if (this.nodeName) r.nodeName = this.nodeName;\n      if (!r.attributes) r.attributes = {};\n      r.attributes.class = this.createMdlClasses(props).concat(r.attributes.class || [], r.attributes.className || []).join(' ');\n      for (var i in propMaps) {\n        if (propMaps.hasOwnProperty(i)) {\n          if (props.hasOwnProperty(i)) {\n            propMaps[i](r);\n          }\n        }\n      }if (this.base && this.upgradedBase) {\n        this.preserveMdlDom(this.base, r);\n      }\n      return r;\n    };\n\n    MaterialComponent.prototype.preserveMdlDom = function preserveMdlDom(base, r) {\n      if (!base || !base.hasAttribute || !r) return;\n\n      var c = base.childNodes,\n          persist = ['mdl-js-ripple-effect--ignore-events', 'mdl-js-ripple-effect', 'is-upgraded', 'is-dirty'],\n          v = base.getAttribute('data-upgraded'),\n          a = r.attributes,\n          cl = getClass(a) || '',\n          foundRipple = false;\n\n      if (!a) a = {};\n\n      if (v) {\n        a['data-upgraded'] = v;\n        upgradeQueue.add(base);\n      }\n\n      if (base.hasAttribute('ink-enabled')) {\n        if (!r.attributes) r.attributes = {};\n        r.attributes['ink-enabled'] = 'true';\n      }\n\n      for (var i = 0; i < persist.length; i++) {\n        if (base.classList.contains(persist[i])) {\n          if (typeof a.class === 'string') {\n            if (cl.indexOf(persist[i]) === -1) {\n              cl += ' ' + persist[i];\n            }\n          } else {\n            (cl || (cl = {}))[persist[i]] = true;\n          }\n        }\n      }\n\n      setClass(a, cl);\n    };\n\n    MaterialComponent.prototype.createMdlClasses = function createMdlClasses(props) {\n      var name = this.component,\n          c = [],\n          mapping = this.propClassMapping || {},\n          js = props.js !== false && (this.js || this.ripple);\n      if (name) c.push(name);\n      if (this.mdlClasses) c.push.apply(c, this.mdlClasses);\n      if (this.ripple && props.ripple !== false) {\n        c.push(RIPPLE_CLASS);\n      }\n      if (js) c.push('js-' + name);\n      for (var i in props) {\n        if (props.hasOwnProperty(i) && props[i] === true) {\n          c.push(MDL_NO_PREFIX[i] ? i : mapping[i] || name + '--' + i);\n        }\n      }\n      return c.map(MDL_PREFIX);\n    };\n\n    MaterialComponent.prototype.componentDidMount = function componentDidMount() {\n      if (this.base !== this.upgradedBase) {\n        if (this.upgradedBase) {\n          mdl().downgradeElements(this.upgradedBase);\n        }\n        this.upgradedBase = null;\n        if (this.base && this.base.parentElement) {\n          this.upgradedBase = this.base;\n          mdl().upgradeElement(this.base);\n        }\n      }\n    };\n\n    MaterialComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.upgradedBase) {\n        mdl().downgradeElements(this.upgradedBase);\n        this.upgradedBase = null;\n      }\n    };\n\n    return MaterialComponent;\n  }(preact.Component);\n\n  var upgradeQueue = {\n    items: [],\n    add: function add(base) {\n      if (upgradeQueue.items.push(base) === 1) {\n        requestAnimationFrame(upgradeQueue.process);\n      }\n    },\n    process: function process() {\n      var p = upgradeQueue.items;\n      for (var i = p.length; i--;) {\n        var el = p[i],\n            v = el.getAttribute('data-upgraded'),\n            u = v && v.split(',');\n        if (!u) continue;\n        for (var j = u.length; j--;) {\n          var c = u[j],\n              a = c && el[c];\n          if (a) {\n            if (a.updateClasses_) {\n              a.updateClasses_();\n            }\n            if (a.onFocus_ && a.input_ && a.input_.matches && a.input_.matches(':focus')) {\n              a.onFocus_();\n            }\n          }\n        }\n      }\n      p.length = 0;\n    }\n  };\n\n  var Icon = function (_MaterialComponent) {\n    inherits(Icon, _MaterialComponent);\n\n    function Icon() {\n      classCallCheck(this, Icon);\n      return possibleConstructorReturn(this, _MaterialComponent.apply(this, arguments));\n    }\n\n    Icon.prototype.mdlRender = function mdlRender(props) {\n      var c = getClass(props) || '',\n          icon = String(props.icon || props.children).replace(/[ -]/g, '_');\n      delete props.icon;\n      delete props.className;\n      if (typeof c === 'string') {\n        c = 'material-icons ' + c;\n      } else {\n        c['material-icons'] = true;\n      }\n      return preact.h('i', _extends({}, props, { 'class': c }), icon);\n    };\n\n    return Icon;\n  }(MaterialComponent);\n\n  var Button = function (_MaterialComponent2) {\n    inherits(Button, _MaterialComponent2);\n\n    function Button() {\n      var _temp2, _this3, _ret2;\n\n      classCallCheck(this, Button);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this3 = possibleConstructorReturn(this, _MaterialComponent2.call.apply(_MaterialComponent2, [this].concat(args))), _this3), _this3.component = 'button', _this3.nodeName = 'button', _this3.js = true, _this3.ripple = true, _temp2), possibleConstructorReturn(_this3, _ret2);\n    }\n\n    return Button;\n  }(MaterialComponent);\n\n  var Card = function (_MaterialComponent3) {\n    inherits(Card, _MaterialComponent3);\n\n    function Card() {\n      var _temp3, _this4, _ret3;\n\n      classCallCheck(this, Card);\n\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return _ret3 = (_temp3 = (_this4 = possibleConstructorReturn(this, _MaterialComponent3.call.apply(_MaterialComponent3, [this].concat(args))), _this4), _this4.component = 'card', _temp3), possibleConstructorReturn(_this4, _ret3);\n    }\n\n    return Card;\n  }(MaterialComponent);\n\n  var CardTitle = function (_MaterialComponent4) {\n    inherits(CardTitle, _MaterialComponent4);\n\n    function CardTitle() {\n      var _temp4, _this5, _ret4;\n\n      classCallCheck(this, CardTitle);\n\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return _ret4 = (_temp4 = (_this5 = possibleConstructorReturn(this, _MaterialComponent4.call.apply(_MaterialComponent4, [this].concat(args))), _this5), _this5.component = 'card__title', _this5.propClassMapping = {\n        expand: 'card--expand'\n      }, _temp4), possibleConstructorReturn(_this5, _ret4);\n    }\n\n    return CardTitle;\n  }(MaterialComponent);\n\n  var CardTitleText = function (_MaterialComponent5) {\n    inherits(CardTitleText, _MaterialComponent5);\n\n    function CardTitleText() {\n      var _temp5, _this6, _ret5;\n\n      classCallCheck(this, CardTitleText);\n\n      for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      return _ret5 = (_temp5 = (_this6 = possibleConstructorReturn(this, _MaterialComponent5.call.apply(_MaterialComponent5, [this].concat(args))), _this6), _this6.component = 'card__title-text', _this6.nodeName = 'h2', _temp5), possibleConstructorReturn(_this6, _ret5);\n    }\n\n    return CardTitleText;\n  }(MaterialComponent);\n\n  var CardMedia = function (_MaterialComponent6) {\n    inherits(CardMedia, _MaterialComponent6);\n\n    function CardMedia() {\n      var _temp6, _this7, _ret6;\n\n      classCallCheck(this, CardMedia);\n\n      for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      return _ret6 = (_temp6 = (_this7 = possibleConstructorReturn(this, _MaterialComponent6.call.apply(_MaterialComponent6, [this].concat(args))), _this7), _this7.component = 'card__media', _temp6), possibleConstructorReturn(_this7, _ret6);\n    }\n\n    return CardMedia;\n  }(MaterialComponent);\n\n  var CardText = function (_MaterialComponent7) {\n    inherits(CardText, _MaterialComponent7);\n\n    function CardText() {\n      var _temp7, _this8, _ret7;\n\n      classCallCheck(this, CardText);\n\n      for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return _ret7 = (_temp7 = (_this8 = possibleConstructorReturn(this, _MaterialComponent7.call.apply(_MaterialComponent7, [this].concat(args))), _this8), _this8.component = 'card__supporting-text', _temp7), possibleConstructorReturn(_this8, _ret7);\n    }\n\n    return CardText;\n  }(MaterialComponent);\n\n  var CardActions = function (_MaterialComponent8) {\n    inherits(CardActions, _MaterialComponent8);\n\n    function CardActions() {\n      var _temp8, _this9, _ret8;\n\n      classCallCheck(this, CardActions);\n\n      for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      return _ret8 = (_temp8 = (_this9 = possibleConstructorReturn(this, _MaterialComponent8.call.apply(_MaterialComponent8, [this].concat(args))), _this9), _this9.component = 'card__actions', _temp8), possibleConstructorReturn(_this9, _ret8);\n    }\n\n    return CardActions;\n  }(MaterialComponent);\n\n  var CardMenu = function (_MaterialComponent9) {\n    inherits(CardMenu, _MaterialComponent9);\n\n    function CardMenu() {\n      var _temp9, _this10, _ret9;\n\n      classCallCheck(this, CardMenu);\n\n      for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      return _ret9 = (_temp9 = (_this10 = possibleConstructorReturn(this, _MaterialComponent9.call.apply(_MaterialComponent9, [this].concat(args))), _this10), _this10.component = 'card__menu', _temp9), possibleConstructorReturn(_this10, _ret9);\n    }\n\n    return CardMenu;\n  }(MaterialComponent);\n\n  extend(Card, {\n    Title: CardTitle,\n    TitleText: CardTitleText,\n    Media: CardMedia,\n    Text: CardText,\n    Actions: CardActions,\n    Menu: CardMenu\n  });\n\n  var Dialog = function (_MaterialComponent10) {\n    inherits(Dialog, _MaterialComponent10);\n\n    function Dialog() {\n      var _temp10, _this11, _ret10;\n\n      classCallCheck(this, Dialog);\n\n      for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      return _ret10 = (_temp10 = (_this11 = possibleConstructorReturn(this, _MaterialComponent10.call.apply(_MaterialComponent10, [this].concat(args))), _this11), _this11.component = 'dialog', _this11.nodeName = 'dialog', _this11.show = function () {\n        _this11.base.show();\n      }, _this11.showModal = function () {\n        _this11.base.showModal();\n      }, _this11.close = function () {\n        _this11.base.close && _this11.base.close();\n      }, _temp10), possibleConstructorReturn(_this11, _ret10);\n    }\n\n    return Dialog;\n  }(MaterialComponent);\n\n  var DialogTitle = function (_MaterialComponent11) {\n    inherits(DialogTitle, _MaterialComponent11);\n\n    function DialogTitle() {\n      var _temp11, _this12, _ret11;\n\n      classCallCheck(this, DialogTitle);\n\n      for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n        args[_key11] = arguments[_key11];\n      }\n\n      return _ret11 = (_temp11 = (_this12 = possibleConstructorReturn(this, _MaterialComponent11.call.apply(_MaterialComponent11, [this].concat(args))), _this12), _this12.component = 'dialog__title', _temp11), possibleConstructorReturn(_this12, _ret11);\n    }\n\n    return DialogTitle;\n  }(MaterialComponent);\n\n  var DialogContent = function (_MaterialComponent12) {\n    inherits(DialogContent, _MaterialComponent12);\n\n    function DialogContent() {\n      var _temp12, _this13, _ret12;\n\n      classCallCheck(this, DialogContent);\n\n      for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n        args[_key12] = arguments[_key12];\n      }\n\n      return _ret12 = (_temp12 = (_this13 = possibleConstructorReturn(this, _MaterialComponent12.call.apply(_MaterialComponent12, [this].concat(args))), _this13), _this13.component = 'dialog__content', _temp12), possibleConstructorReturn(_this13, _ret12);\n    }\n\n    return DialogContent;\n  }(MaterialComponent);\n\n  var DialogActions = function (_MaterialComponent13) {\n    inherits(DialogActions, _MaterialComponent13);\n\n    function DialogActions() {\n      var _temp13, _this14, _ret13;\n\n      classCallCheck(this, DialogActions);\n\n      for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n        args[_key13] = arguments[_key13];\n      }\n\n      return _ret13 = (_temp13 = (_this14 = possibleConstructorReturn(this, _MaterialComponent13.call.apply(_MaterialComponent13, [this].concat(args))), _this14), _this14.component = 'dialog__actions', _temp13), possibleConstructorReturn(_this14, _ret13);\n    }\n\n    return DialogActions;\n  }(MaterialComponent);\n\n  extend(Dialog, {\n    Title: DialogTitle,\n    Content: DialogContent,\n    Actions: DialogActions\n  });\n\n  var Layout = function (_MaterialComponent14) {\n    inherits(Layout, _MaterialComponent14);\n\n    function Layout() {\n      var _temp14, _this15, _ret14;\n\n      classCallCheck(this, Layout);\n\n      for (var _len14 = arguments.length, args = Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n        args[_key14] = arguments[_key14];\n      }\n\n      return _ret14 = (_temp14 = (_this15 = possibleConstructorReturn(this, _MaterialComponent14.call.apply(_MaterialComponent14, [this].concat(args))), _this15), _this15.component = 'layout', _this15.js = true, _temp14), possibleConstructorReturn(_this15, _ret14);\n    }\n\n    return Layout;\n  }(MaterialComponent);\n\n  var LayoutHeader = function (_MaterialComponent15) {\n    inherits(LayoutHeader, _MaterialComponent15);\n\n    function LayoutHeader() {\n      var _temp15, _this16, _ret15;\n\n      classCallCheck(this, LayoutHeader);\n\n      for (var _len15 = arguments.length, args = Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n        args[_key15] = arguments[_key15];\n      }\n\n      return _ret15 = (_temp15 = (_this16 = possibleConstructorReturn(this, _MaterialComponent15.call.apply(_MaterialComponent15, [this].concat(args))), _this16), _this16.component = 'layout__header', _this16.nodeName = 'header', _temp15), possibleConstructorReturn(_this16, _ret15);\n    }\n\n    return LayoutHeader;\n  }(MaterialComponent);\n\n  var LayoutHeaderRow = function (_MaterialComponent16) {\n    inherits(LayoutHeaderRow, _MaterialComponent16);\n\n    function LayoutHeaderRow() {\n      var _temp16, _this17, _ret16;\n\n      classCallCheck(this, LayoutHeaderRow);\n\n      for (var _len16 = arguments.length, args = Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n        args[_key16] = arguments[_key16];\n      }\n\n      return _ret16 = (_temp16 = (_this17 = possibleConstructorReturn(this, _MaterialComponent16.call.apply(_MaterialComponent16, [this].concat(args))), _this17), _this17.component = 'layout__header-row', _temp16), possibleConstructorReturn(_this17, _ret16);\n    }\n\n    return LayoutHeaderRow;\n  }(MaterialComponent);\n\n  var LayoutTitle = function (_MaterialComponent17) {\n    inherits(LayoutTitle, _MaterialComponent17);\n\n    function LayoutTitle() {\n      var _temp17, _this18, _ret17;\n\n      classCallCheck(this, LayoutTitle);\n\n      for (var _len17 = arguments.length, args = Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {\n        args[_key17] = arguments[_key17];\n      }\n\n      return _ret17 = (_temp17 = (_this18 = possibleConstructorReturn(this, _MaterialComponent17.call.apply(_MaterialComponent17, [this].concat(args))), _this18), _this18.component = 'layout-title', _this18.nodeName = 'span', _temp17), possibleConstructorReturn(_this18, _ret17);\n    }\n\n    return LayoutTitle;\n  }(MaterialComponent);\n\n  var LayoutSpacer = function (_MaterialComponent18) {\n    inherits(LayoutSpacer, _MaterialComponent18);\n\n    function LayoutSpacer() {\n      var _temp18, _this19, _ret18;\n\n      classCallCheck(this, LayoutSpacer);\n\n      for (var _len18 = arguments.length, args = Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n        args[_key18] = arguments[_key18];\n      }\n\n      return _ret18 = (_temp18 = (_this19 = possibleConstructorReturn(this, _MaterialComponent18.call.apply(_MaterialComponent18, [this].concat(args))), _this19), _this19.component = 'layout-spacer', _temp18), possibleConstructorReturn(_this19, _ret18);\n    }\n\n    return LayoutSpacer;\n  }(MaterialComponent);\n\n  var LayoutDrawer = function (_MaterialComponent19) {\n    inherits(LayoutDrawer, _MaterialComponent19);\n\n    function LayoutDrawer() {\n      var _temp19, _this20, _ret19;\n\n      classCallCheck(this, LayoutDrawer);\n\n      for (var _len19 = arguments.length, args = Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n        args[_key19] = arguments[_key19];\n      }\n\n      return _ret19 = (_temp19 = (_this20 = possibleConstructorReturn(this, _MaterialComponent19.call.apply(_MaterialComponent19, [this].concat(args))), _this20), _this20.component = 'layout__drawer', _temp19), possibleConstructorReturn(_this20, _ret19);\n    }\n\n    return LayoutDrawer;\n  }(MaterialComponent);\n\n  var LayoutContent = function (_MaterialComponent20) {\n    inherits(LayoutContent, _MaterialComponent20);\n\n    function LayoutContent() {\n      var _temp20, _this21, _ret20;\n\n      classCallCheck(this, LayoutContent);\n\n      for (var _len20 = arguments.length, args = Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n        args[_key20] = arguments[_key20];\n      }\n\n      return _ret20 = (_temp20 = (_this21 = possibleConstructorReturn(this, _MaterialComponent20.call.apply(_MaterialComponent20, [this].concat(args))), _this21), _this21.component = 'layout__content', _this21.nodeName = 'main', _temp20), possibleConstructorReturn(_this21, _ret20);\n    }\n\n    return LayoutContent;\n  }(MaterialComponent);\n\n  var LayoutTabBar = function (_MaterialComponent21) {\n    inherits(LayoutTabBar, _MaterialComponent21);\n\n    function LayoutTabBar() {\n      var _temp21, _this22, _ret21;\n\n      classCallCheck(this, LayoutTabBar);\n\n      for (var _len21 = arguments.length, args = Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n        args[_key21] = arguments[_key21];\n      }\n\n      return _ret21 = (_temp21 = (_this22 = possibleConstructorReturn(this, _MaterialComponent21.call.apply(_MaterialComponent21, [this].concat(args))), _this22), _this22.component = 'layout__tab-bar', _this22.js = true, _this22.ripple = false, _temp21), possibleConstructorReturn(_this22, _ret21);\n    }\n\n    return LayoutTabBar;\n  }(MaterialComponent);\n\n  var LayoutTab = function (_MaterialComponent22) {\n    inherits(LayoutTab, _MaterialComponent22);\n\n    function LayoutTab() {\n      var _temp22, _this23, _ret22;\n\n      classCallCheck(this, LayoutTab);\n\n      for (var _len22 = arguments.length, args = Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n        args[_key22] = arguments[_key22];\n      }\n\n      return _ret22 = (_temp22 = (_this23 = possibleConstructorReturn(this, _MaterialComponent22.call.apply(_MaterialComponent22, [this].concat(args))), _this23), _this23.component = 'layout__tab', _this23.nodeName = 'a', _temp22), possibleConstructorReturn(_this23, _ret22);\n    }\n\n    return LayoutTab;\n  }(MaterialComponent);\n\n  var LayoutTabPanel = function (_MaterialComponent23) {\n    inherits(LayoutTabPanel, _MaterialComponent23);\n\n    function LayoutTabPanel() {\n      var _temp23, _this24, _ret23;\n\n      classCallCheck(this, LayoutTabPanel);\n\n      for (var _len23 = arguments.length, args = Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {\n        args[_key23] = arguments[_key23];\n      }\n\n      return _ret23 = (_temp23 = (_this24 = possibleConstructorReturn(this, _MaterialComponent23.call.apply(_MaterialComponent23, [this].concat(args))), _this24), _this24.component = 'layout__tab-panel', _temp23), possibleConstructorReturn(_this24, _ret23);\n    }\n\n    LayoutTabPanel.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('section', props, preact.h('div', { 'class': 'page-content' }, props.children));\n    };\n\n    return LayoutTabPanel;\n  }(MaterialComponent);\n\n  extend(Layout, {\n    Header: LayoutHeader,\n    HeaderRow: LayoutHeaderRow,\n    Title: LayoutTitle,\n    Spacer: LayoutSpacer,\n    Drawer: LayoutDrawer,\n    Content: LayoutContent,\n    TabBar: LayoutTabBar,\n    Tab: LayoutTab,\n    TabPanel: LayoutTabPanel\n  });\n\n  var Navigation = function (_MaterialComponent24) {\n    inherits(Navigation, _MaterialComponent24);\n\n    function Navigation() {\n      var _temp24, _this25, _ret24;\n\n      classCallCheck(this, Navigation);\n\n      for (var _len24 = arguments.length, args = Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {\n        args[_key24] = arguments[_key24];\n      }\n\n      return _ret24 = (_temp24 = (_this25 = possibleConstructorReturn(this, _MaterialComponent24.call.apply(_MaterialComponent24, [this].concat(args))), _this25), _this25.component = 'navigation', _this25.nodeName = 'nav', _this25.propClassMapping = {\n        'large-screen-only': 'layout--large-screen-only'\n      }, _temp24), possibleConstructorReturn(_this25, _ret24);\n    }\n\n    Navigation.prototype.mdlRender = function mdlRender(props, state) {\n      var r = _MaterialComponent24.prototype.mdlRender.call(this, props, state);\n      r.children.forEach(function (item) {\n        if (!item) return item;\n        var c = item.attributes && getClass(item.attributes) || '';\n        if (!c.match(/\\bmdl-navigation__link\\b/g)) {\n          if (!item.attributes) item.attributes = {};\n          setClass(item.attributes, ' mdl-navigation__link', true);\n        }\n      });\n      return r;\n    };\n\n    return Navigation;\n  }(MaterialComponent);\n\n  var NavigationLink = function (_MaterialComponent25) {\n    inherits(NavigationLink, _MaterialComponent25);\n\n    function NavigationLink() {\n      classCallCheck(this, NavigationLink);\n\n      for (var _len25 = arguments.length, args = Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {\n        args[_key25] = arguments[_key25];\n      }\n\n      var _this26 = possibleConstructorReturn(this, _MaterialComponent25.call.apply(_MaterialComponent25, [this].concat(args)));\n\n      _this26.component = 'navigation__link';\n      _this26.nodeName = 'a';\n\n      _this26.handleClick = _this26.handleClick.bind(_this26);\n      return _this26;\n    }\n\n    NavigationLink.prototype.handleClick = function handleClick(e) {\n      var _props = this.props,\n          route = _props.route,\n          href = _props.href,\n          onClick = _props.onClick,\n          onclick = _props.onclick;\n\n      onClick = onClick || onclick;\n      if (typeof onClick === 'function' && onClick({ type: 'click', target: this }) === false) {} else if (typeof route === 'function') {\n        route(href);\n      }\n      e.preventDefault();\n      return false;\n    };\n\n    NavigationLink.prototype.mdlRender = function mdlRender(_ref5, state) {\n      var children = _ref5.children,\n          props = objectWithoutProperties(_ref5, ['children']);\n\n      return preact.h('a', _extends({}, props, { onclick: this.handleClick }), children);\n    };\n\n    return NavigationLink;\n  }(MaterialComponent);\n\n  Navigation.Link = NavigationLink;\n\n  var Tabs = function (_MaterialComponent26) {\n    inherits(Tabs, _MaterialComponent26);\n\n    function Tabs() {\n      var _temp25, _this27, _ret25;\n\n      classCallCheck(this, Tabs);\n\n      for (var _len26 = arguments.length, args = Array(_len26), _key26 = 0; _key26 < _len26; _key26++) {\n        args[_key26] = arguments[_key26];\n      }\n\n      return _ret25 = (_temp25 = (_this27 = possibleConstructorReturn(this, _MaterialComponent26.call.apply(_MaterialComponent26, [this].concat(args))), _this27), _this27.component = 'tabs', _this27.js = true, _this27.ripple = false, _temp25), possibleConstructorReturn(_this27, _ret25);\n    }\n\n    return Tabs;\n  }(MaterialComponent);\n\n  var TabBar = function (_MaterialComponent27) {\n    inherits(TabBar, _MaterialComponent27);\n\n    function TabBar() {\n      var _temp26, _this28, _ret26;\n\n      classCallCheck(this, TabBar);\n\n      for (var _len27 = arguments.length, args = Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {\n        args[_key27] = arguments[_key27];\n      }\n\n      return _ret26 = (_temp26 = (_this28 = possibleConstructorReturn(this, _MaterialComponent27.call.apply(_MaterialComponent27, [this].concat(args))), _this28), _this28.component = 'tabs__tab-bar', _temp26), possibleConstructorReturn(_this28, _ret26);\n    }\n\n    return TabBar;\n  }(MaterialComponent);\n\n  var Tab = function (_MaterialComponent28) {\n    inherits(Tab, _MaterialComponent28);\n\n    function Tab() {\n      var _temp27, _this29, _ret27;\n\n      classCallCheck(this, Tab);\n\n      for (var _len28 = arguments.length, args = Array(_len28), _key28 = 0; _key28 < _len28; _key28++) {\n        args[_key28] = arguments[_key28];\n      }\n\n      return _ret27 = (_temp27 = (_this29 = possibleConstructorReturn(this, _MaterialComponent28.call.apply(_MaterialComponent28, [this].concat(args))), _this29), _this29.component = 'tabs__tab', _this29.nodeName = 'a', _temp27), possibleConstructorReturn(_this29, _ret27);\n    }\n\n    return Tab;\n  }(MaterialComponent);\n\n  var TabPanel = function (_MaterialComponent29) {\n    inherits(TabPanel, _MaterialComponent29);\n\n    function TabPanel() {\n      var _temp28, _this30, _ret28;\n\n      classCallCheck(this, TabPanel);\n\n      for (var _len29 = arguments.length, args = Array(_len29), _key29 = 0; _key29 < _len29; _key29++) {\n        args[_key29] = arguments[_key29];\n      }\n\n      return _ret28 = (_temp28 = (_this30 = possibleConstructorReturn(this, _MaterialComponent29.call.apply(_MaterialComponent29, [this].concat(args))), _this30), _this30.component = 'tabs__panel', _this30.nodeName = 'section', _temp28), possibleConstructorReturn(_this30, _ret28);\n    }\n\n    return TabPanel;\n  }(MaterialComponent);\n\n  extend(Tabs, {\n    TabBar: TabBar,\n    Bar: TabBar,\n    Tab: Tab,\n    TabPanel: TabPanel,\n    Panel: TabPanel\n  });\n\n  var MegaFooter = function (_MaterialComponent30) {\n    inherits(MegaFooter, _MaterialComponent30);\n\n    function MegaFooter() {\n      var _temp29, _this31, _ret29;\n\n      classCallCheck(this, MegaFooter);\n\n      for (var _len30 = arguments.length, args = Array(_len30), _key30 = 0; _key30 < _len30; _key30++) {\n        args[_key30] = arguments[_key30];\n      }\n\n      return _ret29 = (_temp29 = (_this31 = possibleConstructorReturn(this, _MaterialComponent30.call.apply(_MaterialComponent30, [this].concat(args))), _this31), _this31.component = 'mega-footer', _this31.nodeName = 'footer', _temp29), possibleConstructorReturn(_this31, _ret29);\n    }\n\n    return MegaFooter;\n  }(MaterialComponent);\n\n  var MegaFooterMiddleSection = function (_MaterialComponent31) {\n    inherits(MegaFooterMiddleSection, _MaterialComponent31);\n\n    function MegaFooterMiddleSection() {\n      var _temp30, _this32, _ret30;\n\n      classCallCheck(this, MegaFooterMiddleSection);\n\n      for (var _len31 = arguments.length, args = Array(_len31), _key31 = 0; _key31 < _len31; _key31++) {\n        args[_key31] = arguments[_key31];\n      }\n\n      return _ret30 = (_temp30 = (_this32 = possibleConstructorReturn(this, _MaterialComponent31.call.apply(_MaterialComponent31, [this].concat(args))), _this32), _this32.component = 'mega-footer__middle-section', _temp30), possibleConstructorReturn(_this32, _ret30);\n    }\n\n    return MegaFooterMiddleSection;\n  }(MaterialComponent);\n\n  var MegaFooterDropDownSection = function (_MaterialComponent32) {\n    inherits(MegaFooterDropDownSection, _MaterialComponent32);\n\n    function MegaFooterDropDownSection() {\n      var _temp31, _this33, _ret31;\n\n      classCallCheck(this, MegaFooterDropDownSection);\n\n      for (var _len32 = arguments.length, args = Array(_len32), _key32 = 0; _key32 < _len32; _key32++) {\n        args[_key32] = arguments[_key32];\n      }\n\n      return _ret31 = (_temp31 = (_this33 = possibleConstructorReturn(this, _MaterialComponent32.call.apply(_MaterialComponent32, [this].concat(args))), _this33), _this33.component = 'mega-footer__drop-down-section', _temp31), possibleConstructorReturn(_this33, _ret31);\n    }\n\n    return MegaFooterDropDownSection;\n  }(MaterialComponent);\n\n  var MegaFooterHeading = function (_MaterialComponent33) {\n    inherits(MegaFooterHeading, _MaterialComponent33);\n\n    function MegaFooterHeading() {\n      var _temp32, _this34, _ret32;\n\n      classCallCheck(this, MegaFooterHeading);\n\n      for (var _len33 = arguments.length, args = Array(_len33), _key33 = 0; _key33 < _len33; _key33++) {\n        args[_key33] = arguments[_key33];\n      }\n\n      return _ret32 = (_temp32 = (_this34 = possibleConstructorReturn(this, _MaterialComponent33.call.apply(_MaterialComponent33, [this].concat(args))), _this34), _this34.component = 'mega-footer__heading', _this34.nodeName = 'h1', _temp32), possibleConstructorReturn(_this34, _ret32);\n    }\n\n    return MegaFooterHeading;\n  }(MaterialComponent);\n\n  var MegaFooterLinkList = function (_MaterialComponent34) {\n    inherits(MegaFooterLinkList, _MaterialComponent34);\n\n    function MegaFooterLinkList() {\n      var _temp33, _this35, _ret33;\n\n      classCallCheck(this, MegaFooterLinkList);\n\n      for (var _len34 = arguments.length, args = Array(_len34), _key34 = 0; _key34 < _len34; _key34++) {\n        args[_key34] = arguments[_key34];\n      }\n\n      return _ret33 = (_temp33 = (_this35 = possibleConstructorReturn(this, _MaterialComponent34.call.apply(_MaterialComponent34, [this].concat(args))), _this35), _this35.component = 'mega-footer__link-list', _this35.nodeName = 'ul', _temp33), possibleConstructorReturn(_this35, _ret33);\n    }\n\n    return MegaFooterLinkList;\n  }(MaterialComponent);\n\n  var MegaFooterBottomSection = function (_MaterialComponent35) {\n    inherits(MegaFooterBottomSection, _MaterialComponent35);\n\n    function MegaFooterBottomSection() {\n      var _temp34, _this36, _ret34;\n\n      classCallCheck(this, MegaFooterBottomSection);\n\n      for (var _len35 = arguments.length, args = Array(_len35), _key35 = 0; _key35 < _len35; _key35++) {\n        args[_key35] = arguments[_key35];\n      }\n\n      return _ret34 = (_temp34 = (_this36 = possibleConstructorReturn(this, _MaterialComponent35.call.apply(_MaterialComponent35, [this].concat(args))), _this36), _this36.component = 'mega-footer__bottom-section', _temp34), possibleConstructorReturn(_this36, _ret34);\n    }\n\n    return MegaFooterBottomSection;\n  }(MaterialComponent);\n\n  extend(MegaFooter, {\n    MiddleSection: MegaFooterMiddleSection,\n    DropDownSection: MegaFooterDropDownSection,\n    Heading: MegaFooterHeading,\n    LinkList: MegaFooterLinkList,\n    BottomSection: MegaFooterBottomSection\n  });\n\n  var MiniFooter = function (_MaterialComponent36) {\n    inherits(MiniFooter, _MaterialComponent36);\n\n    function MiniFooter() {\n      var _temp35, _this37, _ret35;\n\n      classCallCheck(this, MiniFooter);\n\n      for (var _len36 = arguments.length, args = Array(_len36), _key36 = 0; _key36 < _len36; _key36++) {\n        args[_key36] = arguments[_key36];\n      }\n\n      return _ret35 = (_temp35 = (_this37 = possibleConstructorReturn(this, _MaterialComponent36.call.apply(_MaterialComponent36, [this].concat(args))), _this37), _this37.component = 'mini-footer', _this37.nodeName = 'footer', _temp35), possibleConstructorReturn(_this37, _ret35);\n    }\n\n    return MiniFooter;\n  }(MaterialComponent);\n\n  var MiniFooterLeftSection = function (_MaterialComponent37) {\n    inherits(MiniFooterLeftSection, _MaterialComponent37);\n\n    function MiniFooterLeftSection() {\n      var _temp36, _this38, _ret36;\n\n      classCallCheck(this, MiniFooterLeftSection);\n\n      for (var _len37 = arguments.length, args = Array(_len37), _key37 = 0; _key37 < _len37; _key37++) {\n        args[_key37] = arguments[_key37];\n      }\n\n      return _ret36 = (_temp36 = (_this38 = possibleConstructorReturn(this, _MaterialComponent37.call.apply(_MaterialComponent37, [this].concat(args))), _this38), _this38.component = 'mini-footer__left-section', _temp36), possibleConstructorReturn(_this38, _ret36);\n    }\n\n    return MiniFooterLeftSection;\n  }(MaterialComponent);\n\n  var MiniFooterLinkList = function (_MaterialComponent38) {\n    inherits(MiniFooterLinkList, _MaterialComponent38);\n\n    function MiniFooterLinkList() {\n      var _temp37, _this39, _ret37;\n\n      classCallCheck(this, MiniFooterLinkList);\n\n      for (var _len38 = arguments.length, args = Array(_len38), _key38 = 0; _key38 < _len38; _key38++) {\n        args[_key38] = arguments[_key38];\n      }\n\n      return _ret37 = (_temp37 = (_this39 = possibleConstructorReturn(this, _MaterialComponent38.call.apply(_MaterialComponent38, [this].concat(args))), _this39), _this39.component = 'mini-footer__link-list', _this39.nodeName = 'ul', _temp37), possibleConstructorReturn(_this39, _ret37);\n    }\n\n    return MiniFooterLinkList;\n  }(MaterialComponent);\n\n  extend(MiniFooter, {\n    LeftSection: MiniFooterLeftSection,\n    LinkList: MiniFooterLinkList\n  });\n\n  var Grid = function (_MaterialComponent39) {\n    inherits(Grid, _MaterialComponent39);\n\n    function Grid() {\n      var _temp38, _this40, _ret38;\n\n      classCallCheck(this, Grid);\n\n      for (var _len39 = arguments.length, args = Array(_len39), _key39 = 0; _key39 < _len39; _key39++) {\n        args[_key39] = arguments[_key39];\n      }\n\n      return _ret38 = (_temp38 = (_this40 = possibleConstructorReturn(this, _MaterialComponent39.call.apply(_MaterialComponent39, [this].concat(args))), _this40), _this40.component = 'grid', _temp38), possibleConstructorReturn(_this40, _ret38);\n    }\n\n    return Grid;\n  }(MaterialComponent);\n\n  var Cell = function (_MaterialComponent40) {\n    inherits(Cell, _MaterialComponent40);\n\n    function Cell() {\n      var _temp39, _this41, _ret39;\n\n      classCallCheck(this, Cell);\n\n      for (var _len40 = arguments.length, args = Array(_len40), _key40 = 0; _key40 < _len40; _key40++) {\n        args[_key40] = arguments[_key40];\n      }\n\n      return _ret39 = (_temp39 = (_this41 = possibleConstructorReturn(this, _MaterialComponent40.call.apply(_MaterialComponent40, [this].concat(args))), _this41), _this41.component = 'cell', _temp39), possibleConstructorReturn(_this41, _ret39);\n    }\n\n    return Cell;\n  }(MaterialComponent);\n\n  Grid.Cell = Cell;\n\n  var Progress = function (_MaterialComponent41) {\n    inherits(Progress, _MaterialComponent41);\n\n    function Progress() {\n      var _temp40, _this42, _ret40;\n\n      classCallCheck(this, Progress);\n\n      for (var _len41 = arguments.length, args = Array(_len41), _key41 = 0; _key41 < _len41; _key41++) {\n        args[_key41] = arguments[_key41];\n      }\n\n      return _ret40 = (_temp40 = (_this42 = possibleConstructorReturn(this, _MaterialComponent41.call.apply(_MaterialComponent41, [this].concat(args))), _this42), _this42.component = 'progress', _this42.js = true, _temp40), possibleConstructorReturn(_this42, _ret40);\n    }\n\n    Progress.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('div', props, preact.h('div', { 'class': 'progressbar bar bar1' }), preact.h('div', { 'class': 'bufferbar bar bar2' }), preact.h('div', { 'class': 'auxbar bar bar3' }));\n    };\n\n    Progress.prototype.componentDidUpdate = function componentDidUpdate() {\n      var api = this.base.MaterialProgress,\n          p = this.props;\n      if (p.progress) api.setProgress(p.progress);\n      if (p.buffer) api.setBuffer(p.buffer);\n    };\n\n    return Progress;\n  }(MaterialComponent);\n\n  var Spinner = function (_MaterialComponent42) {\n    inherits(Spinner, _MaterialComponent42);\n\n    function Spinner() {\n      var _temp41, _this43, _ret41;\n\n      classCallCheck(this, Spinner);\n\n      for (var _len42 = arguments.length, args = Array(_len42), _key42 = 0; _key42 < _len42; _key42++) {\n        args[_key42] = arguments[_key42];\n      }\n\n      return _ret41 = (_temp41 = (_this43 = possibleConstructorReturn(this, _MaterialComponent42.call.apply(_MaterialComponent42, [this].concat(args))), _this43), _this43.component = 'spinner', _this43.js = true, _temp41), possibleConstructorReturn(_this43, _ret41);\n    }\n\n    return Spinner;\n  }(MaterialComponent);\n\n  var Menu = function (_MaterialComponent43) {\n    inherits(Menu, _MaterialComponent43);\n\n    function Menu() {\n      var _temp42, _this44, _ret42;\n\n      classCallCheck(this, Menu);\n\n      for (var _len43 = arguments.length, args = Array(_len43), _key43 = 0; _key43 < _len43; _key43++) {\n        args[_key43] = arguments[_key43];\n      }\n\n      return _ret42 = (_temp42 = (_this44 = possibleConstructorReturn(this, _MaterialComponent43.call.apply(_MaterialComponent43, [this].concat(args))), _this44), _this44.component = 'menu', _this44.nodeName = 'ul', _this44.js = true, _this44.ripple = true, _temp42), possibleConstructorReturn(_this44, _ret42);\n    }\n\n    return Menu;\n  }(MaterialComponent);\n\n  var MenuItem = function (_MaterialComponent44) {\n    inherits(MenuItem, _MaterialComponent44);\n\n    function MenuItem() {\n      var _temp43, _this45, _ret43;\n\n      classCallCheck(this, MenuItem);\n\n      for (var _len44 = arguments.length, args = Array(_len44), _key44 = 0; _key44 < _len44; _key44++) {\n        args[_key44] = arguments[_key44];\n      }\n\n      return _ret43 = (_temp43 = (_this45 = possibleConstructorReturn(this, _MaterialComponent44.call.apply(_MaterialComponent44, [this].concat(args))), _this45), _this45.component = 'menu__item', _this45.nodeName = 'li', _temp43), possibleConstructorReturn(_this45, _ret43);\n    }\n\n    return MenuItem;\n  }(MaterialComponent);\n\n  Menu.Item = MenuItem;\n\n  var Slider = function (_MaterialComponent45) {\n    inherits(Slider, _MaterialComponent45);\n\n    function Slider() {\n      var _temp44, _this46, _ret44;\n\n      classCallCheck(this, Slider);\n\n      for (var _len45 = arguments.length, args = Array(_len45), _key45 = 0; _key45 < _len45; _key45++) {\n        args[_key45] = arguments[_key45];\n      }\n\n      return _ret44 = (_temp44 = (_this46 = possibleConstructorReturn(this, _MaterialComponent45.call.apply(_MaterialComponent45, [this].concat(args))), _this46), _this46.component = 'slider', _this46.js = true, _temp44), possibleConstructorReturn(_this46, _ret44);\n    }\n\n    Slider.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('input', _extends({ type: 'range', tabindex: '0' }, props));\n    };\n\n    return Slider;\n  }(MaterialComponent);\n\n  var Snackbar = function (_MaterialComponent46) {\n    inherits(Snackbar, _MaterialComponent46);\n\n    function Snackbar() {\n      var _temp45, _this47, _ret45;\n\n      classCallCheck(this, Snackbar);\n\n      for (var _len46 = arguments.length, args = Array(_len46), _key46 = 0; _key46 < _len46; _key46++) {\n        args[_key46] = arguments[_key46];\n      }\n\n      return _ret45 = (_temp45 = (_this47 = possibleConstructorReturn(this, _MaterialComponent46.call.apply(_MaterialComponent46, [this].concat(args))), _this47), _this47.component = 'snackbar', _this47.js = true, _temp45), possibleConstructorReturn(_this47, _ret45);\n    }\n\n    Snackbar.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('div', props, preact.h('div', { 'class': 'mdl-snackbar__text' }, props.children), preact.h('button', { 'class': 'mdl-snackbar__action', type: 'button' }));\n    };\n\n    return Snackbar;\n  }(MaterialComponent);\n\n  var CheckBox = function (_MaterialComponent47) {\n    inherits(CheckBox, _MaterialComponent47);\n\n    function CheckBox() {\n      var _temp46, _this48, _ret46;\n\n      classCallCheck(this, CheckBox);\n\n      for (var _len47 = arguments.length, args = Array(_len47), _key47 = 0; _key47 < _len47; _key47++) {\n        args[_key47] = arguments[_key47];\n      }\n\n      return _ret46 = (_temp46 = (_this48 = possibleConstructorReturn(this, _MaterialComponent47.call.apply(_MaterialComponent47, [this].concat(args))), _this48), _this48.component = 'checkbox', _this48.js = true, _this48.ripple = true, _temp46), possibleConstructorReturn(_this48, _ret46);\n    }\n\n    CheckBox.prototype.getValue = function getValue() {\n      return this.base.children[0].checked;\n    };\n\n    CheckBox.prototype.mdlRender = function mdlRender(props) {\n      var evt = {};\n      for (var i in props) {\n        if (i.match(/^on[a-z]+$/gi)) {\n          evt[i] = props[i];\n          delete props[i];\n        }\n      }return preact.h('label', props, preact.h('input', _extends({ type: 'checkbox', 'class': 'mdl-checkbox__input', checked: props.checked, disabled: props.disabled }, evt)), preact.h('span', { 'class': 'mdl-checkbox__label' }, props.children), preact.h('span', { 'class': 'mdl-checkbox__focus-helper' }), preact.h('span', { 'class': 'mdl-checkbox__box-outline' }, preact.h('span', { 'class': 'mdl-checkbox__tick-outline' })));\n    };\n\n    return CheckBox;\n  }(MaterialComponent);\n\n  var Radio = function (_MaterialComponent48) {\n    inherits(Radio, _MaterialComponent48);\n\n    function Radio() {\n      var _temp47, _this49, _ret47;\n\n      classCallCheck(this, Radio);\n\n      for (var _len48 = arguments.length, args = Array(_len48), _key48 = 0; _key48 < _len48; _key48++) {\n        args[_key48] = arguments[_key48];\n      }\n\n      return _ret47 = (_temp47 = (_this49 = possibleConstructorReturn(this, _MaterialComponent48.call.apply(_MaterialComponent48, [this].concat(args))), _this49), _this49.component = 'radio', _this49.js = true, _this49.ripple = true, _temp47), possibleConstructorReturn(_this49, _ret47);\n    }\n\n    Radio.prototype.getValue = function getValue() {\n      return this.base.children[0].checked;\n    };\n\n    Radio.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('label', props, preact.h('input', { type: 'radio', 'class': 'mdl-radio__button', name: props.name, value: props.value, checked: props.checked, disabled: props.disabled }), preact.h('span', { 'class': 'mdl-radio__label' }, props.children));\n    };\n\n    return Radio;\n  }(MaterialComponent);\n\n  var IconToggle = function (_MaterialComponent49) {\n    inherits(IconToggle, _MaterialComponent49);\n\n    function IconToggle() {\n      var _temp48, _this50, _ret48;\n\n      classCallCheck(this, IconToggle);\n\n      for (var _len49 = arguments.length, args = Array(_len49), _key49 = 0; _key49 < _len49; _key49++) {\n        args[_key49] = arguments[_key49];\n      }\n\n      return _ret48 = (_temp48 = (_this50 = possibleConstructorReturn(this, _MaterialComponent49.call.apply(_MaterialComponent49, [this].concat(args))), _this50), _this50.component = 'icon-toggle', _this50.js = true, _this50.ripple = true, _temp48), possibleConstructorReturn(_this50, _ret48);\n    }\n\n    IconToggle.prototype.getValue = function getValue() {\n      return this.base.children[0].checked;\n    };\n\n    IconToggle.prototype.mdlRender = function mdlRender(props) {\n      return preact.h('label', props, preact.h('input', { type: 'checkbox', 'class': 'mdl-icon-toggle__input', checked: props.checked, disabled: props.disabled }), preact.h('span', { 'class': 'mdl-icon-toggle__label material-icons' }, props.children));\n    };\n\n    return IconToggle;\n  }(MaterialComponent);\n\n  var Switch = function (_MaterialComponent50) {\n    inherits(Switch, _MaterialComponent50);\n\n    function Switch() {\n      var _temp49, _this51, _ret49;\n\n      classCallCheck(this, Switch);\n\n      for (var _len50 = arguments.length, args = Array(_len50), _key50 = 0; _key50 < _len50; _key50++) {\n        args[_key50] = arguments[_key50];\n      }\n\n      return _ret49 = (_temp49 = (_this51 = possibleConstructorReturn(this, _MaterialComponent50.call.apply(_MaterialComponent50, [this].concat(args))), _this51), _this51.component = 'switch', _this51.nodeName = 'label', _this51.js = true, _this51.ripple = true, _temp49), possibleConstructorReturn(_this51, _ret49);\n    }\n\n    Switch.prototype.shouldComponentUpdate = function shouldComponentUpdate(_ref6) {\n      var checked = _ref6.checked;\n\n      if (Boolean(checked) === Boolean(this.props.checked)) return false;\n      return true;\n    };\n\n    Switch.prototype.getValue = function getValue() {\n      return this.base.children[0].checked;\n    };\n\n    Switch.prototype.mdlRender = function mdlRender(_ref7) {\n      var props = objectWithoutProperties(_ref7, []);\n\n      var evt = {};\n      for (var i in props) {\n        if (i.match(/^on[a-z]+$/gi)) {\n          evt[i] = props[i];\n          delete props[i];\n        }\n      }return preact.h('label', props, preact.h('input', _extends({ type: 'checkbox', 'class': 'mdl-switch__input', checked: props.checked, disabled: props.disabled }, evt)), preact.h('span', { 'class': 'mdl-switch__label' }, props.children), preact.h('div', { 'class': 'mdl-switch__track' }), preact.h('div', { 'class': 'mdl-switch__thumb' }, preact.h('span', { 'class': 'mdl-switch__focus-helper' })));\n    };\n\n    return Switch;\n  }(MaterialComponent);\n\n  var Table = function (_MaterialComponent51) {\n    inherits(Table, _MaterialComponent51);\n\n    function Table() {\n      var _temp50, _this52, _ret50;\n\n      classCallCheck(this, Table);\n\n      for (var _len51 = arguments.length, args = Array(_len51), _key51 = 0; _key51 < _len51; _key51++) {\n        args[_key51] = arguments[_key51];\n      }\n\n      return _ret50 = (_temp50 = (_this52 = possibleConstructorReturn(this, _MaterialComponent51.call.apply(_MaterialComponent51, [this].concat(args))), _this52), _this52.component = 'data-table', _this52.nodeName = 'table', _this52.js = true, _temp50), possibleConstructorReturn(_this52, _ret50);\n    }\n\n    return Table;\n  }(MaterialComponent);\n\n  var TableCell = function (_MaterialComponent52) {\n    inherits(TableCell, _MaterialComponent52);\n\n    function TableCell() {\n      var _temp51, _this53, _ret51;\n\n      classCallCheck(this, TableCell);\n\n      for (var _len52 = arguments.length, args = Array(_len52), _key52 = 0; _key52 < _len52; _key52++) {\n        args[_key52] = arguments[_key52];\n      }\n\n      return _ret51 = (_temp51 = (_this53 = possibleConstructorReturn(this, _MaterialComponent52.call.apply(_MaterialComponent52, [this].concat(args))), _this53), _this53.component = 'data-table__cell', _this53.nodeName = 'td', _temp51), possibleConstructorReturn(_this53, _ret51);\n    }\n\n    return TableCell;\n  }(MaterialComponent);\n\n  Table.Cell = TableCell;\n\n  var List = function (_MaterialComponent53) {\n    inherits(List, _MaterialComponent53);\n\n    function List() {\n      var _temp52, _this54, _ret52;\n\n      classCallCheck(this, List);\n\n      for (var _len53 = arguments.length, args = Array(_len53), _key53 = 0; _key53 < _len53; _key53++) {\n        args[_key53] = arguments[_key53];\n      }\n\n      return _ret52 = (_temp52 = (_this54 = possibleConstructorReturn(this, _MaterialComponent53.call.apply(_MaterialComponent53, [this].concat(args))), _this54), _this54.component = 'list', _this54.nodeName = 'ul', _temp52), possibleConstructorReturn(_this54, _ret52);\n    }\n\n    return List;\n  }(MaterialComponent);\n\n  var ListItem = function (_MaterialComponent54) {\n    inherits(ListItem, _MaterialComponent54);\n\n    function ListItem() {\n      var _temp53, _this55, _ret53;\n\n      classCallCheck(this, ListItem);\n\n      for (var _len54 = arguments.length, args = Array(_len54), _key54 = 0; _key54 < _len54; _key54++) {\n        args[_key54] = arguments[_key54];\n      }\n\n      return _ret53 = (_temp53 = (_this55 = possibleConstructorReturn(this, _MaterialComponent54.call.apply(_MaterialComponent54, [this].concat(args))), _this55), _this55.component = 'list__item', _this55.nodeName = 'li', _temp53), possibleConstructorReturn(_this55, _ret53);\n    }\n\n    return ListItem;\n  }(MaterialComponent);\n\n  List.Item = ListItem;\n\n  var TextField = function (_MaterialComponent55) {\n    inherits(TextField, _MaterialComponent55);\n\n    function TextField() {\n      classCallCheck(this, TextField);\n\n      for (var _len55 = arguments.length, args = Array(_len55), _key55 = 0; _key55 < _len55; _key55++) {\n        args[_key55] = arguments[_key55];\n      }\n\n      var _this56 = possibleConstructorReturn(this, _MaterialComponent55.call.apply(_MaterialComponent55, [this].concat(args)));\n\n      _this56.component = 'textfield';\n      _this56.js = true;\n\n      _this56.id = uid();\n      return _this56;\n    }\n\n    TextField.prototype.componentDidUpdate = function componentDidUpdate() {\n      var input = this.base && this.base.querySelector && this.base.querySelector('input,textarea');\n      if (input && input.value && input.value !== this.props.value) {\n        input.value = this.props.value;\n      }\n      if (input && input.setCustomValidity) {\n        input.setCustomValidity(this.props.errorMessage || \"\");\n      }\n    };\n\n    TextField.prototype.mdlRender = function mdlRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var id = props.id || this.id,\n          errorMessage = props.errorMessage,\n          p = extend({}, props);\n\n      delete p.class;\n      delete p.errorMessage;\n\n      var field = preact.h('div', null, preact.h('input', _extends({ type: 'text', 'class': 'mdl-textfield__input', id: id, value: '' }, p)), preact.h('label', { 'class': 'mdl-textfield__label', 'for': id }, props.label || props.children), errorMessage ? preact.h('span', { 'class': 'mdl-textfield__error' }, errorMessage) : null);\n      if (props.multiline) {\n        field.children[0].nodeName = 'textarea';\n      }\n      if (props.expandable === true) {\n        (field.attributes = field.attributes || {}).class = 'mdl-textfield__expandable-holder';\n        field = preact.h('div', null, preact.h('label', { 'class': 'mdl-button mdl-js-button mdl-button--icon', 'for': id }, preact.h('i', { 'class': 'material-icons' }, props.icon)), field);\n      }\n      var cl = getClass(props);\n      if (cl) {\n        (field.attributes = field.attributes || {}).class = cl;\n      }\n\n      return field;\n    };\n\n    return TextField;\n  }(MaterialComponent);\n\n  var Tooltip = function (_MaterialComponent56) {\n    inherits(Tooltip, _MaterialComponent56);\n\n    function Tooltip() {\n      var _temp54, _this57, _ret54;\n\n      classCallCheck(this, Tooltip);\n\n      for (var _len56 = arguments.length, args = Array(_len56), _key56 = 0; _key56 < _len56; _key56++) {\n        args[_key56] = arguments[_key56];\n      }\n\n      return _ret54 = (_temp54 = (_this57 = possibleConstructorReturn(this, _MaterialComponent56.call.apply(_MaterialComponent56, [this].concat(args))), _this57), _this57.component = 'tooltip', _temp54), possibleConstructorReturn(_this57, _ret54);\n    }\n\n    return Tooltip;\n  }(MaterialComponent);\n\n  var index = {\n    options: options,\n    Icon: Icon,\n    Button: Button,\n    Card: Card,\n    Dialog: Dialog,\n    Layout: Layout,\n    Navigation: Navigation,\n    Tabs: Tabs,\n    MegaFooter: MegaFooter,\n    MiniFooter: MiniFooter,\n    Grid: Grid,\n    Cell: Cell,\n    Progress: Progress,\n    Spinner: Spinner,\n    Menu: Menu,\n    Slider: Slider,\n    Snackbar: Snackbar,\n    CheckBox: CheckBox,\n    Radio: Radio,\n    IconToggle: IconToggle,\n    Switch: Switch,\n    Table: Table,\n    TextField: TextField,\n    Tooltip: Tooltip,\n    List: List,\n    ListItem: ListItem\n  };\n\n  exports.options = options;\n  exports.MaterialComponent = MaterialComponent;\n  exports.Icon = Icon;\n  exports.Button = Button;\n  exports.Card = Card;\n  exports.CardTitle = CardTitle;\n  exports.CardTitleText = CardTitleText;\n  exports.CardMedia = CardMedia;\n  exports.CardText = CardText;\n  exports.CardActions = CardActions;\n  exports.CardMenu = CardMenu;\n  exports.Dialog = Dialog;\n  exports.DialogTitle = DialogTitle;\n  exports.DialogContent = DialogContent;\n  exports.DialogActions = DialogActions;\n  exports.Layout = Layout;\n  exports.LayoutHeader = LayoutHeader;\n  exports.LayoutHeaderRow = LayoutHeaderRow;\n  exports.LayoutTitle = LayoutTitle;\n  exports.LayoutSpacer = LayoutSpacer;\n  exports.LayoutDrawer = LayoutDrawer;\n  exports.LayoutContent = LayoutContent;\n  exports.LayoutTabBar = LayoutTabBar;\n  exports.LayoutTab = LayoutTab;\n  exports.LayoutTabPanel = LayoutTabPanel;\n  exports.Navigation = Navigation;\n  exports.NavigationLink = NavigationLink;\n  exports.Tabs = Tabs;\n  exports.TabBar = TabBar;\n  exports.Tab = Tab;\n  exports.TabPanel = TabPanel;\n  exports.MegaFooter = MegaFooter;\n  exports.MegaFooterMiddleSection = MegaFooterMiddleSection;\n  exports.MegaFooterDropDownSection = MegaFooterDropDownSection;\n  exports.MegaFooterHeading = MegaFooterHeading;\n  exports.MegaFooterLinkList = MegaFooterLinkList;\n  exports.MegaFooterBottomSection = MegaFooterBottomSection;\n  exports.MiniFooter = MiniFooter;\n  exports.MiniFooterLeftSection = MiniFooterLeftSection;\n  exports.MiniFooterLinkList = MiniFooterLinkList;\n  exports.Grid = Grid;\n  exports.Cell = Cell;\n  exports.Progress = Progress;\n  exports.Spinner = Spinner;\n  exports.Menu = Menu;\n  exports.MenuItem = MenuItem;\n  exports.Slider = Slider;\n  exports.Snackbar = Snackbar;\n  exports.CheckBox = CheckBox;\n  exports.Radio = Radio;\n  exports.IconToggle = IconToggle;\n  exports.Switch = Switch;\n  exports.Table = Table;\n  exports.TableCell = TableCell;\n  exports.List = List;\n  exports.ListItem = ListItem;\n  exports.TextField = TextField;\n  exports.Tooltip = Tooltip;\n  exports['default'] = index;\n});\n//# sourceMappingURL=preact-mdl.js.map\n\n/***/ }),\n\n/***/ \"3RK5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n/***/ }),\n\n/***/ \"3Y9o\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Deferred = function () {\n    function Deferred() {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Deferred);\n\n        this._promise = new _promise2.default(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n    }\n\n    (0, _createClass3.default)(Deferred, [{\n        key: \"update\",\n        value: function update(value) {\n            this._resolve(value);\n        }\n    }, {\n        key: \"set\",\n        value: function set(value) {\n            this.current = value;\n            this._resolve(value);\n        }\n    }, {\n        key: \"fail\",\n        value: function fail(e) {\n            this._reject(e);\n        }\n    }, {\n        key: \"promise\",\n        get: function get() {\n            return this._promise;\n        }\n    }]);\n    return Deferred;\n}();\n\nexports.Deferred = Deferred;\n\n/***/ }),\n\n/***/ \"3cwc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isValue = __webpack_require__(\"f648\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(isValue(object) ? Object(object) : object);\n};\n\n/***/ }),\n\n/***/ \"3v7p\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"htFH\");\nvar $Object = __webpack_require__(\"zKeE\").Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n/***/ }),\n\n/***/ \"3zRh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// optional / simple context binding\nvar aFunction = __webpack_require__(\"g31e\");\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1:\n      return function (a) {\n        return fn.call(that, a);\n      };\n    case 2:\n      return function (a, b) {\n        return fn.call(that, a, b);\n      };\n    case 3:\n      return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n  }\n  return function () /* ...args */{\n    return fn.apply(that, arguments);\n  };\n};\n\n/***/ }),\n\n/***/ \"6Hp8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = __webpack_require__(\"PD3G\");\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar entity_1 = __webpack_require__(\"GBRx\");\nvar retryingqueue_1 = __webpack_require__(\"/lpw\");\nvar listitem_1 = __webpack_require__(\"qXBc\");\nvar paginator_1 = __webpack_require__(\"NQ19\");\nvar cache_1 = __webpack_require__(\"ZUV3\");\n/**\n * @alias List\n * @classdesc List collection to store an ordered list of values\n * @property {String} sid - List unique id\n * @property {String} uniqueName - List unique name\n *\n * @fires List#itemAdded\n * @fires List#itemAddedRemotely\n * @fires List#itemUpdated\n * @fires List#itemUpdatedRemotely\n * @fires List#itemRemoved\n * @fires List#itemRemovedRemotely\n * @fires List#collectionRemoved\n * @fires List#collectionRemovedRemotely\n */\n\nvar SyncList = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncList, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncList(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncList);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncList.__proto__ || (0, _getPrototypeOf2.default)(SyncList)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.cache = new cache_1.Cache();\n        _this.descriptor = descriptor;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncList, [{\n        key: \"__set\",\n        value: function __set(location, param) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var response;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.services.network.post(location, { data: param.data }, param.revision);\n\n                            case 2:\n                                response = _context.sent;\n\n                                response.body.data = param.data;\n                                return _context.abrupt(\"return\", response.body);\n\n                            case 5:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Add element to the List\n         * @param {Object} value - value to add\n         * @returns {Promise<Item>} A new item\n         */\n\n    }, {\n        key: \"push\",\n        value: function push(value) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var response, index, item;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return this.services.network.post(this.links.items, { data: value });\n\n                            case 2:\n                                response = _context2.sent;\n                                index = Number(response.body.index);\n                                item = this.cache.store(index, new listitem_1.ListItem({ index: index,\n                                    revision: response.body.revision,\n                                    lastEventId: response.body.last_event_id,\n                                    uri: response.body.url,\n                                    value: value }), response.body.last_event_id);\n\n                                this.emit('itemAdded', item, true);\n                                return _context2.abrupt(\"return\", item);\n\n                            case 7:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Update existing item in a List\n         * @param {Number} index - index in the List\n         * @param {Object} value - value to set\n         * If true, promise will be rejected if value was remotely modified\n         * @returns {Promise<Item>} - A new element\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(index, value) {\n            return this._actualSet(index, value);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(index, value, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                var _this2 = this;\n\n                var item, updatedItemDescriptor, _resolver;\n\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context4.sent;\n                                updatedItemDescriptor = void 0;\n\n                                if (resolver) {\n                                    _context4.next = 10;\n                                    break;\n                                }\n\n                                _context4.next = 7;\n                                return this.__set(item.uri, { data: value, revision: undefined });\n\n                            case 7:\n                                updatedItemDescriptor = _context4.sent;\n                                _context4.next = 14;\n                                break;\n\n                            case 10:\n                                _resolver = function _resolver(err) {\n                                    return __awaiter(_this2, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                                        var refreshedItem;\n                                        return _regenerator2.default.wrap(function _callee3$(_context3) {\n                                            while (1) {\n                                                switch (_context3.prev = _context3.next) {\n                                                    case 0:\n                                                        if (!(err.status === 412)) {\n                                                            _context3.next = 5;\n                                                            break;\n                                                        }\n\n                                                        _context3.next = 3;\n                                                        return this._get(item.index);\n\n                                                    case 3:\n                                                        refreshedItem = _context3.sent;\n                                                        return _context3.abrupt(\"return\", {\n                                                            revision: refreshedItem.revision,\n                                                            data: resolver(utils_1.deepClone(refreshedItem.value))\n                                                        });\n\n                                                    case 5:\n                                                        throw err;\n\n                                                    case 6:\n                                                    case \"end\":\n                                                        return _context3.stop();\n                                                }\n                                            }\n                                        }, _callee3, this);\n                                    }));\n                                };\n\n                                _context4.next = 13;\n                                return this.actionQueue.add(this.__set.bind(this), item.uri, { revision: item.revision, data: value }, _resolver);\n\n                            case 13:\n                                updatedItemDescriptor = _context4.sent;\n\n                            case 14:\n                                item = this.cache.get(item.index);\n                                if (item && updatedItemDescriptor.last_event_id > item.lastEventId) {\n                                    item.update(updatedItemDescriptor.last_event_id, updatedItemDescriptor.revision, updatedItemDescriptor.data);\n                                    this.emit('itemUpdated', item, true);\n                                }\n                                return _context4.abrupt(\"return\", item);\n\n                            case 17:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n        /**\n         * Updates the existing item value\n         *\n         * @param {Number} Index Item key\n         * @param {List~Mutator} Mutator Function performing value mutation\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(index, mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                var item;\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                _context5.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context5.sent;\n                                return _context5.abrupt(\"return\", this._actualSet(index, mutator(utils_1.deepClone(item.value)), mutator));\n\n                            case 4:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n        /**\n         * @param {Number} Index Item key\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Item>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(index, obj) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                return _context6.abrupt(\"return\", this.mutate(index, function (remote) {\n                                    return (0, _extends3.default)(remote, obj);\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this);\n            }));\n        }\n        /**\n         * Remove List item by index\n         * @param {Number} index - item index\n         * @returns Promise to remove, which may fail\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var item, response;\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                _context7.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context7.sent;\n                                _context7.next = 5;\n                                return this.services.network.delete(item.uri);\n\n                            case 5:\n                                response = _context7.sent;\n\n                                this.cache.delete(index, response.body.last_event_id);\n                                this.emit('itemRemoved', index, true);\n\n                            case 8:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n        }\n        /**\n         * Retrieve item by index\n         * @param {Number} index - item index\n         * @returns {Promise<Item>}\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var cachedItem;\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                cachedItem = this.cache.get(index);\n\n                                if (!cachedItem) {\n                                    _context8.next = 3;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", cachedItem);\n\n                            case 3:\n                                return _context8.abrupt(\"return\", this._get(index));\n\n                            case 4:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n        }\n    }, {\n        key: \"_get\",\n        value: function _get(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                var result;\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                _context9.next = 2;\n                                return this.queryItems({ index: index });\n\n                            case 2:\n                                result = _context9.sent;\n\n                                if (!(result.items.length < 1)) {\n                                    _context9.next = 5;\n                                    break;\n                                }\n\n                                throw new Error('No item with index ' + index + ' found');\n\n                            case 5:\n                                return _context9.abrupt(\"return\", result.items[0]);\n\n                            case 6:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Query items from the List\n         * @private\n         */\n\n    }, {\n        key: \"queryItems\",\n        value: function queryItems(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var _this3 = this;\n\n                var url, response, items, meta;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                arg = arg || {};\n                                url = new utils_1.UriBuilder(this.links.items).queryParam('From', arg.from).queryParam('PageSize', arg.limit).queryParam('Index', arg.index).queryParam('PageToken', arg.pageToken).queryParam('Order', arg.order).build();\n                                _context10.next = 4;\n                                return this.services.network.get(url);\n\n                            case 4:\n                                response = _context10.sent;\n                                items = response.body.items.map(function (el) {\n                                    var itemInCache = _this3.cache.get(el.index);\n                                    if (itemInCache) {\n                                        _this3._handleItemUpdated(el.index, el.url, el.last_event_id, el.revision, el.data);\n                                    } else {\n                                        _this3.cache.store(Number(el.index), new listitem_1.ListItem({ index: Number(el.index),\n                                            uri: el.url,\n                                            revision: el.revision,\n                                            lastEventId: el.last_event_id,\n                                            value: el.data }), el.last_event_id);\n                                    }\n                                    return _this3.cache.get(el.index);\n                                });\n                                meta = response.body.meta;\n                                return _context10.abrupt(\"return\", new paginator_1.Paginator(items, function (pageToken) {\n                                    return _this3.queryItems({ pageToken: pageToken });\n                                }, meta.previous_token, meta.next_token));\n\n                            case 8:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n        /**\n         * Query items from List\n         * @param {Object} args Arguments for items query\n         * @param {String} args.from Item, which should be used as an anchor. If undefined, starts from the beginning or end depending on args.order\n         * @param {Number} args.pageSize Results page size\n         * @param {String} args.order Order of results, should be 'asc' or 'desc'\n         * @returns {Promise<Paginator>}\n         * @public\n         */\n\n    }, {\n        key: \"getItems\",\n        value: function getItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee11() {\n                return _regenerator2.default.wrap(function _callee11$(_context11) {\n                    while (1) {\n                        switch (_context11.prev = _context11.next) {\n                            case 0:\n                                args = args || {};\n                                args.limit = args.pageSize || args.limit || 50;\n                                args.order = args.order || 'asc';\n                                return _context11.abrupt(\"return\", this.queryItems(args));\n\n                            case 4:\n                            case \"end\":\n                                return _context11.stop();\n                        }\n                    }\n                }, _callee11, this);\n            }));\n        }\n        /**\n         * @return {Promise<Object>} Context of List\n         * @private\n         */\n\n    }, {\n        key: \"getContext\",\n        value: function getContext() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee12() {\n                var response;\n                return _regenerator2.default.wrap(function _callee12$(_context12) {\n                    while (1) {\n                        switch (_context12.prev = _context12.next) {\n                            case 0:\n                                if (!this.context) {\n                                    _context12.next = 2;\n                                    break;\n                                }\n\n                                return _context12.abrupt(\"return\", this.context);\n\n                            case 2:\n                                _context12.next = 4;\n                                return this.services.network.get(this.links.context);\n\n                            case 4:\n                                response = _context12.sent;\n\n                                this.context = response.body.data;\n                                return _context12.abrupt(\"return\", this.context);\n\n                            case 7:\n                            case \"end\":\n                                return _context12.stop();\n                        }\n                    }\n                }, _callee12, this);\n            }));\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"updateContext\",\n        value: function updateContext(context) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee13() {\n                return _regenerator2.default.wrap(function _callee13$(_context13) {\n                    while (1) {\n                        switch (_context13.prev = _context13.next) {\n                            case 0:\n                                _context13.prev = 0;\n                                _context13.next = 3;\n                                return this.services.network.post(this.links.context, { data: context });\n\n                            case 3:\n                                this.context = context;\n                                this.emit('contextUpdated', context, true);\n                                return _context13.abrupt(\"return\", this);\n\n                            case 8:\n                                _context13.prev = 8;\n                                _context13.t0 = _context13[\"catch\"](0);\n\n                                logger_1.default.error('Failed to update context', _context13.t0);\n                                throw _context13.t0;\n\n                            case 12:\n                            case \"end\":\n                                return _context13.stop();\n                        }\n                    }\n                }, _callee13, this, [[0, 8]]);\n            }));\n        }\n        /**\n         * Remove list from service. It will be impossible to restore it.\n         * @return {Promise} Promise to delete the collection\n         * @public\n         */\n\n    }, {\n        key: \"removeList\",\n        value: function removeList() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee14() {\n                return _regenerator2.default.wrap(function _callee14$(_context14) {\n                    while (1) {\n                        switch (_context14.prev = _context14.next) {\n                            case 0:\n                                _context14.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context14.stop();\n                        }\n                    }\n                }, _callee14, this);\n            }));\n        }\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            // Should also do some cleanup here\n            this.emit('collectionRemoved', locally);\n            if (!locally) {\n                this.emit('collectionRemovedRemotely');\n            }\n        }\n    }, {\n        key: \"shouldIgnoreEvent\",\n        value: function shouldIgnoreEvent(key, eventId) {\n            return this.cache.isKnown(key, eventId);\n        }\n        /**\n         * Handle update, which came from the server\n         * @private\n         */\n\n    }, {\n        key: \"_update\",\n        value: function _update(update, isStrictlyOrdered) {\n            var itemIndex = Number(update.item_index);\n            switch (update.type) {\n                case 'list_item_added':\n                    {\n                        this._handleItemAdded(itemIndex, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'list_item_updated':\n                    {\n                        this._handleItemUpdated(itemIndex, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'list_item_removed':\n                    {\n                        this._handleItemRemoved(itemIndex, update.id);\n                    }\n                    break;\n                case 'list_context_updated':\n                    {\n                        this._handleContextUpdate(update.context_data, update.id);\n                    }\n                    break;\n                case 'list_removed':\n                    {\n                        this.onRemoved(false);\n                    }\n                    break;\n            }\n            if (isStrictlyOrdered) {\n                this._advanceLastEventId(update.id, update.list_revision);\n            }\n        }\n    }, {\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {\n            if (this.lastEventId < eventId) {\n                this.descriptor.last_event_id = eventId;\n                if (revision) {\n                    this.descriptor.revision = revision;\n                }\n            }\n        }\n        /**\n         * Handle item insertion event, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemAdded\",\n        value: function _handleItemAdded(index, uri, eventId, revision, value) {\n            if (!this.cache.isKnown(index, eventId)) {\n                var item = new listitem_1.ListItem({ index: index, uri: uri, lastEventId: eventId, revision: revision, value: value });\n                this.cache.store(index, item, eventId);\n                this.emit('itemAdded', item, false);\n                this.emit('itemAddedRemotely', item);\n            }\n        }\n        /**\n         * Handle new value of item, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemUpdated\",\n        value: function _handleItemUpdated(index, uri, eventId, revision, value) {\n            var item = this.cache.get(index);\n            if (!item && !this.shouldIgnoreEvent(index, eventId)) {\n                item = this.cache.store(index, new listitem_1.ListItem({ index: index, uri: uri, lastEventId: eventId, revision: revision, value: value }), eventId);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            } else if (item && eventId > item.lastEventId) {\n                item.update(eventId, revision, value);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            }\n        }\n    }, {\n        key: \"_handleItemRemoved\",\n        value: function _handleItemRemoved(index, eventId) {\n            this.cache.delete(index, eventId);\n            this.emit('itemRemoved', index, false);\n            this.emit('itemRemovedRemotely', index);\n        }\n    }, {\n        key: \"_handleContextUpdate\",\n        value: function _handleContextUpdate(data, eventId) {\n            if (this.lastEventId < eventId) {\n                this.context = data;\n                this.emit('contextUpdated', data, false);\n                this.emit('contextUpdatedRemotely', data);\n            }\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"links\",\n        get: function get() {\n            return this.descriptor.links;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'list';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'list';\n        }\n    }]);\n    return SyncList;\n}(entity_1.SyncEntity);\n\nexports.SyncList = SyncList;\nexports.default = SyncList;\n/**\n * Applies a transformation to the item value\n * @callback List~Mutator\n * @param {Object} data current value of an item\n * @return {Object} Modified data for an item\n */\n/**\n * Fired when item is added to the List\n * @event List#itemAdded\n * @type {Item} Added item\n */\n/**\n * Fired when item is added to List by remote actor\n * @event List#itemAddedRemotely\n * @type {Item} Added item\n */\n/**\n * Fired when item is updated\n * @event List#itemUpdated\n * @type {Item} Updated item\n */\n/**\n * Fired when item is updated by remote actor\n * @event List#itemUpdatedRemotely\n * @type {Item} Updated item\n */\n/**\n * Fired when item is removed from the List\n * @event List#itemRemoved\n * @type {String} item key\n */\n/**\n * Fired when item is removed from the List by remote actor\n * @event List#itemRemovedRemotely\n * @type {String} item key\n */\n/**\n * Fired when List is removed from server\n * @event List#collectionRemoved\n */\n/**\n * Fired when List is removed from server by remote actor\n * @event List#collectionRemovedRemotely\n */\n\n/***/ }),\n\n/***/ \"6MLN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(\"wLcK\")(function () {\n  return Object.defineProperty({}, 'a', { get: function get() {\n      return 7;\n    } }).a != 7;\n});\n\n/***/ }),\n\n/***/ \"6t7t\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"nFDa\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"753d\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n\n/***/ }),\n\n/***/ \"7AqT\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(\"ZHvQ\"),\n    ITERATOR = __webpack_require__(\"Ug9I\")('iterator'),\n    Iterators = __webpack_require__(\"dhak\");\nmodule.exports = __webpack_require__(\"zKeE\").getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n};\n\n/***/ }),\n\n/***/ \"7N8r\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (req) {\n\tfunction Async() {\n\t\tvar _this = this;\n\n\t\t_preact.Component.call(this);\n\n\t\tvar b = void 0,\n\t\t    old = void 0;\n\t\tthis.componentWillMount = function () {\n\t\t\tb = _this.base = _this.nextBase || _this.__b;\n\t\t\treq(function (m) {\n\t\t\t\t_this.setState({ child: m.default || m });\n\t\t\t});\n\t\t};\n\n\t\tthis.shouldComponentUpdate = function (_, nxt) {\n\t\t\tnxt = nxt.child === void 0;\n\t\t\tif (nxt && old === void 0 && !!b) {\n\t\t\t\told = (0, _preact.h)(b.nodeName, { dangerouslySetInnerHTML: { __html: b.innerHTML } });\n\t\t\t} else {\n\t\t\t\told = '';\n\t\t\t}\n\t\t\treturn !nxt;\n\t\t};\n\n\t\tthis.render = function (p, s) {\n\t\t\treturn s.child ? (0, _preact.h)(s.child, p) : old;\n\t\t};\n\t}\n\t(Async.prototype = new _preact.Component()).constructor = Async;\n\treturn Async;\n};\n\nvar _preact = __webpack_require__(\"KM04\");\n\n/***/ }),\n\n/***/ \"7Zlx\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"vvo2\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"7ruU\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar TWILSOCK_URI = 'wss://tsock.twilio.com';\nvar TWILSOCK_PATH = '/v3/wsconnect';\n\n/**\n * @param {String} token - authentication token\n * @param {Object} options - options to override defaults\n *\n * @class TwilsockConfig\n * @classdesc Settings container for the Twilsock client library\n */\n\nvar TwilsockConfig = function () {\n  function TwilsockConfig(token, options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, TwilsockConfig);\n\n    options = options || {};\n    var _options = options.Twilsock || {};\n    var twilsockUri = _options.uri || options.wsServer || TWILSOCK_URI;\n\n    (0, _defineProperties2.default)(this, {\n      _twilsockWsHost: { value: twilsockUri + TWILSOCK_PATH },\n      _token: { value: token, writable: true },\n\n      twilsockUri: { get: function get() {\n          return _this._twilsockWsHost;\n        } },\n      token: { get: function get() {\n          return _this._token;\n        } }\n    });\n  }\n\n  (0, _createClass3.default)(TwilsockConfig, [{\n    key: 'updateToken',\n    value: function updateToken(token) {\n      this._token = token;\n    }\n  }]);\n  return TwilsockConfig;\n}();\n\nexports.default = TwilsockConfig;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"7tZR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"BxvP\"),\n    isArray = __webpack_require__(\"ayXv\"),\n    SPECIES = __webpack_require__(\"Ug9I\")('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  }return C === undefined ? Array : C;\n};\n\n/***/ }),\n\n/***/ \"7xPs\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _set = __webpack_require__(\"7Zlx\");\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = __webpack_require__(\"obon\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _uuid = __webpack_require__(\"qQO4\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _configuration = __webpack_require__(\"7ruU\");\n\nvar _configuration2 = _interopRequireDefault(_configuration);\n\nvar _twilsock = __webpack_require__(\"kthq\");\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nvar _packetinterface = __webpack_require__(\"f/lV\");\n\nvar _packetinterface2 = _interopRequireDefault(_packetinterface);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * @class\n * @alias Twilsock\n * @classdesc Client library for the Twilsock protocol\n * @property {Boolean} connected Indicates the twilsock connection state\n *\n * @constructor\n * @param {string} Token Twilio access token\n */\nvar TwilsockClient = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockClient, _EventEmitter);\n\n  function TwilsockClient(token, options) {\n    (0, _classCallCheck3.default)(this, TwilsockClient);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockClient.__proto__ || (0, _getPrototypeOf2.default)(TwilsockClient)).call(this));\n\n    options = options || {};\n    options.logLevel = options.logLevel || 'error';\n    _logger2.default.setLevel(options.logLevel);\n\n    var config = new _configuration2.default(token, options);\n    var twilsock = new _twilsock2.default(config);\n    var packetInterface = new _packetinterface2.default(twilsock);\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _socket: { value: twilsock },\n      _packet: { value: packetInterface },\n      _registrations: { value: new _map2.default() },\n      _registrationsInProgress: { value: new _map2.default() },\n\n      isConnected: { get: function get() {\n          return _this._socket.isConnected;\n        } },\n      connected: { get: function get() {\n          return _this._socket.isConnected;\n        } },\n      state: { get: function get() {\n          return _this._socket.state;\n        } }\n    });\n\n    _this._socket.on('message', function (type, message) {\n      return setTimeout(function () {\n        _this.emit('message', type, message);\n      }, 0);\n    });\n    _this._socket.on('connected', function () {\n      return _this._updateRegistrations();\n    });\n    _this._socket.on('connected', function () {\n      return _this.emit('connected');\n    });\n    _this._socket.on('disconnected', function () {\n      return _this.emit('disconnected');\n    });\n    _this._socket.on('stateChanged', function (state) {\n      return _this.emit('stateChanged', state);\n    });\n    return _this;\n  }\n\n  /**\n   * Send a message\n   * @param {Twilsock#Message} message Message structure with header, body and remote address\n   * @public\n   * @returns {Promise<Result>} Result from remote side\n   */\n\n  (0, _createClass3.default)(TwilsockClient, [{\n    key: 'send',\n    value: function send(message) {\n      return this._packet.send(message.to, message.headers, message.body);\n    }\n\n    /**\n     * Update token\n     * @param {String} token\n     * @public\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken(token) {\n      _logger2.default.info('updateToken');\n      if (this._config.token === token) {\n        return _promise2.default.resolve();\n      }\n\n      this._config.updateToken(token);\n      this._socket.updateToken();\n\n      return _promise2.default.resolve();\n    }\n  }, {\n    key: '_updateRegistration',\n    value: function _updateRegistration(contextId, context) {\n      var _this2 = this;\n\n      _logger2.default.info('update registration for context', contextId);\n      var registrationAttempts = this._registrationsInProgress.get(contextId);\n      if (!registrationAttempts) {\n        registrationAttempts = new _set2.default();\n        this._registrationsInProgress.set(contextId, registrationAttempts);\n      }\n\n      var attemptId = _uuid2.default.v4();\n      registrationAttempts.add(attemptId);\n\n      return this._packet.putNotificationContext(contextId, context).then(function () {\n        _logger2.default.info('registration attempt succeeded for context', context);\n        registrationAttempts.delete(attemptId);\n\n        // Hack for broken react-native polyfill\n        // Remove when not needed anymore\n        var attemptsSize = typeof registrationAttempts.size !== 'undefined' ? registrationAttempts.size : (registrationAttempts._c || {}).size;\n        if (attemptsSize === 0) {\n          _this2._registrationsInProgress.delete(contextId);\n          _this2.emit('registered', contextId);\n        }\n      }).catch(function (err) {\n        _logger2.default.info('registration attempt failed for context', context);\n        _logger2.default.debug(err);\n\n        registrationAttempts.delete(attemptId);\n\n        // Hack for broken react-native polyfill\n        // Remove when not needed anymore\n        var attemptsSize = typeof registrationAttempts.size !== 'undefined' ? registrationAttempts.size : (registrationAttempts._c || {}).size;\n        if (attemptsSize === 0) {\n          _this2._registrationsInProgress.delete(contextId);\n          _this2.emit('registrationFailed', contextId, err);\n        }\n      });\n    }\n  }, {\n    key: '_updateRegistrations',\n    value: function _updateRegistrations() {\n      var _this3 = this;\n\n      _logger2.default.info('refreshing all registrations');\n      this._registrations.forEach(function (context, id) {\n        _this3._updateRegistration(id, context);\n      });\n    }\n  }, {\n    key: 'setNotificationsContext',\n    value: function setNotificationsContext(contextId, context) {\n      if (!contextId || !context) {\n        throw new Error('Invalid arguments provided');\n      }\n\n      this._registrations.set(contextId, context);\n      if (this._socket.isConnected) {\n        this._updateRegistration(contextId, context);\n      }\n    }\n  }, {\n    key: 'removeNotificationsContext',\n    value: function removeNotificationsContext(contextId) {\n      if (!this._registrations.has(contextId)) {\n        return;\n      }\n\n      this._registrations.delete(contextId);\n      if (this._socket.isConnected) {\n        this._packet.deleteNotificationContext(contextId);\n      }\n    }\n\n    /**\n     * Connect to the server\n     * @fires TwilsockClient#connected\n     * @public\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect() {\n      return this._socket.connect();\n    }\n\n    /**\n     * Connect to the server\n     * @fires TwilsockClient#disconnected\n     * @public\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      return this._socket.disconnect();\n    }\n  }]);\n  return TwilsockClient;\n}(_events2.default);\n\nexports.default = TwilsockClient;\n\n(0, _freeze2.default)(TwilsockClient);\n\n/**\n * Twilsock destination address descriptor\n * @typedef {Object} Twilsock#Address\n * @property {String} method - HTTP method. (POST, PUT, etc)\n * @property {String} host - host name without path. (e.g. my.company.com)\n * @property {String} path - path on the host (e.g. /my/app/to/call.php)\n */\n\n/**\n * Twilsock upstream message\n * @typedef {Object} Twilsock#Message\n * @property {Twilsock#Address} to - destination address\n * @property {Object} headers - HTTP headers\n * @property {Object} body - Body\n */\n\n/**\n * Fired when new message received\n * @param {Object} message\n * @event TwilsockClient#message\n */\n\n/**\n * Fired when socket connected\n * @param {String} URI of endpoint\n * @event TwilsockClient#connected\n */\n\n/**\n * Fired when socket disconnected\n * @event TwilsockClient#disconnected\n */\n\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"9kJF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LIBRARY = __webpack_require__(\"1kq3\"),\n    global = __webpack_require__(\"i1Q6\"),\n    ctx = __webpack_require__(\"3zRh\"),\n    classof = __webpack_require__(\"ZHvQ\"),\n    $export = __webpack_require__(\"vSO4\"),\n    isObject = __webpack_require__(\"BxvP\"),\n    aFunction = __webpack_require__(\"g31e\"),\n    anInstance = __webpack_require__(\"KUik\"),\n    forOf = __webpack_require__(\"ozpD\"),\n    speciesConstructor = __webpack_require__(\"B1ls\"),\n    task = __webpack_require__(\"uzcO\").set,\n    microtask = __webpack_require__(\"H109\")(),\n    PROMISE = 'Promise',\n    TypeError = global.TypeError,\n    process = global.process,\n    $Promise = global[PROMISE],\n    process = global.process,\n    isNode = classof(process) == 'process',\n    empty = function empty() {/* empty */},\n    Internal,\n    GenericPromiseCapability,\n    Wrapper;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1),\n        FakePromise = (promise.constructor = {})[__webpack_require__(\"Ug9I\")('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) {/* empty */}\n}();\n\n// helpers\nvar sameConstructor = function sameConstructor(a, b) {\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function isThenable(it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function newPromiseCapability(C) {\n  return sameConstructor($Promise, C) ? new PromiseCapability(C) : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function GenericPromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\nvar perform = function perform(exec) {\n  try {\n    exec();\n  } catch (e) {\n    return { error: e };\n  }\n};\nvar notify = function notify(promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v,\n        ok = promise._s == 1,\n        i = 0;\n    var run = function run(reaction) {\n      var handler = ok ? reaction.ok : reaction.fail,\n          resolve = reaction.resolve,\n          reject = reaction.reject,\n          domain = reaction.domain,\n          result,\n          then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) {\n      run(chain[i++]);\n    } // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function onUnhandled(promise) {\n  task.call(global, function () {\n    var value = promise._v,\n        abrupt,\n        handler,\n        console;\n    if (isUnhandled(promise)) {\n      abrupt = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    }promise._a = undefined;\n    if (abrupt) throw abrupt.error;\n  });\n};\nvar isUnhandled = function isUnhandled(promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c,\n      i = 0,\n      reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  }return true;\n};\nvar onHandleUnhandled = function onHandleUnhandled(promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function $reject(value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function $resolve(value) {\n  var promise = this,\n      then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor) {\n    this._c = []; // <- awaiting reactions\n    this._a = undefined; // <- checked in isUnhandled reactions\n    this._s = 0; // <- state\n    this._d = false; // <- done\n    this._v = undefined; // <- value\n    this._h = 0; // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false; // <- notify\n  };\n  Internal.prototype = __webpack_require__(\"O6kh\")($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function _catch(onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function PromiseCapability() {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(\"11Ut\")($Promise, PROMISE);\n__webpack_require__(\"FGzK\")(PROMISE);\nWrapper = __webpack_require__(\"zKeE\")[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this),\n        $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if (x instanceof $Promise && sameConstructor(x.constructor, this)) return x;\n    var capability = newPromiseCapability(this),\n        $$resolve = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(\"Lli7\")(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this,\n        capability = newPromiseCapability(C),\n        resolve = capability.resolve,\n        reject = capability.reject;\n    var abrupt = perform(function () {\n      var values = [],\n          index = 0,\n          remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++,\n            alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (abrupt) reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this,\n        capability = newPromiseCapability(C),\n        reject = capability.reject;\n    var abrupt = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (abrupt) reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n/***/ }),\n\n/***/ \"9kxq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"BxvP\"),\n    document = __webpack_require__(\"i1Q6\").document\n// in old IE typeof document.createElement is 'object'\n,\n    is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n/***/ }),\n\n/***/ \"9u1Q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"tuDi\");\n__webpack_require__(\"i+u+\");\n__webpack_require__(\"COf8\");\n__webpack_require__(\"9kJF\");\nmodule.exports = __webpack_require__(\"zKeE\").Promise;\n\n/***/ }),\n\n/***/ \"AMYL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = __webpack_require__(\"luWe\");\nvar TWILIO_INSTANCE_ID = 'Twilio::RTD::EmsClient::InstanceId';\nvar TWILIO_ENDPOINT_ID = 'Twilio::RTD::EndpointId';\n\nvar PersistentState = function () {\n    function PersistentState() {\n        (0, _classCallCheck3.default)(this, PersistentState);\n\n        this.cachedContinuationToken = null;\n        this.myInstanceNumber = this.initializeInstanceId();\n    }\n\n    (0, _createClass3.default)(PersistentState, [{\n        key: \"initializeInstanceId\",\n        value: function initializeInstanceId() {\n            // This method reads session storage in order to detect situation\n            // when Chrome's tab clone feature copies session storage\n            var cachedInstancesCount = function () {\n                try {\n                    if (sessionStorage) {\n                        return parseInt(sessionStorage.getItem(TWILIO_INSTANCE_ID)) || 0;\n                    }\n                } catch (e) {\n                    return 0;\n                }\n            }();\n            if (cachedInstancesCount > PersistentState.instancesCounter) {\n                PersistentState.instancesCounter = cachedInstancesCount;\n            }\n            var id = PersistentState.instancesCounter++;\n            try {\n                if (sessionStorage) {\n                    sessionStorage.setItem(TWILIO_INSTANCE_ID, PersistentState.instancesCounter.toString());\n                    if (window) {\n                        window.addEventListener('beforeunload', function () {\n                            sessionStorage.removeItem(TWILIO_INSTANCE_ID);\n                        });\n                    }\n                }\n            } catch (e) {}\n            return id;\n        }\n    }, {\n        key: \"shouldUsePersistentToken\",\n        get: function get() {\n            return this.myInstanceNumber === 0;\n        }\n    }, {\n        key: \"continuationToken\",\n        get: function get() {\n            if (this.cachedContinuationToken) {\n                return this.cachedContinuationToken;\n            }\n            try {\n                if (this.shouldUsePersistentToken && sessionStorage) {\n                    this.cachedContinuationToken = sessionStorage.getItem(TWILIO_ENDPOINT_ID);\n                    return this.cachedContinuationToken;\n                }\n            } catch (e) {\n                logger_1.default.info('Can\\'t access persistent storage', e.message);\n            }\n            return null;\n        },\n        set: function set(continuationToken) {\n            this.cachedContinuationToken = continuationToken;\n            try {\n                if (this.shouldUsePersistentToken && sessionStorage) {\n                    sessionStorage.setItem(TWILIO_ENDPOINT_ID, continuationToken);\n                }\n            } catch (e) {\n                logger_1.default.info('Can\\'t access persistent storage', e.message);\n            }\n        }\n    }]);\n    return PersistentState;\n}();\n\nPersistentState.instancesCounter = 0;\nexports.PersistentState = PersistentState;\n\n/***/ }),\n\n/***/ \"Aa2f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// ECMAScript 6 symbols shim\n\nvar global = __webpack_require__(\"i1Q6\"),\n    has = __webpack_require__(\"yS17\"),\n    DESCRIPTORS = __webpack_require__(\"6MLN\"),\n    $export = __webpack_require__(\"vSO4\"),\n    redefine = __webpack_require__(\"gojl\"),\n    META = __webpack_require__(\"e8vu\").KEY,\n    $fails = __webpack_require__(\"wLcK\"),\n    shared = __webpack_require__(\"NB7d\"),\n    setToStringTag = __webpack_require__(\"11Ut\"),\n    uid = __webpack_require__(\"X6va\"),\n    wks = __webpack_require__(\"Ug9I\"),\n    wksExt = __webpack_require__(\"ZxII\"),\n    wksDefine = __webpack_require__(\"c2zY\"),\n    keyOf = __webpack_require__(\"pFSU\"),\n    enumKeys = __webpack_require__(\"ycyv\"),\n    isArray = __webpack_require__(\"ayXv\"),\n    anObject = __webpack_require__(\"zotD\"),\n    toIObject = __webpack_require__(\"Wyka\"),\n    toPrimitive = __webpack_require__(\"EKwp\"),\n    createDesc = __webpack_require__(\"0WCH\"),\n    _create = __webpack_require__(\"TNJq\"),\n    gOPNExt = __webpack_require__(\"rMkZ\"),\n    $GOPD = __webpack_require__(\"sxPs\"),\n    $DP = __webpack_require__(\"Gfzd\"),\n    $keys = __webpack_require__(\"knrM\"),\n    gOPD = $GOPD.f,\n    dP = $DP.f,\n    gOPN = gOPNExt.f,\n    $Symbol = global.Symbol,\n    $JSON = global.JSON,\n    _stringify = $JSON && $JSON.stringify,\n    PROTOTYPE = 'prototype',\n    HIDDEN = wks('_hidden'),\n    TO_PRIMITIVE = wks('toPrimitive'),\n    isEnum = {}.propertyIsEnumerable,\n    SymbolRegistry = shared('symbol-registry'),\n    AllSymbols = shared('symbols'),\n    OPSymbols = shared('op-symbols'),\n    ObjectProto = Object[PROTOTYPE],\n    USE_NATIVE = typeof $Symbol == 'function',\n    QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function get() {\n      return dP(this, 'a', { value: 7 }).a;\n    }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function wrap(tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    }return setSymbolDesc(it, key, D);\n  }return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P)),\n      i = 0,\n      l = keys.length,\n      key;\n  while (l > i) {\n    $defineProperty(it, key = keys[i++], P[key]);\n  }return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it)),\n      result = [],\n      i = 0,\n      key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  }return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto,\n      names = gOPN(IS_OP ? OPSymbols : toIObject(it)),\n      result = [],\n      i = 0,\n      key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  }return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function $set(value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(\"Ni5N\").f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(\"z7R8\").f = $propertyIsEnumerable;\n  __webpack_require__(\"Ocr3\").f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(\"1kq3\")) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var symbols =\n// 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','), i = 0; symbols.length > i;) {\n  wks(symbols[i++]);\n}for (var symbols = $keys(wks.store), i = 0; symbols.length > i;) {\n  wksDefine(symbols[i++]);\n}$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function _for(key) {\n    return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key) {\n    if (isSymbol(key)) return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function useSetter() {\n    setter = true;\n  },\n  useSimple: function useSimple() {\n    setter = false;\n  }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it],\n        i = 1,\n        replacer,\n        $replacer;\n    while (arguments.length > i) {\n      args.push(arguments[i++]);\n    }replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function replacer(key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(\"akPY\")($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ }),\n\n/***/ \"AePr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar dP = __webpack_require__(\"Gfzd\").f,\n    create = __webpack_require__(\"TNJq\"),\n    redefineAll = __webpack_require__(\"O6kh\"),\n    ctx = __webpack_require__(\"3zRh\"),\n    anInstance = __webpack_require__(\"KUik\"),\n    defined = __webpack_require__(\"U72i\"),\n    forOf = __webpack_require__(\"ozpD\"),\n    $iterDefine = __webpack_require__(\"uRfg\"),\n    step = __webpack_require__(\"xwD+\"),\n    setSpecies = __webpack_require__(\"FGzK\"),\n    DESCRIPTORS = __webpack_require__(\"6MLN\"),\n    fastKey = __webpack_require__(\"e8vu\").fastKey,\n    SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function getEntry(that, key) {\n  // fast case\n  var index = fastKey(key),\n      entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function getConstructor(wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined; // first entry\n      that._l = undefined; // last entry\n      that[SIZE] = 0; // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = this, data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function _delete(key) {\n        var that = this,\n            entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n,\n              prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        }return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */) {\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3),\n            entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) {\n            entry = entry.p;\n          }\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function get() {\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function def(that, key, value) {\n    var entry = getEntry(that, key),\n        prev,\n        index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n      // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key, // <- key\n        v: value, // <- value\n        p: prev = that._l, // <- previous entry\n        n: undefined, // <- next entry\n        r: false // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    }return that;\n  },\n  getEntry: getEntry,\n  setStrong: function setStrong(C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = iterated; // target\n      this._k = kind; // kind\n      this._l = undefined; // previous\n    }, function () {\n      var that = this,\n          kind = that._k,\n          entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) {\n        entry = entry.p;\n      } // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n/***/ }),\n\n/***/ \"AgUv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nvar util = __webpack_require__(\"gfUn\");\n\nfunction IllegalArgumentError(message) {\n    Error.call(this, message);\n    this.message = message;\n}\nutil.inherits(IllegalArgumentError, Error);\n\nIllegalArgumentError.prototype.name = 'IllegalArgumentError';\n\nfunction IllegalStateError(message) {\n    Error.call(this, message);\n    this.message = message;\n}\nutil.inherits(IllegalStateError, Error);\n\nIllegalStateError.prototype.name = 'IllegalStateError';\n\nmodule.exports.IllegalStateError = IllegalStateError;\nmodule.exports.IllegalArgumentError = IllegalArgumentError;\n\n/***/ }),\n\n/***/ \"An/8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Generated by CoffeeScript 1.11.0\n(function () {\n  var Bottleneck,\n      MIDDLE_PRIORITY,\n      NB_PRIORITIES,\n      bind = function bind(fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  },\n      slice = [].slice;\n\n  NB_PRIORITIES = 10;\n\n  MIDDLE_PRIORITY = 5;\n\n  Bottleneck = function () {\n    var e;\n\n    Bottleneck[\"default\"] = Bottleneck;\n\n    Bottleneck.strategy = Bottleneck.prototype.strategy = {\n      LEAK: 1,\n      OVERFLOW: 2,\n      OVERFLOW_PRIORITY: 4,\n      BLOCK: 3\n    };\n\n    Bottleneck.Cluster = Bottleneck.prototype.Cluster = __webpack_require__(\"Cv+O\");\n\n    Bottleneck.DLList = Bottleneck.prototype.DLList = __webpack_require__(\"Cp6S\");\n\n    Bottleneck.Promise = Bottleneck.prototype.Promise = function () {\n      try {\n        return __webpack_require__(\"fp6q\");\n      } catch (error) {\n        e = error;\n        return typeof Promise !== \"undefined\" && Promise !== null ? Promise : function () {\n          throw new Error(\"Bottleneck: install 'bluebird' or use Node 0.12 or higher for Promise support\");\n        };\n      }\n    }();\n\n    function Bottleneck(maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb != null ? maxNb : 0;\n      this.minTime = minTime != null ? minTime : 0;\n      this.highWater = highWater != null ? highWater : -1;\n      this.strategy = strategy != null ? strategy : Bottleneck.prototype.strategy.LEAK;\n      this.rejectOnDrop = rejectOnDrop != null ? rejectOnDrop : false;\n      this.schedulePriority = bind(this.schedulePriority, this);\n      this.submitPriority = bind(this.submitPriority, this);\n      this.submit = bind(this.submit, this);\n      this._nextRequest = Date.now();\n      this._nbRunning = 0;\n      this._queues = this._makeQueues();\n      this._running = {};\n      this._nextIndex = 0;\n      this._unblockTime = 0;\n      this.penalty = 15 * this.minTime || 5000;\n      this.interrupt = false;\n      this.reservoir = null;\n      this.limiter = null;\n      this.events = {};\n    }\n\n    Bottleneck.prototype._trigger = function (name, args) {\n      if (this.rejectOnDrop && name === \"dropped\") {\n        args[0].cb.apply({}, [new Error(\"This job has been dropped by Bottleneck\")]);\n      }\n      return setTimeout(function (_this) {\n        return function () {\n          var ref;\n          return (ref = _this.events[name]) != null ? ref.forEach(function (e) {\n            return e.apply({}, args);\n          }) : void 0;\n        };\n      }(this), 0);\n    };\n\n    Bottleneck.prototype._makeQueues = function () {\n      var i, j, ref, results;\n      results = [];\n      for (i = j = 1, ref = NB_PRIORITIES; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {\n        results.push(new Bottleneck.prototype.DLList());\n      }\n      return results;\n    };\n\n    Bottleneck.prototype.chain = function (limiter) {\n      this.limiter = limiter;\n      return this;\n    };\n\n    Bottleneck.prototype.isBlocked = function () {\n      return this._unblockTime >= Date.now();\n    };\n\n    Bottleneck.prototype._sanitizePriority = function (priority) {\n      var sProperty;\n      sProperty = ~~priority !== priority ? MIDDLE_PRIORITY : priority;\n      if (sProperty < 0) {\n        return 0;\n      } else if (sProperty > NB_PRIORITIES - 1) {\n        return NB_PRIORITIES - 1;\n      } else {\n        return sProperty;\n      }\n    };\n\n    Bottleneck.prototype._find = function (arr, fn) {\n      var i, j, len, x;\n      for (i = j = 0, len = arr.length; j < len; i = ++j) {\n        x = arr[i];\n        if (fn(x)) {\n          return x;\n        }\n      }\n      return [];\n    };\n\n    Bottleneck.prototype.nbQueued = function (priority) {\n      if (priority != null) {\n        return this._queues[this._sanitizePriority(priority)].length;\n      } else {\n        return this._queues.reduce(function (a, b) {\n          return a + b.length;\n        }, 0);\n      }\n    };\n\n    Bottleneck.prototype.nbRunning = function () {\n      return this._nbRunning;\n    };\n\n    Bottleneck.prototype._getFirst = function (arr) {\n      return this._find(arr, function (x) {\n        return x.length > 0;\n      });\n    };\n\n    Bottleneck.prototype._conditionsCheck = function () {\n      return (this.nbRunning() < this.maxNb || this.maxNb <= 0) && (this.reservoir == null || this.reservoir > 0);\n    };\n\n    Bottleneck.prototype.check = function () {\n      return this._conditionsCheck() && this._nextRequest - Date.now() <= 0;\n    };\n\n    Bottleneck.prototype._tryToRun = function () {\n      var done, index, next, queued, wait;\n      if (this._conditionsCheck() && (queued = this.nbQueued()) > 0) {\n        this._nbRunning++;\n        if (this.reservoir != null) {\n          this.reservoir--;\n        }\n        wait = Math.max(this._nextRequest - Date.now(), 0);\n        this._nextRequest = Date.now() + wait + this.minTime;\n        next = this._getFirst(this._queues).shift();\n        if (queued === 1) {\n          this._trigger(\"empty\", []);\n        }\n        done = false;\n        index = this._nextIndex++;\n        this._running[index] = {\n          timeout: setTimeout(function (_this) {\n            return function () {\n              var completed;\n              completed = function completed() {\n                var ref;\n                if (!done) {\n                  done = true;\n                  delete _this._running[index];\n                  _this._nbRunning--;\n                  _this._tryToRun();\n                  if (_this.nbRunning() === 0 && _this.nbQueued() === 0) {\n                    _this._trigger(\"idle\", []);\n                  }\n                  if (!_this.interrupt) {\n                    return (ref = next.cb) != null ? ref.apply({}, Array.prototype.slice.call(arguments, 0)) : void 0;\n                  }\n                }\n              };\n              if (_this.limiter != null) {\n                return _this.limiter.submit.apply(_this.limiter, Array.prototype.concat(next.task, next.args, completed));\n              } else {\n                return next.task.apply({}, next.args.concat(completed));\n              }\n            };\n          }(this), wait),\n          job: next\n        };\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Bottleneck.prototype.submit = function () {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this.submitPriority.apply({}, Array.prototype.concat(MIDDLE_PRIORITY, args));\n    };\n\n    Bottleneck.prototype.submitPriority = function () {\n      var args, cb, j, job, priority, reachedHighWaterMark, shifted, task;\n      priority = arguments[0], task = arguments[1], args = 4 <= arguments.length ? slice.call(arguments, 2, j = arguments.length - 1) : (j = 2, []), cb = arguments[j++];\n      job = {\n        task: task,\n        args: args,\n        cb: cb\n      };\n      priority = this._sanitizePriority(priority);\n      reachedHighWaterMark = this.highWater >= 0 && this.nbQueued() === this.highWater && !this.check();\n      if (this.strategy === Bottleneck.prototype.strategy.BLOCK && (reachedHighWaterMark || this.isBlocked())) {\n        this._unblockTime = Date.now() + this.penalty;\n        this._nextRequest = this._unblockTime + this.minTime;\n        this._queues = this._makeQueues();\n        this._trigger(\"dropped\", [job]);\n        return true;\n      } else if (reachedHighWaterMark) {\n        shifted = this.strategy === Bottleneck.prototype.strategy.LEAK ? this._getFirst(this._queues.slice(priority).reverse()).shift() : this.strategy === Bottleneck.prototype.strategy.OVERFLOW_PRIORITY ? this._getFirst(this._queues.slice(priority + 1).reverse()).shift() : this.strategy === Bottleneck.prototype.strategy.OVERFLOW ? job : void 0;\n        if (shifted != null) {\n          this._trigger(\"dropped\", [shifted]);\n        }\n        if (shifted == null || this.strategy === Bottleneck.prototype.strategy.OVERFLOW) {\n          return reachedHighWaterMark;\n        }\n      }\n      this._queues[priority].push(job);\n      this._tryToRun();\n      return reachedHighWaterMark;\n    };\n\n    Bottleneck.prototype.schedule = function () {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this.schedulePriority.apply({}, Array.prototype.concat(MIDDLE_PRIORITY, args));\n    };\n\n    Bottleneck.prototype.schedulePriority = function () {\n      var args, priority, task, wrapped;\n      priority = arguments[0], task = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n      wrapped = function wrapped() {\n        var args, cb, j;\n        args = 2 <= arguments.length ? slice.call(arguments, 0, j = arguments.length - 1) : (j = 0, []), cb = arguments[j++];\n        return task.apply({}, args).then(function () {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return cb.apply({}, Array.prototype.concat(null, args));\n        })[\"catch\"](function () {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return cb.apply({}, args);\n        });\n      };\n      return new Bottleneck.prototype.Promise(function (_this) {\n        return function (resolve, reject) {\n          return _this.submitPriority.apply({}, Array.prototype.concat(priority, wrapped, args, function () {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return (args[0] != null ? reject : (args.shift(), resolve)).apply({}, args);\n          }));\n        };\n      }(this));\n    };\n\n    Bottleneck.prototype.changeSettings = function (maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb != null ? maxNb : this.maxNb;\n      this.minTime = minTime != null ? minTime : this.minTime;\n      this.highWater = highWater != null ? highWater : this.highWater;\n      this.strategy = strategy != null ? strategy : this.strategy;\n      this.rejectOnDrop = rejectOnDrop != null ? rejectOnDrop : this.rejectOnDrop;\n      while (this._tryToRun()) {}\n      return this;\n    };\n\n    Bottleneck.prototype.changePenalty = function (penalty) {\n      this.penalty = penalty != null ? penalty : this.penalty;\n      return this;\n    };\n\n    Bottleneck.prototype.changeReservoir = function (reservoir) {\n      this.reservoir = reservoir;\n      while (this._tryToRun()) {}\n      return this;\n    };\n\n    Bottleneck.prototype.incrementReservoir = function (incr) {\n      if (incr == null) {\n        incr = 0;\n      }\n      this.changeReservoir(this.reservoir + incr);\n      return this;\n    };\n\n    Bottleneck.prototype.on = function (name, cb) {\n      if (this.events[name] != null) {\n        this.events[name].push(cb);\n      } else {\n        this.events[name] = [cb];\n      }\n      return this;\n    };\n\n    Bottleneck.prototype.removeAllListeners = function (name) {\n      if (name == null) {\n        name = null;\n      }\n      if (name != null) {\n        delete this.events[name];\n      } else {\n        this.events = {};\n      }\n      return this;\n    };\n\n    Bottleneck.prototype.stopAll = function (interrupt) {\n      var j, job, k, keys, l, len, len1;\n      this.interrupt = interrupt != null ? interrupt : this.interrupt;\n      keys = Object.keys(this._running);\n      for (j = 0, len = keys.length; j < len; j++) {\n        k = keys[j];\n        clearTimeout(this._running[k].timeout);\n      }\n      this._tryToRun = function () {};\n      this.check = function () {\n        return false;\n      };\n      this.submit = this.submitPriority = function () {\n        var args, cb, l;\n        args = 2 <= arguments.length ? slice.call(arguments, 0, l = arguments.length - 1) : (l = 0, []), cb = arguments[l++];\n        return cb(new Error(\"This limiter is stopped\"));\n      };\n      this.schedule = this.schedulePriority = function () {\n        return Promise.reject(new Error(\"This limiter is stopped\"));\n      };\n      if (this.interrupt) {\n        for (l = 0, len1 = keys.length; l < len1; l++) {\n          k = keys[l];\n          this._trigger(\"dropped\", [this._running[k].job]);\n        }\n      }\n      while (job = this._getFirst(this._queues).shift()) {\n        this._trigger(\"dropped\", [job]);\n      }\n      this._trigger(\"empty\", []);\n      if (this.nbRunning() === 0) {\n        this._trigger(\"idle\", []);\n      }\n      return this;\n    };\n\n    return Bottleneck;\n  }();\n\n  module.exports = Bottleneck;\n}).call(this);\n\n/***/ }),\n\n/***/ \"Aq8W\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"dXs8\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"AwcA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _stringify = __webpack_require__(\"HxWs\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar SessionStorage = function () {\n    function SessionStorage(config, storage) {\n        (0, _classCallCheck3.default)(this, SessionStorage);\n\n        this.config = config;\n        this.storageId = null;\n        try {\n            this.storage = storage || sessionStorage;\n        } catch (e) {}\n    }\n\n    (0, _createClass3.default)(SessionStorage, [{\n        key: \"storageKey\",\n        value: function storageKey(type, key) {\n            return this.storageId + \"::\" + type + \"::\" + key;\n        }\n    }, {\n        key: \"updateStorageId\",\n        value: function updateStorageId(storageId) {\n            this.storageId = storageId;\n        }\n    }, {\n        key: \"store\",\n        value: function store(type, id, value) {\n            if (!this.isReady) {\n                return null;\n            }\n            return this._store(this.storageKey(type, id), value);\n        }\n    }, {\n        key: \"read\",\n        value: function read(type, id) {\n            if (!this.isReady) {\n                return null;\n            }\n            return this._read(this.storageKey(type, id));\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(type, sid, uniqueName) {\n            if (!this.isReady) {\n                return null;\n            }\n            try {\n                this.storage.removeItem(this.storageKey(type, sid));\n                if (uniqueName) {\n                    this.storage.removeItem(this.storageKey(type, uniqueName));\n                }\n            } catch (e) {}\n        }\n    }, {\n        key: \"update\",\n        value: function update(type, sid, uniqueName, patch) {\n            if (!this.isReady) {\n                return null;\n            }\n            // Currently cache may have root stored twice - by sid and by uniqueName\n            // Maybe need to create some index if needed\n            this._apply(this.storageKey(type, sid), patch);\n            if (uniqueName) {\n                this._apply(this.storageKey(type, uniqueName), patch);\n            }\n        }\n    }, {\n        key: \"_store\",\n        value: function _store(key, value) {\n            try {\n                this.storage.setItem(key, (0, _stringify2.default)(value));\n            } catch (e) {}\n        }\n    }, {\n        key: \"_read\",\n        value: function _read(key) {\n            try {\n                var storedData = this.storage.getItem(key);\n                if (storedData) {\n                    return JSON.parse(storedData);\n                }\n            } catch (e) {}\n            return null;\n        }\n    }, {\n        key: \"_apply\",\n        value: function _apply(key, patch) {\n            var value = this._read(key);\n            if (!value) {\n                return false;\n            }\n            this._store(key, (0, _extends3.default)(value, patch));\n        }\n    }, {\n        key: \"isReady\",\n        get: function get() {\n            return this.config.sessionStorageEnabled && !!this.storageId;\n        }\n    }]);\n    return SessionStorage;\n}();\n\nexports.SessionStorage = SessionStorage;\n\n/***/ }),\n\n/***/ \"B1ls\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(\"zotD\"),\n    aFunction = __webpack_require__(\"g31e\"),\n    SPECIES = __webpack_require__(\"Ug9I\")('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor,\n      S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n/***/ }),\n\n/***/ \"B9Lq\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(\"yS17\"),\n    toIObject = __webpack_require__(\"Wyka\"),\n    arrayIndexOf = __webpack_require__(\"LNnS\")(false),\n    IE_PROTO = __webpack_require__(\"/wuY\")('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object),\n      i = 0,\n      result = [],\n      key;\n  for (key in O) {\n    if (key != IE_PROTO) has(O, key) && result.push(key);\n  } // Don't enum bug & hidden keys\n  while (names.length > i) {\n    if (has(O, key = names[i++])) {\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n  }return result;\n};\n\n/***/ }),\n\n/***/ \"BX4+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"ky2m\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"BYJX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _set2 = __webpack_require__(\"7Zlx\");\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _uuid = __webpack_require__(\"qQO4\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _logger = __webpack_require__(\"EwCr\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar DEFAULT_TTL = 60 * 60 * 48;\n\nfunction toArray(_set) {\n  var arr = [];\n  _set.forEach(function (v) {\n    return arr.push(v);\n  });\n  return arr;\n}\n\n/**\n * @class\n * @classdesc Registrar connector implementation for twilsock\n *\n * @constructor\n */\n\nvar TwilsockConnector = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockConnector, _EventEmitter);\n\n  function TwilsockConnector(context, twilsock, config) {\n    (0, _classCallCheck3.default)(this, TwilsockConnector);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockConnector.__proto__ || (0, _getPrototypeOf2.default)(TwilsockConnector)).call(this));\n\n    context.id = _uuid2.default.v4();\n\n    (0, _defineProperties2.default)(_this, {\n      _twilsock: { value: twilsock },\n      _messageTypes: { value: new _set3.default() },\n\n      config: { value: config },\n      context: { value: context }\n    });\n\n    twilsock.on('stateChanged', function (state) {\n      if (state !== 'connected') {\n        _this.emit('transportReady', false);\n      }\n    });\n\n    twilsock.on('registered', function (id) {\n      if (context && id === context.id && twilsock.state === 'connected') {\n        _this.emit('transportReady', true);\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * @public\n   */\n\n  (0, _createClass3.default)(TwilsockConnector, [{\n    key: 'setNotificationId',\n    value: function setNotificationId() {\n      return false;\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      this._twilsock.removeNotificationsContext(this.context.id);\n      this.context.id = _uuid2.default.v4();\n      this._updateContext();\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'has',\n    value: function has(messageType) {\n      return this._messageTypes.has(messageType);\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType) {\n      if (this._messageTypes.has(messageType)) {\n        _logger2.default.trace('Message type already registered ', messageType);\n        return false;\n      }\n\n      this._messageTypes.add(messageType);\n      this._updateContext();\n      return true;\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType) {\n      if (!this._messageTypes.has(messageType)) {\n        return false;\n      }\n\n      this._messageTypes.delete(messageType);\n\n      if (this._messageTypes.size > 0) {\n        this._updateContext();\n      } else {\n        this._twilsock.removeNotificationsContext(this.context.id);\n      }\n\n      return true;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_updateContext',\n    value: function _updateContext() {\n      if (!this.config.token) {\n        // no token, can't do anything, ignore\n        return;\n      }\n\n      var messageTypes = toArray(this._messageTypes);\n\n      /* eslint-disable camelcase */\n      var context = {\n        product_id: this.context.productId,\n        notification_protocol_version: 4,\n        endpoint_platform: this.context.platform,\n        ttl: DEFAULT_TTL,\n        token: this.config.token,\n        message_types: messageTypes\n      };\n      /* eslint-enable camelcase */\n\n      this.emit('transportReady', false);\n      this._twilsock.setNotificationsContext(this.context.id, context);\n    }\n  }]);\n  return TwilsockConnector;\n}(_events2.default);\n\nexports.default = TwilsockConnector;\n\n(0, _freeze2.default)(TwilsockConnector);\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"Bdru\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.5 Object.freeze(O)\nvar isObject = __webpack_require__(\"BxvP\"),\n    meta = __webpack_require__(\"e8vu\").onFreeze;\n\n__webpack_require__(\"cOHw\")('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n\n/***/ }),\n\n/***/ \"BtHH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(\"mbLO\"),\n    $getPrototypeOf = __webpack_require__(\"HHE0\");\n\n__webpack_require__(\"cOHw\")('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n/***/ }),\n\n/***/ \"BxvP\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n/***/ }),\n\n/***/ \"By4a\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(\"ZHvQ\"),\n    ITERATOR = __webpack_require__(\"Ug9I\")('iterator'),\n    Iterators = __webpack_require__(\"dhak\");\nmodule.exports = __webpack_require__(\"zKeE\").isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined || '@@iterator' in O || Iterators.hasOwnProperty(classof(O));\n};\n\n/***/ }),\n\n/***/ \"C6lX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = __webpack_require__(\"FRpO\");\nvar util = __webpack_require__(\"gfUn\");\n\nfunction isDef(value) {\n    return value !== undefined && value !== null;\n}\n\n// Abstract class defining the skeleton for the backoff strategies. Accepts an\n// object holding the options for the backoff strategy:\n//\n//  * `randomisationFactor`: The randomisation factor which must be between 0\n//     and 1 where 1 equates to a randomization factor of 100% and 0 to no\n//     randomization.\n//  * `initialDelay`: The backoff initial delay in milliseconds.\n//  * `maxDelay`: The backoff maximal delay in milliseconds.\nfunction BackoffStrategy(options) {\n    options = options || {};\n\n    if (isDef(options.initialDelay) && options.initialDelay < 1) {\n        throw new Error('The initial timeout must be greater than 0.');\n    } else if (isDef(options.maxDelay) && options.maxDelay < 1) {\n        throw new Error('The maximal timeout must be greater than 0.');\n    }\n\n    this.initialDelay_ = options.initialDelay || 100;\n    this.maxDelay_ = options.maxDelay || 10000;\n\n    if (this.maxDelay_ <= this.initialDelay_) {\n        throw new Error('The maximal backoff delay must be ' + 'greater than the initial backoff delay.');\n    }\n\n    if (isDef(options.randomisationFactor) && (options.randomisationFactor < 0 || options.randomisationFactor > 1)) {\n        throw new Error('The randomisation factor must be between 0 and 1.');\n    }\n\n    this.randomisationFactor_ = options.randomisationFactor || 0;\n}\n\n// Gets the maximal backoff delay.\nBackoffStrategy.prototype.getMaxDelay = function () {\n    return this.maxDelay_;\n};\n\n// Gets the initial backoff delay.\nBackoffStrategy.prototype.getInitialDelay = function () {\n    return this.initialDelay_;\n};\n\n// Template method that computes and returns the next backoff delay in\n// milliseconds.\nBackoffStrategy.prototype.next = function () {\n    var backoffDelay = this.next_();\n    var randomisationMultiple = 1 + Math.random() * this.randomisationFactor_;\n    var randomizedDelay = Math.round(backoffDelay * randomisationMultiple);\n    return randomizedDelay;\n};\n\n// Computes and returns the next backoff delay. Intended to be overridden by\n// subclasses.\nBackoffStrategy.prototype.next_ = function () {\n    throw new Error('BackoffStrategy.next_() unimplemented.');\n};\n\n// Template method that resets the backoff delay to its initial value.\nBackoffStrategy.prototype.reset = function () {\n    this.reset_();\n};\n\n// Resets the backoff delay to its initial value. Intended to be overridden by\n// subclasses.\nBackoffStrategy.prototype.reset_ = function () {\n    throw new Error('BackoffStrategy.reset_() unimplemented.');\n};\n\nmodule.exports = BackoffStrategy;\n\n/***/ }),\n\n/***/ \"COf8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"OYXR\");\nvar global = __webpack_require__(\"i1Q6\"),\n    hide = __webpack_require__(\"akPY\"),\n    Iterators = __webpack_require__(\"dhak\"),\n    TO_STRING_TAG = __webpack_require__(\"Ug9I\")('toStringTag');\n\nfor (var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++) {\n  var NAME = collections[i],\n      Collection = global[NAME],\n      proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n/***/ }),\n\n/***/ \"Cp6S\":\n/***/ (function(module, exports) {\n\n// Generated by CoffeeScript 1.11.0\n(function () {\n  var DLList;\n\n  DLList = function () {\n    function DLList() {\n      this._first = null;\n      this._last = null;\n      this.length = 0;\n    }\n\n    DLList.prototype.push = function (value) {\n      var node;\n      this.length++;\n      node = {\n        value: value,\n        next: null\n      };\n      if (this._last != null) {\n        this._last.next = node;\n        this._last = node;\n      } else {\n        this._first = this._last = node;\n      }\n      return void 0;\n    };\n\n    DLList.prototype.shift = function () {\n      var ref1, value;\n      if (this._first == null) {\n        return void 0;\n      } else {\n        this.length--;\n      }\n      value = this._first.value;\n      this._first = (ref1 = this._first.next) != null ? ref1 : this._last = null;\n      return value;\n    };\n\n    DLList.prototype.getArray = function () {\n      var node, ref, results;\n      node = this._first;\n      results = [];\n      while (node != null) {\n        results.push((ref = node, node = node.next, ref.value));\n      }\n      return results;\n    };\n\n    return DLList;\n  }();\n\n  module.exports = DLList;\n}).call(this);\n\n/***/ }),\n\n/***/ \"Cv+O\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Generated by CoffeeScript 1.11.0\n(function () {\n  var Cluster,\n      hasProp = {}.hasOwnProperty;\n\n  Cluster = function () {\n    function Cluster(maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb;\n      this.minTime = minTime;\n      this.highWater = highWater;\n      this.strategy = strategy;\n      this.rejectOnDrop = rejectOnDrop;\n      this.limiters = {};\n      this.Bottleneck = __webpack_require__(\"An/8\");\n      this.timeout = 1000 * 60 * 5;\n      this.startAutoCleanup();\n    }\n\n    Cluster.prototype.key = function (key) {\n      var ref;\n      if (key == null) {\n        key = \"\";\n      }\n      return (ref = this.limiters[key]) != null ? ref : this.limiters[key] = new this.Bottleneck(this.maxNb, this.minTime, this.highWater, this.strategy, this.rejectOnDrop);\n    };\n\n    Cluster.prototype.deleteKey = function (key) {\n      if (key == null) {\n        key = \"\";\n      }\n      return delete this.limiters[key];\n    };\n\n    Cluster.prototype.all = function (cb) {\n      var k, ref, results, v;\n      ref = this.limiters;\n      results = [];\n      for (k in ref) {\n        if (!hasProp.call(ref, k)) continue;\n        v = ref[k];\n        results.push(cb(v));\n      }\n      return results;\n    };\n\n    Cluster.prototype.keys = function () {\n      return Object.keys(this.limiters);\n    };\n\n    Cluster.prototype.startAutoCleanup = function () {\n      var base;\n      this.stopAutoCleanup();\n      return typeof (base = this.interval = setInterval(function (_this) {\n        return function () {\n          var k, ref, results, time, v;\n          time = Date.now();\n          ref = _this.limiters;\n          results = [];\n          for (k in ref) {\n            v = ref[k];\n            if (v._nextRequest + _this.timeout < time) {\n              results.push(_this.deleteKey(k));\n            } else {\n              results.push(void 0);\n            }\n          }\n          return results;\n        };\n      }(this), this.timeout / 10)).unref === \"function\" ? base.unref() : void 0;\n    };\n\n    Cluster.prototype.stopAutoCleanup = function () {\n      return clearInterval(this.interval);\n    };\n\n    Cluster.prototype.changeTimeout = function (timeout) {\n      this.timeout = timeout;\n      return this.startAutoCleanup();\n    };\n\n    return Cluster;\n  }();\n\n  module.exports = Cluster;\n}).call(this);\n\n/***/ }),\n\n/***/ \"Dygy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nmodule.exports = __webpack_require__(\"g7Jl\");\n\n/***/ }),\n\n/***/ \"E07s\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _registrar = __webpack_require__(\"LGMx\");\n\nvar _registrar2 = _interopRequireDefault(_registrar);\n\nvar _twilsock = __webpack_require__(\"BYJX\");\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Creates the new instance of ERS registrar client\n *\n * @class Registrar\n * @classdesc Provides an interface to the ERS registrar\n */\nvar Registrar = function (_EventEmitter) {\n  (0, _inherits3.default)(Registrar, _EventEmitter);\n\n  function Registrar(productId, transport, twilsock, config) {\n    (0, _classCallCheck3.default)(this, Registrar);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Registrar.__proto__ || (0, _getPrototypeOf2.default)(Registrar)).call(this));\n\n    (0, _defineProperties2.default)(_this, {\n      _conf: { value: config },\n      _connectors: { value: new _map2.default() }\n    });\n\n    var platform = _this._detectPlatform();\n\n    _this._connectors.set('twilsock', new _twilsock2.default({ productId: productId, platform: platform }, twilsock, config));\n    _this._connectors.set('gcm', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'gcm'));\n    _this._connectors.set('fcm', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'fcm'));\n    _this._connectors.set('apn', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'apn'));\n\n    _this._connectors.get('twilsock').on('transportReady', function (state) {\n      return _this.emit('transportReady', state);\n    });\n\n    return _this;\n  }\n\n  /**\n   *  Sets notification ID.\n   *  If new URI is different from previous, it triggers updating of registration for given channel\n   *\n   *  @param {string} channelType channel type (apn|gcm|fcm|twilsock)\n   *  @param {string} notificationId The notification ID\n   */\n\n  (0, _createClass3.default)(Registrar, [{\n    key: 'setNotificationId',\n    value: function setNotificationId(channelType, notificationId) {\n      this._connector(channelType).setNotificationId(notificationId);\n    }\n\n    /**\n     * Checks if subscription for given message and channel already exists\n     */\n\n  }, {\n    key: 'hasSubscription',\n    value: function hasSubscription(messageType, channelType) {\n      this._connector(channelType).has(messageType);\n    }\n\n    /**\n     * Subscribe for given type of message\n     *\n     * @param {String} messageType Message type identifier\n     * @param {String} channelType Channel type, can be 'twilsock', 'gcm' or 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType, channelType) {\n      this._connector(channelType).subscribe(messageType);\n    }\n\n    /**\n     * Remove subscription\n     * @param {String} messageType Message type\n     * @param {String} channelType Channel type (twilsock or gcm/fcm)\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType, channelType) {\n      this._connector(channelType).unsubscribe(messageType);\n    }\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      this._connectors.forEach(function (connector) {\n        return connector.updateToken();\n      });\n    }\n\n    /**\n     * @param {String} type Channel type\n     * @throws {Error} Error with description\n     * @private\n     */\n\n  }, {\n    key: '_connector',\n    value: function _connector(type) {\n      var connector = this._connectors.get(type);\n      if (!connector) {\n        throw new Error('Unknown channel type: ' + type);\n      }\n      return connector;\n    }\n\n    /**\n     * Returns platform string limited to max 128 chars\n     * @private\n     */\n\n  }, {\n    key: '_detectPlatform',\n    value: function _detectPlatform() {\n      var _platform = '';\n      if (typeof navigator !== 'undefined') {\n        _platform = 'unknown';\n        if (typeof navigator.product !== 'undefined') {\n          _platform = navigator.product;\n        }\n        if (typeof navigator.userAgent !== 'undefined') {\n          _platform = navigator.userAgent;\n        }\n      } else {\n        _platform = 'web';\n      }\n\n      return _platform.substring(0, 128);\n    }\n  }]);\n  return Registrar;\n}(_events2.default);\n\nexports.default = Registrar;\n\n(0, _freeze2.default)(Registrar);\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"E1Zn\":\n/***/ (function(module, exports) {\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction createBooleanMapOfArray(array) {\n  return array.reduce(function (map, entry) {\n    var _extends2;\n\n    return _extends({}, map, (_extends2 = {}, _extends2[entry] = true, _extends2));\n  }, {});\n}\n\nvar SYNC_NAMES = {\n  ORDER_QUEUE: 'orderQueue_',\n  CONFIGURATION: 'configuration',\n  EVENT_CONFIG: 'event_',\n  CUSTOMERS: 'customers',\n  ALL_ORDERS: 'allOrders_',\n  METRICS: 'metrics'\n};\n\nvar DEFAULT_JSON_ENTRY_KEY = 'CHOOSE_KEY';\n\nvar TAGS = {\n  INTERACTED: 'interacted',\n  ALL: 'all',\n  OPEN_ORDER: 'open-order',\n  PREFIX_EVENT: 'event_'\n};\n\nvar INTENTS = {\n  HELP: 'help',\n  QUEUE: 'queue',\n  ORDER: 'order',\n  CANCEL: 'cancel',\n  INVALID: 'invalid',\n  UNREGISTER: 'unregister',\n  REGISTER: 'register',\n  GET_EVENT: 'getEvent'\n};\n\nvar COOKIES = {\n  CUSTOMER_STATE: 'CustomerState',\n  EVENT_MAPPING: 'EventMapping',\n  ORIGINAL_MESSAGE: 'PreviousMessage'\n};\n\nvar CUSTOMER_STATES = {\n  SET: 'set-eventId'\n};\n\n/**\n * These are all coffee options that can actually be ordered\n */\nvar AVAILABLE_DEFAULT_OPTIONS = ['Espresso', 'Cappuccino', 'Latte', 'Americano', 'Flat White', 'Filter Coffee', 'Hot Chocolate'];\n\n/**\n * This is a rudamentary solution to solve typos. All these\n * wrong spellings will map to an actual available coffee.\n */\nvar SPELLING_MISTAKES = {\n  expreso: 'Espresso',\n  expresso: 'Espresso',\n  espresso: 'Espresso',\n  cappacino: 'Cappuccino',\n  capacino: 'Cappuccino',\n  cappocino: 'Cappuccino',\n  capocino: 'Cappuccino',\n  cappucino: 'Cappuccino',\n  cappuccino: 'Cappuccino',\n  capuccino: 'Cappuccino',\n  capochino: 'Cappuccino',\n  late: 'Latte',\n  lattey: 'Latte',\n  larte: 'Latte',\n  lattee: 'Latte',\n  latte: 'Latte',\n  'cafe late': 'Latte',\n  'caffeé latte': 'Latte',\n  'caffe latte': 'Latte',\n  americano: 'Americano',\n  'white americano': 'Americano',\n  caffeé: 'Americano',\n  'flat white': 'Flat White',\n  flatwhite: 'Flat White',\n  'flat-white': 'Flat White',\n  'flatt white': 'Flat White',\n  'filter coffee': 'Filter Coffee',\n  coffee: 'Filter Coffee',\n  'fliter coffee': 'Filter Coffee',\n  'hot chocolate': 'Hot Chocolate',\n  chocolate: 'Hot Chocolate',\n  cocolate: 'Hot Chocolate'\n};\n\nvar DEFAULT_CONFIGURATION = {\n  connectedPhoneNumbers: [],\n  spellingMap: SPELLING_MISTAKES\n};\n\nvar DEFAULT_EVENT_CONFIGURATION = {\n  isOn: true,\n  isVisible: false,\n  mode: 'barista',\n  offlineMessage: 'We are sorry but there is currently no coffee.',\n  availableCoffees: createBooleanMapOfArray(AVAILABLE_DEFAULT_OPTIONS),\n  repoUrl: 'bit.ly/twilio-barista',\n  expectedOrders: 300,\n  visibleNumbers: []\n};\n\nmodule.exports = {\n  AVAILABLE_DEFAULT_OPTIONS: AVAILABLE_DEFAULT_OPTIONS,\n  DEFAULT_CONFIGURATION: DEFAULT_CONFIGURATION,\n  DEFAULT_EVENT_CONFIGURATION: DEFAULT_EVENT_CONFIGURATION,\n  DEFAULT_JSON_ENTRY_KEY: DEFAULT_JSON_ENTRY_KEY,\n  INTENTS: INTENTS,\n  SPELLING_MISTAKES: SPELLING_MISTAKES,\n  SYNC_NAMES: SYNC_NAMES,\n  TAGS: TAGS,\n  COOKIES: COOKIES,\n  CUSTOMER_STATES: CUSTOMER_STATES\n};\n\n/***/ }),\n\n/***/ \"E1ih\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = __webpack_require__(\"FRpO\");\nvar precond = __webpack_require__(\"Dygy\");\nvar util = __webpack_require__(\"gfUn\");\n\n// A class to hold the state of a backoff operation. Accepts a backoff strategy\n// to generate the backoff delays.\nfunction Backoff(backoffStrategy) {\n    events.EventEmitter.call(this);\n\n    this.backoffStrategy_ = backoffStrategy;\n    this.maxNumberOfRetry_ = -1;\n    this.backoffNumber_ = 0;\n    this.backoffDelay_ = 0;\n    this.timeoutID_ = -1;\n\n    this.handlers = {\n        backoff: this.onBackoff_.bind(this)\n    };\n}\nutil.inherits(Backoff, events.EventEmitter);\n\n// Sets a limit, greater than 0, on the maximum number of backoffs. A 'fail'\n// event will be emitted when the limit is reached.\nBackoff.prototype.failAfter = function (maxNumberOfRetry) {\n    precond.checkArgument(maxNumberOfRetry > 0, 'Expected a maximum number of retry greater than 0 but got %s.', maxNumberOfRetry);\n\n    this.maxNumberOfRetry_ = maxNumberOfRetry;\n};\n\n// Starts a backoff operation. Accepts an optional parameter to let the\n// listeners know why the backoff operation was started.\nBackoff.prototype.backoff = function (err) {\n    precond.checkState(this.timeoutID_ === -1, 'Backoff in progress.');\n\n    if (this.backoffNumber_ === this.maxNumberOfRetry_) {\n        this.emit('fail', err);\n        this.reset();\n    } else {\n        this.backoffDelay_ = this.backoffStrategy_.next();\n        this.timeoutID_ = setTimeout(this.handlers.backoff, this.backoffDelay_);\n        this.emit('backoff', this.backoffNumber_, this.backoffDelay_, err);\n    }\n};\n\n// Handles the backoff timeout completion.\nBackoff.prototype.onBackoff_ = function () {\n    this.timeoutID_ = -1;\n    this.emit('ready', this.backoffNumber_, this.backoffDelay_);\n    this.backoffNumber_++;\n};\n\n// Stops any backoff operation and resets the backoff delay to its inital value.\nBackoff.prototype.reset = function () {\n    this.backoffNumber_ = 0;\n    this.backoffStrategy_.reset();\n    clearTimeout(this.timeoutID_);\n    this.timeoutID_ = -1;\n};\n\nmodule.exports = Backoff;\n\n/***/ }),\n\n/***/ \"E56Z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _from = __webpack_require__(\"VuZO\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar log = __webpack_require__(\"T51w\");\nfunction prepareLine(prefix, args) {\n    return [prefix].concat((0, _from2.default)(args));\n}\nexports.default = {\n    setLevel: function setLevel(level) {\n        log.setLevel(level);\n    },\n    trace: function trace() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        log.trace.apply(null, prepareLine('Sync T:', args));\n    },\n    debug: function debug() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        log.debug.apply(null, prepareLine('Sync D:', args));\n    },\n    info: function info() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        log.info.apply(null, prepareLine('Sync I:', args));\n    },\n    warn: function warn() {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n        }\n\n        log.warn.apply(null, prepareLine('Sync W:', args));\n    },\n    error: function error() {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n        }\n\n        log.error.apply(null, prepareLine('Sync E:', args));\n    }\n};\n\n/***/ }),\n\n/***/ \"E5Ce\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(\"ShN9\");\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n/***/ }),\n\n/***/ \"EKwp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(\"BxvP\");\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n/***/ }),\n\n/***/ \"EbM4\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"EwCr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _from = __webpack_require__(\"VuZO\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _loglevel = __webpack_require__(\"T51w\");\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction prepareLine(prefix, args) {\n  return [prefix].concat((0, _from2.default)(args));\n}\n\nexports.default = {\n  setLevel: function setLevel(level) {\n    _loglevel2.default.setLevel(level);\n  },\n\n  trace: function trace() {\n    _loglevel2.default.trace.apply(null, prepareLine('Notify T:', arguments));\n  },\n  debug: function debug() {\n    _loglevel2.default.debug.apply(null, prepareLine('Notify D:', arguments));\n  },\n  info: function info() {\n    _loglevel2.default.info.apply(null, prepareLine('Notify I:', arguments));\n  },\n  warn: function warn() {\n    _loglevel2.default.warn.apply(null, prepareLine('Notify W:', arguments));\n  },\n  error: function error() {\n    _loglevel2.default.error.apply(null, prepareLine('Notify E:', arguments));\n  }\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"FFZn\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"3v7p\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"FGzK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar global = __webpack_require__(\"i1Q6\"),\n    core = __webpack_require__(\"zKeE\"),\n    dP = __webpack_require__(\"Gfzd\"),\n    DESCRIPTORS = __webpack_require__(\"6MLN\"),\n    SPECIES = __webpack_require__(\"Ug9I\")('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function get() {\n      return this;\n    }\n  });\n};\n\n/***/ }),\n\n/***/ \"FRpO\":\n/***/ (function(module, exports) {\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function (n) {\n  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function (type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events) this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler)) return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function (type, listener) {\n  var m;\n\n  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\n  if (!this._events) this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function (type, listener) {\n  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function (type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type]) return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n    delete this._events[type];\n    if (this._events.removeListener) this.emit('removeListener', type, listener);\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener) this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function (type) {\n  var key, listeners;\n\n  if (!this._events) return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length) {\n      this.removeListener(type, listeners[listeners.length - 1]);\n    }\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function (type) {\n  var ret;\n  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function (type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n/***/ }),\n\n/***/ \"FshL\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(\"vSO4\");\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !__webpack_require__(\"6MLN\"), 'Object', { defineProperties: __webpack_require__(\"gjjs\") });\n\n/***/ }),\n\n/***/ \"GBRx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(\"FRpO\");\n\nvar SyncEntity = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(SyncEntity, _events_1$EventEmitte);\n\n    function SyncEntity(services, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncEntity);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncEntity.__proto__ || (0, _getPrototypeOf2.default)(SyncEntity)).call(this));\n\n        _this.services = services;\n        _this.removalHandler = removalHandler;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncEntity, [{\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {}\n    }, {\n        key: \"reportFailure\",\n        value: function reportFailure(err) {\n            if (err.status === 404) {\n                // assume that 404 means that entity has been removed while we were away\n                this.onRemoved(false);\n            } else {\n                this.emit('failure', err);\n            }\n        }\n        /**\n         * Subscribe to changes of data entity\n         * @private\n         */\n\n    }, {\n        key: \"_subscribe\",\n        value: function _subscribe() {\n            this.services.router.subscribe(this.sid, this);\n            return this;\n        }\n        /**\n         * Unsubscribe from changes of current data entity\n         * @private\n         */\n\n    }, {\n        key: \"_unsubscribe\",\n        value: function _unsubscribe() {\n            this.services.router.unsubscribe(this.sid, this);\n            return this;\n        }\n        /**\n         * @public\n         */\n\n    }, {\n        key: \"close\",\n        value: function close() {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n        }\n    }]);\n    return SyncEntity;\n}(events_1.EventEmitter);\n\nexports.SyncEntity = SyncEntity;\nexports.default = SyncEntity;\n\n/***/ }),\n\n/***/ \"Gfzd\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"zotD\"),\n    IE8_DOM_DEFINE = __webpack_require__(\"R6c1\"),\n    toPrimitive = __webpack_require__(\"EKwp\"),\n    dP = Object.defineProperty;\n\nexports.f = __webpack_require__(\"6MLN\") ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) {/* empty */}\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n/***/ }),\n\n/***/ \"GyB/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(\"6t7t\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(\"ibPW\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n\n/***/ \"H109\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"i1Q6\"),\n    macrotask = __webpack_require__(\"uzcO\").set,\n    Observer = global.MutationObserver || global.WebKitMutationObserver,\n    process = global.process,\n    Promise = global.Promise,\n    isNode = __webpack_require__(\"ShN9\")(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function flush() {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();else last = undefined;\n        throw e;\n      }\n    }last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function notify() {\n      process.nextTick(flush);\n    };\n    // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true,\n        node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function notify() {\n      node.data = toggle = !toggle;\n    };\n    // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function notify() {\n      promise.then(flush);\n    };\n    // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n  } else {\n    notify = function notify() {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    }last = task;\n  };\n};\n\n/***/ }),\n\n/***/ \"H3OR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = __webpack_require__(\"TpZJ\");\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = _client2.default;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"HHE0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(\"yS17\"),\n    toObject = __webpack_require__(\"mbLO\"),\n    IE_PROTO = __webpack_require__(\"/wuY\")('IE_PROTO'),\n    ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  }return O instanceof Object ? ObjectProto : null;\n};\n\n/***/ }),\n\n/***/ \"HxWs\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"Q17y\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"ID6i\":\n/***/ (function(module, exports) {\n\nmodule.exports = function () {/* empty */};\n\n/***/ }),\n\n/***/ \"JE0K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TwilsockUnavailableError = exports.Transport = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _httprequest = __webpack_require__(\"iSVM\");\n\nvar _httprequest2 = _interopRequireDefault(_httprequest);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction parseUri(uri) {\n  var match = uri.match(/^(https?\\:)\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)(\\/[^?#]*)(\\?[^#]*|)(#.*|)$/);\n  if (match) {\n    var uriStruct = {\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    };\n\n    if (uriStruct.search.length > 0) {\n      var paramsString = uriStruct.search.substring(1);\n      uriStruct.params = paramsString.split('&').map(function (el) {\n        return el.split('=');\n      }).reduce(function (prev, curr) {\n        if (!prev.hasOwnProperty(curr[0])) {\n          prev[curr[0]] = curr[1];\n        } else if (Array.isArray(prev[curr[0]])) {\n          prev[curr[0]].push(curr[1]);\n        } else {\n          prev[curr[0]] = [prev[curr[0]], curr[1]];\n        }\n        return prev;\n      }, {});\n    }\n    return uriStruct;\n  }\n  throw new Error('Incorrect URI: ' + uri);\n}\n\nfunction twilsockAddress(method, uri) {\n  var parsedUri = parseUri(uri);\n  var to = {\n    method: method,\n    host: parsedUri.host,\n    path: parsedUri.pathname\n  };\n  if (parsedUri.params) {\n    to.params = parsedUri.params;\n  }\n  return to;\n}\n\nfunction twilsockParams(type, uri, headers, body) {\n  return {\n    to: twilsockAddress(type, uri),\n    headers: headers,\n    body: body\n  };\n}\n\nfunction adaptTwilsockResponse(response) {\n  return { status: response.status,\n    headers: response.header.http_headers,\n    body: response.body };\n}\n\nfunction httpParams(uri, headers, body) {\n  return {\n    url: uri,\n    headers: headers,\n    body: body\n  };\n}\n\nfunction adaptHttpResponse(response) {\n  try {\n    response.body = JSON.parse(response.body);\n  } catch (e) {} // eslint-disable-line no-empty\n  return response;\n}\n\n/**\n * By RFC header names are case-insensitive\n * though it is much easier to work with them in code\n * when they have any specific case.\n * So we forcefully lowercase all headers\n */\nfunction lowercaseHeaders(response) {\n  var keys = Object.keys(response.headers);\n  var n = keys.length;\n  var headers = {};\n  while (n--) {\n    var key = keys[n];\n    headers[key.toLowerCase()] = response.headers[key];\n  }\n  response.headers = headers;\n  return response;\n}\n\n/**\n * Transport specific error.\n * Being fired when twilsock-only transmission requested but not available\n * @inherits Error\n */\n\nvar TwilsockUnavailableError = function (_extendableBuiltin2) {\n  _inherits(TwilsockUnavailableError, _extendableBuiltin2);\n\n  function TwilsockUnavailableError() {\n    _classCallCheck(this, TwilsockUnavailableError);\n\n    return _possibleConstructorReturn(this, (TwilsockUnavailableError.__proto__ || Object.getPrototypeOf(TwilsockUnavailableError)).call(this));\n  }\n\n  return TwilsockUnavailableError;\n}(_extendableBuiltin(Error));\n\n/**\n * Provides generic network interface\n */\n\nvar Transport = function () {\n  function Transport(twilsock) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Transport);\n\n    Object.defineProperties(this, {\n      _activeGetRequests: { value: new Map() },\n      _twilsock: { value: twilsock },\n      _http: { value: _httprequest2.default },\n      _twilsockIsAvailable: { get: function get() {\n          return _this2._twilsock && _this2._twilsock.isConnected;\n        } },\n\n      _concurrentHttpRequestLimit: { value: options.concurrentHttpRequestLimit || Infinity },\n      _concurrentHttpRequestCount: { value: 0, writable: true },\n      _requestQueue: { value: [] }\n    });\n\n    if (twilsock) {\n      twilsock.connect();\n      twilsock.on('connected', function () {\n        return _this2._processQueuedRequests();\n      });\n    }\n  }\n\n  /**\n   * Make a GET request by given URI\n   *\n   * This function applies \"multiplexing\" optimization.\n   * If several requests for the same URI happen on the same time,\n   * only one will really happen, but all clients will see th result.\n   *\n   * @Returns Promise<Response> Result of successful get request\n   */\n\n  _createClass(Transport, [{\n    key: 'get',\n    value: function get(uri, headers, forceTwilsock) {\n      var _this3 = this;\n\n      if (this._activeGetRequests.has(uri)) {\n        return this._activeGetRequests.get(uri);\n      }\n\n      var promise = this._get(uri, headers, forceTwilsock).then(function (response) {\n        _this3._activeGetRequests.delete(uri);\n        return response;\n      }).catch(function (error) {\n        _this3._activeGetRequests.delete(uri);\n        throw error;\n      });\n\n      this._activeGetRequests.set(uri, promise);\n      return promise;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_oneOfBasedOnChannelAvailability',\n    value: function _oneOfBasedOnChannelAvailability(sendingOptions, forceTwilsock) {\n      var _this4 = this;\n\n      var requestVia = function requestVia(paths) {\n        var sendViaTwilsock = paths.sendViaTwilsock,\n            sendDirectHttp = paths.sendDirectHttp;\n\n        if (_this4._twilsockIsAvailable) {\n          return sendViaTwilsock();\n        } else if (forceTwilsock) {\n          return Promise.reject(new TwilsockUnavailableError());\n        } else if (_this4._concurrentHttpRequestCount >= _this4._concurrentHttpRequestLimit) {\n          return new Promise(function (resolve, reject) {\n            return _this4._requestQueue.push({ sendingOptions: sendingOptions, resolve: resolve, reject: reject });\n          });\n        }\n\n        _this4._concurrentHttpRequestCount++;\n        return sendDirectHttp().then(function (r) {\n          _this4._concurrentHttpRequestCount--;\n          _this4._processQueuedRequests();\n          return r;\n        }).catch(function (err) {\n          _this4._concurrentHttpRequestCount--;\n          _this4._processQueuedRequests();\n          throw err;\n        });\n      };\n\n      return requestVia(sendingOptions).then(lowercaseHeaders);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_processQueuedRequests',\n    value: function _processQueuedRequests() {\n      while (this._requestQueue.length > 0 && (this._twilsockIsAvailable || this._concurrentHttpRequestCount < this._concurrentHttpRequestLimit)) {\n\n        var r = this._requestQueue.shift();\n        this._oneOfBasedOnChannelAvailability(r.sendingOptions, false).then(r.resolve).catch(r.reject);\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_get',\n    value: function _get(uri, headers, forceTwilsock) {\n      var _this5 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this5._twilsock.send(twilsockParams('GET', uri, headers)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this5._http.get(httpParams(uri, headers)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a POST request by given URI\n     * @returns {Promise<Response>} Result of successful request\n     */\n\n  }, {\n    key: 'post',\n    value: function post(uri, headers, body, forceTwilsock) {\n      var _this6 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this6._twilsock.send(twilsockParams('POST', uri, headers, body)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this6._http.post(httpParams(uri, headers, body)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a PUT request by given URI\n     * @returns Promise<Response> Result of successful request\n     */\n\n  }, {\n    key: 'put',\n    value: function put(uri, headers, body, forceTwilsock) {\n      var _this7 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this7._twilsock.send(twilsockParams('PUT', uri, headers, body)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this7._http.put(httpParams(uri, headers, body)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a DELETE request by given URI\n     * @returns {Promise<Response>} Result of successful request\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(uri, headers, forceTwilsock) {\n      var _this8 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this8._twilsock.send(twilsockParams('DELETE', uri, headers)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this8._http.delete(httpParams(uri, headers)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n  }]);\n\n  return Transport;\n}();\n\nexports.default = Transport;\nexports.Transport = Transport;\nexports.TwilsockUnavailableError = TwilsockUnavailableError;\n\n/***/ }),\n\n/***/ \"JWsA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\tC-like unsigned 64 bits integers in Javascript\n\tCopyright (C) 2013, Pierre Curto\n\tMIT license\n */\n;(function (root) {\n\n\t// Local cache for typical radices\n\tvar radixPowerCache = {\n\t\t16: UINT64(Math.pow(16, 5)),\n\t\t10: UINT64(Math.pow(10, 5)),\n\t\t2: UINT64(Math.pow(2, 5))\n\t};\n\tvar radixCache = {\n\t\t16: UINT64(16),\n\t\t10: UINT64(10),\n\t\t2: UINT64(2)\n\n\t\t/**\n   *\tRepresents an unsigned 64 bits integer\n   * @constructor\n   * @param {Number} first low bits (8)\n   * @param {Number} second low bits (8)\n   * @param {Number} first high bits (8)\n   * @param {Number} second high bits (8)\n   * or\n   * @param {Number} low bits (32)\n   * @param {Number} high bits (32)\n   * or\n   * @param {String|Number} integer as a string \t\t | integer as a number\n   * @param {Number|Undefined} radix (optional, default=10)\n   * @return \n   */\n\t};function UINT64(a00, a16, a32, a48) {\n\t\tif (!(this instanceof UINT64)) return new UINT64(a00, a16, a32, a48);\n\n\t\tthis.remainder = null;\n\t\tif (typeof a00 == 'string') return fromString.call(this, a00, a16);\n\n\t\tif (typeof a16 == 'undefined') return fromNumber.call(this, a00);\n\n\t\tfromBits.apply(this, arguments);\n\t}\n\n\t/**\n  * Set the current _UINT64_ object with its low and high bits\n  * @method fromBits\n  * @param {Number} first low bits (8)\n  * @param {Number} second low bits (8)\n  * @param {Number} first high bits (8)\n  * @param {Number} second high bits (8)\n  * or\n  * @param {Number} low bits (32)\n  * @param {Number} high bits (32)\n  * @return ThisExpression\n  */\n\tfunction fromBits(a00, a16, a32, a48) {\n\t\tif (typeof a32 == 'undefined') {\n\t\t\tthis._a00 = a00 & 0xFFFF;\n\t\t\tthis._a16 = a00 >>> 16;\n\t\t\tthis._a32 = a16 & 0xFFFF;\n\t\t\tthis._a48 = a16 >>> 16;\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._a00 = a00 | 0;\n\t\tthis._a16 = a16 | 0;\n\t\tthis._a32 = a32 | 0;\n\t\tthis._a48 = a48 | 0;\n\n\t\treturn this;\n\t}\n\tUINT64.prototype.fromBits = fromBits;\n\n\t/**\n  * Set the current _UINT64_ object from a number\n  * @method fromNumber\n  * @param {Number} number\n  * @return ThisExpression\n  */\n\tfunction fromNumber(value) {\n\t\tthis._a00 = value & 0xFFFF;\n\t\tthis._a16 = value >>> 16;\n\t\tthis._a32 = 0;\n\t\tthis._a48 = 0;\n\n\t\treturn this;\n\t}\n\tUINT64.prototype.fromNumber = fromNumber;\n\n\t/**\n  * Set the current _UINT64_ object from a string\n  * @method fromString\n  * @param {String} integer as a string\n  * @param {Number} radix (optional, default=10)\n  * @return ThisExpression\n  */\n\tfunction fromString(s, radix) {\n\t\tradix = radix || 10;\n\n\t\tthis._a00 = 0;\n\t\tthis._a16 = 0;\n\t\tthis._a32 = 0;\n\t\tthis._a48 = 0;\n\n\t\t/*\n  \tIn Javascript, bitwise operators only operate on the first 32 bits \n  \tof a number, even though parseInt() encodes numbers with a 53 bits \n  \tmantissa.\n  \tTherefore UINT64(<Number>) can only work on 32 bits.\n  \tThe radix maximum value is 36 (as per ECMA specs) (26 letters + 10 digits)\n  \tmaximum input value is m = 32bits as 1 = 2^32 - 1\n  \tSo the maximum substring length n is:\n  \t36^(n+1) - 1 = 2^32 - 1\n  \t36^(n+1) = 2^32\n  \t(n+1)ln(36) = 32ln(2)\n  \tn = 32ln(2)/ln(36) - 1\n  \tn = 5.189644915687692\n  \tn = 5\n   */\n\t\tvar radixUint = radixPowerCache[radix] || new UINT64(Math.pow(radix, 5));\n\n\t\tfor (var i = 0, len = s.length; i < len; i += 5) {\n\t\t\tvar size = Math.min(5, len - i);\n\t\t\tvar value = parseInt(s.slice(i, i + size), radix);\n\t\t\tthis.multiply(size < 5 ? new UINT64(Math.pow(radix, size)) : radixUint).add(new UINT64(value));\n\t\t}\n\n\t\treturn this;\n\t}\n\tUINT64.prototype.fromString = fromString;\n\n\t/**\n  * Convert this _UINT64_ to a number (last 32 bits are dropped)\n  * @method toNumber\n  * @return {Number} the converted UINT64\n  */\n\tUINT64.prototype.toNumber = function () {\n\t\treturn this._a16 * 65536 + this._a00;\n\t};\n\n\t/**\n  * Convert this _UINT64_ to a string\n  * @method toString\n  * @param {Number} radix (optional, default=10)\n  * @return {String} the converted UINT64\n  */\n\tUINT64.prototype.toString = function (radix) {\n\t\tradix = radix || 10;\n\t\tvar radixUint = radixCache[radix] || new UINT64(radix);\n\n\t\tif (!this.gt(radixUint)) return this.toNumber().toString(radix);\n\n\t\tvar self = this.clone();\n\t\tvar res = new Array(64);\n\t\tfor (var i = 63; i >= 0; i--) {\n\t\t\tself.div(radixUint);\n\t\t\tres[i] = self.remainder.toNumber().toString(radix);\n\t\t\tif (!self.gt(radixUint)) break;\n\t\t}\n\t\tres[i - 1] = self.toNumber().toString(radix);\n\n\t\treturn res.join('');\n\t};\n\n\t/**\n  * Add two _UINT64_. The current _UINT64_ stores the result\n  * @method add\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.add = function (other) {\n\t\tvar a00 = this._a00 + other._a00;\n\n\t\tvar a16 = a00 >>> 16;\n\t\ta16 += this._a16 + other._a16;\n\n\t\tvar a32 = a16 >>> 16;\n\t\ta32 += this._a32 + other._a32;\n\n\t\tvar a48 = a32 >>> 16;\n\t\ta48 += this._a48 + other._a48;\n\n\t\tthis._a00 = a00 & 0xFFFF;\n\t\tthis._a16 = a16 & 0xFFFF;\n\t\tthis._a32 = a32 & 0xFFFF;\n\t\tthis._a48 = a48 & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Subtract two _UINT64_. The current _UINT64_ stores the result\n  * @method subtract\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.subtract = function (other) {\n\t\treturn this.add(other.clone().negate());\n\t};\n\n\t/**\n  * Multiply two _UINT64_. The current _UINT64_ stores the result\n  * @method multiply\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.multiply = function (other) {\n\t\t/*\n  \ta = a00 + a16 + a32 + a48\n  \tb = b00 + b16 + b32 + b48\n  \ta*b = (a00 + a16 + a32 + a48)(b00 + b16 + b32 + b48)\n  \t\t= a00b00 + a00b16 + a00b32 + a00b48\n  \t\t+ a16b00 + a16b16 + a16b32 + a16b48\n  \t\t+ a32b00 + a32b16 + a32b32 + a32b48\n  \t\t+ a48b00 + a48b16 + a48b32 + a48b48\n  \t\ta16b48, a32b32, a48b16, a48b32 and a48b48 overflow the 64 bits\n  \tso it comes down to:\n  \ta*b\t= a00b00 + a00b16 + a00b32 + a00b48\n  \t\t+ a16b00 + a16b16 + a16b32\n  \t\t+ a32b00 + a32b16\n  \t\t+ a48b00\n  \t\t= a00b00\n  \t\t+ a00b16 + a16b00\n  \t\t+ a00b32 + a16b16 + a32b00\n  \t\t+ a00b48 + a16b32 + a32b16 + a48b00\n   */\n\t\tvar a00 = this._a00;\n\t\tvar a16 = this._a16;\n\t\tvar a32 = this._a32;\n\t\tvar a48 = this._a48;\n\t\tvar b00 = other._a00;\n\t\tvar b16 = other._a16;\n\t\tvar b32 = other._a32;\n\t\tvar b48 = other._a48;\n\n\t\tvar c00 = a00 * b00;\n\n\t\tvar c16 = c00 >>> 16;\n\t\tc16 += a00 * b16;\n\t\tvar c32 = c16 >>> 16;\n\t\tc16 &= 0xFFFF;\n\t\tc16 += a16 * b00;\n\n\t\tc32 += c16 >>> 16;\n\t\tc32 += a00 * b32;\n\t\tvar c48 = c32 >>> 16;\n\t\tc32 &= 0xFFFF;\n\t\tc32 += a16 * b16;\n\t\tc48 += c32 >>> 16;\n\t\tc32 &= 0xFFFF;\n\t\tc32 += a32 * b00;\n\n\t\tc48 += c32 >>> 16;\n\t\tc48 += a00 * b48;\n\t\tc48 &= 0xFFFF;\n\t\tc48 += a16 * b32;\n\t\tc48 &= 0xFFFF;\n\t\tc48 += a32 * b16;\n\t\tc48 &= 0xFFFF;\n\t\tc48 += a48 * b00;\n\n\t\tthis._a00 = c00 & 0xFFFF;\n\t\tthis._a16 = c16 & 0xFFFF;\n\t\tthis._a32 = c32 & 0xFFFF;\n\t\tthis._a48 = c48 & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Divide two _UINT64_. The current _UINT64_ stores the result.\n  * The remainder is made available as the _remainder_ property on\n  * the _UINT64_ object. It can be null, meaning there are no remainder.\n  * @method div\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.div = function (other) {\n\t\tif (other._a16 == 0 && other._a32 == 0 && other._a48 == 0) {\n\t\t\tif (other._a00 == 0) throw Error('division by zero');\n\n\t\t\t// other == 1: this\n\t\t\tif (other._a00 == 1) {\n\t\t\t\tthis.remainder = new UINT64(0);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// other > this: 0\n\t\tif (other.gt(this)) {\n\t\t\tthis.remainder = this.clone();\n\t\t\tthis._a00 = 0;\n\t\t\tthis._a16 = 0;\n\t\t\tthis._a32 = 0;\n\t\t\tthis._a48 = 0;\n\t\t\treturn this;\n\t\t}\n\t\t// other == this: 1\n\t\tif (this.eq(other)) {\n\t\t\tthis.remainder = new UINT64(0);\n\t\t\tthis._a00 = 1;\n\t\t\tthis._a16 = 0;\n\t\t\tthis._a32 = 0;\n\t\t\tthis._a48 = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\t// Shift the divisor left until it is higher than the dividend\n\t\tvar _other = other.clone();\n\t\tvar i = -1;\n\t\twhile (!this.lt(_other)) {\n\t\t\t// High bit can overflow the default 16bits\n\t\t\t// Its ok since we right shift after this loop\n\t\t\t// The overflown bit must be kept though\n\t\t\t_other.shiftLeft(1, true);\n\t\t\ti++;\n\t\t}\n\n\t\t// Set the remainder\n\t\tthis.remainder = this.clone();\n\t\t// Initialize the current result to 0\n\t\tthis._a00 = 0;\n\t\tthis._a16 = 0;\n\t\tthis._a32 = 0;\n\t\tthis._a48 = 0;\n\t\tfor (; i >= 0; i--) {\n\t\t\t_other.shiftRight(1);\n\t\t\t// If shifted divisor is smaller than the dividend\n\t\t\t// then subtract it from the dividend\n\t\t\tif (!this.remainder.lt(_other)) {\n\t\t\t\tthis.remainder.subtract(_other);\n\t\t\t\t// Update the current result\n\t\t\t\tif (i >= 48) {\n\t\t\t\t\tthis._a48 |= 1 << i - 48;\n\t\t\t\t} else if (i >= 32) {\n\t\t\t\t\tthis._a32 |= 1 << i - 32;\n\t\t\t\t} else if (i >= 16) {\n\t\t\t\t\tthis._a16 |= 1 << i - 16;\n\t\t\t\t} else {\n\t\t\t\t\tthis._a00 |= 1 << i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Negate the current _UINT64_\n  * @method negate\n  * @return ThisExpression\n  */\n\tUINT64.prototype.negate = function () {\n\t\tvar v = (~this._a00 & 0xFFFF) + 1;\n\t\tthis._a00 = v & 0xFFFF;\n\t\tv = (~this._a16 & 0xFFFF) + (v >>> 16);\n\t\tthis._a16 = v & 0xFFFF;\n\t\tv = (~this._a32 & 0xFFFF) + (v >>> 16);\n\t\tthis._a32 = v & 0xFFFF;\n\t\tthis._a48 = ~this._a48 + (v >>> 16) & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n \t * @method eq\n  * @param {Object} other UINT64\n  * @return {Boolean}\n  */\n\tUINT64.prototype.equals = UINT64.prototype.eq = function (other) {\n\t\treturn this._a48 == other._a48 && this._a00 == other._a00 && this._a32 == other._a32 && this._a16 == other._a16;\n\t};\n\n\t/**\n  * Greater than (strict)\n  * @method gt\n  * @param {Object} other UINT64\n  * @return {Boolean}\n  */\n\tUINT64.prototype.greaterThan = UINT64.prototype.gt = function (other) {\n\t\tif (this._a48 > other._a48) return true;\n\t\tif (this._a48 < other._a48) return false;\n\t\tif (this._a32 > other._a32) return true;\n\t\tif (this._a32 < other._a32) return false;\n\t\tif (this._a16 > other._a16) return true;\n\t\tif (this._a16 < other._a16) return false;\n\t\treturn this._a00 > other._a00;\n\t};\n\n\t/**\n  * Less than (strict)\n  * @method lt\n  * @param {Object} other UINT64\n  * @return {Boolean}\n  */\n\tUINT64.prototype.lessThan = UINT64.prototype.lt = function (other) {\n\t\tif (this._a48 < other._a48) return true;\n\t\tif (this._a48 > other._a48) return false;\n\t\tif (this._a32 < other._a32) return true;\n\t\tif (this._a32 > other._a32) return false;\n\t\tif (this._a16 < other._a16) return true;\n\t\tif (this._a16 > other._a16) return false;\n\t\treturn this._a00 < other._a00;\n\t};\n\n\t/**\n  * Bitwise OR\n  * @method or\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.or = function (other) {\n\t\tthis._a00 |= other._a00;\n\t\tthis._a16 |= other._a16;\n\t\tthis._a32 |= other._a32;\n\t\tthis._a48 |= other._a48;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise AND\n  * @method and\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.and = function (other) {\n\t\tthis._a00 &= other._a00;\n\t\tthis._a16 &= other._a16;\n\t\tthis._a32 &= other._a32;\n\t\tthis._a48 &= other._a48;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise XOR\n  * @method xor\n  * @param {Object} other UINT64\n  * @return ThisExpression\n  */\n\tUINT64.prototype.xor = function (other) {\n\t\tthis._a00 ^= other._a00;\n\t\tthis._a16 ^= other._a16;\n\t\tthis._a32 ^= other._a32;\n\t\tthis._a48 ^= other._a48;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise NOT\n  * @method not\n  * @return ThisExpression\n  */\n\tUINT64.prototype.not = function () {\n\t\tthis._a00 = ~this._a00 & 0xFFFF;\n\t\tthis._a16 = ~this._a16 & 0xFFFF;\n\t\tthis._a32 = ~this._a32 & 0xFFFF;\n\t\tthis._a48 = ~this._a48 & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise shift right\n  * @method shiftRight\n  * @param {Number} number of bits to shift\n  * @return ThisExpression\n  */\n\tUINT64.prototype.shiftRight = UINT64.prototype.shiftr = function (n) {\n\t\tn %= 64;\n\t\tif (n >= 48) {\n\t\t\tthis._a00 = this._a48 >> n - 48;\n\t\t\tthis._a16 = 0;\n\t\t\tthis._a32 = 0;\n\t\t\tthis._a48 = 0;\n\t\t} else if (n >= 32) {\n\t\t\tn -= 32;\n\t\t\tthis._a00 = (this._a32 >> n | this._a48 << 16 - n) & 0xFFFF;\n\t\t\tthis._a16 = this._a48 >> n & 0xFFFF;\n\t\t\tthis._a32 = 0;\n\t\t\tthis._a48 = 0;\n\t\t} else if (n >= 16) {\n\t\t\tn -= 16;\n\t\t\tthis._a00 = (this._a16 >> n | this._a32 << 16 - n) & 0xFFFF;\n\t\t\tthis._a16 = (this._a32 >> n | this._a48 << 16 - n) & 0xFFFF;\n\t\t\tthis._a32 = this._a48 >> n & 0xFFFF;\n\t\t\tthis._a48 = 0;\n\t\t} else {\n\t\t\tthis._a00 = (this._a00 >> n | this._a16 << 16 - n) & 0xFFFF;\n\t\t\tthis._a16 = (this._a16 >> n | this._a32 << 16 - n) & 0xFFFF;\n\t\t\tthis._a32 = (this._a32 >> n | this._a48 << 16 - n) & 0xFFFF;\n\t\t\tthis._a48 = this._a48 >> n & 0xFFFF;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise shift left\n  * @method shiftLeft\n  * @param {Number} number of bits to shift\n  * @param {Boolean} allow overflow\n  * @return ThisExpression\n  */\n\tUINT64.prototype.shiftLeft = UINT64.prototype.shiftl = function (n, allowOverflow) {\n\t\tn %= 64;\n\t\tif (n >= 48) {\n\t\t\tthis._a48 = this._a00 << n - 48;\n\t\t\tthis._a32 = 0;\n\t\t\tthis._a16 = 0;\n\t\t\tthis._a00 = 0;\n\t\t} else if (n >= 32) {\n\t\t\tn -= 32;\n\t\t\tthis._a48 = this._a16 << n | this._a00 >> 16 - n;\n\t\t\tthis._a32 = this._a00 << n & 0xFFFF;\n\t\t\tthis._a16 = 0;\n\t\t\tthis._a00 = 0;\n\t\t} else if (n >= 16) {\n\t\t\tn -= 16;\n\t\t\tthis._a48 = this._a32 << n | this._a16 >> 16 - n;\n\t\t\tthis._a32 = (this._a16 << n | this._a00 >> 16 - n) & 0xFFFF;\n\t\t\tthis._a16 = this._a00 << n & 0xFFFF;\n\t\t\tthis._a00 = 0;\n\t\t} else {\n\t\t\tthis._a48 = this._a48 << n | this._a32 >> 16 - n;\n\t\t\tthis._a32 = (this._a32 << n | this._a16 >> 16 - n) & 0xFFFF;\n\t\t\tthis._a16 = (this._a16 << n | this._a00 >> 16 - n) & 0xFFFF;\n\t\t\tthis._a00 = this._a00 << n & 0xFFFF;\n\t\t}\n\t\tif (!allowOverflow) {\n\t\t\tthis._a48 &= 0xFFFF;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise rotate left\n  * @method rotl\n  * @param {Number} number of bits to rotate\n  * @return ThisExpression\n  */\n\tUINT64.prototype.rotateLeft = UINT64.prototype.rotl = function (n) {\n\t\tn %= 64;\n\t\tif (n == 0) return this;\n\t\tif (n >= 32) {\n\t\t\t// A.B.C.D\n\t\t\t// B.C.D.A rotl(16)\n\t\t\t// C.D.A.B rotl(32)\n\t\t\tvar v = this._a00;\n\t\t\tthis._a00 = this._a32;\n\t\t\tthis._a32 = v;\n\t\t\tv = this._a48;\n\t\t\tthis._a48 = this._a16;\n\t\t\tthis._a16 = v;\n\t\t\tif (n == 32) return this;\n\t\t\tn -= 32;\n\t\t}\n\n\t\tvar high = this._a48 << 16 | this._a32;\n\t\tvar low = this._a16 << 16 | this._a00;\n\n\t\tvar _high = high << n | low >>> 32 - n;\n\t\tvar _low = low << n | high >>> 32 - n;\n\n\t\tthis._a00 = _low & 0xFFFF;\n\t\tthis._a16 = _low >>> 16;\n\t\tthis._a32 = _high & 0xFFFF;\n\t\tthis._a48 = _high >>> 16;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise rotate right\n  * @method rotr\n  * @param {Number} number of bits to rotate\n  * @return ThisExpression\n  */\n\tUINT64.prototype.rotateRight = UINT64.prototype.rotr = function (n) {\n\t\tn %= 64;\n\t\tif (n == 0) return this;\n\t\tif (n >= 32) {\n\t\t\t// A.B.C.D\n\t\t\t// D.A.B.C rotr(16)\n\t\t\t// C.D.A.B rotr(32)\n\t\t\tvar v = this._a00;\n\t\t\tthis._a00 = this._a32;\n\t\t\tthis._a32 = v;\n\t\t\tv = this._a48;\n\t\t\tthis._a48 = this._a16;\n\t\t\tthis._a16 = v;\n\t\t\tif (n == 32) return this;\n\t\t\tn -= 32;\n\t\t}\n\n\t\tvar high = this._a48 << 16 | this._a32;\n\t\tvar low = this._a16 << 16 | this._a00;\n\n\t\tvar _high = high >>> n | low << 32 - n;\n\t\tvar _low = low >>> n | high << 32 - n;\n\n\t\tthis._a00 = _low & 0xFFFF;\n\t\tthis._a16 = _low >>> 16;\n\t\tthis._a32 = _high & 0xFFFF;\n\t\tthis._a48 = _high >>> 16;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Clone the current _UINT64_\n  * @method clone\n  * @return {Object} cloned UINT64\n  */\n\tUINT64.prototype.clone = function () {\n\t\treturn new UINT64(this._a00, this._a16, this._a32, this._a48);\n\t};\n\n\tif (true) {\n\t\t// AMD / RequireJS\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn UINT64;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module != 'undefined' && module.exports) {\n\t\t// Node.js\n\t\tmodule.exports = UINT64;\n\t} else {\n\t\t// Browser\n\t\troot['UINT64'] = UINT64;\n\t}\n})(this);\n\n/***/ }),\n\n/***/ \"Jb0q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Container for entities which are known by the client\n * It's needed for deduplication when client obtain the same object several times\n */\n\nvar EntitiesCache = function () {\n    function EntitiesCache() {\n        (0, _classCallCheck3.default)(this, EntitiesCache);\n\n        this.names = new _map2.default();\n        this.entities = new _map2.default();\n    }\n\n    (0, _createClass3.default)(EntitiesCache, [{\n        key: \"store\",\n        value: function store(entity) {\n            var stored = this.entities.get(entity.sid);\n            if (stored) {\n                return stored;\n            }\n            this.entities.set(entity.sid, entity);\n            if (entity.uniqueName) {\n                this.names.set(entity.type + '::' + entity.uniqueName, entity.sid);\n            }\n            return entity;\n        }\n    }, {\n        key: \"getResolved\",\n        value: function getResolved(id, type) {\n            var resolvedSid = this.names.get(type + '::' + id);\n            return resolvedSid ? this.entities.get(resolvedSid) : null;\n        }\n    }, {\n        key: \"get\",\n        value: function get(id, type) {\n            return this.entities.get(id) || this.getResolved(id, type) || null;\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(sid) {\n            var cached = this.entities.get(sid);\n            if (cached) {\n                this.entities.delete(sid);\n                if (cached.uniqueName) {\n                    this.names.delete(cached.type + '::' + cached.uniqueName);\n                }\n            }\n        }\n    }]);\n    return EntitiesCache;\n}();\n\nexports.EntitiesCache = EntitiesCache;\n\n/***/ }),\n\n/***/ \"JgNJ\":\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n/***/ }),\n\n/***/ \"JkW7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/material-design-lite/dist/material.indigo-red.min.css\nvar material_indigo_red_min = __webpack_require__(\"rdar\");\nvar material_indigo_red_min_default = /*#__PURE__*/__webpack_require__.n(material_indigo_red_min);\n\n// EXTERNAL MODULE: ../node_modules/@material/select/dist/mdc.select.css\nvar mdc_select = __webpack_require__(\"bM4l\");\nvar mdc_select_default = /*#__PURE__*/__webpack_require__.n(mdc_select);\n\n// EXTERNAL MODULE: ./style/index.less\nvar style = __webpack_require__(\"EbM4\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ../node_modules/preact-router/match.js\nvar match = __webpack_require__(\"sw5u\");\nvar match_default = /*#__PURE__*/__webpack_require__.n(match);\n\n// EXTERNAL MODULE: ./lib/sync-client.js\nvar sync_client = __webpack_require__(\"Lpj9\");\n\n// EXTERNAL MODULE: ../node_modules/preact-cli/lib/components/async.js\nvar components_async = __webpack_require__(\"7N8r\");\nvar async_default = /*#__PURE__*/__webpack_require__.n(components_async);\n\n// CONCATENATED MODULE: ./routes/admin/index.js\n\n\t\t\n\n\t\tfunction load(cb) {\n\t\t\t__webpack_require__.e/* require.ensure */(1).then((function (require) {\n\t\t\t\tcb( __webpack_require__(\"tUI8\") );\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t}\n\n\t\t/* harmony default export */ var admin = (async_default()(load));\n\t\n// CONCATENATED MODULE: ./routes/dashboard/index.js\n\n\t\t\n\n\t\tfunction dashboard_load(cb) {\n\t\t\t__webpack_require__.e/* require.ensure */(0).then((function (require) {\n\t\t\t\tcb( __webpack_require__(\"r0Pb\") );\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t}\n\n\t\t/* harmony default export */ var dashboard = (async_default()(dashboard_load));\n\t\n// CONCATENATED MODULE: ./routes/home/index.js\n\n\t\t\n\n\t\tfunction home_load(cb) {\n\t\t\t__webpack_require__.e/* require.ensure */(4).then((function (require) {\n\t\t\t\tcb( __webpack_require__(\"iOg+\") );\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t}\n\n\t\t/* harmony default export */ var home = (async_default()(home_load));\n\t\n// CONCATENATED MODULE: ./routes/kiosk/index.js\n\n\t\t\n\n\t\tfunction kiosk_load(cb) {\n\t\t\t__webpack_require__.e/* require.ensure */(3).then((function (require) {\n\t\t\t\tcb( __webpack_require__(\"5ZbU\") );\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t}\n\n\t\t/* harmony default export */ var kiosk = (async_default()(kiosk_load));\n\t\n// CONCATENATED MODULE: ./routes/orders/index.js\n\n\t\t\n\n\t\tfunction orders_load(cb) {\n\t\t\t__webpack_require__.e/* require.ensure */(2).then((function (require) {\n\t\t\t\tcb( __webpack_require__(\"ErJU\") );\n\t\t\t}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n\t\t}\n\n\t\t/* harmony default export */ var orders = (async_default()(orders_load));\n\t\n// EXTERNAL MODULE: ./components/header/style.less\nvar header_style = __webpack_require__(\"V3m6\");\nvar header_style_default = /*#__PURE__*/__webpack_require__.n(header_style);\n\n// CONCATENATED MODULE: ./components/header/index.js\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar header__ref = Object(preact_min[\"h\"])(\n  'h1',\n  null,\n  'Twilio Barista'\n);\n\nvar header_Header = function (_Component) {\n  _inherits(Header, _Component);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Header.prototype.render = function render() {\n    var adminLink = this.props.isAdmin && Object(preact_min[\"h\"])(\n      match[\"Link\"],\n      { activeClassName: header_style_default.a.active, href: '/admin' },\n      'Admin'\n    );\n    // const ordersLink =\n    //   this.props.isLoggedIn &&\n    //   <Link activeClassName={style.active} href=\"/orders\">\n    //     Orders\n    //   </Link>;\n    return Object(preact_min[\"h\"])(\n      'header',\n      { 'class': header_style_default.a.header },\n      header__ref,\n      Object(preact_min[\"h\"])(\n        'nav',\n        null,\n        Object(preact_min[\"h\"])(\n          match[\"Link\"],\n          { activeClassName: header_style_default.a.active, href: '/' },\n          'Home'\n        ),\n        adminLink\n      )\n    );\n  };\n\n  return Header;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./components/app.js\n\n\nfunction app__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction app__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction app__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar _ref2 = Object(preact_min[\"h\"])(home, { path: '/' });\n\nvar _ref3 = Object(preact_min[\"h\"])(orders, { path: '/:eventId/orders' });\n\nvar _ref4 = Object(preact_min[\"h\"])(kiosk, { path: '/:eventId/kiosk' });\n\nvar _ref5 = Object(preact_min[\"h\"])(dashboard, { path: '/:eventId/dashboard' });\n\nvar app_App = function (_Component) {\n  app__inherits(App, _Component);\n\n  function App() {\n    app__classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = app__possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args)));\n\n    _this.handleRoute = function (e) {\n      _this.currentUrl = e.url;\n    };\n\n    _this.state.isLoggedIn = false;\n    _this.state.isAdmin = false;\n    _this.syncClient = sync_client[\"a\" /* default */].shared();\n    return _this;\n  }\n\n  App.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    this.syncClient.on('disconnected', function () {\n      _this2.setState({ isAdmin: false, isLoggedIn: false });\n    });\n    var isDashboard = location.pathname.endsWith('/dashboard');\n    this.syncClient.init(isDashboard).then(function () {\n      var isAdmin = _this2.syncClient.role === 'admin';\n      var isLoggedIn = true;\n      _this2.setState({ isAdmin: isAdmin, isLoggedIn: isLoggedIn });\n    }).catch(function (err) {\n      var isAdmin = false;\n      var isLoggedIn = false;\n      _this2.setState({ isAdmin: isAdmin, isLoggedIn: isLoggedIn });\n    });\n  };\n\n  /** Gets fired when the route changes.\n   *\t@param {Object} event\t\t\"change\" event from [preact-router](http://git.io/preact-router)\n   *\t@param {string} event.url\tThe newly routed URL\n   */\n\n\n  App.prototype.render = function render() {\n    var _this3 = this;\n\n    return Object(preact_min[\"h\"])(\n      'div',\n      { id: 'app' },\n      Object(preact_min[\"h\"])(\n        match[\"Match\"],\n        { path: '/:eventId/kiosk' },\n        function (_ref) {\n          var matches = _ref.matches,\n              path = _ref.path;\n          return _this3.isPathWithHeader(path) && Object(preact_min[\"h\"])(header_Header, {\n            isLoggedIn: _this3.state.isLoggedIn,\n            isAdmin: _this3.state.isAdmin\n          });\n        }\n      ),\n      Object(preact_min[\"h\"])(\n        preact_router_es[\"Router\"],\n        { onChange: this.handleRoute },\n        _ref2,\n        _ref3,\n        Object(preact_min[\"h\"])(admin, { isAdmin: this.state.isAdmin, path: '/admin' }),\n        _ref4,\n        _ref5\n      )\n    );\n  };\n\n  App.prototype.isPathWithHeader = function isPathWithHeader(path) {\n    return !path.endsWith('/kiosk') && !path.endsWith('/dashboard');\n  };\n\n  return App;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./index.js\n\n\n\n\n\n/* harmony default export */ var index = __webpack_exports__[\"default\"] = (app_App);\n\n/***/ }),\n\n/***/ \"K+F3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"tuDi\");\n__webpack_require__(\"i+u+\");\n__webpack_require__(\"COf8\");\n__webpack_require__(\"SKjJ\");\n__webpack_require__(\"2SH0\");\nmodule.exports = __webpack_require__(\"zKeE\").Map;\n\n/***/ }),\n\n/***/ \"KM04\":\n/***/ (function(module, exports, __webpack_require__) {\n\n!function () {\n  \"use strict\";\n  function e() {}function t(t, n) {\n    var o,\n        r,\n        i,\n        l,\n        a = E;for (l = arguments.length; l-- > 2;) {\n      W.push(arguments[l]);\n    }n && null != n.children && (W.length || W.push(n.children), delete n.children);while (W.length) {\n      if ((r = W.pop()) && void 0 !== r.pop) for (l = r.length; l--;) {\n        W.push(r[l]);\n      } else \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\n    }var u = new e();return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\n  }function n(e, t) {\n    for (var n in t) {\n      e[n] = t[n];\n    }return e;\n  }function o(e, o) {\n    return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\n  }function r(e) {\n    !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\n  }function i() {\n    var e,\n        t = A;A = [];while (e = t.pop()) {\n      e.__d && k(e);\n    }\n  }function l(e, t, n) {\n    return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n  }function a(e, t) {\n    return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n  }function u(e) {\n    var t = n({}, e.attributes);t.children = e.children;var o = e.nodeName.defaultProps;if (void 0 !== o) for (var r in o) {\n      void 0 === t[r] && (t[r] = o[r]);\n    }return t;\n  }function _(e, t) {\n    var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);return n.__n = e, n;\n  }function p(e) {\n    var t = e.parentNode;t && t.removeChild(e);\n  }function c(e, t, n, o, r) {\n    if (\"className\" === t && (t = \"class\"), \"key\" === t) ;else if (\"ref\" === t) n && n(null), o && o(e);else if (\"class\" !== t || r) {\n      if (\"style\" === t) {\n        if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n          if (\"string\" != typeof n) for (var i in n) {\n            i in o || (e.style[i] = \"\");\n          }for (var i in o) {\n            e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\n          }\n        }\n      } else if (\"dangerouslySetInnerHTML\" === t) o && (e.innerHTML = o.__html || \"\");else if (\"o\" == t[0] && \"n\" == t[1]) {\n        var l = t !== (t = t.replace(/Capture$/, \"\"));t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\n      } else if (\"list\" !== t && \"type\" !== t && !r && t in e) s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);else {\n        var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n      }\n    } else e.className = o || \"\";\n  }function s(e, t, n) {\n    try {\n      e[t] = n;\n    } catch (e) {}\n  }function f(e) {\n    return this.__l[e.type](S.event && S.event(e) || e);\n  }function d() {\n    var e;while (e = D.pop()) {\n      S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\n    }\n  }function h(e, t, n, o, r, i) {\n    H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));var l = m(e, t, n, o, i);return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\n  }function m(e, t, n, o, r) {\n    var i = e,\n        l = R;if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;var u = t.nodeName;if (\"function\" == typeof u) return U(e, t, n, o);if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\n      while (e.firstChild) {\n        i.appendChild(e.firstChild);\n      }e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\n    }var p = i.firstChild,\n        c = i.__preactattr_,\n        s = t.children;if (null == c) {\n      c = i.__preactattr_ = {};for (var f = i.attributes, d = f.length; d--;) {\n        c[f[d].name] = f[d].value;\n      }\n    }return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\n  }function v(e, t, n, o, r) {\n    var i,\n        a,\n        u,\n        _,\n        c,\n        s = e.childNodes,\n        f = [],\n        d = {},\n        h = 0,\n        v = 0,\n        y = s.length,\n        g = 0,\n        w = t ? t.length : 0;if (0 !== y) for (var C = 0; C < y; C++) {\n      var x = s[C],\n          N = x.__preactattr_,\n          k = w && N ? x._component ? x._component.__k : N.key : null;null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\n    }if (0 !== w) for (var C = 0; C < w; C++) {\n      _ = t[C], c = null;var k = _.key;if (null != k) h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);else if (!c && v < g) for (i = v; i < g; i++) {\n        if (void 0 !== f[i] && l(a = f[i], _, r)) {\n          c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;break;\n        }\n      }c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\n    }if (h) for (var C in d) {\n      void 0 !== d[C] && b(d[C], !1);\n    }while (v <= g) {\n      void 0 !== (c = f[g--]) && b(c, !1);\n    }\n  }function b(e, t) {\n    var n = e._component;n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\n  }function y(e) {\n    e = e.lastChild;while (e) {\n      var t = e.previousSibling;b(e, !0), e = t;\n    }\n  }function g(e, t, n) {\n    var o;for (o in n) {\n      t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\n    }for (o in t) {\n      \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\n    }\n  }function w(e) {\n    var t = e.constructor.name;(I[t] || (I[t] = [])).push(e);\n  }function C(e, t, n) {\n    var o,\n        r = I[e.name];if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r) for (var i = r.length; i--;) {\n      if (r[i].constructor === e) {\n        o.__b = r[i].__b, r.splice(i, 1);break;\n      }\n    }return o;\n  }function x(e, t, n) {\n    return this.constructor(e, n);\n  }function N(e, t, n, o, i) {\n    e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\n  }function k(e, t, o, r) {\n    if (!e.__x) {\n      var i,\n          l,\n          a,\n          _ = e.props,\n          p = e.state,\n          c = e.context,\n          s = e.__p || _,\n          f = e.__s || p,\n          m = e.__c || c,\n          v = e.base,\n          y = e.__b,\n          g = v || y,\n          w = e._component,\n          x = !1;if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\n        i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));var U,\n            T,\n            M = i && i.nodeName;if (\"function\" == typeof M) {\n          var W = u(i);l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\n        } else a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));if (g && T !== g && l !== w) {\n          var E = g.parentNode;E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\n        }if (U && L(U), e.base = T, T && !r) {\n          var P = e,\n              V = e;while (V = V.__u) {\n            (P = V).base = T;\n          }T._component = P, T._componentConstructor = P.constructor;\n        }\n      }if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h) while (e.__h.length) {\n        e.__h.pop().call(e);\n      }H || r || d();\n    }\n  }function U(e, t, n, o) {\n    var r = e && e._component,\n        i = r,\n        l = e,\n        a = r && e._componentConstructor === t.nodeName,\n        _ = a,\n        p = u(t);while (r && !_ && (r = r.__u)) {\n      _ = r.constructor === t.nodeName;\n    }return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\n  }function L(e) {\n    S.beforeUnmount && S.beforeUnmount(e);var t = e.base;e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;var n = e._component;n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\n  }function T(e, t) {\n    this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\n  }function M(e, t, n) {\n    return h(n, e, {}, !1, t, !1);\n  }var S = {},\n      W = [],\n      E = [],\n      P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout,\n      V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,\n      A = [],\n      D = [],\n      H = 0,\n      R = !1,\n      j = !1,\n      I = {};n(T.prototype, { setState: function setState(e, t) {\n      var o = this.state;this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\n    }, forceUpdate: function forceUpdate(e) {\n      e && (this.__h = this.__h || []).push(e), k(this, 2);\n    }, render: function render() {} });var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S }; true ? module.exports = $ : self.preact = $;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n/***/ }),\n\n/***/ \"KUik\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || forbiddenField !== undefined && forbiddenField in it) {\n    throw TypeError(name + ': incorrect invocation!');\n  }return it;\n};\n\n/***/ }),\n\n/***/ \"KxjL\":\n/***/ (function(module, exports) {\n\n// IE 8- don't enum bug keys\nmodule.exports = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');\n\n/***/ }),\n\n/***/ \"Ky5l\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"Aa2f\");\n__webpack_require__(\"tuDi\");\n__webpack_require__(\"c6mp\");\n__webpack_require__(\"2mwf\");\nmodule.exports = __webpack_require__(\"zKeE\").Symbol;\n\n/***/ }),\n\n/***/ \"L3Vt\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"9u1Q\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"LGMx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _set2 = __webpack_require__(\"7Zlx\");\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = __webpack_require__(\"EwCr\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _javascriptStateMachine = __webpack_require__(\"uxiv\");\n\nvar _javascriptStateMachine2 = _interopRequireDefault(_javascriptStateMachine);\n\nvar _backoff = __webpack_require__(\"PvFw\");\n\nvar _backoff2 = _interopRequireDefault(_backoff);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction toArray(_set) {\n  var arr = [];\n  _set.forEach(function (v) {\n    return arr.push(v);\n  });\n  return arr;\n}\n\n/**\n * Creates new instance of the ERS registrar\n *\n * @class RegistrarConnector\n * @classdesc Manages the registrations on ERS service.\n * It deduplicates registrations and manages them automatically\n *\n * @param Object configuration\n * @param string notificationId\n * @param string channelType\n * @param Array messageTypes\n */\n\nvar RegistrarConnector = function (_EventEmitter) {\n  (0, _inherits3.default)(RegistrarConnector, _EventEmitter);\n\n  function RegistrarConnector(context, transport, config, channelType) {\n    (0, _classCallCheck3.default)(this, RegistrarConnector);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (RegistrarConnector.__proto__ || (0, _getPrototypeOf2.default)(RegistrarConnector)).call(this));\n\n    var fsm = _javascriptStateMachine2.default.create({\n      initial: { state: 'unregistered', event: 'init', defer: true },\n      events: [{ name: 'userUpdate', from: ['unregistered'], to: 'registering' }, { name: 'userUpdate', from: ['registered'], to: 'unregistering' }, { name: 'registered', from: ['registering', 'retrying'], to: 'registered' }, { name: 'unregistered', from: ['unregistering'], to: 'unregistered' }, { name: 'retry', from: ['retrying'], to: 'retrying' }, { name: 'failure', from: ['registering'], to: 'retrying' }, { name: 'failure', from: ['retrying'], to: 'retrying' }, { name: 'failure', from: ['unregistering'], to: 'unregistered' }],\n      callbacks: {\n        onregistering: function onregistering(event, from, to, arg) {\n          return _this._register(arg);\n        },\n        onunregistering: function onunregistering() {\n          return _this._unregister();\n        },\n        onregistered: function onregistered() {\n          return _this._onRegistered();\n        },\n        onunregistered: function onunregistered() {\n          return _this._onUnregistered();\n        },\n        onretrying: function onretrying(event, from, to, arg) {\n          return _this._initRetry(arg);\n        },\n        onfailure: function onfailure(event, from, to, arg) {\n          if (from === 'retrying') {\n            _this._initRetry(arg);\n          }\n        }\n      }\n    });\n\n    var backoff = _backoff2.default.exponential({\n      randomisationFactor: 0.2,\n      initialDelay: 2 * 1000,\n      maxDelay: 2 * 60 * 1000\n    });\n\n    backoff.on('ready', function () {\n      _this._retry();\n    });\n\n    (0, _defineProperties2.default)(_this, {\n      _transport: { value: transport },\n      _context: { value: context },\n      _url: { value: config.registrarUri, writable: false },\n      _config: { value: config },\n      _fsm: { value: fsm },\n      _backoff: { value: backoff },\n      _channelType: { value: channelType },\n      _registrationId: { value: false, writable: true },\n      _notificationId: { value: false, writable: true },\n      _messageTypes: { value: new _set3.default(), writable: true },\n      _pendingUpdate: { value: null, writable: true }\n    });\n\n    fsm.init();\n    return _this;\n  }\n\n  (0, _createClass3.default)(RegistrarConnector, [{\n    key: 'setNotificationId',\n    value: function setNotificationId(notificationId) {\n      if (this._notificationId === notificationId) {\n        return;\n      }\n\n      this._notificationId = notificationId;\n      this._updateRegistration();\n    }\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      return this._updateRegistration();\n    }\n  }, {\n    key: 'has',\n    value: function has(messageType) {\n      return this._messageTypes.has(messageType);\n    }\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType) {\n      if (this._messageTypes.has(messageType)) {\n        _logger2.default.debug('Message type already registered ', messageType);\n        return false;\n      }\n\n      this._messageTypes.add(messageType);\n      this._updateRegistration();\n      return true;\n    }\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType) {\n      if (!this._messageTypes.has(messageType)) {\n        return false;\n      }\n\n      this._messageTypes.delete(messageType);\n\n      if (this._messageTypes.size > 0) {\n        this._updateRegistration();\n      } else {\n        this._removeRegistration();\n      }\n      return true;\n    }\n  }, {\n    key: '_updateRegistration',\n    value: function _updateRegistration() {\n      if (this._notificationId) {\n        this._update(this._notificationId, toArray(this._messageTypes));\n      }\n    }\n  }, {\n    key: '_removeRegistration',\n    value: function _removeRegistration() {\n      if (this._notificationId) {\n        this._update(this._notificationId, toArray(this._messageTypes));\n      }\n    }\n\n    /**\n     * Update service registration\n     * @param {Array} messageTypes Array of message type names\n     * @private\n     */\n\n  }, {\n    key: '_update',\n    value: function _update(notificationId, messageTypes) {\n      var regData = { notificationId: notificationId, messageTypes: messageTypes };\n\n      if (this._fsm.is('unregistered')) {\n        if (regData.notificationId && regData.messageTypes.length > 0) {\n          this._fsm.userUpdate(regData);\n        }\n      } else if (this._fsm.is('registered')) {\n        this._fsm.userUpdate(regData);\n        this._setPendingUpdate(regData);\n      } else {\n        this._setPendingUpdate(regData);\n      }\n    }\n  }, {\n    key: '_setPendingUpdate',\n    value: function _setPendingUpdate(regData) {\n      this._pendingUpdate = regData;\n    }\n  }, {\n    key: '_checkPendingUpdate',\n    value: function _checkPendingUpdate() {\n      if (!this._pendingUpdate) {\n        return;\n      }\n\n      var pendingUpdate = this._pendingUpdate;\n      this._pendingUpdate = null;\n\n      this._updateRegistration(pendingUpdate.notificationId, pendingUpdate.messageTypes);\n    }\n  }, {\n    key: '_initRetry',\n    value: function _initRetry(regData) {\n      if (!this._pendingUpdate) {\n        this._setPendingUpdate(regData);\n      }\n\n      this._backoff.backoff();\n    }\n  }, {\n    key: '_retry',\n    value: function _retry() {\n      if (!this._pendingUpdate) {\n        return;\n      }\n\n      var pendingUpdate = this._pendingUpdate;\n      this._pendingUpdate = null;\n\n      this._register(pendingUpdate);\n    }\n  }, {\n    key: '_onRegistered',\n    value: function _onRegistered() {\n      this._backoff.reset();\n      this.emit('stateChanged', 'registered');\n      this._checkPendingUpdate();\n    }\n  }, {\n    key: '_onUnregistered',\n    value: function _onUnregistered() {\n      this._backoff.reset();\n      this.emit('stateChanged', 'unregistered');\n      this._checkPendingUpdate();\n    }\n  }, {\n    key: '_register',\n    value: function _register(regData) {\n      var _this2 = this;\n\n      /* eslint-disable camelcase */\n      var registrarRequest = {\n        endpoint_platform: this._context.platform,\n        channel_type: this._channelType,\n        version: '2',\n        message_types: regData.messageTypes,\n        data: {},\n        ttl: 'PT24H'\n      };\n\n      if (this._channelType === 'twilsock') {\n        registrarRequest.data.url = regData.notificationId;\n      } else {\n        registrarRequest.data.registration_id = regData.notificationId;\n      }\n\n      var uri = this._url + '?productId=' + this._context.productId;\n      var headers = {\n        'Content-Type': 'application/json',\n        'X-Twilio-Token': this._config.token\n      };\n      /* eslint-enable camelcase */\n\n      _logger2.default.trace('Creating registration for channel ', this._channelType);\n      return this._transport.post(uri, headers, registrarRequest).then(function (response) {\n        _this2._registrationId = response.body.id;\n        _this2._registrationData = regData;\n\n        _logger2.default.debug('Registration created: ', response);\n        _this2._fsm.registered();\n      }).catch(function (error) {\n        _logger2.default.error('Registration failed: ', error);\n        _this2._fsm.failure(regData);\n        return error;\n      });\n    }\n  }, {\n    key: '_unregister',\n    value: function _unregister() {\n      var _this3 = this;\n\n      if (!this._registrationId) {\n        return _promise2.default.resolve();\n      }\n\n      var uri = this._url + '/' + this._registrationId + '?productId=' + this._context.productId;\n      var headers = {\n        'Content-Type': 'application/json',\n        'X-Twilio-Token': this._config.token\n      };\n\n      _logger2.default.trace('Removing registration for ', this._channelType);\n      return this._transport.delete(uri, headers).then(function () {\n        _logger2.default.debug('Registration removed for ', _this3._channelType);\n        _this3._registrationId = false;\n        _this3._fsm.unregistered();\n      }).catch(function (reason) {\n        // failure to remove registration since being treated as \"unregistered\" state\n        // because it is indicates that something wrong with server/connection\n        _logger2.default.error('Failed to remove of registration ', _this3.channelType, reason);\n        _this3._fsm.failure();\n        return reason;\n      });\n    }\n  }]);\n  return RegistrarConnector;\n}(_events2.default);\n\nexports.default = RegistrarConnector;\n\n(0, _freeze2.default)(RegistrarConnector);\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"LNnS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(\"Wyka\"),\n    toLength = __webpack_require__(\"S7IM\"),\n    toIndex = __webpack_require__(\"N1kU\");\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this),\n        length = toLength(O.length),\n        index = toIndex(fromIndex, length),\n        value;\n    // Array#includes uses SameValueZero equality algorithm\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      if (value != value) return true;\n      // Array#toIndex ignores holes, Array#includes - not\n    } else for (; length > index; index++) {\n      if (IS_INCLUDES || index in O) {\n        if (O[index] === el) return IS_INCLUDES || index || 0;\n      }\n    }return !IS_INCLUDES && -1;\n  };\n};\n\n/***/ }),\n\n/***/ \"LUBQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(\"FRpO\");\nvar operation_retrier_1 = __webpack_require__(\"i/BB\");\nvar configuration_1 = __webpack_require__(\"ZAcJ\");\nvar logger_1 = __webpack_require__(\"luWe\");\nvar persistentState_1 = __webpack_require__(\"AMYL\");\nvar twilio_transport_1 = __webpack_require__(\"JE0K\");\nfunction createPromise() {\n    var pd = { promise: null, resolve: null, reject: null };\n    pd.promise = new _promise2.default(function (resolve, reject) {\n        pd.resolve = resolve;\n        pd.reject = reject;\n    });\n    return pd;\n}\n\nvar TokenRequest = function TokenRequest() {\n    (0, _classCallCheck3.default)(this, TokenRequest);\n};\n/**\n * Client for Twilio Endpoint Management service (EMS).\n */\n\nvar EmsClient = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(EmsClient, _events_1$EventEmitte);\n\n    /**\n     * @param config Configuration structure\n     */\n    function EmsClient(config) {\n        (0, _classCallCheck3.default)(this, EmsClient);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EmsClient.__proto__ || (0, _getPrototypeOf2.default)(EmsClient)).call(this));\n\n        config = config || {};\n        config.transport = config.transport || new twilio_transport_1.Transport(config.twilsockClient || null);\n        _this.state = new persistentState_1.PersistentState();\n        _this.config = new configuration_1.default(config);\n        _this.twilsock = config.twilsockClient;\n        _this.transport = config.transport;\n        return _this;\n    }\n    /**\n     * Set new FPA token\n     * @param fpaToken <String> new FPA token to use\n     * @return Promise<EMSClient#TokenInfo>\n     */\n\n    (0, _createClass3.default)(EmsClient, [{\n        key: \"setToken\",\n        value: function setToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var oldTokenRequest;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.currentFpaToken !== fpaToken) {\n                                    this.currentFpaToken = fpaToken;\n                                    oldTokenRequest = this.currentTokenRequest;\n\n                                    this.currentTokenRequest = this.establishToken(fpaToken);\n                                    this.notifyRejected(oldTokenRequest);\n                                }\n                                return _context.abrupt(\"return\", this.currentTokenRequest.promise);\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"notifyRejected\",\n        value: function notifyRejected(request) {\n            if (request) {\n                setTimeout(function () {\n                    return request.reject(new Error('Operation has been cancelled by next token'));\n                }, 0);\n            }\n        }\n    }, {\n        key: \"establishToken\",\n        value: function establishToken(fpaToken) {\n            var _this2 = this;\n\n            var tokenRequest = new TokenRequest();\n            var promise = new _promise2.default(function (resolve, reject) {\n                _this2.establishTokenImpl(fpaToken).then(resolve).catch(reject);\n                tokenRequest.resolve = resolve;\n                tokenRequest.reject = reject;\n            });\n            tokenRequest.promise = promise;\n            return tokenRequest;\n        }\n    }, {\n        key: \"establishTokenImpl\",\n        value: function establishTokenImpl(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var _this3 = this;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                return _context2.abrupt(\"return\", new operation_retrier_1.default({ min: 500, max: 2000 }).run(function () {\n                                    return _this3.requestRtdToken(fpaToken);\n                                }).then(function (res) {\n                                    if (res.status != 'ok') {\n                                        throw res.exception;\n                                    }\n                                    if (_this3.currentFpaToken !== fpaToken) {\n                                        // user has already set new token. ignoring\n                                        return;\n                                    }\n                                    _this3.state.continuationToken = res.response.continuation_token;\n                                    var rtdToken = res.response.twilio_rtd_token;\n                                    if (res.response.status.status === 'NEW') {\n                                        _this3.emit('tokenCreated', rtdToken);\n                                    } else {\n                                        _this3.emit('tokenUpdated', rtdToken);\n                                    }\n                                    _this3.emit('token', rtdToken);\n                                    var response = {\n                                        token: res.response.twilio_rtd_token,\n                                        ttl: res.response.ttl,\n                                        status: res.response.status.status,\n                                        reason: res.response.status.reason || null,\n                                        identity: res.response.identity || null,\n                                        accountSid: res.response.account_sid,\n                                        serviceSids: res.response.instance_sids\n                                    };\n                                    _this3.emit('response', response);\n                                    return response;\n                                }).catch(function (e) {\n                                    logger_1.default.error(e);\n                                    throw e;\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"requestRtdToken\",\n        value: function requestRtdToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var headers, body, response;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                headers = { 'Content-Type': 'application/json' };\n                                body = {\n                                    fpa_token: fpaToken,\n                                    continuation_token: this.state.continuationToken\n                                };\n\n                                logger_1.default.debug('Token request', body);\n                                _context3.prev = 3;\n                                _context3.next = 6;\n                                return this.transport.post(this.config.url, headers, body);\n\n                            case 6:\n                                response = _context3.sent;\n\n                                logger_1.default.debug('Token response:', response);\n                                return _context3.abrupt(\"return\", { status: 'ok', token: fpaToken, response: response.body });\n\n                            case 11:\n                                _context3.prev = 11;\n                                _context3.t0 = _context3[\"catch\"](3);\n\n                                if (!(_context3.t0.status === 401 || _context3.t0.status === 403)) {\n                                    _context3.next = 16;\n                                    break;\n                                }\n\n                                // map transport error\n                                // TODO: remove me when transport fixed\n                                if (!(_context3.t0 instanceof Error)) {\n                                    if (_context3.t0.body) {\n                                        _context3.t0 = new Error(_context3.t0.body.message);\n                                    } else if (_context3.t0.description) {\n                                        _context3.t0 = new Error(_context3.t0.description);\n                                    }\n                                }\n                                return _context3.abrupt(\"return\", { status: 'denied', exception: _context3.t0, token: null, response: null });\n\n                            case 16:\n                                throw _context3.t0;\n\n                            case 17:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[3, 11]]);\n            }));\n        }\n    }]);\n    return EmsClient;\n}(events_1.EventEmitter);\n\nexports.EmsClient = EmsClient;\n/**\n * This structure describes an RTD token\n * @typedef {Object} EMSClient#TokenInfo\n * @property {String} token - RTD token generated for given FPA token\n * @property {Number} ttl - ttl to calculate expiration token time\n * @property {String} status - Indicates did server generated new token or extended existing. Valid values are ['NEW', 'UPDATED'].\n * @property {String} reason - If service issued a new RTD token, this field describes a reason\n */\n// for backward compatibility\nvar EMSClient = EmsClient;\nexports.EMSClient = EMSClient;\nexports.default = EMSClient;\n\n/***/ }),\n\n/***/ \"LlWG\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"tvE3\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"Lli7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ITERATOR = __webpack_require__(\"Ug9I\")('iterator'),\n    SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () {\n    SAFE_CLOSING = true;\n  };\n  Array.from(riter, function () {\n    throw 2;\n  });\n} catch (e) {/* empty */}\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7],\n        iter = arr[ITERATOR]();\n    iter.next = function () {\n      return { done: safe = true };\n    };\n    arr[ITERATOR] = function () {\n      return iter;\n    };\n    exec(arr);\n  } catch (e) {/* empty */}\n  return safe;\n};\n\n/***/ }),\n\n/***/ \"Lpj9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TwilioClient; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_emitter__ = __webpack_require__(\"PR/g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_emitter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_emitter__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_twilio_common__ = __webpack_require__(\"p+Kh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_twilio_common___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_twilio_common__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_twilio_sync__ = __webpack_require__(\"dVxL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_twilio_sync___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_twilio_sync__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar instance = void 0;\n\nvar TwilioClient /* extends EventEmitter */ = function () {\n  TwilioClient.shared = function shared() {\n    instance = instance || new TwilioClient();\n    return instance;\n  };\n\n  function TwilioClient() {\n    _classCallCheck(this, TwilioClient);\n\n    this.accessManager = undefined;\n    this.client = undefined;\n    this.role = undefined;\n    this.isDashboard = false;\n  }\n\n  TwilioClient.prototype.init = function init(isDashboard) {\n    var _this = this;\n\n    this.isDashboard = isDashboard;\n\n    if (this.client) {\n      return Promise.resolve(this.client);\n    }\n\n    return this.fetchToken().then(function (_ref) {\n      var token = _ref.token,\n          identity = _ref.identity;\n\n      _this.role = identity;\n      _this.accessManager = _this.createAccessManager(token);\n      _this.client = _this.createClient(token);\n      return _this.client;\n    });\n  };\n\n  TwilioClient.prototype.createClient = function createClient(token) {\n    var _this2 = this;\n\n    var client = new __WEBPACK_IMPORTED_MODULE_2_twilio_sync__[\"SyncClient\"](token);\n    client.on('connectionStateChanged', function (_ref2) {\n      var connectionState = _ref2.connectionState;\n\n      if (connectionState === 'disconnected' || connectionState === 'error' || connectionState === 'denied') {\n        console.error('lost connection...');\n        _this2.emit('disconnected');\n        _this2.client = undefined;\n      }\n    });\n    return client;\n  };\n\n  TwilioClient.prototype.createAccessManager = function createAccessManager(token) {\n    var _this3 = this;\n\n    var accessManager = new __WEBPACK_IMPORTED_MODULE_1_twilio_common__[\"AccessManager\"](token);\n    accessManager.on('tokenExpired', function () {\n      _this3.fetchToken().then(function (_ref3) {\n        var token = _ref3.token;\n\n        accessManager.updateToken(token);\n      });\n    });\n    accessManager.on('tokenUpdated', function () {\n      _this3.client.updateToken(_this3.accessManager.token);\n    });\n    return accessManager;\n  };\n\n  TwilioClient.prototype.fetchToken = function fetchToken() {\n    var url = this.isDashboard ? '/api/dashboard-token' : '/api/token';\n    return fetch(url, { credentials: 'include' }).then(function (resp) {\n      return resp.json();\n    });\n  };\n\n  return TwilioClient;\n}();\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_event_emitter__(TwilioClient.prototype);\n\n/***/ }),\n\n/***/ \"Lvd3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"COf8\");\n__webpack_require__(\"i+u+\");\nmodule.exports = __webpack_require__(\"ugM7\");\n\n/***/ }),\n\n/***/ \"MpYs\":\n/***/ (function(module, exports) {\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil,\n    floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n/***/ }),\n\n/***/ \"N1kU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"MpYs\"),\n    max = Math.max,\n    min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n/***/ }),\n\n/***/ \"N484\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ctx = __webpack_require__(\"3zRh\"),\n    $export = __webpack_require__(\"vSO4\"),\n    toObject = __webpack_require__(\"mbLO\"),\n    call = __webpack_require__(\"hEIm\"),\n    isArrayIter = __webpack_require__(\"af0K\"),\n    toLength = __webpack_require__(\"S7IM\"),\n    createProperty = __webpack_require__(\"vUQk\"),\n    getIterFn = __webpack_require__(\"7AqT\");\n\n$export($export.S + $export.F * !__webpack_require__(\"Lli7\")(function (iter) {\n  Array.from(iter);\n}), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /*, mapfn = undefined, thisArg = undefined*/) {\n    var O = toObject(arrayLike),\n        C = typeof this == 'function' ? this : Array,\n        aLen = arguments.length,\n        mapfn = aLen > 1 ? arguments[1] : undefined,\n        mapping = mapfn !== undefined,\n        index = 0,\n        iterFn = getIterFn(O),\n        length,\n        result,\n        step,\n        iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n/***/ }),\n\n/***/ \"N9bW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n/***/ }),\n\n/***/ \"NB7d\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"i1Q6\"),\n    SHARED = '__core-js_shared__',\n    store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n/***/ }),\n\n/***/ \"NQ19\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class Paginator\n * @classdesc Pagination helper class\n *\n * @property {Array} items Array of elements on current page\n * @property {boolean} hasNextPage Indicates the existence of next page\n * @property {boolean} hasPrevPage Indicates the existence of previous page\n */\n\nvar Paginator = function () {\n    /*\n    * @constructor\n    * @param {Array} items Array of element for current page\n    * @param {Object} params\n    * @private\n    */\n    function Paginator(items, source, prevToken, nextToken) {\n        (0, _classCallCheck3.default)(this, Paginator);\n\n        this.prevToken = prevToken;\n        this.nextToken = nextToken;\n        this.items = items;\n        this.source = source;\n    }\n\n    (0, _createClass3.default)(Paginator, [{\n        key: \"nextPage\",\n\n        /**\n         * Request next page.\n         * Does not modify existing object\n         * @return {Promise<Paginator>}\n         */\n        value: function nextPage() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.hasNextPage) {\n                                    _context.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('No next page');\n\n                            case 2:\n                                return _context.abrupt(\"return\", this.source(this.nextToken));\n\n                            case 3:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Request previous page.\n         * Does not modify existing object\n         * @return {Promise<Paginator>}\n         */\n\n    }, {\n        key: \"prevPage\",\n        value: function prevPage() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (this.hasPrevPage) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('No previous page');\n\n                            case 2:\n                                return _context2.abrupt(\"return\", this.source(this.prevToken));\n\n                            case 3:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"hasNextPage\",\n        get: function get() {\n            return !!this.nextToken;\n        }\n    }, {\n        key: \"hasPrevPage\",\n        get: function get() {\n            return !!this.prevToken;\n        }\n    }]);\n    return Paginator;\n}();\n\nexports.Paginator = Paginator;\nexports.default = Paginator;\n\n/***/ }),\n\n/***/ \"Nf0/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/**\nxxHash implementation in pure Javascript\n\nCopyright (C) 2013, Pierre Curto\nMIT license\n*/\nvar UINT32 = __webpack_require__(\"P5jY\").UINT32;\n\n/*\n\tMerged this sequence of method calls as it speeds up\n\tthe calculations by a factor of 2\n */\n// this.v1.add( other.multiply(PRIME32_2) ).rotl(13).multiply(PRIME32_1);\nUINT32.prototype.xxh_update = function (low, high) {\n\tvar b00 = PRIME32_2._low;\n\tvar b16 = PRIME32_2._high;\n\n\tvar c16, c00;\n\tc00 = low * b00;\n\tc16 = c00 >>> 16;\n\n\tc16 += high * b00;\n\tc16 &= 0xFFFF; // Not required but improves performance\n\tc16 += low * b16;\n\n\tvar a00 = this._low + (c00 & 0xFFFF);\n\tvar a16 = a00 >>> 16;\n\n\ta16 += this._high + (c16 & 0xFFFF);\n\n\tvar v = a16 << 16 | a00 & 0xFFFF;\n\tv = v << 13 | v >>> 19;\n\n\ta00 = v & 0xFFFF;\n\ta16 = v >>> 16;\n\n\tb00 = PRIME32_1._low;\n\tb16 = PRIME32_1._high;\n\n\tc00 = a00 * b00;\n\tc16 = c00 >>> 16;\n\n\tc16 += a16 * b00;\n\tc16 &= 0xFFFF; // Not required but improves performance\n\tc16 += a00 * b16;\n\n\tthis._low = c00 & 0xFFFF;\n\tthis._high = c16 & 0xFFFF;\n};\n\n/*\n * Constants\n */\nvar PRIME32_1 = UINT32('2654435761');\nvar PRIME32_2 = UINT32('2246822519');\nvar PRIME32_3 = UINT32('3266489917');\nvar PRIME32_4 = UINT32('668265263');\nvar PRIME32_5 = UINT32('374761393');\n\n/**\n* Convert string to proper UTF-8 array\n* @param str Input string\n* @returns {Uint8Array} UTF8 array is returned as uint8 array\n*/\nfunction toUTF8Array(str) {\n\tvar utf8 = [];\n\tfor (var i = 0, n = str.length; i < n; i++) {\n\t\tvar charcode = str.charCodeAt(i);\n\t\tif (charcode < 0x80) utf8.push(charcode);else if (charcode < 0x800) {\n\t\t\tutf8.push(0xc0 | charcode >> 6, 0x80 | charcode & 0x3f);\n\t\t} else if (charcode < 0xd800 || charcode >= 0xe000) {\n\t\t\tutf8.push(0xe0 | charcode >> 12, 0x80 | charcode >> 6 & 0x3f, 0x80 | charcode & 0x3f);\n\t\t}\n\t\t// surrogate pair\n\t\telse {\n\t\t\t\ti++;\n\t\t\t\t// UTF-16 encodes 0x10000-0x10FFFF by\n\t\t\t\t// subtracting 0x10000 and splitting the\n\t\t\t\t// 20 bits of 0x0-0xFFFFF into two halves\n\t\t\t\tcharcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n\t\t\t\tutf8.push(0xf0 | charcode >> 18, 0x80 | charcode >> 12 & 0x3f, 0x80 | charcode >> 6 & 0x3f, 0x80 | charcode & 0x3f);\n\t\t\t}\n\t}\n\n\treturn new Uint8Array(utf8);\n}\n\n/**\n * XXH object used as a constructor or a function\n * @constructor\n * or\n * @param {Object|String} input data\n * @param {Number|UINT32} seed\n * @return ThisExpression\n * or\n * @return {UINT32} xxHash\n */\nfunction XXH() {\n\tif (arguments.length == 2) return new XXH(arguments[1]).update(arguments[0]).digest();\n\n\tif (!(this instanceof XXH)) return new XXH(arguments[0]);\n\n\tinit.call(this, arguments[0]);\n}\n\n/**\n * Initialize the XXH instance with the given seed\n * @method init\n * @param {Number|Object} seed as a number or an unsigned 32 bits integer\n * @return ThisExpression\n */\nfunction init(seed) {\n\tthis.seed = seed instanceof UINT32 ? seed.clone() : UINT32(seed);\n\tthis.v1 = this.seed.clone().add(PRIME32_1).add(PRIME32_2);\n\tthis.v2 = this.seed.clone().add(PRIME32_2);\n\tthis.v3 = this.seed.clone();\n\tthis.v4 = this.seed.clone().subtract(PRIME32_1);\n\tthis.total_len = 0;\n\tthis.memsize = 0;\n\tthis.memory = null;\n\n\treturn this;\n}\nXXH.prototype.init = init;\n\n/**\n * Add data to be computed for the XXH hash\n * @method update\n * @param {String|Buffer|ArrayBuffer} input as a string or nodejs Buffer or ArrayBuffer\n * @return ThisExpression\n */\nXXH.prototype.update = function (input) {\n\tvar isString = typeof input == 'string';\n\tvar isArrayBuffer;\n\n\t// Convert all strings to utf-8 first (issue #5)\n\tif (isString) {\n\t\tinput = toUTF8Array(input);\n\t\tisString = false;\n\t\tisArrayBuffer = true;\n\t}\n\n\tif (typeof ArrayBuffer !== \"undefined\" && input instanceof ArrayBuffer) {\n\t\tisArrayBuffer = true;\n\t\tinput = new Uint8Array(input);\n\t}\n\n\tvar p = 0;\n\tvar len = input.length;\n\tvar bEnd = p + len;\n\n\tif (len == 0) return this;\n\n\tthis.total_len += len;\n\n\tif (this.memsize == 0) {\n\t\tif (isString) {\n\t\t\tthis.memory = '';\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory = new Uint8Array(16);\n\t\t} else {\n\t\t\tthis.memory = new Buffer(16);\n\t\t}\n\t}\n\n\tif (this.memsize + len < 16) // fill in tmp buffer\n\t\t{\n\t\t\t// XXH_memcpy(this.memory + this.memsize, input, len)\n\t\t\tif (isString) {\n\t\t\t\tthis.memory += input;\n\t\t\t} else if (isArrayBuffer) {\n\t\t\t\tthis.memory.set(input.subarray(0, len), this.memsize);\n\t\t\t} else {\n\t\t\t\tinput.copy(this.memory, this.memsize, 0, len);\n\t\t\t}\n\n\t\t\tthis.memsize += len;\n\t\t\treturn this;\n\t\t}\n\n\tif (this.memsize > 0) // some data left from previous update\n\t\t{\n\t\t\t// XXH_memcpy(this.memory + this.memsize, input, 16-this.memsize);\n\t\t\tif (isString) {\n\t\t\t\tthis.memory += input.slice(0, 16 - this.memsize);\n\t\t\t} else if (isArrayBuffer) {\n\t\t\t\tthis.memory.set(input.subarray(0, 16 - this.memsize), this.memsize);\n\t\t\t} else {\n\t\t\t\tinput.copy(this.memory, this.memsize, 0, 16 - this.memsize);\n\t\t\t}\n\n\t\t\tvar p32 = 0;\n\t\t\tif (isString) {\n\t\t\t\tthis.v1.xxh_update(this.memory.charCodeAt(p32 + 1) << 8 | this.memory.charCodeAt(p32), this.memory.charCodeAt(p32 + 3) << 8 | this.memory.charCodeAt(p32 + 2));\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v2.xxh_update(this.memory.charCodeAt(p32 + 1) << 8 | this.memory.charCodeAt(p32), this.memory.charCodeAt(p32 + 3) << 8 | this.memory.charCodeAt(p32 + 2));\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v3.xxh_update(this.memory.charCodeAt(p32 + 1) << 8 | this.memory.charCodeAt(p32), this.memory.charCodeAt(p32 + 3) << 8 | this.memory.charCodeAt(p32 + 2));\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v4.xxh_update(this.memory.charCodeAt(p32 + 1) << 8 | this.memory.charCodeAt(p32), this.memory.charCodeAt(p32 + 3) << 8 | this.memory.charCodeAt(p32 + 2));\n\t\t\t} else {\n\t\t\t\tthis.v1.xxh_update(this.memory[p32 + 1] << 8 | this.memory[p32], this.memory[p32 + 3] << 8 | this.memory[p32 + 2]);\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v2.xxh_update(this.memory[p32 + 1] << 8 | this.memory[p32], this.memory[p32 + 3] << 8 | this.memory[p32 + 2]);\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v3.xxh_update(this.memory[p32 + 1] << 8 | this.memory[p32], this.memory[p32 + 3] << 8 | this.memory[p32 + 2]);\n\t\t\t\tp32 += 4;\n\t\t\t\tthis.v4.xxh_update(this.memory[p32 + 1] << 8 | this.memory[p32], this.memory[p32 + 3] << 8 | this.memory[p32 + 2]);\n\t\t\t}\n\n\t\t\tp += 16 - this.memsize;\n\t\t\tthis.memsize = 0;\n\t\t\tif (isString) this.memory = '';\n\t\t}\n\n\tif (p <= bEnd - 16) {\n\t\tvar limit = bEnd - 16;\n\n\t\tdo {\n\t\t\tif (isString) {\n\t\t\t\tthis.v1.xxh_update(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2));\n\t\t\t\tp += 4;\n\t\t\t\tthis.v2.xxh_update(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2));\n\t\t\t\tp += 4;\n\t\t\t\tthis.v3.xxh_update(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2));\n\t\t\t\tp += 4;\n\t\t\t\tthis.v4.xxh_update(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2));\n\t\t\t} else {\n\t\t\t\tthis.v1.xxh_update(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2]);\n\t\t\t\tp += 4;\n\t\t\t\tthis.v2.xxh_update(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2]);\n\t\t\t\tp += 4;\n\t\t\t\tthis.v3.xxh_update(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2]);\n\t\t\t\tp += 4;\n\t\t\t\tthis.v4.xxh_update(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2]);\n\t\t\t}\n\t\t\tp += 4;\n\t\t} while (p <= limit);\n\t}\n\n\tif (p < bEnd) {\n\t\t// XXH_memcpy(this.memory, p, bEnd-p);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(p);\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set(input.subarray(p, bEnd), this.memsize);\n\t\t} else {\n\t\t\tinput.copy(this.memory, this.memsize, p, bEnd);\n\t\t}\n\n\t\tthis.memsize = bEnd - p;\n\t}\n\n\treturn this;\n};\n\n/**\n * Finalize the XXH computation. The XXH instance is ready for reuse for the given seed\n * @method digest\n * @return {UINT32} xxHash\n */\nXXH.prototype.digest = function () {\n\tvar input = this.memory;\n\tvar isString = typeof input == 'string';\n\tvar p = 0;\n\tvar bEnd = this.memsize;\n\tvar h32, h;\n\tvar u = new UINT32();\n\n\tif (this.total_len >= 16) {\n\t\th32 = this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18))));\n\t} else {\n\t\th32 = this.seed.clone().add(PRIME32_5);\n\t}\n\n\th32.add(u.fromNumber(this.total_len));\n\n\twhile (p <= bEnd - 4) {\n\t\tif (isString) {\n\t\t\tu.fromBits(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2));\n\t\t} else {\n\t\t\tu.fromBits(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2]);\n\t\t}\n\t\th32.add(u.multiply(PRIME32_3)).rotl(17).multiply(PRIME32_4);\n\t\tp += 4;\n\t}\n\n\twhile (p < bEnd) {\n\t\tu.fromBits(isString ? input.charCodeAt(p++) : input[p++], 0);\n\t\th32.add(u.multiply(PRIME32_5)).rotl(11).multiply(PRIME32_1);\n\t}\n\n\th = h32.clone().shiftRight(15);\n\th32.xor(h).multiply(PRIME32_2);\n\n\th = h32.clone().shiftRight(13);\n\th32.xor(h).multiply(PRIME32_3);\n\n\th = h32.clone().shiftRight(16);\n\th32.xor(h);\n\n\t// Reset the state\n\tthis.init(this.seed);\n\n\treturn h32;\n};\n\nmodule.exports = XXH;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"peL6\").Buffer))\n\n/***/ }),\n\n/***/ \"Ni5N\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(\"B9Lq\"),\n    hiddenKeys = __webpack_require__(\"KxjL\").concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n/***/ }),\n\n/***/ \"O35A\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"i+u+\");\n__webpack_require__(\"N484\");\nmodule.exports = __webpack_require__(\"zKeE\").Array.from;\n\n/***/ }),\n\n/***/ \"O6kh\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar hide = __webpack_require__(\"akPY\");\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];else hide(target, key, src[key]);\n  }return target;\n};\n\n/***/ }),\n\n/***/ \"OFjk\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/**\nxxHash64 implementation in pure Javascript\n\nCopyright (C) 2016, Pierre Curto\nMIT license\n*/\nvar UINT64 = __webpack_require__(\"P5jY\").UINT64;\n\n/*\n * Constants\n */\nvar PRIME64_1 = UINT64('11400714785074694791');\nvar PRIME64_2 = UINT64('14029467366897019727');\nvar PRIME64_3 = UINT64('1609587929392839161');\nvar PRIME64_4 = UINT64('9650029242287828579');\nvar PRIME64_5 = UINT64('2870177450012600261');\n\n/**\n* Convert string to proper UTF-8 array\n* @param str Input string\n* @returns {Uint8Array} UTF8 array is returned as uint8 array\n*/\nfunction toUTF8Array(str) {\n\tvar utf8 = [];\n\tfor (var i = 0, n = str.length; i < n; i++) {\n\t\tvar charcode = str.charCodeAt(i);\n\t\tif (charcode < 0x80) utf8.push(charcode);else if (charcode < 0x800) {\n\t\t\tutf8.push(0xc0 | charcode >> 6, 0x80 | charcode & 0x3f);\n\t\t} else if (charcode < 0xd800 || charcode >= 0xe000) {\n\t\t\tutf8.push(0xe0 | charcode >> 12, 0x80 | charcode >> 6 & 0x3f, 0x80 | charcode & 0x3f);\n\t\t}\n\t\t// surrogate pair\n\t\telse {\n\t\t\t\ti++;\n\t\t\t\t// UTF-16 encodes 0x10000-0x10FFFF by\n\t\t\t\t// subtracting 0x10000 and splitting the\n\t\t\t\t// 20 bits of 0x0-0xFFFFF into two halves\n\t\t\t\tcharcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n\t\t\t\tutf8.push(0xf0 | charcode >> 18, 0x80 | charcode >> 12 & 0x3f, 0x80 | charcode >> 6 & 0x3f, 0x80 | charcode & 0x3f);\n\t\t\t}\n\t}\n\n\treturn new Uint8Array(utf8);\n}\n\n/**\n * XXH64 object used as a constructor or a function\n * @constructor\n * or\n * @param {Object|String} input data\n * @param {Number|UINT64} seed\n * @return ThisExpression\n * or\n * @return {UINT64} xxHash\n */\nfunction XXH64() {\n\tif (arguments.length == 2) return new XXH64(arguments[1]).update(arguments[0]).digest();\n\n\tif (!(this instanceof XXH64)) return new XXH64(arguments[0]);\n\n\tinit.call(this, arguments[0]);\n}\n\n/**\n * Initialize the XXH64 instance with the given seed\n * @method init\n * @param {Number|Object} seed as a number or an unsigned 32 bits integer\n * @return ThisExpression\n */\nfunction init(seed) {\n\tthis.seed = seed instanceof UINT64 ? seed.clone() : UINT64(seed);\n\tthis.v1 = this.seed.clone().add(PRIME64_1).add(PRIME64_2);\n\tthis.v2 = this.seed.clone().add(PRIME64_2);\n\tthis.v3 = this.seed.clone();\n\tthis.v4 = this.seed.clone().subtract(PRIME64_1);\n\tthis.total_len = 0;\n\tthis.memsize = 0;\n\tthis.memory = null;\n\n\treturn this;\n}\nXXH64.prototype.init = init;\n\n/**\n * Add data to be computed for the XXH64 hash\n * @method update\n * @param {String|Buffer|ArrayBuffer} input as a string or nodejs Buffer or ArrayBuffer\n * @return ThisExpression\n */\nXXH64.prototype.update = function (input) {\n\tvar isString = typeof input == 'string';\n\tvar isArrayBuffer;\n\n\t// Convert all strings to utf-8 first (issue #5)\n\tif (isString) {\n\t\tinput = toUTF8Array(input);\n\t\tisString = false;\n\t\tisArrayBuffer = true;\n\t}\n\n\tif (typeof ArrayBuffer !== \"undefined\" && input instanceof ArrayBuffer) {\n\t\tisArrayBuffer = true;\n\t\tinput = new Uint8Array(input);\n\t}\n\n\tvar p = 0;\n\tvar len = input.length;\n\tvar bEnd = p + len;\n\n\tif (len == 0) return this;\n\n\tthis.total_len += len;\n\n\tif (this.memsize == 0) {\n\t\tif (isString) {\n\t\t\tthis.memory = '';\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory = new Uint8Array(32);\n\t\t} else {\n\t\t\tthis.memory = new Buffer(32);\n\t\t}\n\t}\n\n\tif (this.memsize + len < 32) // fill in tmp buffer\n\t\t{\n\t\t\t// XXH64_memcpy(this.memory + this.memsize, input, len)\n\t\t\tif (isString) {\n\t\t\t\tthis.memory += input;\n\t\t\t} else if (isArrayBuffer) {\n\t\t\t\tthis.memory.set(input.subarray(0, len), this.memsize);\n\t\t\t} else {\n\t\t\t\tinput.copy(this.memory, this.memsize, 0, len);\n\t\t\t}\n\n\t\t\tthis.memsize += len;\n\t\t\treturn this;\n\t\t}\n\n\tif (this.memsize > 0) // some data left from previous update\n\t\t{\n\t\t\t// XXH64_memcpy(this.memory + this.memsize, input, 16-this.memsize);\n\t\t\tif (isString) {\n\t\t\t\tthis.memory += input.slice(0, 32 - this.memsize);\n\t\t\t} else if (isArrayBuffer) {\n\t\t\t\tthis.memory.set(input.subarray(0, 32 - this.memsize), this.memsize);\n\t\t\t} else {\n\t\t\t\tinput.copy(this.memory, this.memsize, 0, 32 - this.memsize);\n\t\t\t}\n\n\t\t\tvar p64 = 0;\n\t\t\tif (isString) {\n\t\t\t\tvar other;\n\t\t\t\tother = UINT64(this.memory.charCodeAt(p64 + 1) << 8 | this.memory.charCodeAt(p64), this.memory.charCodeAt(p64 + 3) << 8 | this.memory.charCodeAt(p64 + 2), this.memory.charCodeAt(p64 + 5) << 8 | this.memory.charCodeAt(p64 + 4), this.memory.charCodeAt(p64 + 7) << 8 | this.memory.charCodeAt(p64 + 6));\n\t\t\t\tthis.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory.charCodeAt(p64 + 1) << 8 | this.memory.charCodeAt(p64), this.memory.charCodeAt(p64 + 3) << 8 | this.memory.charCodeAt(p64 + 2), this.memory.charCodeAt(p64 + 5) << 8 | this.memory.charCodeAt(p64 + 4), this.memory.charCodeAt(p64 + 7) << 8 | this.memory.charCodeAt(p64 + 6));\n\t\t\t\tthis.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory.charCodeAt(p64 + 1) << 8 | this.memory.charCodeAt(p64), this.memory.charCodeAt(p64 + 3) << 8 | this.memory.charCodeAt(p64 + 2), this.memory.charCodeAt(p64 + 5) << 8 | this.memory.charCodeAt(p64 + 4), this.memory.charCodeAt(p64 + 7) << 8 | this.memory.charCodeAt(p64 + 6));\n\t\t\t\tthis.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory.charCodeAt(p64 + 1) << 8 | this.memory.charCodeAt(p64), this.memory.charCodeAt(p64 + 3) << 8 | this.memory.charCodeAt(p64 + 2), this.memory.charCodeAt(p64 + 5) << 8 | this.memory.charCodeAt(p64 + 4), this.memory.charCodeAt(p64 + 7) << 8 | this.memory.charCodeAt(p64 + 6));\n\t\t\t\tthis.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t} else {\n\t\t\t\tvar other;\n\t\t\t\tother = UINT64(this.memory[p64 + 1] << 8 | this.memory[p64], this.memory[p64 + 3] << 8 | this.memory[p64 + 2], this.memory[p64 + 5] << 8 | this.memory[p64 + 4], this.memory[p64 + 7] << 8 | this.memory[p64 + 6]);\n\t\t\t\tthis.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory[p64 + 1] << 8 | this.memory[p64], this.memory[p64 + 3] << 8 | this.memory[p64 + 2], this.memory[p64 + 5] << 8 | this.memory[p64 + 4], this.memory[p64 + 7] << 8 | this.memory[p64 + 6]);\n\t\t\t\tthis.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory[p64 + 1] << 8 | this.memory[p64], this.memory[p64 + 3] << 8 | this.memory[p64 + 2], this.memory[p64 + 5] << 8 | this.memory[p64 + 4], this.memory[p64 + 7] << 8 | this.memory[p64 + 6]);\n\t\t\t\tthis.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp64 += 8;\n\t\t\t\tother = UINT64(this.memory[p64 + 1] << 8 | this.memory[p64], this.memory[p64 + 3] << 8 | this.memory[p64 + 2], this.memory[p64 + 5] << 8 | this.memory[p64 + 4], this.memory[p64 + 7] << 8 | this.memory[p64 + 6]);\n\t\t\t\tthis.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t}\n\n\t\t\tp += 32 - this.memsize;\n\t\t\tthis.memsize = 0;\n\t\t\tif (isString) this.memory = '';\n\t\t}\n\n\tif (p <= bEnd - 32) {\n\t\tvar limit = bEnd - 32;\n\n\t\tdo {\n\t\t\tif (isString) {\n\t\t\t\tvar other;\n\t\t\t\tother = UINT64(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), input.charCodeAt(p + 5) << 8 | input.charCodeAt(p + 4), input.charCodeAt(p + 7) << 8 | input.charCodeAt(p + 6));\n\t\t\t\tthis.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), input.charCodeAt(p + 5) << 8 | input.charCodeAt(p + 4), input.charCodeAt(p + 7) << 8 | input.charCodeAt(p + 6));\n\t\t\t\tthis.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), input.charCodeAt(p + 5) << 8 | input.charCodeAt(p + 4), input.charCodeAt(p + 7) << 8 | input.charCodeAt(p + 6));\n\t\t\t\tthis.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), input.charCodeAt(p + 5) << 8 | input.charCodeAt(p + 4), input.charCodeAt(p + 7) << 8 | input.charCodeAt(p + 6));\n\t\t\t\tthis.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t} else {\n\t\t\t\tvar other;\n\t\t\t\tother = UINT64(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], input[p + 5] << 8 | input[p + 4], input[p + 7] << 8 | input[p + 6]);\n\t\t\t\tthis.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], input[p + 5] << 8 | input[p + 4], input[p + 7] << 8 | input[p + 6]);\n\t\t\t\tthis.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], input[p + 5] << 8 | input[p + 4], input[p + 7] << 8 | input[p + 6]);\n\t\t\t\tthis.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8;\n\t\t\t\tother = UINT64(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], input[p + 5] << 8 | input[p + 4], input[p + 7] << 8 | input[p + 6]);\n\t\t\t\tthis.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);\n\t\t\t}\n\t\t\tp += 8;\n\t\t} while (p <= limit);\n\t}\n\n\tif (p < bEnd) {\n\t\t// XXH64_memcpy(this.memory, p, bEnd-p);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(p);\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set(input.subarray(p, bEnd), this.memsize);\n\t\t} else {\n\t\t\tinput.copy(this.memory, this.memsize, p, bEnd);\n\t\t}\n\n\t\tthis.memsize = bEnd - p;\n\t}\n\n\treturn this;\n};\n\n/**\n * Finalize the XXH64 computation. The XXH64 instance is ready for reuse for the given seed\n * @method digest\n * @return {UINT64} xxHash\n */\nXXH64.prototype.digest = function () {\n\tvar input = this.memory;\n\tvar isString = typeof input == 'string';\n\tvar p = 0;\n\tvar bEnd = this.memsize;\n\tvar h64, h;\n\tvar u = new UINT64();\n\n\tif (this.total_len >= 32) {\n\t\th64 = this.v1.clone().rotl(1);\n\t\th64.add(this.v2.clone().rotl(7));\n\t\th64.add(this.v3.clone().rotl(12));\n\t\th64.add(this.v4.clone().rotl(18));\n\n\t\th64.xor(this.v1.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));\n\t\th64.multiply(PRIME64_1).add(PRIME64_4);\n\n\t\th64.xor(this.v2.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));\n\t\th64.multiply(PRIME64_1).add(PRIME64_4);\n\n\t\th64.xor(this.v3.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));\n\t\th64.multiply(PRIME64_1).add(PRIME64_4);\n\n\t\th64.xor(this.v4.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));\n\t\th64.multiply(PRIME64_1).add(PRIME64_4);\n\t} else {\n\t\th64 = this.seed.clone().add(PRIME64_5);\n\t}\n\n\th64.add(u.fromNumber(this.total_len));\n\n\twhile (p <= bEnd - 8) {\n\t\tif (isString) {\n\t\t\tu.fromBits(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), input.charCodeAt(p + 5) << 8 | input.charCodeAt(p + 4), input.charCodeAt(p + 7) << 8 | input.charCodeAt(p + 6));\n\t\t} else {\n\t\t\tu.fromBits(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], input[p + 5] << 8 | input[p + 4], input[p + 7] << 8 | input[p + 6]);\n\t\t}\n\t\tu.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1);\n\t\th64.xor(u).rotl(27).multiply(PRIME64_1).add(PRIME64_4);\n\t\tp += 8;\n\t}\n\n\tif (p + 4 <= bEnd) {\n\t\tif (isString) {\n\t\t\tu.fromBits(input.charCodeAt(p + 1) << 8 | input.charCodeAt(p), input.charCodeAt(p + 3) << 8 | input.charCodeAt(p + 2), 0, 0);\n\t\t} else {\n\t\t\tu.fromBits(input[p + 1] << 8 | input[p], input[p + 3] << 8 | input[p + 2], 0, 0);\n\t\t}\n\t\th64.xor(u.multiply(PRIME64_1)).rotl(23).multiply(PRIME64_2).add(PRIME64_3);\n\t\tp += 4;\n\t}\n\n\twhile (p < bEnd) {\n\t\tu.fromBits(isString ? input.charCodeAt(p++) : input[p++], 0, 0, 0);\n\t\th64.xor(u.multiply(PRIME64_5)).rotl(11).multiply(PRIME64_1);\n\t}\n\n\th = h64.clone().shiftRight(33);\n\th64.xor(h).multiply(PRIME64_2);\n\n\th = h64.clone().shiftRight(29);\n\th64.xor(h).multiply(PRIME64_3);\n\n\th = h64.clone().shiftRight(32);\n\th64.xor(h);\n\n\t// Reset the state\n\tthis.init(this.seed);\n\n\treturn h64;\n};\n\nmodule.exports = XXH64;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"peL6\").Buffer))\n\n/***/ }),\n\n/***/ \"OLak\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar SYNC_DOCUMENT_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.document';\nvar SYNC_LIST_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.list';\nvar SYNC_MAP_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.map';\nvar SYNC_NOTIFICATION_TYPE = 'twilio.sync.event';\n/**\n * @class Router\n * @classdesc Routes all incoming messages to the consumers\n */\n\nvar Router = function () {\n    function Router(params) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Router);\n\n        this.config = params.config;\n        this.subscriptions = params.subscriptions;\n        this.notifications = params.notifications;\n        this.notifications.subscribe(SYNC_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_DOCUMENT_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_LIST_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_MAP_NOTIFICATION_TYPE);\n        this.notifications.on('message', function (messageType, payload) {\n            return _this.onMessage(messageType, payload);\n        });\n        this.notifications.on('transportReady', function (isConnected) {\n            return _this.onConnectionStateChanged(isConnected);\n        });\n    }\n    /**\n     * Entry point for all incoming messages\n     * @param {String} type - Type of incoming message\n     * @param {Object} message - Message to route\n     */\n\n    (0, _createClass3.default)(Router, [{\n        key: \"onMessage\",\n        value: function onMessage(type, message) {\n            logger_1.default.trace('Notification type:', type, 'content:', message);\n            switch (type) {\n                case SYNC_DOCUMENT_NOTIFICATION_TYPE:\n                case SYNC_LIST_NOTIFICATION_TYPE:\n                case SYNC_MAP_NOTIFICATION_TYPE:\n                    this.subscriptions.acceptMessage(message, false);\n                    break;\n                case SYNC_NOTIFICATION_TYPE:\n                    this.subscriptions.acceptMessage(message, true);\n                    break;\n            }\n        }\n        /**\n         * Subscribe for events\n         */\n\n    }, {\n        key: \"subscribe\",\n        value: function subscribe(sid, entity) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.subscriptions.add(sid, entity);\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Unsubscribe from events\n         */\n\n    }, {\n        key: \"unsubscribe\",\n        value: function unsubscribe(sid, entity) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return this.subscriptions.remove(sid);\n\n                            case 2:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Handle transport establishing event\n         * If we have any subscriptions - we should check object for modifications\n         */\n\n    }, {\n        key: \"onConnectionStateChanged\",\n        value: function onConnectionStateChanged(isConnected) {\n            this.subscriptions.onConnectionStateChanged(isConnected);\n        }\n    }]);\n    return Router;\n}();\n\nexports.Router = Router;\nexports.default = Router;\n\n/***/ }),\n\n/***/ \"OYXR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar addToUnscopables = __webpack_require__(\"ID6i\"),\n    step = __webpack_require__(\"xwD+\"),\n    Iterators = __webpack_require__(\"dhak\"),\n    toIObject = __webpack_require__(\"Wyka\");\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(\"uRfg\")(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0; // next index\n  this._k = kind; // kind\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t,\n      kind = this._k,\n      index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n/***/ }),\n\n/***/ \"Ocr3\":\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n/***/ }),\n\n/***/ \"P5jY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.UINT32 = __webpack_require__(\"mc9D\");\nexports.UINT64 = __webpack_require__(\"JWsA\");\n\n/***/ }),\n\n/***/ \"PD3G\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _stringify = __webpack_require__(\"HxWs\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\nfunction deepClone(obj) {\n    return JSON.parse((0, _stringify2.default)(obj));\n}\nexports.deepClone = deepClone;\n/**\n * Construct URI with query parameters\n */\n\nvar UriBuilder = function () {\n    function UriBuilder(base) {\n        (0, _classCallCheck3.default)(this, UriBuilder);\n\n        this.base = base;\n        this.args = new Array();\n        this.paths = new Array();\n    }\n\n    (0, _createClass3.default)(UriBuilder, [{\n        key: \"pathSegment\",\n        value: function pathSegment(name) {\n            this.paths.push(encodeURIComponent(name));\n            return this;\n        }\n    }, {\n        key: \"queryParam\",\n        value: function queryParam(name, value) {\n            if (typeof value !== 'undefined') {\n                this.args.push(encodeURIComponent(name) + '=' + encodeURIComponent(value));\n            }\n            return this;\n        }\n    }, {\n        key: \"build\",\n        value: function build() {\n            var result = this.base;\n            if (this.paths.length) {\n                result += '/' + this.paths.join('/');\n            }\n            if (this.args.length) {\n                result += '?' + this.args.join('&');\n            }\n            return result;\n        }\n    }]);\n    return UriBuilder;\n}();\n\nexports.UriBuilder = UriBuilder;\n\n/***/ }),\n\n/***/ \"PR/g\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar d = __webpack_require__(\"iAJW\"),\n    callable = __webpack_require__(\"N9bW\"),\n    apply = Function.prototype.apply,\n    call = Function.prototype.call,\n    create = Object.create,\n    defineProperty = Object.defineProperty,\n    defineProperties = Object.defineProperties,\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    descriptor = { configurable: true, enumerable: false, writable: true },\n    on,\n    _once2,\n    off,\n    emit,\n    methods,\n    descriptors,\n    base;\n\non = function on(type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;else if (typeof data[type] === 'object') data[type].push(listener);else data[type] = [data[type], listener];\n\n\treturn this;\n};\n\n_once2 = function once(type, listener) {\n\tvar _once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, _once = function once() {\n\t\toff.call(self, type, _once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\t_once.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function off(type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; candidate = listeners[i]; ++i) {\n\t\t\tif (candidate === listener || candidate.__eeOnceListener__ === listener) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];else listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (listeners === listener || listeners.__eeOnceListener__ === listener) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function emit(type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) {\n\t\t\targs[i - 1] = arguments[i];\n\t\t}listeners = listeners.slice();\n\t\tfor (i = 0; listener = listeners[i]; ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\t\tcase 1:\n\t\t\t\tcall.call(listeners, this);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tl = arguments.length;\n\t\t\t\targs = new Array(l - 1);\n\t\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t\t}\n\t\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: _once2,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(_once2),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function exports(o) {\n\treturn o == null ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n/***/ }),\n\n/***/ \"PvFw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar Backoff = __webpack_require__(\"E1ih\");\nvar ExponentialBackoffStrategy = __webpack_require__(\"b1KJ\");\nvar FibonacciBackoffStrategy = __webpack_require__(\"XdV9\");\nvar FunctionCall = __webpack_require__(\"V5Fu\");\n\nmodule.exports.Backoff = Backoff;\nmodule.exports.FunctionCall = FunctionCall;\nmodule.exports.FibonacciStrategy = FibonacciBackoffStrategy;\nmodule.exports.ExponentialStrategy = ExponentialBackoffStrategy;\n\n// Constructs a Fibonacci backoff.\nmodule.exports.fibonacci = function (options) {\n    return new Backoff(new FibonacciBackoffStrategy(options));\n};\n\n// Constructs an exponential backoff.\nmodule.exports.exponential = function (options) {\n    return new Backoff(new ExponentialBackoffStrategy(options));\n};\n\n// Constructs a FunctionCall for the given function and arguments.\nmodule.exports.call = function (fn, vargs, callback) {\n    var args = Array.prototype.slice.call(arguments);\n    fn = args[0];\n    vargs = args.slice(1, args.length - 1);\n    callback = args[args.length - 1];\n    return new FunctionCall(fn, vargs, callback);\n};\n\n/***/ }),\n\n/***/ \"Q17y\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(\"zKeE\"),\n    $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) {\n  // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ \"QJSD\":\n/***/ (function(module, exports) {\n\n;(function () {\n    \"use strict\";\n\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n\n    /**\n     * A component handler interface using the revealing module design pattern.\n     * More details on this design pattern here:\n     * https://github.com/jasonmayes/mdl-component-design-pattern\n     *\n     * @author Jason Mayes.\n     */\n    /* exported componentHandler */\n\n    // Pre-defining the componentHandler interface, for closure documentation and\n    // static verification.\n\n    var componentHandler = {\n        /**\n         * Searches existing DOM for elements of our component type and upgrades them\n         * if they have not already been upgraded.\n         *\n         * @param {string=} optJsClass the programatic name of the element class we\n         * need to create a new instance of.\n         * @param {string=} optCssClass the name of the CSS class elements of this\n         * type will have.\n         */\n        upgradeDom: function upgradeDom(optJsClass, optCssClass) {},\n        /**\n         * Upgrades a specific element rather than all in the DOM.\n         *\n         * @param {!Element} element The element we wish to upgrade.\n         * @param {string=} optJsClass Optional name of the class we want to upgrade\n         * the element to.\n         */\n        upgradeElement: function upgradeElement(element, optJsClass) {},\n        /**\n         * Upgrades a specific list of elements rather than all in the DOM.\n         *\n         * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n         * The elements we wish to upgrade.\n         */\n        upgradeElements: function upgradeElements(elements) {},\n        /**\n         * Upgrades all registered components found in the current DOM. This is\n         * automatically called on window load.\n         */\n        upgradeAllRegistered: function upgradeAllRegistered() {},\n        /**\n         * Allows user to be alerted to any upgrades that are performed for a given\n         * component type\n         *\n         * @param {string} jsClass The class name of the MDL component we wish\n         * to hook into for any upgrades performed.\n         * @param {function(!HTMLElement)} callback The function to call upon an\n         * upgrade. This function should expect 1 parameter - the HTMLElement which\n         * got upgraded.\n         */\n        registerUpgradedCallback: function registerUpgradedCallback(jsClass, callback) {},\n        /**\n         * Registers a class for future use and attempts to upgrade existing DOM.\n         *\n         * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n         */\n        register: function register(config) {},\n        /**\n         * Downgrade either a given node, an array of nodes, or a NodeList.\n         *\n         * @param {!Node|!Array<!Node>|!NodeList} nodes\n         */\n        downgradeElements: function downgradeElements(nodes) {}\n    };\n\n    componentHandler = function () {\n        'use strict';\n\n        /** @type {!Array<componentHandler.ComponentConfig>} */\n\n        var registeredComponents_ = [];\n\n        /** @type {!Array<componentHandler.Component>} */\n        var createdComponents_ = [];\n\n        var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n\n        /**\n         * Searches registered components for a class we are interested in using.\n         * Optionally replaces a match with passed object if specified.\n         *\n         * @param {string} name The name of a class we want to use.\n         * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n         * @return {!Object|boolean}\n         * @private\n         */\n        function findRegisteredClass_(name, optReplace) {\n            for (var i = 0; i < registeredComponents_.length; i++) {\n                if (registeredComponents_[i].className === name) {\n                    if (typeof optReplace !== 'undefined') {\n                        registeredComponents_[i] = optReplace;\n                    }\n                    return registeredComponents_[i];\n                }\n            }\n            return false;\n        }\n\n        /**\n         * Returns an array of the classNames of the upgraded classes on the element.\n         *\n         * @param {!Element} element The element to fetch data from.\n         * @return {!Array<string>}\n         * @private\n         */\n        function getUpgradedListOfElement_(element) {\n            var dataUpgraded = element.getAttribute('data-upgraded');\n            // Use `['']` as default value to conform the `,name,name...` style.\n            return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n        }\n\n        /**\n         * Returns true if the given element has already been upgraded for the given\n         * class.\n         *\n         * @param {!Element} element The element we want to check.\n         * @param {string} jsClass The class to check for.\n         * @returns {boolean}\n         * @private\n         */\n        function isElementUpgraded_(element, jsClass) {\n            var upgradedList = getUpgradedListOfElement_(element);\n            return upgradedList.indexOf(jsClass) !== -1;\n        }\n\n        /**\n         * Create an event object.\n         *\n         * @param {string} eventType The type name of the event.\n         * @param {boolean} bubbles Whether the event should bubble up the DOM.\n         * @param {boolean} cancelable Whether the event can be canceled.\n         * @returns {!Event}\n         */\n        function createEvent_(eventType, bubbles, cancelable) {\n            if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n                return new CustomEvent(eventType, {\n                    bubbles: bubbles,\n                    cancelable: cancelable\n                });\n            } else {\n                var ev = document.createEvent('Events');\n                ev.initEvent(eventType, bubbles, cancelable);\n                return ev;\n            }\n        }\n\n        /**\n         * Searches existing DOM for elements of our component type and upgrades them\n         * if they have not already been upgraded.\n         *\n         * @param {string=} optJsClass the programatic name of the element class we\n         * need to create a new instance of.\n         * @param {string=} optCssClass the name of the CSS class elements of this\n         * type will have.\n         */\n        function upgradeDomInternal(optJsClass, optCssClass) {\n            if (typeof optJsClass === 'undefined' && typeof optCssClass === 'undefined') {\n                for (var i = 0; i < registeredComponents_.length; i++) {\n                    upgradeDomInternal(registeredComponents_[i].className, registeredComponents_[i].cssClass);\n                }\n            } else {\n                var jsClass = /** @type {string} */optJsClass;\n                if (typeof optCssClass === 'undefined') {\n                    var registeredClass = findRegisteredClass_(jsClass);\n                    if (registeredClass) {\n                        optCssClass = registeredClass.cssClass;\n                    }\n                }\n\n                var elements = document.querySelectorAll('.' + optCssClass);\n                for (var n = 0; n < elements.length; n++) {\n                    upgradeElementInternal(elements[n], jsClass);\n                }\n            }\n        }\n\n        /**\n         * Upgrades a specific element rather than all in the DOM.\n         *\n         * @param {!Element} element The element we wish to upgrade.\n         * @param {string=} optJsClass Optional name of the class we want to upgrade\n         * the element to.\n         */\n        function upgradeElementInternal(element, optJsClass) {\n            // Verify argument type.\n            if (!(typeof element === 'object' && element instanceof Element)) {\n                throw new Error('Invalid argument provided to upgrade MDL element.');\n            }\n            // Allow upgrade to be canceled by canceling emitted event.\n            var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n            element.dispatchEvent(upgradingEv);\n            if (upgradingEv.defaultPrevented) {\n                return;\n            }\n\n            var upgradedList = getUpgradedListOfElement_(element);\n            var classesToUpgrade = [];\n            // If jsClass is not provided scan the registered components to find the\n            // ones matching the element's CSS classList.\n            if (!optJsClass) {\n                var classList = element.classList;\n                registeredComponents_.forEach(function (component) {\n                    // Match CSS & Not to be upgraded & Not upgraded.\n                    if (classList.contains(component.cssClass) && classesToUpgrade.indexOf(component) === -1 && !isElementUpgraded_(element, component.className)) {\n                        classesToUpgrade.push(component);\n                    }\n                });\n            } else if (!isElementUpgraded_(element, optJsClass)) {\n                classesToUpgrade.push(findRegisteredClass_(optJsClass));\n            }\n\n            // Upgrade the element for each classes.\n            for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n                registeredClass = classesToUpgrade[i];\n                if (registeredClass) {\n                    // Mark element as upgraded.\n                    upgradedList.push(registeredClass.className);\n                    element.setAttribute('data-upgraded', upgradedList.join(','));\n                    var instance = new registeredClass.classConstructor(element);\n                    instance[componentConfigProperty_] = registeredClass;\n                    createdComponents_.push(instance);\n                    // Call any callbacks the user has registered with this component type.\n                    for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n                        registeredClass.callbacks[j](element);\n                    }\n\n                    if (registeredClass.widget) {\n                        // Assign per element instance for control over API\n                        element[registeredClass.className] = instance;\n                    }\n                } else {\n                    throw new Error('Unable to find a registered component for the given class.');\n                }\n\n                var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n                element.dispatchEvent(upgradedEv);\n            }\n        }\n\n        /**\n         * Upgrades a specific list of elements rather than all in the DOM.\n         *\n         * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n         * The elements we wish to upgrade.\n         */\n        function upgradeElementsInternal(elements) {\n            if (!Array.isArray(elements)) {\n                if (elements instanceof Element) {\n                    elements = [elements];\n                } else {\n                    elements = Array.prototype.slice.call(elements);\n                }\n            }\n            for (var i = 0, n = elements.length, element; i < n; i++) {\n                element = elements[i];\n                if (element instanceof HTMLElement) {\n                    upgradeElementInternal(element);\n                    if (element.children.length > 0) {\n                        upgradeElementsInternal(element.children);\n                    }\n                }\n            }\n        }\n\n        /**\n         * Registers a class for future use and attempts to upgrade existing DOM.\n         *\n         * @param {componentHandler.ComponentConfigPublic} config\n         */\n        function registerInternal(config) {\n            // In order to support both Closure-compiled and uncompiled code accessing\n            // this method, we need to allow for both the dot and array syntax for\n            // property access. You'll therefore see the `foo.bar || foo['bar']`\n            // pattern repeated across this method.\n            var widgetMissing = typeof config.widget === 'undefined' && typeof config['widget'] === 'undefined';\n            var widget = true;\n\n            if (!widgetMissing) {\n                widget = config.widget || config['widget'];\n            }\n\n            var newConfig = /** @type {componentHandler.ComponentConfig} */{\n                classConstructor: config.constructor || config['constructor'],\n                className: config.classAsString || config['classAsString'],\n                cssClass: config.cssClass || config['cssClass'],\n                widget: widget,\n                callbacks: []\n            };\n\n            registeredComponents_.forEach(function (item) {\n                if (item.cssClass === newConfig.cssClass) {\n                    throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n                }\n                if (item.className === newConfig.className) {\n                    throw new Error('The provided className has already been registered');\n                }\n            });\n\n            if (config.constructor.prototype.hasOwnProperty(componentConfigProperty_)) {\n                throw new Error('MDL component classes must not have ' + componentConfigProperty_ + ' defined as a property.');\n            }\n\n            var found = findRegisteredClass_(config.classAsString, newConfig);\n\n            if (!found) {\n                registeredComponents_.push(newConfig);\n            }\n        }\n\n        /**\n         * Allows user to be alerted to any upgrades that are performed for a given\n         * component type\n         *\n         * @param {string} jsClass The class name of the MDL component we wish\n         * to hook into for any upgrades performed.\n         * @param {function(!HTMLElement)} callback The function to call upon an\n         * upgrade. This function should expect 1 parameter - the HTMLElement which\n         * got upgraded.\n         */\n        function registerUpgradedCallbackInternal(jsClass, callback) {\n            var regClass = findRegisteredClass_(jsClass);\n            if (regClass) {\n                regClass.callbacks.push(callback);\n            }\n        }\n\n        /**\n         * Upgrades all registered components found in the current DOM. This is\n         * automatically called on window load.\n         */\n        function upgradeAllRegisteredInternal() {\n            for (var n = 0; n < registeredComponents_.length; n++) {\n                upgradeDomInternal(registeredComponents_[n].className);\n            }\n        }\n\n        /**\n         * Check the component for the downgrade method.\n         * Execute if found.\n         * Remove component from createdComponents list.\n         *\n         * @param {?componentHandler.Component} component\n         */\n        function deconstructComponentInternal(component) {\n            if (component) {\n                var componentIndex = createdComponents_.indexOf(component);\n                createdComponents_.splice(componentIndex, 1);\n\n                var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n                var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n                upgrades.splice(componentPlace, 1);\n                component.element_.setAttribute('data-upgraded', upgrades.join(','));\n\n                var ev = createEvent_('mdl-componentdowngraded', true, false);\n                component.element_.dispatchEvent(ev);\n            }\n        }\n\n        /**\n         * Downgrade either a given node, an array of nodes, or a NodeList.\n         *\n         * @param {!Node|!Array<!Node>|!NodeList} nodes\n         */\n        function downgradeNodesInternal(nodes) {\n            /**\n             * Auxiliary function to downgrade a single node.\n             * @param  {!Node} node the node to be downgraded\n             */\n            var downgradeNode = function downgradeNode(node) {\n                createdComponents_.filter(function (item) {\n                    return item.element_ === node;\n                }).forEach(deconstructComponentInternal);\n            };\n            if (nodes instanceof Array || nodes instanceof NodeList) {\n                for (var n = 0; n < nodes.length; n++) {\n                    downgradeNode(nodes[n]);\n                }\n            } else if (nodes instanceof Node) {\n                downgradeNode(nodes);\n            } else {\n                throw new Error('Invalid argument provided to downgrade MDL nodes.');\n            }\n        }\n\n        // Now return the functions that should be made public with their publicly\n        // facing names...\n        return {\n            upgradeDom: upgradeDomInternal,\n            upgradeElement: upgradeElementInternal,\n            upgradeElements: upgradeElementsInternal,\n            upgradeAllRegistered: upgradeAllRegisteredInternal,\n            registerUpgradedCallback: registerUpgradedCallbackInternal,\n            register: registerInternal,\n            downgradeElements: downgradeNodesInternal\n        };\n    }();\n\n    /**\n     * Describes the type of a registered component type managed by\n     * componentHandler. Provided for benefit of the Closure compiler.\n     *\n     * @typedef {{\n     *   constructor: Function,\n     *   classAsString: string,\n     *   cssClass: string,\n     *   widget: (string|boolean|undefined)\n     * }}\n     */\n    componentHandler.ComponentConfigPublic; // jshint ignore:line\n\n    /**\n     * Describes the type of a registered component type managed by\n     * componentHandler. Provided for benefit of the Closure compiler.\n     *\n     * @typedef {{\n     *   constructor: !Function,\n     *   className: string,\n     *   cssClass: string,\n     *   widget: (string|boolean),\n     *   callbacks: !Array<function(!HTMLElement)>\n     * }}\n     */\n    componentHandler.ComponentConfig; // jshint ignore:line\n\n    /**\n     * Created component (i.e., upgraded element) type as managed by\n     * componentHandler. Provided for benefit of the Closure compiler.\n     *\n     * @typedef {{\n     *   element_: !HTMLElement,\n     *   className: string,\n     *   classAsString: string,\n     *   cssClass: string,\n     *   widget: string\n     * }}\n     */\n    componentHandler.Component; // jshint ignore:line\n\n    // Export all symbols, for the benefit of Closure compiler.\n    // No effect on uncompiled code.\n    componentHandler['upgradeDom'] = componentHandler.upgradeDom;\n    componentHandler['upgradeElement'] = componentHandler.upgradeElement;\n    componentHandler['upgradeElements'] = componentHandler.upgradeElements;\n    componentHandler['upgradeAllRegistered'] = componentHandler.upgradeAllRegistered;\n    componentHandler['registerUpgradedCallback'] = componentHandler.registerUpgradedCallback;\n    componentHandler['register'] = componentHandler.register;\n    componentHandler['downgradeElements'] = componentHandler.downgradeElements;\n    window.componentHandler = componentHandler;\n    window['componentHandler'] = componentHandler;\n\n    window.addEventListener('load', function () {\n        'use strict';\n\n        /**\n         * Performs a \"Cutting the mustard\" test. If the browser supports the features\n         * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n         * components requiring JavaScript.\n         */\n\n        if ('classList' in document.createElement('div') && 'querySelector' in document && 'addEventListener' in window && Array.prototype.forEach) {\n            document.documentElement.classList.add('mdl-js');\n            componentHandler.upgradeAllRegistered();\n        } else {\n            /**\n             * Dummy function to avoid JS errors.\n             */\n            componentHandler.upgradeElement = function () {};\n            /**\n             * Dummy function to avoid JS errors.\n             */\n            componentHandler.register = function () {};\n        }\n    });\n\n    // Source: https://github.com/darius/requestAnimationFrame/blob/master/requestAnimationFrame.js\n    // Adapted from https://gist.github.com/paulirish/1579671 which derived from\n    // http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n    // http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n    // requestAnimationFrame polyfill by Erik Möller.\n    // Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavič, Darius Bacon\n    // MIT license\n    if (!Date.now) {\n        /**\n         * Date.now polyfill.\n         * @return {number} the current Date\n         */\n        Date.now = function () {\n            return new Date().getTime();\n        };\n        Date['now'] = Date.now;\n    }\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n        var vp = vendors[i];\n        window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n        window['requestAnimationFrame'] = window.requestAnimationFrame;\n        window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n        var lastTime = 0;\n        /**\n         * requestAnimationFrame polyfill.\n         * @param  {!Function} callback the callback function.\n         */\n        window.requestAnimationFrame = function (callback) {\n            var now = Date.now();\n            var nextTime = Math.max(lastTime + 16, now);\n            return setTimeout(function () {\n                callback(lastTime = nextTime);\n            }, nextTime - now);\n        };\n        window.cancelAnimationFrame = clearTimeout;\n        window['requestAnimationFrame'] = window.requestAnimationFrame;\n        window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n    }\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Button MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialButton = function MaterialButton(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialButton'] = MaterialButton;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialButton.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialButton.prototype.CssClasses_ = {\n        RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_CONTAINER: 'mdl-button__ripple-container',\n        RIPPLE: 'mdl-ripple'\n    };\n    /**\n       * Handle blur of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialButton.prototype.blurHandler_ = function (event) {\n        if (event) {\n            this.element_.blur();\n        }\n    };\n    // Public methods.\n    /**\n       * Disable button.\n       *\n       * @public\n       */\n    MaterialButton.prototype.disable = function () {\n        this.element_.disabled = true;\n    };\n    MaterialButton.prototype['disable'] = MaterialButton.prototype.disable;\n    /**\n       * Enable button.\n       *\n       * @public\n       */\n    MaterialButton.prototype.enable = function () {\n        this.element_.disabled = false;\n    };\n    MaterialButton.prototype['enable'] = MaterialButton.prototype.enable;\n    /**\n       * Initialize element.\n       */\n    MaterialButton.prototype.init = function () {\n        if (this.element_) {\n            if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n                var rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n                this.rippleElement_ = document.createElement('span');\n                this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);\n                rippleContainer.appendChild(this.rippleElement_);\n                this.boundRippleBlurHandler = this.blurHandler_.bind(this);\n                this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);\n                this.element_.appendChild(rippleContainer);\n            }\n            this.boundButtonBlurHandler = this.blurHandler_.bind(this);\n            this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);\n            this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialButton,\n        classAsString: 'MaterialButton',\n        cssClass: 'mdl-js-button',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Checkbox MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialCheckbox = function MaterialCheckbox(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialCheckbox'] = MaterialCheckbox;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialCheckbox.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialCheckbox.prototype.CssClasses_ = {\n        INPUT: 'mdl-checkbox__input',\n        BOX_OUTLINE: 'mdl-checkbox__box-outline',\n        FOCUS_HELPER: 'mdl-checkbox__focus-helper',\n        TICK_OUTLINE: 'mdl-checkbox__tick-outline',\n        RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE_CONTAINER: 'mdl-checkbox__ripple-container',\n        RIPPLE_CENTER: 'mdl-ripple--center',\n        RIPPLE: 'mdl-ripple',\n        IS_FOCUSED: 'is-focused',\n        IS_DISABLED: 'is-disabled',\n        IS_CHECKED: 'is-checked',\n        IS_UPGRADED: 'is-upgraded'\n    };\n    /**\n       * Handle change of state.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialCheckbox.prototype.onChange_ = function (event) {\n        this.updateClasses_();\n    };\n    /**\n       * Handle focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialCheckbox.prototype.onFocus_ = function (event) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle lost focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialCheckbox.prototype.onBlur_ = function (event) {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle mouseup.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialCheckbox.prototype.onMouseUp_ = function (event) {\n        this.blur_();\n    };\n    /**\n       * Handle class updates.\n       *\n       * @private\n       */\n    MaterialCheckbox.prototype.updateClasses_ = function () {\n        this.checkDisabled();\n        this.checkToggleState();\n    };\n    /**\n       * Add blur.\n       *\n       * @private\n       */\n    MaterialCheckbox.prototype.blur_ = function () {\n        // TODO: figure out why there's a focus event being fired after our blur,\n        // so that we can avoid this hack.\n        window.setTimeout(function () {\n            this.inputElement_.blur();\n        }.bind(this), this.Constant_.TINY_TIMEOUT);\n    };\n    // Public methods.\n    /**\n       * Check the inputs toggle state and update display.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.checkToggleState = function () {\n        if (this.inputElement_.checked) {\n            this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n        }\n    };\n    MaterialCheckbox.prototype['checkToggleState'] = MaterialCheckbox.prototype.checkToggleState;\n    /**\n       * Check the inputs disabled state and update display.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.checkDisabled = function () {\n        if (this.inputElement_.disabled) {\n            this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n        }\n    };\n    MaterialCheckbox.prototype['checkDisabled'] = MaterialCheckbox.prototype.checkDisabled;\n    /**\n       * Disable checkbox.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.disable = function () {\n        this.inputElement_.disabled = true;\n        this.updateClasses_();\n    };\n    MaterialCheckbox.prototype['disable'] = MaterialCheckbox.prototype.disable;\n    /**\n       * Enable checkbox.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.enable = function () {\n        this.inputElement_.disabled = false;\n        this.updateClasses_();\n    };\n    MaterialCheckbox.prototype['enable'] = MaterialCheckbox.prototype.enable;\n    /**\n       * Check checkbox.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.check = function () {\n        this.inputElement_.checked = true;\n        this.updateClasses_();\n    };\n    MaterialCheckbox.prototype['check'] = MaterialCheckbox.prototype.check;\n    /**\n       * Uncheck checkbox.\n       *\n       * @public\n       */\n    MaterialCheckbox.prototype.uncheck = function () {\n        this.inputElement_.checked = false;\n        this.updateClasses_();\n    };\n    MaterialCheckbox.prototype['uncheck'] = MaterialCheckbox.prototype.uncheck;\n    /**\n       * Initialize element.\n       */\n    MaterialCheckbox.prototype.init = function () {\n        if (this.element_) {\n            this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n            var boxOutline = document.createElement('span');\n            boxOutline.classList.add(this.CssClasses_.BOX_OUTLINE);\n            var tickContainer = document.createElement('span');\n            tickContainer.classList.add(this.CssClasses_.FOCUS_HELPER);\n            var tickOutline = document.createElement('span');\n            tickOutline.classList.add(this.CssClasses_.TICK_OUTLINE);\n            boxOutline.appendChild(tickOutline);\n            this.element_.appendChild(tickContainer);\n            this.element_.appendChild(boxOutline);\n            if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n                this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                this.rippleContainerElement_ = document.createElement('span');\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n                this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n                this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                this.rippleContainerElement_.appendChild(ripple);\n                this.element_.appendChild(this.rippleContainerElement_);\n            }\n            this.boundInputOnChange = this.onChange_.bind(this);\n            this.boundInputOnFocus = this.onFocus_.bind(this);\n            this.boundInputOnBlur = this.onBlur_.bind(this);\n            this.boundElementMouseUp = this.onMouseUp_.bind(this);\n            this.inputElement_.addEventListener('change', this.boundInputOnChange);\n            this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n            this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n            this.element_.addEventListener('mouseup', this.boundElementMouseUp);\n            this.updateClasses_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialCheckbox,\n        classAsString: 'MaterialCheckbox',\n        cssClass: 'mdl-js-checkbox',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for icon toggle MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialIconToggle = function MaterialIconToggle(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialIconToggle'] = MaterialIconToggle;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialIconToggle.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialIconToggle.prototype.CssClasses_ = {\n        INPUT: 'mdl-icon-toggle__input',\n        JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE_CONTAINER: 'mdl-icon-toggle__ripple-container',\n        RIPPLE_CENTER: 'mdl-ripple--center',\n        RIPPLE: 'mdl-ripple',\n        IS_FOCUSED: 'is-focused',\n        IS_DISABLED: 'is-disabled',\n        IS_CHECKED: 'is-checked'\n    };\n    /**\n       * Handle change of state.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialIconToggle.prototype.onChange_ = function (event) {\n        this.updateClasses_();\n    };\n    /**\n       * Handle focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialIconToggle.prototype.onFocus_ = function (event) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle lost focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialIconToggle.prototype.onBlur_ = function (event) {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle mouseup.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialIconToggle.prototype.onMouseUp_ = function (event) {\n        this.blur_();\n    };\n    /**\n       * Handle class updates.\n       *\n       * @private\n       */\n    MaterialIconToggle.prototype.updateClasses_ = function () {\n        this.checkDisabled();\n        this.checkToggleState();\n    };\n    /**\n       * Add blur.\n       *\n       * @private\n       */\n    MaterialIconToggle.prototype.blur_ = function () {\n        // TODO: figure out why there's a focus event being fired after our blur,\n        // so that we can avoid this hack.\n        window.setTimeout(function () {\n            this.inputElement_.blur();\n        }.bind(this), this.Constant_.TINY_TIMEOUT);\n    };\n    // Public methods.\n    /**\n       * Check the inputs toggle state and update display.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.checkToggleState = function () {\n        if (this.inputElement_.checked) {\n            this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n        }\n    };\n    MaterialIconToggle.prototype['checkToggleState'] = MaterialIconToggle.prototype.checkToggleState;\n    /**\n       * Check the inputs disabled state and update display.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.checkDisabled = function () {\n        if (this.inputElement_.disabled) {\n            this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n        }\n    };\n    MaterialIconToggle.prototype['checkDisabled'] = MaterialIconToggle.prototype.checkDisabled;\n    /**\n       * Disable icon toggle.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.disable = function () {\n        this.inputElement_.disabled = true;\n        this.updateClasses_();\n    };\n    MaterialIconToggle.prototype['disable'] = MaterialIconToggle.prototype.disable;\n    /**\n       * Enable icon toggle.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.enable = function () {\n        this.inputElement_.disabled = false;\n        this.updateClasses_();\n    };\n    MaterialIconToggle.prototype['enable'] = MaterialIconToggle.prototype.enable;\n    /**\n       * Check icon toggle.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.check = function () {\n        this.inputElement_.checked = true;\n        this.updateClasses_();\n    };\n    MaterialIconToggle.prototype['check'] = MaterialIconToggle.prototype.check;\n    /**\n       * Uncheck icon toggle.\n       *\n       * @public\n       */\n    MaterialIconToggle.prototype.uncheck = function () {\n        this.inputElement_.checked = false;\n        this.updateClasses_();\n    };\n    MaterialIconToggle.prototype['uncheck'] = MaterialIconToggle.prototype.uncheck;\n    /**\n       * Initialize element.\n       */\n    MaterialIconToggle.prototype.init = function () {\n        if (this.element_) {\n            this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n            if (this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n                this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                this.rippleContainerElement_ = document.createElement('span');\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n                this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n                this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                this.rippleContainerElement_.appendChild(ripple);\n                this.element_.appendChild(this.rippleContainerElement_);\n            }\n            this.boundInputOnChange = this.onChange_.bind(this);\n            this.boundInputOnFocus = this.onFocus_.bind(this);\n            this.boundInputOnBlur = this.onBlur_.bind(this);\n            this.boundElementOnMouseUp = this.onMouseUp_.bind(this);\n            this.inputElement_.addEventListener('change', this.boundInputOnChange);\n            this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n            this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n            this.element_.addEventListener('mouseup', this.boundElementOnMouseUp);\n            this.updateClasses_();\n            this.element_.classList.add('is-upgraded');\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialIconToggle,\n        classAsString: 'MaterialIconToggle',\n        cssClass: 'mdl-js-icon-toggle',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for dropdown MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialMenu = function MaterialMenu(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialMenu'] = MaterialMenu;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialMenu.prototype.Constant_ = {\n        // Total duration of the menu animation.\n        TRANSITION_DURATION_SECONDS: 0.3,\n        // The fraction of the total duration we want to use for menu item animations.\n        TRANSITION_DURATION_FRACTION: 0.8,\n        // How long the menu stays open after choosing an option (so the user can see\n        // the ripple).\n        CLOSE_TIMEOUT: 150\n    };\n    /**\n       * Keycodes, for code readability.\n       *\n       * @enum {number}\n       * @private\n       */\n    MaterialMenu.prototype.Keycodes_ = {\n        ENTER: 13,\n        ESCAPE: 27,\n        SPACE: 32,\n        UP_ARROW: 38,\n        DOWN_ARROW: 40\n    };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialMenu.prototype.CssClasses_ = {\n        CONTAINER: 'mdl-menu__container',\n        OUTLINE: 'mdl-menu__outline',\n        ITEM: 'mdl-menu__item',\n        ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',\n        RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE: 'mdl-ripple',\n        // Statuses\n        IS_UPGRADED: 'is-upgraded',\n        IS_VISIBLE: 'is-visible',\n        IS_ANIMATING: 'is-animating',\n        // Alignment options\n        BOTTOM_LEFT: 'mdl-menu--bottom-left',\n        // This is the default.\n        BOTTOM_RIGHT: 'mdl-menu--bottom-right',\n        TOP_LEFT: 'mdl-menu--top-left',\n        TOP_RIGHT: 'mdl-menu--top-right',\n        UNALIGNED: 'mdl-menu--unaligned'\n    };\n    /**\n       * Initialize element.\n       */\n    MaterialMenu.prototype.init = function () {\n        if (this.element_) {\n            // Create container for the menu.\n            var container = document.createElement('div');\n            container.classList.add(this.CssClasses_.CONTAINER);\n            this.element_.parentElement.insertBefore(container, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            container.appendChild(this.element_);\n            this.container_ = container;\n            // Create outline for the menu (shadow and background).\n            var outline = document.createElement('div');\n            outline.classList.add(this.CssClasses_.OUTLINE);\n            this.outline_ = outline;\n            container.insertBefore(outline, this.element_);\n            // Find the \"for\" element and bind events to it.\n            var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n            var forEl = null;\n            if (forElId) {\n                forEl = document.getElementById(forElId);\n                if (forEl) {\n                    this.forElement_ = forEl;\n                    forEl.addEventListener('click', this.handleForClick_.bind(this));\n                    forEl.addEventListener('keydown', this.handleForKeyboardEvent_.bind(this));\n                }\n            }\n            var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n            this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);\n            this.boundItemClick_ = this.handleItemClick_.bind(this);\n            for (var i = 0; i < items.length; i++) {\n                // Add a listener to each menu item.\n                items[i].addEventListener('click', this.boundItemClick_);\n                // Add a tab index to each menu item.\n                items[i].tabIndex = '-1';\n                // Add a keyboard listener to each menu item.\n                items[i].addEventListener('keydown', this.boundItemKeydown_);\n            }\n            // Add ripple classes to each item, if the user has enabled ripples.\n            if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n                this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                for (i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    var rippleContainer = document.createElement('span');\n                    rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);\n                    var ripple = document.createElement('span');\n                    ripple.classList.add(this.CssClasses_.RIPPLE);\n                    rippleContainer.appendChild(ripple);\n                    item.appendChild(rippleContainer);\n                    item.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n                }\n            }\n            // Copy alignment classes to the container, so the outline can use them.\n            if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {\n                this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);\n            }\n            if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n                this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);\n            }\n            if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n                this.outline_.classList.add(this.CssClasses_.TOP_LEFT);\n            }\n            if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);\n            }\n            if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n                this.outline_.classList.add(this.CssClasses_.UNALIGNED);\n            }\n            container.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    };\n    /**\n       * Handles a click on the \"for\" element, by positioning the menu and then\n       * toggling it.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialMenu.prototype.handleForClick_ = function (evt) {\n        if (this.element_ && this.forElement_) {\n            var rect = this.forElement_.getBoundingClientRect();\n            var forRect = this.forElement_.parentElement.getBoundingClientRect();\n            if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {} else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n                // Position below the \"for\" element, aligned to its right.\n                this.container_.style.right = forRect.right - rect.right + 'px';\n                this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n            } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n                // Position above the \"for\" element, aligned to its left.\n                this.container_.style.left = this.forElement_.offsetLeft + 'px';\n                this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n            } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                // Position above the \"for\" element, aligned to its right.\n                this.container_.style.right = forRect.right - rect.right + 'px';\n                this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n            } else {\n                // Default: position below the \"for\" element, aligned to its left.\n                this.container_.style.left = this.forElement_.offsetLeft + 'px';\n                this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n            }\n        }\n        this.toggle(evt);\n    };\n    /**\n       * Handles a keyboard event on the \"for\" element.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialMenu.prototype.handleForKeyboardEvent_ = function (evt) {\n        if (this.element_ && this.container_ && this.forElement_) {\n            var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n            if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n                if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                    evt.preventDefault();\n                    items[items.length - 1].focus();\n                } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                    evt.preventDefault();\n                    items[0].focus();\n                }\n            }\n        }\n    };\n    /**\n       * Handles a keyboard event on an item.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialMenu.prototype.handleItemKeyboardEvent_ = function (evt) {\n        if (this.element_ && this.container_) {\n            var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n            if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n                var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);\n                if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                    evt.preventDefault();\n                    if (currentIndex > 0) {\n                        items[currentIndex - 1].focus();\n                    } else {\n                        items[items.length - 1].focus();\n                    }\n                } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                    evt.preventDefault();\n                    if (items.length > currentIndex + 1) {\n                        items[currentIndex + 1].focus();\n                    } else {\n                        items[0].focus();\n                    }\n                } else if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n                    evt.preventDefault();\n                    // Send mousedown and mouseup to trigger ripple.\n                    var e = new MouseEvent('mousedown');\n                    evt.target.dispatchEvent(e);\n                    e = new MouseEvent('mouseup');\n                    evt.target.dispatchEvent(e);\n                    // Send click.\n                    evt.target.click();\n                } else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n                    evt.preventDefault();\n                    this.hide();\n                }\n            }\n        }\n    };\n    /**\n       * Handles a click event on an item.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialMenu.prototype.handleItemClick_ = function (evt) {\n        if (evt.target.hasAttribute('disabled')) {\n            evt.stopPropagation();\n        } else {\n            // Wait some time before closing menu, so the user can see the ripple.\n            this.closing_ = true;\n            window.setTimeout(function (evt) {\n                this.hide();\n                this.closing_ = false;\n            }.bind(this), this.Constant_.CLOSE_TIMEOUT);\n        }\n    };\n    /**\n       * Calculates the initial clip (for opening the menu) or final clip (for closing\n       * it), and applies it. This allows us to animate from or to the correct point,\n       * that is, the point it's aligned to in the \"for\" element.\n       *\n       * @param {number} height Height of the clip rectangle\n       * @param {number} width Width of the clip rectangle\n       * @private\n       */\n    MaterialMenu.prototype.applyClip_ = function (height, width) {\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n            // Do not clip.\n            this.element_.style.clip = '';\n        } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            // Clip to the top right corner of the menu.\n            this.element_.style.clip = 'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            // Clip to the bottom left corner of the menu.\n            this.element_.style.clip = 'rect(' + height + 'px 0 ' + height + 'px 0)';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            // Clip to the bottom right corner of the menu.\n            this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' + height + 'px ' + width + 'px)';\n        } else {\n            // Default: do not clip (same as clipping to the top left corner).\n            this.element_.style.clip = '';\n        }\n    };\n    /**\n       * Cleanup function to remove animation listeners.\n       *\n       * @param {Event} evt\n       * @private\n       */\n    MaterialMenu.prototype.removeAnimationEndListener_ = function (evt) {\n        evt.target.classList.remove(MaterialMenu.prototype.CssClasses_.IS_ANIMATING);\n    };\n    /**\n       * Adds an event listener to clean up after the animation ends.\n       *\n       * @private\n       */\n    MaterialMenu.prototype.addAnimationEndListener_ = function () {\n        this.element_.addEventListener('transitionend', this.removeAnimationEndListener_);\n        this.element_.addEventListener('webkitTransitionEnd', this.removeAnimationEndListener_);\n    };\n    /**\n       * Displays the menu.\n       *\n       * @public\n       */\n    MaterialMenu.prototype.show = function (evt) {\n        if (this.element_ && this.container_ && this.outline_) {\n            // Measure the inner element.\n            var height = this.element_.getBoundingClientRect().height;\n            var width = this.element_.getBoundingClientRect().width;\n            // Apply the inner element's size to the container and outline.\n            this.container_.style.width = width + 'px';\n            this.container_.style.height = height + 'px';\n            this.outline_.style.width = width + 'px';\n            this.outline_.style.height = height + 'px';\n            var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS * this.Constant_.TRANSITION_DURATION_FRACTION;\n            // Calculate transition delays for individual menu items, so that they fade\n            // in one at a time.\n            var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n            for (var i = 0; i < items.length; i++) {\n                var itemDelay = null;\n                if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) || this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                    itemDelay = (height - items[i].offsetTop - items[i].offsetHeight) / height * transitionDuration + 's';\n                } else {\n                    itemDelay = items[i].offsetTop / height * transitionDuration + 's';\n                }\n                items[i].style.transitionDelay = itemDelay;\n            }\n            // Apply the initial clip to the text before we start animating.\n            this.applyClip_(height, width);\n            // Wait for the next frame, turn on animation, and apply the final clip.\n            // Also make it visible. This triggers the transitions.\n            window.requestAnimationFrame(function () {\n                this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n                this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';\n                this.container_.classList.add(this.CssClasses_.IS_VISIBLE);\n            }.bind(this));\n            // Clean up after the animation is complete.\n            this.addAnimationEndListener_();\n            // Add a click listener to the document, to close the menu.\n            var callback = function (e) {\n                // Check to see if the document is processing the same event that\n                // displayed the menu in the first place. If so, do nothing.\n                // Also check to see if the menu is in the process of closing itself, and\n                // do nothing in that case.\n                // Also check if the clicked element is a menu item\n                // if so, do nothing.\n                if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {\n                    document.removeEventListener('click', callback);\n                    this.hide();\n                }\n            }.bind(this);\n            document.addEventListener('click', callback);\n        }\n    };\n    MaterialMenu.prototype['show'] = MaterialMenu.prototype.show;\n    /**\n       * Hides the menu.\n       *\n       * @public\n       */\n    MaterialMenu.prototype.hide = function () {\n        if (this.element_ && this.container_ && this.outline_) {\n            var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n            // Remove all transition delays; menu items fade out concurrently.\n            for (var i = 0; i < items.length; i++) {\n                items[i].style.removeProperty('transition-delay');\n            }\n            // Measure the inner element.\n            var rect = this.element_.getBoundingClientRect();\n            var height = rect.height;\n            var width = rect.width;\n            // Turn on animation, and apply the final clip. Also make invisible.\n            // This triggers the transitions.\n            this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n            this.applyClip_(height, width);\n            this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);\n            // Clean up after the animation is complete.\n            this.addAnimationEndListener_();\n        }\n    };\n    MaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;\n    /**\n       * Displays or hides the menu, depending on current state.\n       *\n       * @public\n       */\n    MaterialMenu.prototype.toggle = function (evt) {\n        if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            this.hide();\n        } else {\n            this.show(evt);\n        }\n    };\n    MaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialMenu,\n        classAsString: 'MaterialMenu',\n        cssClass: 'mdl-js-menu',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Progress MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialProgress = function MaterialProgress(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialProgress'] = MaterialProgress;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialProgress.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialProgress.prototype.CssClasses_ = { INDETERMINATE_CLASS: 'mdl-progress__indeterminate' };\n    /**\n       * Set the current progress of the progressbar.\n       *\n       * @param {number} p Percentage of the progress (0-100)\n       * @public\n       */\n    MaterialProgress.prototype.setProgress = function (p) {\n        if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n            return;\n        }\n        this.progressbar_.style.width = p + '%';\n    };\n    MaterialProgress.prototype['setProgress'] = MaterialProgress.prototype.setProgress;\n    /**\n       * Set the current progress of the buffer.\n       *\n       * @param {number} p Percentage of the buffer (0-100)\n       * @public\n       */\n    MaterialProgress.prototype.setBuffer = function (p) {\n        this.bufferbar_.style.width = p + '%';\n        this.auxbar_.style.width = 100 - p + '%';\n    };\n    MaterialProgress.prototype['setBuffer'] = MaterialProgress.prototype.setBuffer;\n    /**\n       * Initialize element.\n       */\n    MaterialProgress.prototype.init = function () {\n        if (this.element_) {\n            var el = document.createElement('div');\n            el.className = 'progressbar bar bar1';\n            this.element_.appendChild(el);\n            this.progressbar_ = el;\n            el = document.createElement('div');\n            el.className = 'bufferbar bar bar2';\n            this.element_.appendChild(el);\n            this.bufferbar_ = el;\n            el = document.createElement('div');\n            el.className = 'auxbar bar bar3';\n            this.element_.appendChild(el);\n            this.auxbar_ = el;\n            this.progressbar_.style.width = '0%';\n            this.bufferbar_.style.width = '100%';\n            this.auxbar_.style.width = '0%';\n            this.element_.classList.add('is-upgraded');\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialProgress,\n        classAsString: 'MaterialProgress',\n        cssClass: 'mdl-js-progress',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Radio MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialRadio = function MaterialRadio(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialRadio'] = MaterialRadio;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialRadio.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialRadio.prototype.CssClasses_ = {\n        IS_FOCUSED: 'is-focused',\n        IS_DISABLED: 'is-disabled',\n        IS_CHECKED: 'is-checked',\n        IS_UPGRADED: 'is-upgraded',\n        JS_RADIO: 'mdl-js-radio',\n        RADIO_BTN: 'mdl-radio__button',\n        RADIO_OUTER_CIRCLE: 'mdl-radio__outer-circle',\n        RADIO_INNER_CIRCLE: 'mdl-radio__inner-circle',\n        RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE_CONTAINER: 'mdl-radio__ripple-container',\n        RIPPLE_CENTER: 'mdl-ripple--center',\n        RIPPLE: 'mdl-ripple'\n    };\n    /**\n       * Handle change of state.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRadio.prototype.onChange_ = function (event) {\n        // Since other radio buttons don't get change events, we need to look for\n        // them to update their classes.\n        var radios = document.getElementsByClassName(this.CssClasses_.JS_RADIO);\n        for (var i = 0; i < radios.length; i++) {\n            var button = radios[i].querySelector('.' + this.CssClasses_.RADIO_BTN);\n            // Different name == different group, so no point updating those.\n            if (button.getAttribute('name') === this.btnElement_.getAttribute('name')) {\n                if (typeof radios[i]['MaterialRadio'] !== 'undefined') {\n                    radios[i]['MaterialRadio'].updateClasses_();\n                }\n            }\n        }\n    };\n    /**\n       * Handle focus.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRadio.prototype.onFocus_ = function (event) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle lost focus.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRadio.prototype.onBlur_ = function (event) {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle mouseup.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRadio.prototype.onMouseup_ = function (event) {\n        this.blur_();\n    };\n    /**\n       * Update classes.\n       *\n       * @private\n       */\n    MaterialRadio.prototype.updateClasses_ = function () {\n        this.checkDisabled();\n        this.checkToggleState();\n    };\n    /**\n       * Add blur.\n       *\n       * @private\n       */\n    MaterialRadio.prototype.blur_ = function () {\n        // TODO: figure out why there's a focus event being fired after our blur,\n        // so that we can avoid this hack.\n        window.setTimeout(function () {\n            this.btnElement_.blur();\n        }.bind(this), this.Constant_.TINY_TIMEOUT);\n    };\n    // Public methods.\n    /**\n       * Check the components disabled state.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.checkDisabled = function () {\n        if (this.btnElement_.disabled) {\n            this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n        }\n    };\n    MaterialRadio.prototype['checkDisabled'] = MaterialRadio.prototype.checkDisabled;\n    /**\n       * Check the components toggled state.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.checkToggleState = function () {\n        if (this.btnElement_.checked) {\n            this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n        }\n    };\n    MaterialRadio.prototype['checkToggleState'] = MaterialRadio.prototype.checkToggleState;\n    /**\n       * Disable radio.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.disable = function () {\n        this.btnElement_.disabled = true;\n        this.updateClasses_();\n    };\n    MaterialRadio.prototype['disable'] = MaterialRadio.prototype.disable;\n    /**\n       * Enable radio.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.enable = function () {\n        this.btnElement_.disabled = false;\n        this.updateClasses_();\n    };\n    MaterialRadio.prototype['enable'] = MaterialRadio.prototype.enable;\n    /**\n       * Check radio.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.check = function () {\n        this.btnElement_.checked = true;\n        this.onChange_(null);\n    };\n    MaterialRadio.prototype['check'] = MaterialRadio.prototype.check;\n    /**\n       * Uncheck radio.\n       *\n       * @public\n       */\n    MaterialRadio.prototype.uncheck = function () {\n        this.btnElement_.checked = false;\n        this.onChange_(null);\n    };\n    MaterialRadio.prototype['uncheck'] = MaterialRadio.prototype.uncheck;\n    /**\n       * Initialize element.\n       */\n    MaterialRadio.prototype.init = function () {\n        if (this.element_) {\n            this.btnElement_ = this.element_.querySelector('.' + this.CssClasses_.RADIO_BTN);\n            this.boundChangeHandler_ = this.onChange_.bind(this);\n            this.boundFocusHandler_ = this.onChange_.bind(this);\n            this.boundBlurHandler_ = this.onBlur_.bind(this);\n            this.boundMouseUpHandler_ = this.onMouseup_.bind(this);\n            var outerCircle = document.createElement('span');\n            outerCircle.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);\n            var innerCircle = document.createElement('span');\n            innerCircle.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE);\n            this.element_.appendChild(outerCircle);\n            this.element_.appendChild(innerCircle);\n            var rippleContainer;\n            if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n                this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n                rippleContainer.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n                rippleContainer.classList.add(this.CssClasses_.RIPPLE_CENTER);\n                rippleContainer.addEventListener('mouseup', this.boundMouseUpHandler_);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                rippleContainer.appendChild(ripple);\n                this.element_.appendChild(rippleContainer);\n            }\n            this.btnElement_.addEventListener('change', this.boundChangeHandler_);\n            this.btnElement_.addEventListener('focus', this.boundFocusHandler_);\n            this.btnElement_.addEventListener('blur', this.boundBlurHandler_);\n            this.element_.addEventListener('mouseup', this.boundMouseUpHandler_);\n            this.updateClasses_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialRadio,\n        classAsString: 'MaterialRadio',\n        cssClass: 'mdl-js-radio',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Slider MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialSlider = function MaterialSlider(element) {\n        this.element_ = element;\n        // Browser feature detection.\n        this.isIE_ = window.navigator.msPointerEnabled;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialSlider'] = MaterialSlider;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialSlider.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialSlider.prototype.CssClasses_ = {\n        IE_CONTAINER: 'mdl-slider__ie-container',\n        SLIDER_CONTAINER: 'mdl-slider__container',\n        BACKGROUND_FLEX: 'mdl-slider__background-flex',\n        BACKGROUND_LOWER: 'mdl-slider__background-lower',\n        BACKGROUND_UPPER: 'mdl-slider__background-upper',\n        IS_LOWEST_VALUE: 'is-lowest-value',\n        IS_UPGRADED: 'is-upgraded'\n    };\n    /**\n       * Handle input on element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSlider.prototype.onInput_ = function (event) {\n        this.updateValueStyles_();\n    };\n    /**\n       * Handle change on element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSlider.prototype.onChange_ = function (event) {\n        this.updateValueStyles_();\n    };\n    /**\n       * Handle mouseup on element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSlider.prototype.onMouseUp_ = function (event) {\n        event.target.blur();\n    };\n    /**\n       * Handle mousedown on container element.\n       * This handler is purpose is to not require the use to click\n       * exactly on the 2px slider element, as FireFox seems to be very\n       * strict about this.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       * @suppress {missingProperties}\n       */\n    MaterialSlider.prototype.onContainerMouseDown_ = function (event) {\n        // If this click is not on the parent element (but rather some child)\n        // ignore. It may still bubble up.\n        if (event.target !== this.element_.parentElement) {\n            return;\n        }\n        // Discard the original event and create a new event that\n        // is on the slider element.\n        event.preventDefault();\n        var newEvent = new MouseEvent('mousedown', {\n            target: event.target,\n            buttons: event.buttons,\n            clientX: event.clientX,\n            clientY: this.element_.getBoundingClientRect().y\n        });\n        this.element_.dispatchEvent(newEvent);\n    };\n    /**\n       * Handle updating of values.\n       *\n       * @private\n       */\n    MaterialSlider.prototype.updateValueStyles_ = function () {\n        // Calculate and apply percentages to div structure behind slider.\n        var fraction = (this.element_.value - this.element_.min) / (this.element_.max - this.element_.min);\n        if (fraction === 0) {\n            this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE);\n        }\n        if (!this.isIE_) {\n            this.backgroundLower_.style.flex = fraction;\n            this.backgroundLower_.style.webkitFlex = fraction;\n            this.backgroundUpper_.style.flex = 1 - fraction;\n            this.backgroundUpper_.style.webkitFlex = 1 - fraction;\n        }\n    };\n    // Public methods.\n    /**\n       * Disable slider.\n       *\n       * @public\n       */\n    MaterialSlider.prototype.disable = function () {\n        this.element_.disabled = true;\n    };\n    MaterialSlider.prototype['disable'] = MaterialSlider.prototype.disable;\n    /**\n       * Enable slider.\n       *\n       * @public\n       */\n    MaterialSlider.prototype.enable = function () {\n        this.element_.disabled = false;\n    };\n    MaterialSlider.prototype['enable'] = MaterialSlider.prototype.enable;\n    /**\n       * Update slider value.\n       *\n       * @param {number} value The value to which to set the control (optional).\n       * @public\n       */\n    MaterialSlider.prototype.change = function (value) {\n        if (typeof value !== 'undefined') {\n            this.element_.value = value;\n        }\n        this.updateValueStyles_();\n    };\n    MaterialSlider.prototype['change'] = MaterialSlider.prototype.change;\n    /**\n       * Initialize element.\n       */\n    MaterialSlider.prototype.init = function () {\n        if (this.element_) {\n            if (this.isIE_) {\n                // Since we need to specify a very large height in IE due to\n                // implementation limitations, we add a parent here that trims it down to\n                // a reasonable size.\n                var containerIE = document.createElement('div');\n                containerIE.classList.add(this.CssClasses_.IE_CONTAINER);\n                this.element_.parentElement.insertBefore(containerIE, this.element_);\n                this.element_.parentElement.removeChild(this.element_);\n                containerIE.appendChild(this.element_);\n            } else {\n                // For non-IE browsers, we need a div structure that sits behind the\n                // slider and allows us to style the left and right sides of it with\n                // different colors.\n                var container = document.createElement('div');\n                container.classList.add(this.CssClasses_.SLIDER_CONTAINER);\n                this.element_.parentElement.insertBefore(container, this.element_);\n                this.element_.parentElement.removeChild(this.element_);\n                container.appendChild(this.element_);\n                var backgroundFlex = document.createElement('div');\n                backgroundFlex.classList.add(this.CssClasses_.BACKGROUND_FLEX);\n                container.appendChild(backgroundFlex);\n                this.backgroundLower_ = document.createElement('div');\n                this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER);\n                backgroundFlex.appendChild(this.backgroundLower_);\n                this.backgroundUpper_ = document.createElement('div');\n                this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER);\n                backgroundFlex.appendChild(this.backgroundUpper_);\n            }\n            this.boundInputHandler = this.onInput_.bind(this);\n            this.boundChangeHandler = this.onChange_.bind(this);\n            this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n            this.boundContainerMouseDownHandler = this.onContainerMouseDown_.bind(this);\n            this.element_.addEventListener('input', this.boundInputHandler);\n            this.element_.addEventListener('change', this.boundChangeHandler);\n            this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n            this.element_.parentElement.addEventListener('mousedown', this.boundContainerMouseDownHandler);\n            this.updateValueStyles_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialSlider,\n        classAsString: 'MaterialSlider',\n        cssClass: 'mdl-js-slider',\n        widget: true\n    });\n    /**\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Snackbar MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialSnackbar = function MaterialSnackbar(element) {\n        this.element_ = element;\n        this.textElement_ = this.element_.querySelector('.' + this.cssClasses_.MESSAGE);\n        this.actionElement_ = this.element_.querySelector('.' + this.cssClasses_.ACTION);\n        if (!this.textElement_) {\n            throw new Error('There must be a message element for a snackbar.');\n        }\n        if (!this.actionElement_) {\n            throw new Error('There must be an action element for a snackbar.');\n        }\n        this.active = false;\n        this.actionHandler_ = undefined;\n        this.message_ = undefined;\n        this.actionText_ = undefined;\n        this.queuedNotifications_ = [];\n        this.setActionHidden_(true);\n    };\n    window['MaterialSnackbar'] = MaterialSnackbar;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialSnackbar.prototype.Constant_ = {\n        // The duration of the snackbar show/hide animation, in ms.\n        ANIMATION_LENGTH: 250\n    };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialSnackbar.prototype.cssClasses_ = {\n        SNACKBAR: 'mdl-snackbar',\n        MESSAGE: 'mdl-snackbar__text',\n        ACTION: 'mdl-snackbar__action',\n        ACTIVE: 'mdl-snackbar--active'\n    };\n    /**\n       * Display the snackbar.\n       *\n       * @private\n       */\n    MaterialSnackbar.prototype.displaySnackbar_ = function () {\n        this.element_.setAttribute('aria-hidden', 'true');\n        if (this.actionHandler_) {\n            this.actionElement_.textContent = this.actionText_;\n            this.actionElement_.addEventListener('click', this.actionHandler_);\n            this.setActionHidden_(false);\n        }\n        this.textElement_.textContent = this.message_;\n        this.element_.classList.add(this.cssClasses_.ACTIVE);\n        this.element_.setAttribute('aria-hidden', 'false');\n        setTimeout(this.cleanup_.bind(this), this.timeout_);\n    };\n    /**\n       * Show the snackbar.\n       *\n       * @param {Object} data The data for the notification.\n       * @public\n       */\n    MaterialSnackbar.prototype.showSnackbar = function (data) {\n        if (data === undefined) {\n            throw new Error('Please provide a data object with at least a message to display.');\n        }\n        if (data['message'] === undefined) {\n            throw new Error('Please provide a message to be displayed.');\n        }\n        if (data['actionHandler'] && !data['actionText']) {\n            throw new Error('Please provide action text with the handler.');\n        }\n        if (this.active) {\n            this.queuedNotifications_.push(data);\n        } else {\n            this.active = true;\n            this.message_ = data['message'];\n            if (data['timeout']) {\n                this.timeout_ = data['timeout'];\n            } else {\n                this.timeout_ = 2750;\n            }\n            if (data['actionHandler']) {\n                this.actionHandler_ = data['actionHandler'];\n            }\n            if (data['actionText']) {\n                this.actionText_ = data['actionText'];\n            }\n            this.displaySnackbar_();\n        }\n    };\n    MaterialSnackbar.prototype['showSnackbar'] = MaterialSnackbar.prototype.showSnackbar;\n    /**\n       * Check if the queue has items within it.\n       * If it does, display the next entry.\n       *\n       * @private\n       */\n    MaterialSnackbar.prototype.checkQueue_ = function () {\n        if (this.queuedNotifications_.length > 0) {\n            this.showSnackbar(this.queuedNotifications_.shift());\n        }\n    };\n    /**\n       * Cleanup the snackbar event listeners and accessiblity attributes.\n       *\n       * @private\n       */\n    MaterialSnackbar.prototype.cleanup_ = function () {\n        this.element_.classList.remove(this.cssClasses_.ACTIVE);\n        setTimeout(function () {\n            this.element_.setAttribute('aria-hidden', 'true');\n            this.textElement_.textContent = '';\n            if (!Boolean(this.actionElement_.getAttribute('aria-hidden'))) {\n                this.setActionHidden_(true);\n                this.actionElement_.textContent = '';\n                this.actionElement_.removeEventListener('click', this.actionHandler_);\n            }\n            this.actionHandler_ = undefined;\n            this.message_ = undefined;\n            this.actionText_ = undefined;\n            this.active = false;\n            this.checkQueue_();\n        }.bind(this), this.Constant_.ANIMATION_LENGTH);\n    };\n    /**\n       * Set the action handler hidden state.\n       *\n       * @param {boolean} value\n       * @private\n       */\n    MaterialSnackbar.prototype.setActionHidden_ = function (value) {\n        if (value) {\n            this.actionElement_.setAttribute('aria-hidden', 'true');\n        } else {\n            this.actionElement_.removeAttribute('aria-hidden');\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialSnackbar,\n        classAsString: 'MaterialSnackbar',\n        cssClass: 'mdl-js-snackbar',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Spinner MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @param {HTMLElement} element The element that will be upgraded.\n       * @constructor\n       */\n    var MaterialSpinner = function MaterialSpinner(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialSpinner'] = MaterialSpinner;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialSpinner.prototype.Constant_ = { MDL_SPINNER_LAYER_COUNT: 4 };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialSpinner.prototype.CssClasses_ = {\n        MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n        MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n        MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n        MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n        MDL_SPINNER_LEFT: 'mdl-spinner__left',\n        MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n    };\n    /**\n       * Auxiliary method to create a spinner layer.\n       *\n       * @param {number} index Index of the layer to be created.\n       * @public\n       */\n    MaterialSpinner.prototype.createLayer = function (index) {\n        var layer = document.createElement('div');\n        layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n        layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n        var leftClipper = document.createElement('div');\n        leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n        leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n        var gapPatch = document.createElement('div');\n        gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n        var rightClipper = document.createElement('div');\n        rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n        rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n        var circleOwners = [leftClipper, gapPatch, rightClipper];\n        for (var i = 0; i < circleOwners.length; i++) {\n            var circle = document.createElement('div');\n            circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n            circleOwners[i].appendChild(circle);\n        }\n        layer.appendChild(leftClipper);\n        layer.appendChild(gapPatch);\n        layer.appendChild(rightClipper);\n        this.element_.appendChild(layer);\n    };\n    MaterialSpinner.prototype['createLayer'] = MaterialSpinner.prototype.createLayer;\n    /**\n       * Stops the spinner animation.\n       * Public method for users who need to stop the spinner for any reason.\n       *\n       * @public\n       */\n    MaterialSpinner.prototype.stop = function () {\n        this.element_.classList.remove('is-active');\n    };\n    MaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n    /**\n       * Starts the spinner animation.\n       * Public method for users who need to manually start the spinner for any reason\n       * (instead of just adding the 'is-active' class to their markup).\n       *\n       * @public\n       */\n    MaterialSpinner.prototype.start = function () {\n        this.element_.classList.add('is-active');\n    };\n    MaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n    /**\n       * Initialize element.\n       */\n    MaterialSpinner.prototype.init = function () {\n        if (this.element_) {\n            for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n                this.createLayer(i);\n            }\n            this.element_.classList.add('is-upgraded');\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialSpinner,\n        classAsString: 'MaterialSpinner',\n        cssClass: 'mdl-js-spinner',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Checkbox MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialSwitch = function MaterialSwitch(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialSwitch'] = MaterialSwitch;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialSwitch.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialSwitch.prototype.CssClasses_ = {\n        INPUT: 'mdl-switch__input',\n        TRACK: 'mdl-switch__track',\n        THUMB: 'mdl-switch__thumb',\n        FOCUS_HELPER: 'mdl-switch__focus-helper',\n        RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE_CONTAINER: 'mdl-switch__ripple-container',\n        RIPPLE_CENTER: 'mdl-ripple--center',\n        RIPPLE: 'mdl-ripple',\n        IS_FOCUSED: 'is-focused',\n        IS_DISABLED: 'is-disabled',\n        IS_CHECKED: 'is-checked'\n    };\n    /**\n       * Handle change of state.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSwitch.prototype.onChange_ = function (event) {\n        this.updateClasses_();\n    };\n    /**\n       * Handle focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSwitch.prototype.onFocus_ = function (event) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle lost focus of element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSwitch.prototype.onBlur_ = function (event) {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle mouseup.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialSwitch.prototype.onMouseUp_ = function (event) {\n        this.blur_();\n    };\n    /**\n       * Handle class updates.\n       *\n       * @private\n       */\n    MaterialSwitch.prototype.updateClasses_ = function () {\n        this.checkDisabled();\n        this.checkToggleState();\n    };\n    /**\n       * Add blur.\n       *\n       * @private\n       */\n    MaterialSwitch.prototype.blur_ = function () {\n        // TODO: figure out why there's a focus event being fired after our blur,\n        // so that we can avoid this hack.\n        window.setTimeout(function () {\n            this.inputElement_.blur();\n        }.bind(this), this.Constant_.TINY_TIMEOUT);\n    };\n    // Public methods.\n    /**\n       * Check the components disabled state.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.checkDisabled = function () {\n        if (this.inputElement_.disabled) {\n            this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n        }\n    };\n    MaterialSwitch.prototype['checkDisabled'] = MaterialSwitch.prototype.checkDisabled;\n    /**\n       * Check the components toggled state.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.checkToggleState = function () {\n        if (this.inputElement_.checked) {\n            this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n        }\n    };\n    MaterialSwitch.prototype['checkToggleState'] = MaterialSwitch.prototype.checkToggleState;\n    /**\n       * Disable switch.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.disable = function () {\n        this.inputElement_.disabled = true;\n        this.updateClasses_();\n    };\n    MaterialSwitch.prototype['disable'] = MaterialSwitch.prototype.disable;\n    /**\n       * Enable switch.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.enable = function () {\n        this.inputElement_.disabled = false;\n        this.updateClasses_();\n    };\n    MaterialSwitch.prototype['enable'] = MaterialSwitch.prototype.enable;\n    /**\n       * Activate switch.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.on = function () {\n        this.inputElement_.checked = true;\n        this.updateClasses_();\n    };\n    MaterialSwitch.prototype['on'] = MaterialSwitch.prototype.on;\n    /**\n       * Deactivate switch.\n       *\n       * @public\n       */\n    MaterialSwitch.prototype.off = function () {\n        this.inputElement_.checked = false;\n        this.updateClasses_();\n    };\n    MaterialSwitch.prototype['off'] = MaterialSwitch.prototype.off;\n    /**\n       * Initialize element.\n       */\n    MaterialSwitch.prototype.init = function () {\n        if (this.element_) {\n            this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n            var track = document.createElement('div');\n            track.classList.add(this.CssClasses_.TRACK);\n            var thumb = document.createElement('div');\n            thumb.classList.add(this.CssClasses_.THUMB);\n            var focusHelper = document.createElement('span');\n            focusHelper.classList.add(this.CssClasses_.FOCUS_HELPER);\n            thumb.appendChild(focusHelper);\n            this.element_.appendChild(track);\n            this.element_.appendChild(thumb);\n            this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n            if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n                this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                this.rippleContainerElement_ = document.createElement('span');\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n                this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n                this.rippleContainerElement_.addEventListener('mouseup', this.boundMouseUpHandler);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                this.rippleContainerElement_.appendChild(ripple);\n                this.element_.appendChild(this.rippleContainerElement_);\n            }\n            this.boundChangeHandler = this.onChange_.bind(this);\n            this.boundFocusHandler = this.onFocus_.bind(this);\n            this.boundBlurHandler = this.onBlur_.bind(this);\n            this.inputElement_.addEventListener('change', this.boundChangeHandler);\n            this.inputElement_.addEventListener('focus', this.boundFocusHandler);\n            this.inputElement_.addEventListener('blur', this.boundBlurHandler);\n            this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n            this.updateClasses_();\n            this.element_.classList.add('is-upgraded');\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialSwitch,\n        classAsString: 'MaterialSwitch',\n        cssClass: 'mdl-js-switch',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Tabs MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {Element} element The element that will be upgraded.\n       */\n    var MaterialTabs = function MaterialTabs(element) {\n        // Stores the HTML element.\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialTabs'] = MaterialTabs;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialTabs.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialTabs.prototype.CssClasses_ = {\n        TAB_CLASS: 'mdl-tabs__tab',\n        PANEL_CLASS: 'mdl-tabs__panel',\n        ACTIVE_CLASS: 'is-active',\n        UPGRADED_CLASS: 'is-upgraded',\n        MDL_JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        MDL_RIPPLE_CONTAINER: 'mdl-tabs__ripple-container',\n        MDL_RIPPLE: 'mdl-ripple',\n        MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events'\n    };\n    /**\n       * Handle clicks to a tabs component\n       *\n       * @private\n       */\n    MaterialTabs.prototype.initTabs_ = function () {\n        if (this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS);\n        }\n        // Select element tabs, document panels\n        this.tabs_ = this.element_.querySelectorAll('.' + this.CssClasses_.TAB_CLASS);\n        this.panels_ = this.element_.querySelectorAll('.' + this.CssClasses_.PANEL_CLASS);\n        // Create new tabs for each tab element\n        for (var i = 0; i < this.tabs_.length; i++) {\n            new MaterialTab(this.tabs_[i], this);\n        }\n        this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS);\n    };\n    /**\n       * Reset tab state, dropping active classes\n       *\n       * @private\n       */\n    MaterialTabs.prototype.resetTabState_ = function () {\n        for (var k = 0; k < this.tabs_.length; k++) {\n            this.tabs_[k].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n        }\n    };\n    /**\n       * Reset panel state, droping active classes\n       *\n       * @private\n       */\n    MaterialTabs.prototype.resetPanelState_ = function () {\n        for (var j = 0; j < this.panels_.length; j++) {\n            this.panels_[j].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n        }\n    };\n    /**\n       * Initialize element.\n       */\n    MaterialTabs.prototype.init = function () {\n        if (this.element_) {\n            this.initTabs_();\n        }\n    };\n    /**\n       * Constructor for an individual tab.\n       *\n       * @constructor\n       * @param {Element} tab The HTML element for the tab.\n       * @param {MaterialTabs} ctx The MaterialTabs object that owns the tab.\n       */\n    function MaterialTab(tab, ctx) {\n        if (tab) {\n            if (ctx.element_.classList.contains(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n                var rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(ctx.CssClasses_.MDL_RIPPLE_CONTAINER);\n                rippleContainer.classList.add(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT);\n                var ripple = document.createElement('span');\n                ripple.classList.add(ctx.CssClasses_.MDL_RIPPLE);\n                rippleContainer.appendChild(ripple);\n                tab.appendChild(rippleContainer);\n            }\n            tab.addEventListener('click', function (e) {\n                if (tab.getAttribute('href').charAt(0) === '#') {\n                    e.preventDefault();\n                    var href = tab.href.split('#')[1];\n                    var panel = ctx.element_.querySelector('#' + href);\n                    ctx.resetTabState_();\n                    ctx.resetPanelState_();\n                    tab.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n                    panel.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n                }\n            });\n        }\n    }\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialTabs,\n        classAsString: 'MaterialTabs',\n        cssClass: 'mdl-js-tabs'\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Textfield MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialTextfield = function MaterialTextfield(element) {\n        this.element_ = element;\n        this.maxRows = this.Constant_.NO_MAX_ROWS;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialTextfield'] = MaterialTextfield;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialTextfield.prototype.Constant_ = {\n        NO_MAX_ROWS: -1,\n        MAX_ROWS_ATTRIBUTE: 'maxrows'\n    };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialTextfield.prototype.CssClasses_ = {\n        LABEL: 'mdl-textfield__label',\n        INPUT: 'mdl-textfield__input',\n        IS_DIRTY: 'is-dirty',\n        IS_FOCUSED: 'is-focused',\n        IS_DISABLED: 'is-disabled',\n        IS_INVALID: 'is-invalid',\n        IS_UPGRADED: 'is-upgraded',\n        HAS_PLACEHOLDER: 'has-placeholder'\n    };\n    /**\n       * Handle input being entered.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialTextfield.prototype.onKeyDown_ = function (event) {\n        var currentRowCount = event.target.value.split('\\n').length;\n        if (event.keyCode === 13) {\n            if (currentRowCount >= this.maxRows) {\n                event.preventDefault();\n            }\n        }\n    };\n    /**\n       * Handle focus.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialTextfield.prototype.onFocus_ = function (event) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle lost focus.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialTextfield.prototype.onBlur_ = function (event) {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    };\n    /**\n       * Handle reset event from out side.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialTextfield.prototype.onReset_ = function (event) {\n        this.updateClasses_();\n    };\n    /**\n       * Handle class updates.\n       *\n       * @private\n       */\n    MaterialTextfield.prototype.updateClasses_ = function () {\n        this.checkDisabled();\n        this.checkValidity();\n        this.checkDirty();\n        this.checkFocus();\n    };\n    // Public methods.\n    /**\n       * Check the disabled state and update field accordingly.\n       *\n       * @public\n       */\n    MaterialTextfield.prototype.checkDisabled = function () {\n        if (this.input_.disabled) {\n            this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n        }\n    };\n    MaterialTextfield.prototype['checkDisabled'] = MaterialTextfield.prototype.checkDisabled;\n    /**\n      * Check the focus state and update field accordingly.\n      *\n      * @public\n      */\n    MaterialTextfield.prototype.checkFocus = function () {\n        if (Boolean(this.element_.querySelector(':focus'))) {\n            this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n        }\n    };\n    MaterialTextfield.prototype['checkFocus'] = MaterialTextfield.prototype.checkFocus;\n    /**\n       * Check the validity state and update field accordingly.\n       *\n       * @public\n       */\n    MaterialTextfield.prototype.checkValidity = function () {\n        if (this.input_.validity) {\n            if (this.input_.validity.valid) {\n                this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n            } else {\n                this.element_.classList.add(this.CssClasses_.IS_INVALID);\n            }\n        }\n    };\n    MaterialTextfield.prototype['checkValidity'] = MaterialTextfield.prototype.checkValidity;\n    /**\n       * Check the dirty state and update field accordingly.\n       *\n       * @public\n       */\n    MaterialTextfield.prototype.checkDirty = function () {\n        if (this.input_.value && this.input_.value.length > 0) {\n            this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n        }\n    };\n    MaterialTextfield.prototype['checkDirty'] = MaterialTextfield.prototype.checkDirty;\n    /**\n       * Disable text field.\n       *\n       * @public\n       */\n    MaterialTextfield.prototype.disable = function () {\n        this.input_.disabled = true;\n        this.updateClasses_();\n    };\n    MaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n    /**\n       * Enable text field.\n       *\n       * @public\n       */\n    MaterialTextfield.prototype.enable = function () {\n        this.input_.disabled = false;\n        this.updateClasses_();\n    };\n    MaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n    /**\n       * Update text field value.\n       *\n       * @param {string} value The value to which to set the control (optional).\n       * @public\n       */\n    MaterialTextfield.prototype.change = function (value) {\n        this.input_.value = value || '';\n        this.updateClasses_();\n    };\n    MaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n    /**\n       * Initialize element.\n       */\n    MaterialTextfield.prototype.init = function () {\n        if (this.element_) {\n            this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n            this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n            if (this.input_) {\n                if (this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)) {\n                    this.maxRows = parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE), 10);\n                    if (isNaN(this.maxRows)) {\n                        this.maxRows = this.Constant_.NO_MAX_ROWS;\n                    }\n                }\n                if (this.input_.hasAttribute('placeholder')) {\n                    this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER);\n                }\n                this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n                this.boundFocusHandler = this.onFocus_.bind(this);\n                this.boundBlurHandler = this.onBlur_.bind(this);\n                this.boundResetHandler = this.onReset_.bind(this);\n                this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n                this.input_.addEventListener('focus', this.boundFocusHandler);\n                this.input_.addEventListener('blur', this.boundBlurHandler);\n                this.input_.addEventListener('reset', this.boundResetHandler);\n                if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n                    // TODO: This should handle pasting multi line text.\n                    // Currently doesn't.\n                    this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n                    this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n                }\n                var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n                this.updateClasses_();\n                this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n                if (invalid) {\n                    this.element_.classList.add(this.CssClasses_.IS_INVALID);\n                }\n                if (this.input_.hasAttribute('autofocus')) {\n                    this.element_.focus();\n                    this.checkFocus();\n                }\n            }\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialTextfield,\n        classAsString: 'MaterialTextfield',\n        cssClass: 'mdl-js-textfield',\n        widget: true\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Tooltip MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialTooltip = function MaterialTooltip(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialTooltip'] = MaterialTooltip;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialTooltip.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialTooltip.prototype.CssClasses_ = {\n        IS_ACTIVE: 'is-active',\n        BOTTOM: 'mdl-tooltip--bottom',\n        LEFT: 'mdl-tooltip--left',\n        RIGHT: 'mdl-tooltip--right',\n        TOP: 'mdl-tooltip--top'\n    };\n    /**\n       * Handle mouseenter for tooltip.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialTooltip.prototype.handleMouseEnter_ = function (event) {\n        var props = event.target.getBoundingClientRect();\n        var left = props.left + props.width / 2;\n        var top = props.top + props.height / 2;\n        var marginLeft = -1 * (this.element_.offsetWidth / 2);\n        var marginTop = -1 * (this.element_.offsetHeight / 2);\n        if (this.element_.classList.contains(this.CssClasses_.LEFT) || this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n            left = props.width / 2;\n            if (top + marginTop < 0) {\n                this.element_.style.top = '0';\n                this.element_.style.marginTop = '0';\n            } else {\n                this.element_.style.top = top + 'px';\n                this.element_.style.marginTop = marginTop + 'px';\n            }\n        } else {\n            if (left + marginLeft < 0) {\n                this.element_.style.left = '0';\n                this.element_.style.marginLeft = '0';\n            } else {\n                this.element_.style.left = left + 'px';\n                this.element_.style.marginLeft = marginLeft + 'px';\n            }\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP)) {\n            this.element_.style.top = props.top - this.element_.offsetHeight - 10 + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n            this.element_.style.left = props.left + props.width + 10 + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.LEFT)) {\n            this.element_.style.left = props.left - this.element_.offsetWidth - 10 + 'px';\n        } else {\n            this.element_.style.top = props.top + props.height + 10 + 'px';\n        }\n        this.element_.classList.add(this.CssClasses_.IS_ACTIVE);\n    };\n    /**\n       * Hide tooltip on mouseleave or scroll\n       *\n       * @private\n       */\n    MaterialTooltip.prototype.hideTooltip_ = function () {\n        this.element_.classList.remove(this.CssClasses_.IS_ACTIVE);\n    };\n    /**\n       * Initialize element.\n       */\n    MaterialTooltip.prototype.init = function () {\n        if (this.element_) {\n            var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n            if (forElId) {\n                this.forElement_ = document.getElementById(forElId);\n            }\n            if (this.forElement_) {\n                // It's left here because it prevents accidental text selection on Android\n                if (!this.forElement_.hasAttribute('tabindex')) {\n                    this.forElement_.setAttribute('tabindex', '0');\n                }\n                this.boundMouseEnterHandler = this.handleMouseEnter_.bind(this);\n                this.boundMouseLeaveAndScrollHandler = this.hideTooltip_.bind(this);\n                this.forElement_.addEventListener('mouseenter', this.boundMouseEnterHandler, false);\n                this.forElement_.addEventListener('touchend', this.boundMouseEnterHandler, false);\n                this.forElement_.addEventListener('mouseleave', this.boundMouseLeaveAndScrollHandler, false);\n                window.addEventListener('scroll', this.boundMouseLeaveAndScrollHandler, true);\n                window.addEventListener('touchstart', this.boundMouseLeaveAndScrollHandler);\n            }\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialTooltip,\n        classAsString: 'MaterialTooltip',\n        cssClass: 'mdl-tooltip'\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Layout MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialLayout = function MaterialLayout(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialLayout'] = MaterialLayout;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialLayout.prototype.Constant_ = {\n        MAX_WIDTH: '(max-width: 1024px)',\n        TAB_SCROLL_PIXELS: 100,\n        RESIZE_TIMEOUT: 100,\n        MENU_ICON: '&#xE5D2;',\n        CHEVRON_LEFT: 'chevron_left',\n        CHEVRON_RIGHT: 'chevron_right'\n    };\n    /**\n       * Keycodes, for code readability.\n       *\n       * @enum {number}\n       * @private\n       */\n    MaterialLayout.prototype.Keycodes_ = {\n        ENTER: 13,\n        ESCAPE: 27,\n        SPACE: 32\n    };\n    /**\n       * Modes.\n       *\n       * @enum {number}\n       * @private\n       */\n    MaterialLayout.prototype.Mode_ = {\n        STANDARD: 0,\n        SEAMED: 1,\n        WATERFALL: 2,\n        SCROLL: 3\n    };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialLayout.prototype.CssClasses_ = {\n        CONTAINER: 'mdl-layout__container',\n        HEADER: 'mdl-layout__header',\n        DRAWER: 'mdl-layout__drawer',\n        CONTENT: 'mdl-layout__content',\n        DRAWER_BTN: 'mdl-layout__drawer-button',\n        ICON: 'material-icons',\n        JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n        RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',\n        RIPPLE: 'mdl-ripple',\n        RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        HEADER_SEAMED: 'mdl-layout__header--seamed',\n        HEADER_WATERFALL: 'mdl-layout__header--waterfall',\n        HEADER_SCROLL: 'mdl-layout__header--scroll',\n        FIXED_HEADER: 'mdl-layout--fixed-header',\n        OBFUSCATOR: 'mdl-layout__obfuscator',\n        TAB_BAR: 'mdl-layout__tab-bar',\n        TAB_CONTAINER: 'mdl-layout__tab-bar-container',\n        TAB: 'mdl-layout__tab',\n        TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',\n        TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',\n        TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',\n        TAB_MANUAL_SWITCH: 'mdl-layout__tab-manual-switch',\n        PANEL: 'mdl-layout__tab-panel',\n        HAS_DRAWER: 'has-drawer',\n        HAS_TABS: 'has-tabs',\n        HAS_SCROLLING_HEADER: 'has-scrolling-header',\n        CASTING_SHADOW: 'is-casting-shadow',\n        IS_COMPACT: 'is-compact',\n        IS_SMALL_SCREEN: 'is-small-screen',\n        IS_DRAWER_OPEN: 'is-visible',\n        IS_ACTIVE: 'is-active',\n        IS_UPGRADED: 'is-upgraded',\n        IS_ANIMATING: 'is-animating',\n        ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',\n        ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'\n    };\n    /**\n       * Handles scrolling on the content.\n       *\n       * @private\n       */\n    MaterialLayout.prototype.contentScrollHandler_ = function () {\n        if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {\n            return;\n        }\n        var headerVisible = !this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN) || this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);\n        if (this.content_.scrollTop > 0 && !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n            this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n            this.header_.classList.add(this.CssClasses_.IS_COMPACT);\n            if (headerVisible) {\n                this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n            }\n        } else if (this.content_.scrollTop <= 0 && this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n            this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n            this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n            if (headerVisible) {\n                this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n            }\n        }\n    };\n    /**\n       * Handles a keyboard event on the drawer.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialLayout.prototype.keyboardEventHandler_ = function (evt) {\n        // Only react when the drawer is open.\n        if (evt.keyCode === this.Keycodes_.ESCAPE && this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n            this.toggleDrawer();\n        }\n    };\n    /**\n       * Handles changes in screen size.\n       *\n       * @private\n       */\n    MaterialLayout.prototype.screenSizeHandler_ = function () {\n        if (this.screenSizeMediaQuery_.matches) {\n            this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);\n        } else {\n            this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);\n            // Collapse drawer (if any) when moving to a large screen size.\n            if (this.drawer_) {\n                this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n                this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n            }\n        }\n    };\n    /**\n       * Handles events of drawer button.\n       *\n       * @param {Event} evt The event that fired.\n       * @private\n       */\n    MaterialLayout.prototype.drawerToggleHandler_ = function (evt) {\n        if (evt && evt.type === 'keydown') {\n            if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n                // prevent scrolling in drawer nav\n                evt.preventDefault();\n            } else {\n                // prevent other keys\n                return;\n            }\n        }\n        this.toggleDrawer();\n    };\n    /**\n       * Handles (un)setting the `is-animating` class\n       *\n       * @private\n       */\n    MaterialLayout.prototype.headerTransitionEndHandler_ = function () {\n        this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);\n    };\n    /**\n       * Handles expanding the header on click\n       *\n       * @private\n       */\n    MaterialLayout.prototype.headerClickHandler_ = function () {\n        if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n            this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    };\n    /**\n       * Reset tab state, dropping active classes\n       *\n       * @private\n       */\n    MaterialLayout.prototype.resetTabState_ = function (tabBar) {\n        for (var k = 0; k < tabBar.length; k++) {\n            tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);\n        }\n    };\n    /**\n       * Reset panel state, droping active classes\n       *\n       * @private\n       */\n    MaterialLayout.prototype.resetPanelState_ = function (panels) {\n        for (var j = 0; j < panels.length; j++) {\n            panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);\n        }\n    };\n    /**\n      * Toggle drawer state\n      *\n      * @public\n      */\n    MaterialLayout.prototype.toggleDrawer = function () {\n        var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n        this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n        this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n        // Set accessibility properties.\n        if (this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n            this.drawer_.setAttribute('aria-hidden', 'false');\n            drawerButton.setAttribute('aria-expanded', 'true');\n        } else {\n            this.drawer_.setAttribute('aria-hidden', 'true');\n            drawerButton.setAttribute('aria-expanded', 'false');\n        }\n    };\n    MaterialLayout.prototype['toggleDrawer'] = MaterialLayout.prototype.toggleDrawer;\n    /**\n       * Initialize element.\n       */\n    MaterialLayout.prototype.init = function () {\n        if (this.element_) {\n            var container = document.createElement('div');\n            container.classList.add(this.CssClasses_.CONTAINER);\n            var focusedElement = this.element_.querySelector(':focus');\n            this.element_.parentElement.insertBefore(container, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            container.appendChild(this.element_);\n            if (focusedElement) {\n                focusedElement.focus();\n            }\n            var directChildren = this.element_.childNodes;\n            var numChildren = directChildren.length;\n            for (var c = 0; c < numChildren; c++) {\n                var child = directChildren[c];\n                if (child.classList && child.classList.contains(this.CssClasses_.HEADER)) {\n                    this.header_ = child;\n                }\n                if (child.classList && child.classList.contains(this.CssClasses_.DRAWER)) {\n                    this.drawer_ = child;\n                }\n                if (child.classList && child.classList.contains(this.CssClasses_.CONTENT)) {\n                    this.content_ = child;\n                }\n            }\n            window.addEventListener('pageshow', function (e) {\n                if (e.persisted) {\n                    // when page is loaded from back/forward cache\n                    // trigger repaint to let layout scroll in safari\n                    this.element_.style.overflowY = 'hidden';\n                    requestAnimationFrame(function () {\n                        this.element_.style.overflowY = '';\n                    }.bind(this));\n                }\n            }.bind(this), false);\n            if (this.header_) {\n                this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);\n            }\n            var mode = this.Mode_.STANDARD;\n            if (this.header_) {\n                if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {\n                    mode = this.Mode_.SEAMED;\n                } else if (this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)) {\n                    mode = this.Mode_.WATERFALL;\n                    this.header_.addEventListener('transitionend', this.headerTransitionEndHandler_.bind(this));\n                    this.header_.addEventListener('click', this.headerClickHandler_.bind(this));\n                } else if (this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)) {\n                    mode = this.Mode_.SCROLL;\n                    container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);\n                }\n                if (mode === this.Mode_.STANDARD) {\n                    this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                    if (this.tabBar_) {\n                        this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                    }\n                } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {\n                    this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                    if (this.tabBar_) {\n                        this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                    }\n                } else if (mode === this.Mode_.WATERFALL) {\n                    // Add and remove shadows depending on scroll position.\n                    // Also add/remove auxiliary class for styling of the compact version of\n                    // the header.\n                    this.content_.addEventListener('scroll', this.contentScrollHandler_.bind(this));\n                    this.contentScrollHandler_();\n                }\n            }\n            // Add drawer toggling button to our layout, if we have an openable drawer.\n            if (this.drawer_) {\n                var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n                if (!drawerButton) {\n                    drawerButton = document.createElement('div');\n                    drawerButton.setAttribute('aria-expanded', 'false');\n                    drawerButton.setAttribute('role', 'button');\n                    drawerButton.setAttribute('tabindex', '0');\n                    drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);\n                    var drawerButtonIcon = document.createElement('i');\n                    drawerButtonIcon.classList.add(this.CssClasses_.ICON);\n                    drawerButtonIcon.innerHTML = this.Constant_.MENU_ICON;\n                    drawerButton.appendChild(drawerButtonIcon);\n                }\n                if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {\n                    //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.\n                    drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);\n                } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {\n                    //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.\n                    drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);\n                }\n                drawerButton.addEventListener('click', this.drawerToggleHandler_.bind(this));\n                drawerButton.addEventListener('keydown', this.drawerToggleHandler_.bind(this));\n                // Add a class if the layout has a drawer, for altering the left padding.\n                // Adds the HAS_DRAWER to the elements since this.header_ may or may\n                // not be present.\n                this.element_.classList.add(this.CssClasses_.HAS_DRAWER);\n                // If we have a fixed header, add the button to the header rather than\n                // the layout.\n                if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {\n                    this.header_.insertBefore(drawerButton, this.header_.firstChild);\n                } else {\n                    this.element_.insertBefore(drawerButton, this.content_);\n                }\n                var obfuscator = document.createElement('div');\n                obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);\n                this.element_.appendChild(obfuscator);\n                obfuscator.addEventListener('click', this.drawerToggleHandler_.bind(this));\n                this.obfuscator_ = obfuscator;\n                this.drawer_.addEventListener('keydown', this.keyboardEventHandler_.bind(this));\n                this.drawer_.setAttribute('aria-hidden', 'true');\n            }\n            // Keep an eye on screen size, and add/remove auxiliary class for styling\n            // of small screens.\n            this.screenSizeMediaQuery_ = window.matchMedia(this.Constant_.MAX_WIDTH);\n            this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));\n            this.screenSizeHandler_();\n            // Initialize tabs, if any.\n            if (this.header_ && this.tabBar_) {\n                this.element_.classList.add(this.CssClasses_.HAS_TABS);\n                var tabContainer = document.createElement('div');\n                tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);\n                this.header_.insertBefore(tabContainer, this.tabBar_);\n                this.header_.removeChild(this.tabBar_);\n                var leftButton = document.createElement('div');\n                leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n                leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);\n                var leftButtonIcon = document.createElement('i');\n                leftButtonIcon.classList.add(this.CssClasses_.ICON);\n                leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;\n                leftButton.appendChild(leftButtonIcon);\n                leftButton.addEventListener('click', function () {\n                    this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;\n                }.bind(this));\n                var rightButton = document.createElement('div');\n                rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n                rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);\n                var rightButtonIcon = document.createElement('i');\n                rightButtonIcon.classList.add(this.CssClasses_.ICON);\n                rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;\n                rightButton.appendChild(rightButtonIcon);\n                rightButton.addEventListener('click', function () {\n                    this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;\n                }.bind(this));\n                tabContainer.appendChild(leftButton);\n                tabContainer.appendChild(this.tabBar_);\n                tabContainer.appendChild(rightButton);\n                // Add and remove tab buttons depending on scroll position and total\n                // window size.\n                var tabUpdateHandler = function () {\n                    if (this.tabBar_.scrollLeft > 0) {\n                        leftButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                    } else {\n                        leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                    }\n                    if (this.tabBar_.scrollLeft < this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {\n                        rightButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                    } else {\n                        rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                    }\n                }.bind(this);\n                this.tabBar_.addEventListener('scroll', tabUpdateHandler);\n                tabUpdateHandler();\n                // Update tabs when the window resizes.\n                var windowResizeHandler = function () {\n                    // Use timeouts to make sure it doesn't happen too often.\n                    if (this.resizeTimeoutId_) {\n                        clearTimeout(this.resizeTimeoutId_);\n                    }\n                    this.resizeTimeoutId_ = setTimeout(function () {\n                        tabUpdateHandler();\n                        this.resizeTimeoutId_ = null;\n                    }.bind(this), this.Constant_.RESIZE_TIMEOUT);\n                }.bind(this);\n                window.addEventListener('resize', windowResizeHandler);\n                if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n                    this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n                }\n                // Select element tabs, document panels\n                var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);\n                var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);\n                // Create new tabs for each tab element\n                for (var i = 0; i < tabs.length; i++) {\n                    new MaterialLayoutTab(tabs[i], tabs, panels, this);\n                }\n            }\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    };\n    /**\n       * Constructor for an individual tab.\n       *\n       * @constructor\n       * @param {HTMLElement} tab The HTML element for the tab.\n       * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.\n       * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.\n       * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.\n       */\n    function MaterialLayoutTab(tab, tabs, panels, layout) {\n        /**\n         * Auxiliary method to programmatically select a tab in the UI.\n         */\n        function selectTab() {\n            var href = tab.href.split('#')[1];\n            var panel = layout.content_.querySelector('#' + href);\n            layout.resetTabState_(tabs);\n            layout.resetPanelState_(panels);\n            tab.classList.add(layout.CssClasses_.IS_ACTIVE);\n            panel.classList.add(layout.CssClasses_.IS_ACTIVE);\n        }\n        if (layout.tabBar_.classList.contains(layout.CssClasses_.JS_RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);\n            rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);\n            var ripple = document.createElement('span');\n            ripple.classList.add(layout.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(ripple);\n            tab.appendChild(rippleContainer);\n        }\n        if (!layout.tabBar_.classList.contains(layout.CssClasses_.TAB_MANUAL_SWITCH)) {\n            tab.addEventListener('click', function (e) {\n                if (tab.getAttribute('href').charAt(0) === '#') {\n                    e.preventDefault();\n                    selectTab();\n                }\n            });\n        }\n        tab.show = selectTab;\n    }\n    window['MaterialLayoutTab'] = MaterialLayoutTab;\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialLayout,\n        classAsString: 'MaterialLayout',\n        cssClass: 'mdl-js-layout'\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Data Table Card MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {Element} element The element that will be upgraded.\n       */\n    var MaterialDataTable = function MaterialDataTable(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialDataTable'] = MaterialDataTable;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialDataTable.prototype.Constant_ = {};\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialDataTable.prototype.CssClasses_ = {\n        DATA_TABLE: 'mdl-data-table',\n        SELECTABLE: 'mdl-data-table--selectable',\n        SELECT_ELEMENT: 'mdl-data-table__select',\n        IS_SELECTED: 'is-selected',\n        IS_UPGRADED: 'is-upgraded'\n    };\n    /**\n       * Generates and returns a function that toggles the selection state of a\n       * single row (or multiple rows).\n       *\n       * @param {Element} checkbox Checkbox that toggles the selection state.\n       * @param {Element} row Row to toggle when checkbox changes.\n       * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n       * @private\n       */\n    MaterialDataTable.prototype.selectRow_ = function (checkbox, row, opt_rows) {\n        if (row) {\n            return function () {\n                if (checkbox.checked) {\n                    row.classList.add(this.CssClasses_.IS_SELECTED);\n                } else {\n                    row.classList.remove(this.CssClasses_.IS_SELECTED);\n                }\n            }.bind(this);\n        }\n        if (opt_rows) {\n            return function () {\n                var i;\n                var el;\n                if (checkbox.checked) {\n                    for (i = 0; i < opt_rows.length; i++) {\n                        el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                        el['MaterialCheckbox'].check();\n                        opt_rows[i].classList.add(this.CssClasses_.IS_SELECTED);\n                    }\n                } else {\n                    for (i = 0; i < opt_rows.length; i++) {\n                        el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                        el['MaterialCheckbox'].uncheck();\n                        opt_rows[i].classList.remove(this.CssClasses_.IS_SELECTED);\n                    }\n                }\n            }.bind(this);\n        }\n    };\n    /**\n       * Creates a checkbox for a single or or multiple rows and hooks up the\n       * event handling.\n       *\n       * @param {Element} row Row to toggle when checkbox changes.\n       * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n       * @private\n       */\n    MaterialDataTable.prototype.createCheckbox_ = function (row, opt_rows) {\n        var label = document.createElement('label');\n        var labelClasses = ['mdl-checkbox', 'mdl-js-checkbox', 'mdl-js-ripple-effect', this.CssClasses_.SELECT_ELEMENT];\n        label.className = labelClasses.join(' ');\n        var checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        checkbox.classList.add('mdl-checkbox__input');\n        if (row) {\n            checkbox.checked = row.classList.contains(this.CssClasses_.IS_SELECTED);\n            checkbox.addEventListener('change', this.selectRow_(checkbox, row));\n        } else if (opt_rows) {\n            checkbox.addEventListener('change', this.selectRow_(checkbox, null, opt_rows));\n        }\n        label.appendChild(checkbox);\n        componentHandler.upgradeElement(label, 'MaterialCheckbox');\n        return label;\n    };\n    /**\n       * Initialize element.\n       */\n    MaterialDataTable.prototype.init = function () {\n        if (this.element_) {\n            var firstHeader = this.element_.querySelector('th');\n            var bodyRows = Array.prototype.slice.call(this.element_.querySelectorAll('tbody tr'));\n            var footRows = Array.prototype.slice.call(this.element_.querySelectorAll('tfoot tr'));\n            var rows = bodyRows.concat(footRows);\n            if (this.element_.classList.contains(this.CssClasses_.SELECTABLE)) {\n                var th = document.createElement('th');\n                var headerCheckbox = this.createCheckbox_(null, rows);\n                th.appendChild(headerCheckbox);\n                firstHeader.parentElement.insertBefore(th, firstHeader);\n                for (var i = 0; i < rows.length; i++) {\n                    var firstCell = rows[i].querySelector('td');\n                    if (firstCell) {\n                        var td = document.createElement('td');\n                        if (rows[i].parentNode.nodeName.toUpperCase() === 'TBODY') {\n                            var rowCheckbox = this.createCheckbox_(rows[i]);\n                            td.appendChild(rowCheckbox);\n                        }\n                        rows[i].insertBefore(td, firstCell);\n                    }\n                }\n                this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n            }\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialDataTable,\n        classAsString: 'MaterialDataTable',\n        cssClass: 'mdl-js-data-table'\n    });\n    /**\n     * @license\n     * Copyright 2015 Google Inc. All Rights Reserved.\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *      http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    /**\n       * Class constructor for Ripple MDL component.\n       * Implements MDL component design pattern defined at:\n       * https://github.com/jasonmayes/mdl-component-design-pattern\n       *\n       * @constructor\n       * @param {HTMLElement} element The element that will be upgraded.\n       */\n    var MaterialRipple = function MaterialRipple(element) {\n        this.element_ = element;\n        // Initialize instance.\n        this.init();\n    };\n    window['MaterialRipple'] = MaterialRipple;\n    /**\n       * Store constants in one place so they can be updated easily.\n       *\n       * @enum {string | number}\n       * @private\n       */\n    MaterialRipple.prototype.Constant_ = {\n        INITIAL_SCALE: 'scale(0.0001, 0.0001)',\n        INITIAL_SIZE: '1px',\n        INITIAL_OPACITY: '0.4',\n        FINAL_OPACITY: '0',\n        FINAL_SCALE: ''\n    };\n    /**\n       * Store strings for class names defined by this component that are used in\n       * JavaScript. This allows us to simply change it in one place should we\n       * decide to modify at a later date.\n       *\n       * @enum {string}\n       * @private\n       */\n    MaterialRipple.prototype.CssClasses_ = {\n        RIPPLE_CENTER: 'mdl-ripple--center',\n        RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n        RIPPLE: 'mdl-ripple',\n        IS_ANIMATING: 'is-animating',\n        IS_VISIBLE: 'is-visible'\n    };\n    /**\n       * Handle mouse / finger down on element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRipple.prototype.downHandler_ = function (event) {\n        if (!this.rippleElement_.style.width && !this.rippleElement_.style.height) {\n            var rect = this.element_.getBoundingClientRect();\n            this.boundHeight = rect.height;\n            this.boundWidth = rect.width;\n            this.rippleSize_ = Math.sqrt(rect.width * rect.width + rect.height * rect.height) * 2 + 2;\n            this.rippleElement_.style.width = this.rippleSize_ + 'px';\n            this.rippleElement_.style.height = this.rippleSize_ + 'px';\n        }\n        this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);\n        if (event.type === 'mousedown' && this.ignoringMouseDown_) {\n            this.ignoringMouseDown_ = false;\n        } else {\n            if (event.type === 'touchstart') {\n                this.ignoringMouseDown_ = true;\n            }\n            var frameCount = this.getFrameCount();\n            if (frameCount > 0) {\n                return;\n            }\n            this.setFrameCount(1);\n            var bound = event.currentTarget.getBoundingClientRect();\n            var x;\n            var y;\n            // Check if we are handling a keyboard click.\n            if (event.clientX === 0 && event.clientY === 0) {\n                x = Math.round(bound.width / 2);\n                y = Math.round(bound.height / 2);\n            } else {\n                var clientX = event.clientX !== undefined ? event.clientX : event.touches[0].clientX;\n                var clientY = event.clientY !== undefined ? event.clientY : event.touches[0].clientY;\n                x = Math.round(clientX - bound.left);\n                y = Math.round(clientY - bound.top);\n            }\n            this.setRippleXY(x, y);\n            this.setRippleStyles(true);\n            window.requestAnimationFrame(this.animFrameHandler.bind(this));\n        }\n    };\n    /**\n       * Handle mouse / finger up on element.\n       *\n       * @param {Event} event The event that fired.\n       * @private\n       */\n    MaterialRipple.prototype.upHandler_ = function (event) {\n        // Don't fire for the artificial \"mouseup\" generated by a double-click.\n        if (event && event.detail !== 2) {\n            // Allow a repaint to occur before removing this class, so the animation\n            // shows for tap events, which seem to trigger a mouseup too soon after\n            // mousedown.\n            window.setTimeout(function () {\n                this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);\n            }.bind(this), 0);\n        }\n    };\n    /**\n       * Initialize element.\n       */\n    MaterialRipple.prototype.init = function () {\n        if (this.element_) {\n            var recentering = this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);\n            if (!this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)) {\n                this.rippleElement_ = this.element_.querySelector('.' + this.CssClasses_.RIPPLE);\n                this.frameCount_ = 0;\n                this.rippleSize_ = 0;\n                this.x_ = 0;\n                this.y_ = 0;\n                // Touch start produces a compat mouse down event, which would cause a\n                // second ripples. To avoid that, we use this property to ignore the first\n                // mouse down after a touch start.\n                this.ignoringMouseDown_ = false;\n                this.boundDownHandler = this.downHandler_.bind(this);\n                this.element_.addEventListener('mousedown', this.boundDownHandler);\n                this.element_.addEventListener('touchstart', this.boundDownHandler);\n                this.boundUpHandler = this.upHandler_.bind(this);\n                this.element_.addEventListener('mouseup', this.boundUpHandler);\n                this.element_.addEventListener('mouseleave', this.boundUpHandler);\n                this.element_.addEventListener('touchend', this.boundUpHandler);\n                this.element_.addEventListener('blur', this.boundUpHandler);\n                /**\n                * Getter for frameCount_.\n                * @return {number} the frame count.\n                */\n                this.getFrameCount = function () {\n                    return this.frameCount_;\n                };\n                /**\n                * Setter for frameCount_.\n                * @param {number} fC the frame count.\n                */\n                this.setFrameCount = function (fC) {\n                    this.frameCount_ = fC;\n                };\n                /**\n                * Getter for rippleElement_.\n                * @return {Element} the ripple element.\n                */\n                this.getRippleElement = function () {\n                    return this.rippleElement_;\n                };\n                /**\n                * Sets the ripple X and Y coordinates.\n                * @param  {number} newX the new X coordinate\n                * @param  {number} newY the new Y coordinate\n                */\n                this.setRippleXY = function (newX, newY) {\n                    this.x_ = newX;\n                    this.y_ = newY;\n                };\n                /**\n                * Sets the ripple styles.\n                * @param  {boolean} start whether or not this is the start frame.\n                */\n                this.setRippleStyles = function (start) {\n                    if (this.rippleElement_ !== null) {\n                        var transformString;\n                        var scale;\n                        var size;\n                        var offset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';\n                        if (start) {\n                            scale = this.Constant_.INITIAL_SCALE;\n                            size = this.Constant_.INITIAL_SIZE;\n                        } else {\n                            scale = this.Constant_.FINAL_SCALE;\n                            size = this.rippleSize_ + 'px';\n                            if (recentering) {\n                                offset = 'translate(' + this.boundWidth / 2 + 'px, ' + this.boundHeight / 2 + 'px)';\n                            }\n                        }\n                        transformString = 'translate(-50%, -50%) ' + offset + scale;\n                        this.rippleElement_.style.webkitTransform = transformString;\n                        this.rippleElement_.style.msTransform = transformString;\n                        this.rippleElement_.style.transform = transformString;\n                        if (start) {\n                            this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING);\n                        } else {\n                            this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING);\n                        }\n                    }\n                };\n                /**\n                * Handles an animation frame.\n                */\n                this.animFrameHandler = function () {\n                    if (this.frameCount_-- > 0) {\n                        window.requestAnimationFrame(this.animFrameHandler.bind(this));\n                    } else {\n                        this.setRippleStyles(false);\n                    }\n                };\n            }\n        }\n    };\n    // The component registers itself. It can assume componentHandler is available\n    // in the global scope.\n    componentHandler.register({\n        constructor: MaterialRipple,\n        classAsString: 'MaterialRipple',\n        cssClass: 'mdl-js-ripple-effect',\n        widget: false\n    });\n})();\n\n/***/ }),\n\n/***/ \"QVnC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!function (global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction ||\n    // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  runtime.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function (arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n      // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n      // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\n    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function (object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function stop() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n}(\n// Among the various tricks for obtaining a reference to the global\n// object, this seems to be the most reliable technique that does not\n// use indirect eval (which violates Content Security Policy).\ntypeof global === \"object\" ? global : typeof window === \"object\" ? window : typeof self === \"object\" ? self : this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"QYzI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = typeof global === \"object\" ? global : typeof window === \"object\" ? window : typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime && Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = __webpack_require__(\"QVnC\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch (e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"QlMj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class\n * @classdesc Map item\n * Represents a data for each element in a collection\n * @alias MapItem\n * @property {String} key  - identifier of an item\n * @property {Object} value - value of an item\n */\n\nvar MapItem = function () {\n  /**\n   * @private\n   * @constructor\n   * @param {Object} data Item descriptor\n   * @param {String} data.key Item identifier\n   * @param {String} data.uri Item URI\n   * @param {Object} data.value Item data\n   */\n  function MapItem(descriptor) {\n    (0, _classCallCheck3.default)(this, MapItem);\n\n    this.descriptor = descriptor;\n  }\n\n  (0, _createClass3.default)(MapItem, [{\n    key: \"update\",\n\n    /**\n     * Update item data\n     * @param {Number} EventId Update event id\n     * @param {String} Revision Updated item revision\n     * @param {Object} Value Updated item data\n     * @private\n     */\n    value: function update(eventId, revision, value) {\n      this.descriptor.last_event_id = eventId;\n      this.descriptor.revision = revision;\n      this.descriptor.data = value;\n      return this;\n    }\n  }, {\n    key: \"uri\",\n    get: function get() {\n      return this.descriptor.url;\n    }\n  }, {\n    key: \"revision\",\n    get: function get() {\n      return this.descriptor.revision;\n    }\n  }, {\n    key: \"lastEventId\",\n    get: function get() {\n      return this.descriptor.last_event_id;\n    }\n  }, {\n    key: \"key\",\n    get: function get() {\n      return this.descriptor.key;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.descriptor.data;\n    }\n  }]);\n  return MapItem;\n}();\n\nexports.MapItem = MapItem;\nexports.default = MapItem;\n\n/***/ }),\n\n/***/ \"R1bg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar platform = __webpack_require__(\"kohK\");\n\nvar ClientInfo = function ClientInfo(version) {\n    (0, _classCallCheck3.default)(this, ClientInfo);\n\n    this.sdk = 'js';\n    this.sdkVer = version;\n    this.os = platform.os.family;\n    this.osVer = platform.os.version;\n    this.pl = platform.name;\n    this.plVer = platform.version;\n};\n\nexports.ClientInfo = ClientInfo;\nexports.default = ClientInfo;\n\n/***/ }),\n\n/***/ \"R6c1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = !__webpack_require__(\"6MLN\") && !__webpack_require__(\"wLcK\")(function () {\n  return Object.defineProperty(__webpack_require__(\"9kxq\")('div'), 'a', { get: function get() {\n      return 7;\n    } }).a != 7;\n});\n\n/***/ }),\n\n/***/ \"REa7\":\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n/***/ }),\n\n/***/ \"S7IM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.15 ToLength\nvar toInteger = __webpack_require__(\"MpYs\"),\n    min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n/***/ }),\n\n/***/ \"SKjJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar strong = __webpack_require__(\"AePr\");\n\n// 23.1 Map Objects\nmodule.exports = __webpack_require__(\"cYD/\")('Map', function (get) {\n  return function Map() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n/***/ }),\n\n/***/ \"ShN9\":\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n/***/ }),\n\n/***/ \"T4f3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _assign = __webpack_require__(\"gc0D\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/***/ }),\n\n/***/ \"T51w\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n})(this, function () {\n    \"use strict\";\n\n    var noop = function noop() {};\n    var undefinedType = \"undefined\";\n\n    function realMethod(methodName) {\n        if (typeof console === undefinedType) {\n            return false; // We can't build a real method without a console to log to\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function () {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // these private functions always need `this` to be set properly\n\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = i < level ? noop : this.methodFactory(methodName, level, loggerName);\n        }\n    }\n\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) || enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    var logMethods = [\"trace\", \"debug\", \"info\", \"warn\", \"error\"];\n\n    function Logger(name, defaultLevel, factory) {\n        var self = this;\n        var currentLevel;\n        var storageKey = \"loglevel\";\n        if (name) {\n            storageKey += \":\" + name;\n        }\n\n        function persistLevelIfPossible(levelNum) {\n            var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n            // Use localStorage if available\n            try {\n                window.localStorage[storageKey] = levelName;\n                return;\n            } catch (ignore) {}\n\n            // Use session cookie as fallback\n            try {\n                window.document.cookie = encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n            } catch (ignore) {}\n        }\n\n        function getPersistedLevel() {\n            var storedLevel;\n\n            try {\n                storedLevel = window.localStorage[storageKey];\n            } catch (ignore) {}\n\n            if (typeof storedLevel === undefinedType) {\n                try {\n                    var cookie = window.document.cookie;\n                    var location = cookie.indexOf(encodeURIComponent(storageKey) + \"=\");\n                    if (location) {\n                        storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                    }\n                } catch (ignore) {}\n            }\n\n            // If the stored level is not valid, treat it as if nothing was stored.\n            if (self.levels[storedLevel] === undefined) {\n                storedLevel = undefined;\n            }\n\n            return storedLevel;\n        }\n\n        /*\n         *\n         * Public API\n         *\n         */\n\n        self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n            \"ERROR\": 4, \"SILENT\": 5 };\n\n        self.methodFactory = factory || defaultMethodFactory;\n\n        self.getLevel = function () {\n            return currentLevel;\n        };\n\n        self.setLevel = function (level, persist) {\n            if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n                level = self.levels[level.toUpperCase()];\n            }\n            if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n                currentLevel = level;\n                if (persist !== false) {\n                    // defaults to true\n                    persistLevelIfPossible(level);\n                }\n                replaceLoggingMethods.call(self, level, name);\n                if (typeof console === undefinedType && level < self.levels.SILENT) {\n                    return \"No console available for logging\";\n                }\n            } else {\n                throw \"log.setLevel() called with invalid level: \" + level;\n            }\n        };\n\n        self.setDefaultLevel = function (level) {\n            if (!getPersistedLevel()) {\n                self.setLevel(level, false);\n            }\n        };\n\n        self.enableAll = function (persist) {\n            self.setLevel(self.levels.TRACE, persist);\n        };\n\n        self.disableAll = function (persist) {\n            self.setLevel(self.levels.SILENT, persist);\n        };\n\n        // Initialize with the right level\n        var initialLevel = getPersistedLevel();\n        if (initialLevel == null) {\n            initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n        }\n        self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Package-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== \"string\" || name === \"\") {\n            throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n            logger = _loggersByName[name] = new Logger(name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = typeof window !== undefinedType ? window.log : undefined;\n    defaultLogger.noConflict = function () {\n        if (typeof window !== undefinedType && window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    return defaultLogger;\n});\n\n/***/ }),\n\n/***/ \"TD/Z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = __webpack_require__(\"7tZR\");\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n/***/ }),\n\n/***/ \"TEgB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"COf8\");\n__webpack_require__(\"i+u+\");\nmodule.exports = __webpack_require__(\"By4a\");\n\n/***/ }),\n\n/***/ \"TNJq\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(\"zotD\"),\n    dPs = __webpack_require__(\"gjjs\"),\n    enumBugKeys = __webpack_require__(\"KxjL\"),\n    IE_PROTO = __webpack_require__(\"/wuY\")('IE_PROTO'),\n    Empty = function Empty() {/* empty */},\n    PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar _createDict = function createDict() {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(\"9kxq\")('iframe'),\n      i = enumBugKeys.length,\n      lt = '<',\n      gt = '>',\n      iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(\"ebIA\").appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  _createDict = iframeDocument.F;\n  while (i--) {\n    delete _createDict[PROTOTYPE][enumBugKeys[i]];\n  }return _createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = _createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n/***/ }),\n\n/***/ \"TpZJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _configuration = __webpack_require__(\"zWNa\");\n\nvar _configuration2 = _interopRequireDefault(_configuration);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = __webpack_require__(\"EwCr\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _bottleneck = __webpack_require__(\"y9oC\");\n\nvar _bottleneck2 = _interopRequireDefault(_bottleneck);\n\nvar _registrar = __webpack_require__(\"E07s\");\n\nvar _registrar2 = _interopRequireDefault(_registrar);\n\nvar _twilsock = __webpack_require__(\"0Zys\");\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nvar _twilioTransport = __webpack_require__(\"JE0K\");\n\nvar _twilioTransport2 = _interopRequireDefault(_twilioTransport);\n\nvar _twilioEmsClient = __webpack_require__(\"LUBQ\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction limit(fn, to, per) {\n  // overflow since no token is passed to arguments\n  var limiter = new _bottleneck2.default(to, per, 1, _bottleneck2.default.strategy.LEAK);\n  return function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    args.unshift(fn);\n    return limiter.schedule.apply(limiter, args);\n  };\n}\n\n/**\n * @class\n * @alias Notifications\n * @classdesc The helper library for the notification service.\n * Provides high level api for creating and managing notification subscriptions and receiving messages\n * Creates the instance of Notification helper library\n *\n * @constructor\n * @param {string} token - Twilio access token\n * @param {Notifications#ClientOptions} options - Options to customize client behavior\n */\n\nvar Client = function (_EventEmitter) {\n  (0, _inherits3.default)(Client, _EventEmitter);\n\n  function Client(fpaToken, options) {\n    (0, _classCallCheck3.default)(this, Client);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Client.__proto__ || (0, _getPrototypeOf2.default)(Client)).call(this));\n\n    if (!fpaToken) {\n      throw new Error('Token is required for Notifications client');\n    }\n\n    options = options || {};\n\n    options.logLevel = options.logLevel || 'error';\n    _logger2.default.setLevel(options.logLevel);\n\n    var minTokenRefreshInterval = options.minTokenRefreshInterval || 10000;\n    var productId = options.productId || 'notifications';\n\n    options.twilsockClient = options.twilsockClient || new _twilsock2.default(fpaToken, options);\n    options.transport = options.transport || new _twilioTransport2.default(options.twilsockClient);\n    options.emsClient = options.emsClient || new _twilioEmsClient.EMSClient(options);\n\n    var twilsock = options.twilsockClient;\n    var transport = options.transport;\n\n    var reliableTransportState = {\n      overall: false,\n      transport: false,\n      registration: false,\n      lastEmitted: null\n    };\n\n    var config = new _configuration2.default(null, options);\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _emsClient: { value: options.emsClient },\n      _registrar: { value: new _registrar2.default(productId, transport, twilsock, config) },\n      _twilsock: { value: twilsock },\n      _reliableTransportState: { value: reliableTransportState },\n\n      updateToken: { value: limit(_this._updateToken.bind(_this), 1, minTokenRefreshInterval), enumerable: true },\n      connectionState: {\n        get: function get() {\n          if (_this._twilsock.state === 'disconnected') {\n            return 'disconnected';\n          } else if (_this._twilsock.state === 'disconnecting') {\n            return 'disconnecting';\n          } else if (_this._twilsock.state === 'connected' && _this._reliableTransportState.registration) {\n            return 'connected';\n          } else if (_this._twilsock.state === 'rejected') {\n            return 'denied';\n          }\n\n          return 'connecting';\n        }\n      }\n    });\n\n    _this._emsClient.setToken(fpaToken).then(function (response) {\n      _this._config.updateToken(response.token);\n      _this._registrar.updateToken();\n    }).catch(function (e) {\n      _logger2.default.warn('Failed to set token', e);\n    });\n\n    _this._onTransportStateChange(_this._twilsock.connected);\n\n    _this._registrar.on('transportReady', function (state) {\n      _this._onRegistrationStateChange(state ? 'registered' : '');\n    });\n    _this._registrar.on('stateChanged', function (state) {\n      _this._onRegistrationStateChange(state);\n    });\n    _this._registrar.on('needReliableTransport', _this._onNeedReliableTransport.bind(_this));\n\n    _this._twilsock.on('message', function (type, message) {\n      return _this._routeMessage(type, message);\n    });\n    _this._twilsock.on('connected', function (notificationId) {\n      _this._onTransportStateChange(true);\n      _this._registrar.setNotificationId('twilsock', notificationId);\n    });\n    _this._twilsock.on('disconnected', function () {\n      _this._onTransportStateChange(false);\n    });\n    return _this;\n  }\n\n  /**\n   * Routes messages to the external subscribers\n   * @private\n   */\n\n  (0, _createClass3.default)(Client, [{\n    key: '_routeMessage',\n    value: function _routeMessage(type, message) {\n      _logger2.default.trace('Message arrived: ', type, message);\n      this.emit('message', type, message);\n    }\n  }, {\n    key: '_onNeedReliableTransport',\n    value: function _onNeedReliableTransport(isNeeded) {\n      if (isNeeded) {\n        this._twilsock.connect();\n      } else {\n        this._twilsock.disconnect();\n      }\n    }\n  }, {\n    key: '_onRegistrationStateChange',\n    value: function _onRegistrationStateChange(state) {\n      this._reliableTransportState.registration = state === 'registered';\n      this._updateTransportState();\n    }\n  }, {\n    key: '_onTransportStateChange',\n    value: function _onTransportStateChange(connected) {\n      this._reliableTransportState.transport = connected;\n      this._updateTransportState();\n    }\n  }, {\n    key: '_updateTransportState',\n    value: function _updateTransportState() {\n      var overallState = this._reliableTransportState.transport && this._reliableTransportState.registration;\n\n      if (this._reliableTransportState.overall !== overallState) {\n        this._reliableTransportState.overall = overallState;\n\n        _logger2.default.info('Transport ready ' + overallState);\n        this.emit('transportReady', overallState);\n      }\n\n      if (this._reliableTransportState.lastEmitted !== this.connectionState) {\n        this._reliableTransportState.lastEmitted = this.connectionState;\n        this.emit('connectionStateChanged', this.connectionState);\n      }\n    }\n\n    /**\n     * Adds the subscription for the given message type\n     * @param {string} messageType The type of message that you want to receive\n     * @param {string} channelType. Supported are 'twilsock', 'gcm' and 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType, channelType) {\n      channelType = channelType || 'twilsock';\n      _logger2.default.trace('Add subscriptions for message type: ', messageType, channelType);\n\n      return this._registrar.subscribe(messageType, channelType);\n    }\n\n    /**\n     * Remove the subscription for the particular message type\n     * @param {string} messageType The type of message that you don't want to receive anymore\n     * @param {string} channelType. Supported are 'twilsock', 'gcm' and 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType, channelType) {\n      channelType = channelType || 'twilsock';\n      _logger2.default.trace('Remove subscriptions for message type: ', messageType, channelType);\n\n      return this._registrar.unsubscribe(messageType, channelType);\n    }\n\n    /**\n     * Handle incoming push notification.\n     * Client application should call this method when it receives push notifications and pass the received data\n     * @param {Object} msg - push message object\n     * @public\n     */\n\n  }, {\n    key: 'handlePushNotification',\n    value: function handlePushNotification(msg) {\n      _logger2.default.warn('Push message passed, but no functionality implemented yet: ' + msg);\n    }\n\n    /**\n     * Set GCM/FCM token to enable application register for a push messages\n     * @param {string} gcmToken/fcmToken Token received from GCM/FCM system\n     * @public\n     */\n\n  }, {\n    key: 'setPushRegistrationId',\n    value: function setPushRegistrationId(registrationId, type) {\n      this._registrar.setNotificationId(type || 'gcm', registrationId);\n    }\n\n    /**\n     * Updates auth token for registration\n     * @param {string} token Authentication token for registrations\n     * @alias updateToken\n     * @public\n     */\n\n  }, {\n    key: '_updateToken',\n    value: function _updateToken(fpaToken) {\n      var _this2 = this;\n\n      _logger2.default.info('authTokenUpdated');\n      if (this._fpaToken === fpaToken) {\n        return _promise2.default.resolve();\n      }\n\n      this._twilsock.updateToken(fpaToken);\n      return this._emsClient.setToken(fpaToken).then(function (response) {\n        return response.token;\n      }).then(function (token) {\n        _this2._config.updateToken(token);\n        _this2._registrar.updateToken();\n      });\n    }\n  }]);\n  return Client;\n}(_events2.default);\n\n/**\n * Fired when new message arrived.\n * @param {Object} message`\n * @event NotificationsClient#message\n */\n\n/**\n * Fired when transport state has changed\n * @param {boolean} transport state\n * @event NotificationsClient#transportReady\n */\n\n/**\n * Fired when transport state has been changed\n * @param {string} transport state\n * @event NotificationsClient#connectionStateChanged\n */\n\n/**\n * These options can be passed to Client constructor\n * @typedef {Object} Notifications#ClientOptions\n * @property {String} [logLevel='error'] - The level of logging to enable. Valid options\n *   (from strictest to broadest): ['silent', 'error', 'warn', 'info', 'debug', 'trace']\n */\n\nexports.default = Client;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"U72i\":\n/***/ (function(module, exports) {\n\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n/***/ }),\n\n/***/ \"Ug9I\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(\"NB7d\")('wks'),\n    uid = __webpack_require__(\"X6va\"),\n    Symbol = __webpack_require__(\"i1Q6\").Symbol,\n    USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n/***/ }),\n\n/***/ \"V3m6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"header__3fP58\",\"active\":\"active__2aRKV\"};\n\n/***/ }),\n\n/***/ \"V5Fu\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = __webpack_require__(\"FRpO\");\nvar precond = __webpack_require__(\"Dygy\");\nvar util = __webpack_require__(\"gfUn\");\n\nvar Backoff = __webpack_require__(\"E1ih\");\nvar FibonacciBackoffStrategy = __webpack_require__(\"XdV9\");\n\n// Wraps a function to be called in a backoff loop.\nfunction FunctionCall(fn, args, callback) {\n    events.EventEmitter.call(this);\n\n    precond.checkIsFunction(fn, 'Expected fn to be a function.');\n    precond.checkIsArray(args, 'Expected args to be an array.');\n    precond.checkIsFunction(callback, 'Expected callback to be a function.');\n\n    this.function_ = fn;\n    this.arguments_ = args;\n    this.callback_ = callback;\n    this.lastResult_ = [];\n    this.numRetries_ = 0;\n\n    this.backoff_ = null;\n    this.strategy_ = null;\n    this.failAfter_ = -1;\n    this.retryPredicate_ = FunctionCall.DEFAULT_RETRY_PREDICATE_;\n\n    this.state_ = FunctionCall.State_.PENDING;\n}\nutil.inherits(FunctionCall, events.EventEmitter);\n\n// States in which the call can be.\nFunctionCall.State_ = {\n    // Call isn't started yet.\n    PENDING: 0,\n    // Call is in progress.\n    RUNNING: 1,\n    // Call completed successfully which means that either the wrapped function\n    // returned successfully or the maximal number of backoffs was reached.\n    COMPLETED: 2,\n    // The call was aborted.\n    ABORTED: 3\n};\n\n// The default retry predicate which considers any error as retriable.\nFunctionCall.DEFAULT_RETRY_PREDICATE_ = function (err) {\n    return true;\n};\n\n// Checks whether the call is pending.\nFunctionCall.prototype.isPending = function () {\n    return this.state_ == FunctionCall.State_.PENDING;\n};\n\n// Checks whether the call is in progress.\nFunctionCall.prototype.isRunning = function () {\n    return this.state_ == FunctionCall.State_.RUNNING;\n};\n\n// Checks whether the call is completed.\nFunctionCall.prototype.isCompleted = function () {\n    return this.state_ == FunctionCall.State_.COMPLETED;\n};\n\n// Checks whether the call is aborted.\nFunctionCall.prototype.isAborted = function () {\n    return this.state_ == FunctionCall.State_.ABORTED;\n};\n\n// Sets the backoff strategy to use. Can only be called before the call is\n// started otherwise an exception will be thrown.\nFunctionCall.prototype.setStrategy = function (strategy) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.strategy_ = strategy;\n    return this; // Return this for chaining.\n};\n\n// Sets the predicate which will be used to determine whether the errors\n// returned from the wrapped function should be retried or not, e.g. a\n// network error would be retriable while a type error would stop the\n// function call.\nFunctionCall.prototype.retryIf = function (retryPredicate) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.retryPredicate_ = retryPredicate;\n    return this;\n};\n\n// Returns all intermediary results returned by the wrapped function since\n// the initial call.\nFunctionCall.prototype.getLastResult = function () {\n    return this.lastResult_.concat();\n};\n\n// Returns the number of times the wrapped function call was retried.\nFunctionCall.prototype.getNumRetries = function () {\n    return this.numRetries_;\n};\n\n// Sets the backoff limit.\nFunctionCall.prototype.failAfter = function (maxNumberOfRetry) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.failAfter_ = maxNumberOfRetry;\n    return this; // Return this for chaining.\n};\n\n// Aborts the call.\nFunctionCall.prototype.abort = function () {\n    if (this.isCompleted() || this.isAborted()) {\n        return;\n    }\n\n    if (this.isRunning()) {\n        this.backoff_.reset();\n    }\n\n    this.state_ = FunctionCall.State_.ABORTED;\n    this.lastResult_ = [new Error('Backoff aborted.')];\n    this.emit('abort');\n    this.doCallback_();\n};\n\n// Initiates the call to the wrapped function. Accepts an optional factory\n// function used to create the backoff instance; used when testing.\nFunctionCall.prototype.start = function (backoffFactory) {\n    precond.checkState(!this.isAborted(), 'FunctionCall is aborted.');\n    precond.checkState(this.isPending(), 'FunctionCall already started.');\n\n    var strategy = this.strategy_ || new FibonacciBackoffStrategy();\n\n    this.backoff_ = backoffFactory ? backoffFactory(strategy) : new Backoff(strategy);\n\n    this.backoff_.on('ready', this.doCall_.bind(this, true /* isRetry */));\n    this.backoff_.on('fail', this.doCallback_.bind(this));\n    this.backoff_.on('backoff', this.handleBackoff_.bind(this));\n\n    if (this.failAfter_ > 0) {\n        this.backoff_.failAfter(this.failAfter_);\n    }\n\n    this.state_ = FunctionCall.State_.RUNNING;\n    this.doCall_(false /* isRetry */);\n};\n\n// Calls the wrapped function.\nFunctionCall.prototype.doCall_ = function (isRetry) {\n    if (isRetry) {\n        this.numRetries_++;\n    }\n    var eventArgs = ['call'].concat(this.arguments_);\n    events.EventEmitter.prototype.emit.apply(this, eventArgs);\n    var callback = this.handleFunctionCallback_.bind(this);\n    this.function_.apply(null, this.arguments_.concat(callback));\n};\n\n// Calls the wrapped function's callback with the last result returned by the\n// wrapped function.\nFunctionCall.prototype.doCallback_ = function () {\n    this.callback_.apply(null, this.lastResult_);\n};\n\n// Handles wrapped function's completion. This method acts as a replacement\n// for the original callback function.\nFunctionCall.prototype.handleFunctionCallback_ = function () {\n    if (this.isAborted()) {\n        return;\n    }\n\n    var args = Array.prototype.slice.call(arguments);\n    this.lastResult_ = args; // Save last callback arguments.\n    events.EventEmitter.prototype.emit.apply(this, ['callback'].concat(args));\n\n    var err = args[0];\n    if (err && this.retryPredicate_(err)) {\n        this.backoff_.backoff(err);\n    } else {\n        this.state_ = FunctionCall.State_.COMPLETED;\n        this.doCallback_();\n    }\n};\n\n// Handles the backoff event by reemitting it.\nFunctionCall.prototype.handleBackoff_ = function (number, delay, err) {\n    this.emit('backoff', number, delay, err);\n};\n\nmodule.exports = FunctionCall;\n\n/***/ }),\n\n/***/ \"VOrx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(\"GyB/\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/***/ }),\n\n/***/ \"Vroa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(\"FRpO\");\nvar xxhashjs_1 = __webpack_require__(\"r9SO\");\nvar Twilsock = __webpack_require__(\"0Zys\");\nvar twilio_transport_1 = __webpack_require__(\"JE0K\");\nvar twilio_ems_client_1 = __webpack_require__(\"LUBQ\");\nvar Notifications = __webpack_require__(\"H3OR\");\nvar utils_1 = __webpack_require__(\"PD3G\");\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar configuration_1 = __webpack_require__(\"/GKJ\");\nvar subscriptions_1 = __webpack_require__(\"cFQ4\");\nvar router_1 = __webpack_require__(\"OLak\");\nvar network_1 = __webpack_require__(\"+/Dx\");\nvar syncdocument_1 = __webpack_require__(\"hznj\");\nvar synclist_1 = __webpack_require__(\"6Hp8\");\nvar syncmap_1 = __webpack_require__(\"al4s\");\nvar clientInfo_1 = __webpack_require__(\"R1bg\");\nvar entitiesCache_1 = __webpack_require__(\"Jb0q\");\nvar storage_1 = __webpack_require__(\"AwcA\");\nvar utils_2 = __webpack_require__(\"PD3G\");\n// TODO: Pick some small library and use it instead\nvar deferred_1 = __webpack_require__(\"3Y9o\");\nvar syncerror_1 = __webpack_require__(\"XzVR\");\nvar SYNC_PRODUCT_ID = 'data_sync';\nvar SDK_VERSION = __webpack_require__(\"qEFr\").version;\nfunction subscribe(subscribable) {\n    subscribable._subscribe();\n    return subscribable;\n}\nfunction createPayload(name, purpose, context, data) {\n    return { unique_name: name,\n        purpose: purpose,\n        context: context,\n        data: data };\n}\nfunction decompose(arg) {\n    if (!arg) {\n        return { id: null, purpose: null, data: null, context: null, mode: null, optimistic: false };\n    }\n    if (typeof arg === 'string') {\n        return { id: arg, purpose: null, data: null, context: null, mode: null, optimistic: false };\n    }\n    return { id: arg.uniqueName || arg.sid || arg.id,\n        purpose: arg.purpose,\n        data: arg.data,\n        context: arg.context,\n        mode: arg.mode,\n        optimistic: !!arg.optimistic };\n}\n/**\n * @class Client\n * @classdesc\n * Client for the Twilio Sync service\n *\n * @property {Client#ConnectionState} connectionState - Contains current service connection state.\n * Valid options are ['connecting', 'connected', 'disconnecting', 'disconnected', 'denied', 'error'].\n */\n\nvar SyncClient = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(SyncClient, _events_1$EventEmitte);\n\n    /*\n     * @constructor\n     * @param {string} Token Twilio access token\n     * @param {Client#ClientOptions} options - Options to customize the Client\n     */\n    function SyncClient(fpaToken) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        (0, _classCallCheck3.default)(this, SyncClient);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncClient.__proto__ || (0, _getPrototypeOf2.default)(SyncClient)).call(this));\n\n        if (!fpaToken) {\n            throw new Error('Sync library needs a valid Twilio token to be passed');\n        }\n        if (options.hasOwnProperty('logLevel')) {\n            logger_1.default.setLevel(options.logLevel);\n        }\n        _this.productId = options.productId = options.productId || SYNC_PRODUCT_ID;\n        var twilsock = options.twilsockClient = options.twilsockClient || new Twilsock(fpaToken, options);\n        var transport = options.transport = options.transport || new twilio_transport_1.Transport(options.twilsockClient, { concurrentHttpRequestLimit: 20 });\n        var emsClient = options.emsClient = options.emsClient || new twilio_ems_client_1.EmsClient(options);\n        var notifications = options.notificationsClient = options.notificationsClient || new Notifications(fpaToken, options);\n        var config = new configuration_1.Configuration(null, options);\n        var network = new network_1.Network(_this.productId, new clientInfo_1.ClientInfo(SDK_VERSION), config, transport);\n        var storage = new storage_1.SessionStorage(config);\n        _this.localStorageId = null;\n        _this.fpaToken = fpaToken;\n        _this.authData = new deferred_1.Deferred();\n        _this.authData.promise.then(function (response) {\n            return _this.handleEmsResponse(response);\n        });\n        emsClient.once('response', function (response) {\n            return _this.authData.update(response);\n        });\n        emsClient.setToken(fpaToken).catch(function (e) {\n            logger_1.default.warn('Failed to set token', e);\n        });\n        twilsock.connect();\n        _this.services = {\n            config: config,\n            twilsock: twilsock,\n            notifications: notifications,\n            network: network,\n            emsClient: emsClient,\n            storage: storage,\n            router: null,\n            subscriptions: null\n        };\n        var subscriptions = new subscriptions_1.Subscriptions(_this.services);\n        var router = new router_1.Router({ config: config, subscriptions: subscriptions, notifications: notifications });\n        _this.services.router = router;\n        _this.services.subscriptions = subscriptions;\n        _this.entities = new entitiesCache_1.EntitiesCache();\n        notifications.on('connectionStateChanged', function () {\n            _this.emit('connectionStateChanged', _this.services.notifications.connectionState);\n        });\n        return _this;\n    }\n    /**\n     * Current version of Sync client.\n     * @name Client#version\n     * @type String\n     * @readonly\n     */\n\n    (0, _createClass3.default)(SyncClient, [{\n        key: \"handleEmsResponse\",\n        value: function handleEmsResponse(response) {\n            this.services.config.updateToken(response.token);\n            try {\n                var identity = response.identity;\n                var serviceSid = response.serviceSids[this.productId];\n                var storageId = xxhashjs_1.h64().update(\"TW::\" + identity + \"::\" + serviceSid).digest().toString(16);\n                this.services.storage.updateStorageId(storageId);\n            } catch (e) {\n                logger_1.default.error('Failed to initialize persistent storage', e);\n            }\n        }\n        /**\n         * Returns promise which resolves when library is correctly initialized\n         * Or throws if initialization is impossible\n         */\n\n    }, {\n        key: \"ensureReady\",\n        value: function ensureReady() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.authData.promise;\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"storeRootInSessionCache\",\n        value: function storeRootInSessionCache(type, id, value) {\n            // can't store without id\n            if (!this.services.config.sessionStorageEnabled || !id) {\n                return;\n            }\n            var valueToStore = utils_2.deepClone(value);\n            if (type !== syncdocument_1.SyncDocument.type) {\n                valueToStore['last_event_id'] = null;\n                delete valueToStore['items'];\n            }\n            this.services.storage.store(type, id, valueToStore);\n        }\n    }, {\n        key: \"readRootFromSessionCache\",\n        value: function readRootFromSessionCache(type, id) {\n            if (!this.services.config.sessionStorageEnabled || !id) {\n                return null;\n            }\n            return this.services.storage.read(type, id);\n        }\n    }, {\n        key: \"_get\",\n        value: function _get(baseUri, id) {\n            var optimistic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var uri, response;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (id) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", null);\n\n                            case 2:\n                                uri = new utils_1.UriBuilder(baseUri).pathSegment(id).queryParam('Include', optimistic ? 'items' : undefined).build();\n                                _context2.prev = 3;\n                                _context2.next = 6;\n                                return this.services.network.get(uri);\n\n                            case 6:\n                                response = _context2.sent;\n                                return _context2.abrupt(\"return\", response.body);\n\n                            case 10:\n                                _context2.prev = 10;\n                                _context2.t0 = _context2[\"catch\"](3);\n\n                                if (!(_context2.t0.status === 404)) {\n                                    _context2.next = 14;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", null);\n\n                            case 14:\n                                throw _context2.t0;\n\n                            case 15:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this, [[3, 10]]);\n            }));\n        }\n    }, {\n        key: \"_createDocument\",\n        value: function _createDocument(id, data) {\n            var requestBody = {\n                unique_name: id,\n                data: data\n            };\n            return this.services.network.post(this.services.config.documentsUri, requestBody).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getDocument\",\n        value: function _getDocument(id) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                return _context3.abrupt(\"return\", this.readRootFromSessionCache(syncdocument_1.SyncDocument.type, id) || this._get(this.services.config.documentsUri, id));\n\n                            case 1:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n    }, {\n        key: \"_createList\",\n        value: function _createList(id, purpose, context) {\n            var payload = createPayload(id, purpose, context);\n            return this.services.network.post(this.services.config.listsUri, payload).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getList\",\n        value: function _getList(id) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                return _context4.abrupt(\"return\", this.readRootFromSessionCache(synclist_1.SyncList.type, id) || this._get(this.services.config.listsUri, id));\n\n                            case 1:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n    }, {\n        key: \"_createMap\",\n        value: function _createMap(id) {\n            var requestBody = {\n                unique_name: id\n            };\n            return this.services.network.post(this.services.config.mapsUri, requestBody).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getMap\",\n        value: function _getMap(id) {\n            var optimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                return _context5.abrupt(\"return\", this.readRootFromSessionCache(syncmap_1.SyncMap.type, id) || this._get(this.services.config.mapsUri, id, optimistic));\n\n                            case 1:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n    }, {\n        key: \"getCached\",\n        value: function getCached(id, type) {\n            if (id) {\n                return this.entities.get(id, type) || null;\n            }\n            return null;\n        }\n    }, {\n        key: \"removeFromCacheAndSession\",\n        value: function removeFromCacheAndSession(type, sid, uniqueName) {\n            this.entities.remove(sid);\n            if (this.services.config.sessionStorageEnabled) {\n                this.services.storage.remove(type, sid, uniqueName);\n            }\n        }\n        /**\n         * Open a SyncDocument by identifier, or create one if none exists\n         * @param {string} id Document identifier. Unique name or sid.\n         * @return {Promise<Document>}\n         * @public\n         */\n\n    }, {\n        key: \"document\",\n        value: function document(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                var _this2 = this;\n\n                var _decompose, id, data, mode, docFromInMemoryCache, docDescriptor, syncDocument;\n\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                _context6.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose = decompose(arg), id = _decompose.id, data = _decompose.data, mode = _decompose.mode;\n                                docFromInMemoryCache = this.getCached(id, 'document');\n\n                                if (!docFromInMemoryCache) {\n                                    _context6.next = 8;\n                                    break;\n                                }\n\n                                return _context6.abrupt(\"return\", docFromInMemoryCache);\n\n                            case 8:\n                                _context6.next = 10;\n                                return this._getDocument(id);\n\n                            case 10:\n                                docDescriptor = _context6.sent;\n\n                                if (docDescriptor) {\n                                    _context6.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context6.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context6.prev = 16;\n                                _context6.next = 19;\n                                return this._createDocument(id, data);\n\n                            case 19:\n                                docDescriptor = _context6.sent;\n                                _context6.next = 29;\n                                break;\n\n                            case 22:\n                                _context6.prev = 22;\n                                _context6.t0 = _context6[\"catch\"](16);\n\n                                if (!(_context6.t0.status === 409)) {\n                                    _context6.next = 28;\n                                    break;\n                                }\n\n                                return _context6.abrupt(\"return\", this.document(arg));\n\n                            case 28:\n                                throw _context6.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(syncdocument_1.SyncDocument.type, id, docDescriptor);\n                                syncDocument = new syncdocument_1.SyncDocument(this.services, docDescriptor, function (type, sid, uniqueName) {\n                                    return _this2.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncDocument = this.entities.store(syncDocument);\n                                return _context6.abrupt(\"return\", subscribe(syncDocument));\n\n                            case 33:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Open a Map by identifier, or create one if none exists\n         * @param {string} id Map identifier. Unique name or sid.\n         * @return {Promise<Map>}\n         * @public\n         */\n\n    }, {\n        key: \"map\",\n        value: function map(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var _this3 = this;\n\n                var _decompose2, id, mode, optimistic, mapFromInMemoryCache, mapDescriptor, syncMap;\n\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                _context7.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose2 = decompose(arg), id = _decompose2.id, mode = _decompose2.mode, optimistic = _decompose2.optimistic;\n                                mapFromInMemoryCache = this.getCached(id, 'map');\n\n                                if (!mapFromInMemoryCache) {\n                                    _context7.next = 8;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", mapFromInMemoryCache);\n\n                            case 8:\n                                _context7.next = 10;\n                                return this._getMap(id, optimistic);\n\n                            case 10:\n                                mapDescriptor = _context7.sent;\n\n                                if (mapDescriptor) {\n                                    _context7.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context7.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context7.prev = 16;\n                                _context7.next = 19;\n                                return this._createMap(id);\n\n                            case 19:\n                                mapDescriptor = _context7.sent;\n                                _context7.next = 29;\n                                break;\n\n                            case 22:\n                                _context7.prev = 22;\n                                _context7.t0 = _context7[\"catch\"](16);\n\n                                if (!(_context7.t0.status === 409)) {\n                                    _context7.next = 28;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", this.map(arg));\n\n                            case 28:\n                                throw _context7.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(syncmap_1.SyncMap.type, id, mapDescriptor);\n                                syncMap = new syncmap_1.SyncMap(this.services, mapDescriptor, function (type, sid, uniqueName) {\n                                    return _this3.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncMap = this.entities.store(syncMap);\n                                return _context7.abrupt(\"return\", subscribe(syncMap));\n\n                            case 33:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Open a List by identifier, or create one if none exists\n         * @param {string} id List identifier. Unique name or sid.\n         * @return {Promise<List>}\n         * @public\n         */\n\n    }, {\n        key: \"list\",\n        value: function list(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var _this4 = this;\n\n                var _decompose3, id, purpose, context, mode, listFromInMemoryCache, listDescriptor, syncList;\n\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                _context8.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose3 = decompose(arg), id = _decompose3.id, purpose = _decompose3.purpose, context = _decompose3.context, mode = _decompose3.mode;\n                                listFromInMemoryCache = this.getCached(id, 'list');\n\n                                if (!listFromInMemoryCache) {\n                                    _context8.next = 8;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", listFromInMemoryCache);\n\n                            case 8:\n                                _context8.next = 10;\n                                return this._getList(id);\n\n                            case 10:\n                                listDescriptor = _context8.sent;\n\n                                if (listDescriptor) {\n                                    _context8.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context8.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context8.prev = 16;\n                                _context8.next = 19;\n                                return this._createList(id, purpose, context);\n\n                            case 19:\n                                listDescriptor = _context8.sent;\n                                _context8.next = 29;\n                                break;\n\n                            case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8[\"catch\"](16);\n\n                                if (!(_context8.t0.status === 409)) {\n                                    _context8.next = 28;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", this.list(arg));\n\n                            case 28:\n                                throw _context8.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(synclist_1.SyncList.type, id, listDescriptor);\n                                syncList = new synclist_1.SyncList(this.services, listDescriptor, function (type, sid, uniqueName) {\n                                    return _this4.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncList = this.entities.store(syncList);\n                                return _context8.abrupt(\"return\", subscribe(syncList));\n\n                            case 33:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Gracefully shutdown the libray\n         * Currently it is not properly implemented and being used only in tests\n         * But should be made a part of public API\n         * @private\n         */\n\n    }, {\n        key: \"shutdown\",\n        value: function shutdown() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                _context9.next = 2;\n                                return this.services.subscriptions.shutdown();\n\n                            case 2:\n                                _context9.next = 4;\n                                return this.services.twilsock.disconnect();\n\n                            case 4:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Set new auth token\n         * @param {string} token New token to set\n         * @return {Promise}\n         * @public\n         */\n\n    }, {\n        key: \"updateToken\",\n        value: function updateToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var response;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                _context10.next = 2;\n                                return this.services.emsClient.setToken(fpaToken);\n\n                            case 2:\n                                response = _context10.sent;\n                                this.services.config.updateToken(response.token);\n                                _context10.next = 6;\n                                return _promise2.default.all([this.services.notifications.updateToken(fpaToken), this.services.twilsock.updateToken(fpaToken)]);\n\n                            case 6:\n                                this.fpaToken = fpaToken;\n\n                            case 7:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n    }, {\n        key: \"connectionState\",\n        get: function get() {\n            return this.services.notifications.connectionState;\n        }\n    }], [{\n        key: \"version\",\n        get: function get() {\n            return SDK_VERSION;\n        }\n    }]);\n    return SyncClient;\n}(events_1.EventEmitter);\n\nexports.SyncClient = SyncClient;\nexports.Client = SyncClient;\nexports.default = SyncClient;\n/**\n * Indicates current state of connection between the client and Sync service.\n * <p>Valid options are as follows:\n * <li>'connecting' - client is offline and connection attempt is in process.\n * <li>'connected' - client is online and ready.\n * <li>'disconnecting' - client is going offline as disconnection is in process.\n * <li>'disconnected' - client is offline and no connection attempt is in process.\n * <li>'denied' - client connection is denied because of invalid JWT access token. User must refresh token in order to proceed.\n * <li>'error' - client connection is in a permanent erroneous state. Client re-initialization is required.\n * @typedef {String} Client#ConnectionState\n */\n/**\n * These options can be passed to Client constructor\n * @typedef {Object} Client#ClientOptions\n * @property {String} [logLevel='error'] - The level of logging to enable. Valid options\n *   (from strictest to broadest): ['silent', 'error', 'warn', 'info', 'debug', 'trace']\n */\n/**\n * Fired when connection state has been changed.\n * @param {Client#ConnectionState} connectionState Contains current service connection state.\n * @event Client#connectionStateChanged\n */\n\n/***/ }),\n\n/***/ \"VuZO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"O35A\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"Wyka\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(\"E5Ce\"),\n    defined = __webpack_require__(\"U72i\");\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n/***/ }),\n\n/***/ \"X6va\":\n/***/ (function(module, exports) {\n\nvar id = 0,\n    px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n/***/ }),\n\n/***/ \"X9RM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"Lvd3\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"XMdB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = __webpack_require__(\"vSO4\");\n\n$export($export.P + $export.R, 'Set', { toJSON: __webpack_require__(\"x6MZ\")('Set') });\n\n/***/ }),\n\n/***/ \"XdV9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar util = __webpack_require__(\"gfUn\");\n\nvar BackoffStrategy = __webpack_require__(\"C6lX\");\n\n// Fibonacci backoff strategy.\nfunction FibonacciBackoffStrategy(options) {\n    BackoffStrategy.call(this, options);\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n}\nutil.inherits(FibonacciBackoffStrategy, BackoffStrategy);\n\nFibonacciBackoffStrategy.prototype.next_ = function () {\n    var backoffDelay = Math.min(this.nextBackoffDelay_, this.getMaxDelay());\n    this.nextBackoffDelay_ += this.backoffDelay_;\n    this.backoffDelay_ = backoffDelay;\n    return backoffDelay;\n};\n\nFibonacciBackoffStrategy.prototype.reset_ = function () {\n    this.nextBackoffDelay_ = this.getInitialDelay();\n    this.backoffDelay_ = 0;\n};\n\nmodule.exports = FibonacciBackoffStrategy;\n\n/***/ }),\n\n/***/ \"XtTh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isValue = __webpack_require__(\"f648\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n/***/ }),\n\n/***/ \"XzVR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Generic SyncLibrary error class\n */\n\nvar SyncError = function (_Error) {\n    (0, _inherits3.default)(SyncError, _Error);\n\n    function SyncError(message) {\n        var status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        (0, _classCallCheck3.default)(this, SyncError);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncError.__proto__ || (0, _getPrototypeOf2.default)(SyncError)).call(this));\n\n        _this.name = _this.constructor.name;\n        _this.message = message;\n        _this.status = status;\n        _this.code = code;\n        return _this;\n    }\n\n    return SyncError;\n}(Error);\n\nexports.SyncError = SyncError;\nexports.default = SyncError;\n\n/***/ }),\n\n/***/ \"YD0x\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(\"vSO4\");\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(\"uj5A\") });\n\n/***/ }),\n\n/***/ \"YLmZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar forOf = __webpack_require__(\"ozpD\");\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n/***/ }),\n\n/***/ \"YZrv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"K+F3\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"ZAcJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Configuration = function Configuration(config) {\n    (0, _classCallCheck3.default)(this, Configuration);\n\n    var emsConfig = config.emsClient || {};\n    var realm = config.realm || 'us1';\n    var DEFAULT_EMS_HOST = \"https://ems.\" + realm + \".twilio.com\";\n    var EMS_PATH = '/v1/token';\n    var host = emsConfig.url || emsConfig.emsUri || emsConfig.emsUrl || DEFAULT_EMS_HOST + EMS_PATH;\n    this.url = host;\n};\n\nexports.default = Configuration;\n\n/***/ }),\n\n/***/ \"ZHvQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(\"ShN9\"),\n    TAG = __webpack_require__(\"Ug9I\")('toStringTag')\n// ES3 wrong here\n,\n    ARG = cof(function () {\n  return arguments;\n}()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function tryGet(it, key) {\n  try {\n    return it[key];\n  } catch (e) {/* empty */}\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n  // @@toStringTag case\n  : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n  // builtinTag case\n  : ARG ? cof(O)\n  // ES3 arguments fallback\n  : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n/***/ }),\n\n/***/ \"ZKjc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(\"Aq8W\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(\"yeEC\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(\"GyB/\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n/***/ }),\n\n/***/ \"ZUV3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar karibu_1 = __webpack_require__(\"lmjd\");\n\nvar Entry = function () {\n    function Entry(value, revision) {\n        (0, _classCallCheck3.default)(this, Entry);\n\n        this.value = value;\n        this.revision = revision || 0;\n    }\n\n    (0, _createClass3.default)(Entry, [{\n        key: \"isValid\",\n        get: function get() {\n            return true;\n        }\n    }]);\n    return Entry;\n}();\n\nvar Tombstone = function () {\n    function Tombstone(revision) {\n        (0, _classCallCheck3.default)(this, Tombstone);\n\n        this.revision = revision;\n    }\n\n    (0, _createClass3.default)(Tombstone, [{\n        key: \"isValid\",\n        get: function get() {\n            return false;\n        }\n    }]);\n    return Tombstone;\n}();\n\nvar Cache = function () {\n    function Cache() {\n        (0, _classCallCheck3.default)(this, Cache);\n\n        this.items = new karibu_1.TreeMap();\n    }\n\n    (0, _createClass3.default)(Cache, [{\n        key: \"store\",\n        value: function store(key, value, revision) {\n            var entry = this.items.get(key);\n            if (entry && entry.revision > revision) {\n                if (entry.isValid) {\n                    return entry.value;\n                }\n                return null;\n            }\n            this.items.set(key, new Entry(value, revision));\n            return value;\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key, revision) {\n            var curr = this.items.get(key);\n            if (!curr || curr.revision < revision) {\n                this.items.set(key, new Tombstone(revision));\n            }\n        }\n    }, {\n        key: \"isKnown\",\n        value: function isKnown(key, revision) {\n            var curr = this.items.get(key);\n            return curr && curr.revision >= revision;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            var entry = this.items.get(key);\n            if (entry && entry.isValid) {\n                return entry.value;\n            }\n            return null;\n        }\n    }, {\n        key: \"has\",\n        value: function has(key) {\n            var entry = this.items.get(key);\n            return entry && entry.isValid;\n        }\n    }]);\n    return Cache;\n}();\n\nexports.Cache = Cache;\nexports.default = Cache;\n\n/***/ }),\n\n/***/ \"ZaKr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(\"BxvP\"),\n    anObject = __webpack_require__(\"zotD\");\nvar check = function check(O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n  function (test, buggy, set) {\n    try {\n      set = __webpack_require__(\"3zRh\")(Function.call, __webpack_require__(\"sxPs\").f(Object.prototype, '__proto__').set, 2);\n      set(test, []);\n      buggy = !(test instanceof Array);\n    } catch (e) {\n      buggy = true;\n    }\n    return function setPrototypeOf(O, proto) {\n      check(O, proto);\n      if (buggy) O.__proto__ = proto;else set(O, proto);\n      return O;\n    };\n  }({}, false) : undefined),\n  check: check\n};\n\n/***/ }),\n\n/***/ \"Zt7E\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var require;/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   3.3.1\n */\n\n(function (global, factory) {\n   true ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.ES6Promise = factory();\n})(this, function () {\n  'use strict';\n\n  function objectOrFunction(x) {\n    return typeof x === 'function' || typeof x === 'object' && x !== null;\n  }\n\n  function isFunction(x) {\n    return typeof x === 'function';\n  }\n\n  var _isArray = undefined;\n  if (!Array.isArray) {\n    _isArray = function _isArray(x) {\n      return Object.prototype.toString.call(x) === '[object Array]';\n    };\n  } else {\n    _isArray = Array.isArray;\n  }\n\n  var isArray = _isArray;\n\n  var len = 0;\n  var vertxNext = undefined;\n  var customSchedulerFn = undefined;\n\n  var asap = function asap(callback, arg) {\n    queue[len] = callback;\n    queue[len + 1] = arg;\n    len += 2;\n    if (len === 2) {\n      // If len is 2, that means that we need to schedule an async flush.\n      // If additional callbacks are queued before the queue is flushed, they\n      // will be processed by this flush that we are scheduling.\n      if (customSchedulerFn) {\n        customSchedulerFn(flush);\n      } else {\n        scheduleFlush();\n      }\n    }\n  };\n\n  function setScheduler(scheduleFn) {\n    customSchedulerFn = scheduleFn;\n  }\n\n  function setAsap(asapFn) {\n    asap = asapFn;\n  }\n\n  var browserWindow = typeof window !== 'undefined' ? window : undefined;\n  var browserGlobal = browserWindow || {};\n  var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n  var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n  // test for web worker but not in IE10\n  var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n  // node\n  function useNextTick() {\n    // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n    // see https://github.com/cujojs/when/issues/410 for details\n    return function () {\n      return process.nextTick(flush);\n    };\n  }\n\n  // vertx\n  function useVertxTimer() {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  function useMutationObserver() {\n    var iterations = 0;\n    var observer = new BrowserMutationObserver(flush);\n    var node = document.createTextNode('');\n    observer.observe(node, { characterData: true });\n\n    return function () {\n      node.data = iterations = ++iterations % 2;\n    };\n  }\n\n  // web worker\n  function useMessageChannel() {\n    var channel = new MessageChannel();\n    channel.port1.onmessage = flush;\n    return function () {\n      return channel.port2.postMessage(0);\n    };\n  }\n\n  function useSetTimeout() {\n    // Store setTimeout reference so es6-promise will be unaffected by\n    // other code modifying setTimeout (like sinon.useFakeTimers())\n    var globalSetTimeout = setTimeout;\n    return function () {\n      return globalSetTimeout(flush, 1);\n    };\n  }\n\n  var queue = new Array(1000);\n  function flush() {\n    for (var i = 0; i < len; i += 2) {\n      var callback = queue[i];\n      var arg = queue[i + 1];\n\n      callback(arg);\n\n      queue[i] = undefined;\n      queue[i + 1] = undefined;\n    }\n\n    len = 0;\n  }\n\n  function attemptVertx() {\n    try {\n      var r = require;\n      var vertx = __webpack_require__(2);\n      vertxNext = vertx.runOnLoop || vertx.runOnContext;\n      return useVertxTimer();\n    } catch (e) {\n      return useSetTimeout();\n    }\n  }\n\n  var scheduleFlush = undefined;\n  // Decide what async method to use to triggering processing of queued callbacks:\n  if (isNode) {\n    scheduleFlush = useNextTick();\n  } else if (BrowserMutationObserver) {\n    scheduleFlush = useMutationObserver();\n  } else if (isWorker) {\n    scheduleFlush = useMessageChannel();\n  } else if (browserWindow === undefined && \"function\" === 'function') {\n    scheduleFlush = attemptVertx();\n  } else {\n    scheduleFlush = useSetTimeout();\n  }\n\n  function then(onFulfillment, onRejection) {\n    var _arguments = arguments;\n\n    var parent = this;\n\n    var child = new this.constructor(noop);\n\n    if (child[PROMISE_ID] === undefined) {\n      makePromise(child);\n    }\n\n    var _state = parent._state;\n\n    if (_state) {\n      (function () {\n        var callback = _arguments[_state - 1];\n        asap(function () {\n          return invokeCallback(_state, child, callback, parent._result);\n        });\n      })();\n    } else {\n      subscribe(parent, child, onFulfillment, onRejection);\n    }\n\n    return child;\n  }\n\n  /**\n    `Promise.resolve` returns a promise that will become resolved with the\n    passed `value`. It is shorthand for the following:\n  \n    ```javascript\n    let promise = new Promise(function(resolve, reject){\n      resolve(1);\n    });\n  \n    promise.then(function(value){\n      // value === 1\n    });\n    ```\n  \n    Instead of writing the above, your code now simply becomes the following:\n  \n    ```javascript\n    let promise = Promise.resolve(1);\n  \n    promise.then(function(value){\n      // value === 1\n    });\n    ```\n  \n    @method resolve\n    @static\n    @param {Any} value value that the returned promise will be resolved with\n    Useful for tooling.\n    @return {Promise} a promise that will become fulfilled with the given\n    `value`\n  */\n  function resolve(object) {\n    /*jshint validthis:true */\n    var Constructor = this;\n\n    if (object && typeof object === 'object' && object.constructor === Constructor) {\n      return object;\n    }\n\n    var promise = new Constructor(noop);\n    _resolve(promise, object);\n    return promise;\n  }\n\n  var PROMISE_ID = Math.random().toString(36).substring(16);\n\n  function noop() {}\n\n  var PENDING = void 0;\n  var FULFILLED = 1;\n  var REJECTED = 2;\n\n  var GET_THEN_ERROR = new ErrorObject();\n\n  function selfFulfillment() {\n    return new TypeError(\"You cannot resolve a promise with itself\");\n  }\n\n  function cannotReturnOwn() {\n    return new TypeError('A promises callback cannot return that same promise.');\n  }\n\n  function getThen(promise) {\n    try {\n      return promise.then;\n    } catch (error) {\n      GET_THEN_ERROR.error = error;\n      return GET_THEN_ERROR;\n    }\n  }\n\n  function tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n    try {\n      then.call(value, fulfillmentHandler, rejectionHandler);\n    } catch (e) {\n      return e;\n    }\n  }\n\n  function handleForeignThenable(promise, thenable, then) {\n    asap(function (promise) {\n      var sealed = false;\n      var error = tryThen(then, thenable, function (value) {\n        if (sealed) {\n          return;\n        }\n        sealed = true;\n        if (thenable !== value) {\n          _resolve(promise, value);\n        } else {\n          fulfill(promise, value);\n        }\n      }, function (reason) {\n        if (sealed) {\n          return;\n        }\n        sealed = true;\n\n        _reject(promise, reason);\n      }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n      if (!sealed && error) {\n        sealed = true;\n        _reject(promise, error);\n      }\n    }, promise);\n  }\n\n  function handleOwnThenable(promise, thenable) {\n    if (thenable._state === FULFILLED) {\n      fulfill(promise, thenable._result);\n    } else if (thenable._state === REJECTED) {\n      _reject(promise, thenable._result);\n    } else {\n      subscribe(thenable, undefined, function (value) {\n        return _resolve(promise, value);\n      }, function (reason) {\n        return _reject(promise, reason);\n      });\n    }\n  }\n\n  function handleMaybeThenable(promise, maybeThenable, then$$) {\n    if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n      handleOwnThenable(promise, maybeThenable);\n    } else {\n      if (then$$ === GET_THEN_ERROR) {\n        _reject(promise, GET_THEN_ERROR.error);\n      } else if (then$$ === undefined) {\n        fulfill(promise, maybeThenable);\n      } else if (isFunction(then$$)) {\n        handleForeignThenable(promise, maybeThenable, then$$);\n      } else {\n        fulfill(promise, maybeThenable);\n      }\n    }\n  }\n\n  function _resolve(promise, value) {\n    if (promise === value) {\n      _reject(promise, selfFulfillment());\n    } else if (objectOrFunction(value)) {\n      handleMaybeThenable(promise, value, getThen(value));\n    } else {\n      fulfill(promise, value);\n    }\n  }\n\n  function publishRejection(promise) {\n    if (promise._onerror) {\n      promise._onerror(promise._result);\n    }\n\n    publish(promise);\n  }\n\n  function fulfill(promise, value) {\n    if (promise._state !== PENDING) {\n      return;\n    }\n\n    promise._result = value;\n    promise._state = FULFILLED;\n\n    if (promise._subscribers.length !== 0) {\n      asap(publish, promise);\n    }\n  }\n\n  function _reject(promise, reason) {\n    if (promise._state !== PENDING) {\n      return;\n    }\n    promise._state = REJECTED;\n    promise._result = reason;\n\n    asap(publishRejection, promise);\n  }\n\n  function subscribe(parent, child, onFulfillment, onRejection) {\n    var _subscribers = parent._subscribers;\n    var length = _subscribers.length;\n\n    parent._onerror = null;\n\n    _subscribers[length] = child;\n    _subscribers[length + FULFILLED] = onFulfillment;\n    _subscribers[length + REJECTED] = onRejection;\n\n    if (length === 0 && parent._state) {\n      asap(publish, parent);\n    }\n  }\n\n  function publish(promise) {\n    var subscribers = promise._subscribers;\n    var settled = promise._state;\n\n    if (subscribers.length === 0) {\n      return;\n    }\n\n    var child = undefined,\n        callback = undefined,\n        detail = promise._result;\n\n    for (var i = 0; i < subscribers.length; i += 3) {\n      child = subscribers[i];\n      callback = subscribers[i + settled];\n\n      if (child) {\n        invokeCallback(settled, child, callback, detail);\n      } else {\n        callback(detail);\n      }\n    }\n\n    promise._subscribers.length = 0;\n  }\n\n  function ErrorObject() {\n    this.error = null;\n  }\n\n  var TRY_CATCH_ERROR = new ErrorObject();\n\n  function tryCatch(callback, detail) {\n    try {\n      return callback(detail);\n    } catch (e) {\n      TRY_CATCH_ERROR.error = e;\n      return TRY_CATCH_ERROR;\n    }\n  }\n\n  function invokeCallback(settled, promise, callback, detail) {\n    var hasCallback = isFunction(callback),\n        value = undefined,\n        error = undefined,\n        succeeded = undefined,\n        failed = undefined;\n\n    if (hasCallback) {\n      value = tryCatch(callback, detail);\n\n      if (value === TRY_CATCH_ERROR) {\n        failed = true;\n        error = value.error;\n        value = null;\n      } else {\n        succeeded = true;\n      }\n\n      if (promise === value) {\n        _reject(promise, cannotReturnOwn());\n        return;\n      }\n    } else {\n      value = detail;\n      succeeded = true;\n    }\n\n    if (promise._state !== PENDING) {\n      // noop\n    } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n  }\n\n  function initializePromise(promise, resolver) {\n    try {\n      resolver(function resolvePromise(value) {\n        _resolve(promise, value);\n      }, function rejectPromise(reason) {\n        _reject(promise, reason);\n      });\n    } catch (e) {\n      _reject(promise, e);\n    }\n  }\n\n  var id = 0;\n  function nextId() {\n    return id++;\n  }\n\n  function makePromise(promise) {\n    promise[PROMISE_ID] = id++;\n    promise._state = undefined;\n    promise._result = undefined;\n    promise._subscribers = [];\n  }\n\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this._input = input;\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate();\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      _reject(this.promise, validationError());\n    }\n  }\n\n  function validationError() {\n    return new Error('Array Methods must be provided an Array');\n  };\n\n  Enumerator.prototype._enumerate = function () {\n    var length = this.length;\n    var _input = this._input;\n\n    for (var i = 0; this._state === PENDING && i < length; i++) {\n      this._eachEntry(_input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function (entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$ = c.resolve;\n\n    if (resolve$$ === resolve) {\n      var _then = getThen(entry);\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise) {\n        var promise = new c(noop);\n        handleMaybeThenable(promise, entry, _then);\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$) {\n          return resolve$$(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function (state, i, value) {\n    var promise = this.promise;\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        _reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function (promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  /**\n    `Promise.all` accepts an array of promises, and returns a new promise which\n    is fulfilled with an array of fulfillment values for the passed promises, or\n    rejected with the reason of the first passed promise to be rejected. It casts all\n    elements of the passed iterable to promises as it runs this algorithm.\n  \n    Example:\n  \n    ```javascript\n    let promise1 = resolve(1);\n    let promise2 = resolve(2);\n    let promise3 = resolve(3);\n    let promises = [ promise1, promise2, promise3 ];\n  \n    Promise.all(promises).then(function(array){\n      // The array here would be [ 1, 2, 3 ];\n    });\n    ```\n  \n    If any of the `promises` given to `all` are rejected, the first promise\n    that is rejected will be given as an argument to the returned promises's\n    rejection handler. For example:\n  \n    Example:\n  \n    ```javascript\n    let promise1 = resolve(1);\n    let promise2 = reject(new Error(\"2\"));\n    let promise3 = reject(new Error(\"3\"));\n    let promises = [ promise1, promise2, promise3 ];\n  \n    Promise.all(promises).then(function(array){\n      // Code here never runs because there are rejected promises!\n    }, function(error) {\n      // error.message === \"2\"\n    });\n    ```\n  \n    @method all\n    @static\n    @param {Array} entries array of promises\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise} promise that is fulfilled when all `promises` have been\n    fulfilled, or rejected if any of them become rejected.\n    @static\n  */\n  function all(entries) {\n    return new Enumerator(this, entries).promise;\n  }\n\n  /**\n    `Promise.race` returns a new promise which is settled in the same way as the\n    first passed promise to settle.\n  \n    Example:\n  \n    ```javascript\n    let promise1 = new Promise(function(resolve, reject){\n      setTimeout(function(){\n        resolve('promise 1');\n      }, 200);\n    });\n  \n    let promise2 = new Promise(function(resolve, reject){\n      setTimeout(function(){\n        resolve('promise 2');\n      }, 100);\n    });\n  \n    Promise.race([promise1, promise2]).then(function(result){\n      // result === 'promise 2' because it was resolved before promise1\n      // was resolved.\n    });\n    ```\n  \n    `Promise.race` is deterministic in that only the state of the first\n    settled promise matters. For example, even if other promises given to the\n    `promises` array argument are resolved, but the first settled promise has\n    become rejected before the other promises became fulfilled, the returned\n    promise will become rejected:\n  \n    ```javascript\n    let promise1 = new Promise(function(resolve, reject){\n      setTimeout(function(){\n        resolve('promise 1');\n      }, 200);\n    });\n  \n    let promise2 = new Promise(function(resolve, reject){\n      setTimeout(function(){\n        reject(new Error('promise 2'));\n      }, 100);\n    });\n  \n    Promise.race([promise1, promise2]).then(function(result){\n      // Code here never runs\n    }, function(reason){\n      // reason.message === 'promise 2' because promise 2 became rejected before\n      // promise 1 became fulfilled\n    });\n    ```\n  \n    An example real-world use case is implementing timeouts:\n  \n    ```javascript\n    Promise.race([ajax('foo.json'), timeout(5000)])\n    ```\n  \n    @method race\n    @static\n    @param {Array} promises array of promises to observe\n    Useful for tooling.\n    @return {Promise} a promise which settles in the same way as the first passed\n    promise to settle.\n  */\n  function race(entries) {\n    /*jshint validthis:true */\n    var Constructor = this;\n\n    if (!isArray(entries)) {\n      return new Constructor(function (_, reject) {\n        return reject(new TypeError('You must pass an array to race.'));\n      });\n    } else {\n      return new Constructor(function (resolve, reject) {\n        var length = entries.length;\n        for (var i = 0; i < length; i++) {\n          Constructor.resolve(entries[i]).then(resolve, reject);\n        }\n      });\n    }\n  }\n\n  /**\n    `Promise.reject` returns a promise rejected with the passed `reason`.\n    It is shorthand for the following:\n  \n    ```javascript\n    let promise = new Promise(function(resolve, reject){\n      reject(new Error('WHOOPS'));\n    });\n  \n    promise.then(function(value){\n      // Code here doesn't run because the promise is rejected!\n    }, function(reason){\n      // reason.message === 'WHOOPS'\n    });\n    ```\n  \n    Instead of writing the above, your code now simply becomes the following:\n  \n    ```javascript\n    let promise = Promise.reject(new Error('WHOOPS'));\n  \n    promise.then(function(value){\n      // Code here doesn't run because the promise is rejected!\n    }, function(reason){\n      // reason.message === 'WHOOPS'\n    });\n    ```\n  \n    @method reject\n    @static\n    @param {Any} reason value that the returned promise will be rejected with.\n    Useful for tooling.\n    @return {Promise} a promise rejected with the given `reason`.\n  */\n  function reject(reason) {\n    /*jshint validthis:true */\n    var Constructor = this;\n    var promise = new Constructor(noop);\n    _reject(promise, reason);\n    return promise;\n  }\n\n  function needsResolver() {\n    throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n  }\n\n  function needsNew() {\n    throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n  }\n\n  /**\n    Promise objects represent the eventual result of an asynchronous operation. The\n    primary way of interacting with a promise is through its `then` method, which\n    registers callbacks to receive either a promise's eventual value or the reason\n    why the promise cannot be fulfilled.\n  \n    Terminology\n    -----------\n  \n    - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n    - `thenable` is an object or function that defines a `then` method.\n    - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n    - `exception` is a value that is thrown using the throw statement.\n    - `reason` is a value that indicates why a promise was rejected.\n    - `settled` the final resting state of a promise, fulfilled or rejected.\n  \n    A promise can be in one of three states: pending, fulfilled, or rejected.\n  \n    Promises that are fulfilled have a fulfillment value and are in the fulfilled\n    state.  Promises that are rejected have a rejection reason and are in the\n    rejected state.  A fulfillment value is never a thenable.\n  \n    Promises can also be said to *resolve* a value.  If this value is also a\n    promise, then the original promise's settled state will match the value's\n    settled state.  So a promise that *resolves* a promise that rejects will\n    itself reject, and a promise that *resolves* a promise that fulfills will\n    itself fulfill.\n  \n  \n    Basic Usage:\n    ------------\n  \n    ```js\n    let promise = new Promise(function(resolve, reject) {\n      // on success\n      resolve(value);\n  \n      // on failure\n      reject(reason);\n    });\n  \n    promise.then(function(value) {\n      // on fulfillment\n    }, function(reason) {\n      // on rejection\n    });\n    ```\n  \n    Advanced Usage:\n    ---------------\n  \n    Promises shine when abstracting away asynchronous interactions such as\n    `XMLHttpRequest`s.\n  \n    ```js\n    function getJSON(url) {\n      return new Promise(function(resolve, reject){\n        let xhr = new XMLHttpRequest();\n  \n        xhr.open('GET', url);\n        xhr.onreadystatechange = handler;\n        xhr.responseType = 'json';\n        xhr.setRequestHeader('Accept', 'application/json');\n        xhr.send();\n  \n        function handler() {\n          if (this.readyState === this.DONE) {\n            if (this.status === 200) {\n              resolve(this.response);\n            } else {\n              reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n            }\n          }\n        };\n      });\n    }\n  \n    getJSON('/posts.json').then(function(json) {\n      // on fulfillment\n    }, function(reason) {\n      // on rejection\n    });\n    ```\n  \n    Unlike callbacks, promises are great composable primitives.\n  \n    ```js\n    Promise.all([\n      getJSON('/posts'),\n      getJSON('/comments')\n    ]).then(function(values){\n      values[0] // => postsJSON\n      values[1] // => commentsJSON\n  \n      return values;\n    });\n    ```\n  \n    @class Promise\n    @param {function} resolver\n    Useful for tooling.\n    @constructor\n  */\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  Promise.all = all;\n  Promise.race = race;\n  Promise.resolve = resolve;\n  Promise.reject = reject;\n  Promise._setScheduler = setScheduler;\n  Promise._setAsap = setAsap;\n  Promise._asap = asap;\n\n  Promise.prototype = {\n    constructor: Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n    \n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n    \n      Chaining\n      --------\n    \n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n    \n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n    \n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n    \n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n    \n      Assimilation\n      ------------\n    \n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n    \n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n    \n      If the assimliated promise rejects, then the downstream promise will also reject.\n    \n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n    \n      Simple Example\n      --------------\n    \n      Synchronous Example\n    \n      ```javascript\n      let result;\n    \n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n    \n      Errback Example\n    \n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n    \n      Promise Example;\n    \n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n    \n      Advanced Example\n      --------------\n    \n      Synchronous Example\n    \n      ```javascript\n      let author, books;\n    \n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n    \n      Errback Example\n    \n      ```js\n    \n      function foundBooks(books) {\n    \n      }\n    \n      function failure(reason) {\n    \n      }\n    \n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n    \n      Promise Example;\n    \n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n    \n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n    then: then,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n    \n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n    \n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n    \n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n    \n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n    'catch': function _catch(onRejection) {\n      return this.then(null, onRejection);\n    }\n  };\n\n  function polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n      local = global;\n    } else if (typeof self !== 'undefined') {\n      local = self;\n    } else {\n      try {\n        local = Function('return this')();\n      } catch (e) {\n        throw new Error('polyfill failed because global object is unavailable in this environment');\n      }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n      var promiseToString = null;\n      try {\n        promiseToString = Object.prototype.toString.call(P.resolve());\n      } catch (e) {\n        // silently ignored\n      }\n\n      if (promiseToString === '[object Promise]' && !P.cast) {\n        return;\n      }\n    }\n\n    local.Promise = Promise;\n  }\n\n  polyfill();\n  // Strange compat..\n  Promise.polyfill = polyfill;\n  Promise.Promise = Promise;\n\n  return Promise;\n});\n//# sourceMappingURL=es6-promise.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"ZxII\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(\"Ug9I\");\n\n/***/ }),\n\n/***/ \"aIIw\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"QYzI\");\n\n/***/ }),\n\n/***/ \"af0K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// check on default Array iterator\nvar Iterators = __webpack_require__(\"dhak\"),\n    ITERATOR = __webpack_require__(\"Ug9I\")('iterator'),\n    ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n/***/ }),\n\n/***/ \"akPY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(\"Gfzd\"),\n    createDesc = __webpack_require__(\"0WCH\");\nmodule.exports = __webpack_require__(\"6MLN\") ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n/***/ }),\n\n/***/ \"al4s\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = __webpack_require__(\"PD3G\");\nvar entity_1 = __webpack_require__(\"GBRx\");\nvar retryingqueue_1 = __webpack_require__(\"/lpw\");\nvar mapitem_1 = __webpack_require__(\"QlMj\");\nvar paginator_1 = __webpack_require__(\"NQ19\");\nvar cache_1 = __webpack_require__(\"ZUV3\");\n/**\n * @class\n * @alias Map\n * @classdesc Map collection to store a set of Key:Value pairs\n * @property {String} sid - Map unique id\n * @property {String} uniqueName - Map unique name\n *\n * @fires Map#itemAdded\n * @fires Map#itemAddedRemotely\n * @fires Map#itemUpdated\n * @fires Map#itemUpdatedRemotely\n * @fires Map#itemRemoved\n * @fires Map#itemRemovedRemotely\n * @fires Map#collectionRemoved\n * @fires Map#collectionRemovedRemotely\n */\n\nvar SyncMap = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncMap, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncMap(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncMap);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncMap.__proto__ || (0, _getPrototypeOf2.default)(SyncMap)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.cache = new cache_1.Cache();\n        _this.descriptor = descriptor;\n        if (descriptor.items) {\n            descriptor.items.forEach(function (itemDescriptor) {\n                _this.cache.store(itemDescriptor.key, new mapitem_1.MapItem(itemDescriptor), itemDescriptor.last_event_id);\n            });\n        }\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncMap, [{\n        key: \"_get\",\n        value: function _get(key) {\n            return this.queryItems({ key: key }).then(function (result) {\n                if (result.items.length < 1) {\n                    throw new Error('No item with key ' + key + ' found');\n                }\n                return result.items[0];\n            });\n        }\n    }, {\n        key: \"__set\",\n        value: function __set(location, param) {\n            return this.services.network.post(location, { data: param.data }, param.revision).then(function (response) {\n                response = response.body;\n                response.data = param.data;\n                return response;\n            });\n        }\n        /**\n         * Update known existing element\n         * @private\n         */\n\n    }, {\n        key: \"_set\",\n        value: function _set(location, keyValue, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var _this2 = this;\n\n                var _resolver;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (resolver) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", this.__set(location, { data: keyValue.data }));\n\n                            case 2:\n                                _resolver = function _resolver(err) {\n                                    return __awaiter(_this2, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                                        var item;\n                                        return _regenerator2.default.wrap(function _callee$(_context) {\n                                            while (1) {\n                                                switch (_context.prev = _context.next) {\n                                                    case 0:\n                                                        if (!(err.status === 412)) {\n                                                            _context.next = 5;\n                                                            break;\n                                                        }\n\n                                                        _context.next = 3;\n                                                        return this._get(keyValue.key);\n\n                                                    case 3:\n                                                        item = _context.sent;\n                                                        return _context.abrupt(\"return\", {\n                                                            revision: item.revision,\n                                                            data: resolver(utils_1.deepClone(item.value))\n                                                        });\n\n                                                    case 5:\n                                                        throw err;\n\n                                                    case 6:\n                                                    case \"end\":\n                                                        return _context.stop();\n                                                }\n                                            }\n                                        }, _callee, this);\n                                    }));\n                                };\n\n                                return _context2.abrupt(\"return\", this.actionQueue.add(this.__set.bind(this), location, { revision: keyValue.revision, data: keyValue.data }, _resolver));\n\n                            case 4:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Create element or update if already existing\n         * @private\n         */\n\n    }, {\n        key: \"_tryAddOrUpdate\",\n        value: function _tryAddOrUpdate(uri, keyValue, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var response, existingItemLocation, value, _response, resolvedData, _value;\n\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.prev = 0;\n                                _context3.next = 3;\n                                return this.services.network.post(uri, keyValue);\n\n                            case 3:\n                                response = _context3.sent;\n\n                                response.body.data = keyValue.data;\n                                return _context3.abrupt(\"return\", { added: true, value: response.body });\n\n                            case 8:\n                                _context3.prev = 8;\n                                _context3.t0 = _context3[\"catch\"](0);\n\n                                if (!(_context3.t0.status !== 409)) {\n                                    _context3.next = 12;\n                                    break;\n                                }\n\n                                throw _context3.t0;\n\n                            case 12:\n                                existingItemLocation = _context3.t0.body.links.item;\n\n                                if (resolver) {\n                                    _context3.next = 20;\n                                    break;\n                                }\n\n                                _context3.next = 16;\n                                return this._set(existingItemLocation, keyValue, resolver);\n\n                            case 16:\n                                value = _context3.sent;\n                                return _context3.abrupt(\"return\", { added: false, value: value });\n\n                            case 20:\n                                _context3.next = 22;\n                                return this.services.network.get(existingItemLocation);\n\n                            case 22:\n                                _response = _context3.sent;\n                                resolvedData = resolver(utils_1.deepClone(_response.body.data));\n                                _context3.next = 26;\n                                return this._set(existingItemLocation, {\n                                    key: _response.body.key,\n                                    revision: _response.body.revision,\n                                    data: resolvedData\n                                }, resolver);\n\n                            case 26:\n                                _value = _context3.sent;\n                                return _context3.abrupt(\"return\", { added: false, value: _value });\n\n                            case 28:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[0, 8]]);\n            }));\n        }\n        /**\n         * @return Promise<Object> Context of collection\n         * @private\n         */\n\n    }, {\n        key: \"getContext\",\n        value: function getContext() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                var response;\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                if (!(typeof this.context !== 'undefined')) {\n                                    _context4.next = 2;\n                                    break;\n                                }\n\n                                return _context4.abrupt(\"return\", this.context);\n\n                            case 2:\n                                _context4.next = 4;\n                                return this.services.network.get(this.links.context);\n\n                            case 4:\n                                response = _context4.sent;\n\n                                this.context = response.body.data;\n                                return _context4.abrupt(\"return\", this.context);\n\n                            case 7:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n        /**\n         * @param context {Object} New context value\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: \"updateContext\",\n        value: function updateContext(context) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                _context5.next = 2;\n                                return this.services.network.post(this.links.context, { data: context });\n\n                            case 2:\n                                this.context = context;\n                                this.emit('contextUpdated', context, true);\n\n                            case 4:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n        /**\n         * Set key and value pair in map\n         * @param {String} key  Key identifier\n         * @param {Object} value Value to set\n         * @returns {Promise<Item>}\n         * @public\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            return this._actualSet(key, value);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(key, value, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                var descriptor, added, item, arg, addOrUpdateResult;\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                descriptor = void 0;\n                                added = void 0;\n                                item = this.cache.get(key);\n\n                                if (!item) {\n                                    _context6.next = 11;\n                                    break;\n                                }\n\n                                arg = { key: key, data: value, revision: item.revision || undefined };\n                                _context6.next = 7;\n                                return this._set(item.uri, arg, resolver);\n\n                            case 7:\n                                descriptor = _context6.sent;\n\n                                added = false;\n                                _context6.next = 16;\n                                break;\n\n                            case 11:\n                                _context6.next = 13;\n                                return this._tryAddOrUpdate(this.links.items, { key: key, data: value }, resolver);\n\n                            case 13:\n                                addOrUpdateResult = _context6.sent;\n\n                                descriptor = addOrUpdateResult.value;\n                                added = addOrUpdateResult.added;\n\n                            case 16:\n                                item = this.cache.get(key);\n                                if (item && descriptor.last_event_id > item.lastEventId) {\n                                    item.update(descriptor.last_event_id, descriptor.revision, descriptor.data);\n                                    this.emit('itemUpdated', item, true);\n                                } else if (!item) {\n                                    item = this.cache.store(key, new mapitem_1.MapItem(descriptor), descriptor.last_event_id);\n                                    if (added) {\n                                        this.emit('itemAdded', item, true);\n                                    } else {\n                                        this.emit('itemUpdated', item, true);\n                                    }\n                                }\n                                return _context6.abrupt(\"return\", item);\n\n                            case 19:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this);\n            }));\n        }\n        /**\n         * @param {String} key String identifier of entity in a map\n         * @return {Promise<Item>}\n         * @public\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var result;\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                if (!this.cache.has(key)) {\n                                    _context7.next = 2;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", this.cache.get(key));\n\n                            case 2:\n                                _context7.next = 4;\n                                return this.queryItems({ key: key });\n\n                            case 4:\n                                result = _context7.sent;\n\n                                if (!(result.items.length < 1)) {\n                                    _context7.next = 7;\n                                    break;\n                                }\n\n                                throw new Error('No item with key ' + key + ' found');\n\n                            case 7:\n                                return _context7.abrupt(\"return\", result.items[0]);\n\n                            case 8:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n        }\n        /**\n         * @param {String} Key Item key\n         * @param {Map~Mutator} Mutator Function performing value mutation\n         * @return {Promise<Item>}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(key, mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var value;\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                _context8.next = 2;\n                                return this.get(key).then(function (item) {\n                                    return item.value;\n                                }).catch(function () {\n                                    return {};\n                                });\n\n                            case 2:\n                                value = _context8.sent;\n                                return _context8.abrupt(\"return\", this._actualSet(key, mutator(utils_1.deepClone(value)), mutator));\n\n                            case 4:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n        }\n        /**\n         * @param {String} key Item key\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Item>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(key, obj) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                return _context9.abrupt(\"return\", this.mutate(key, function (remote) {\n                                    return (0, _extends3.default)(remote, obj);\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Delete an entity by given key\n         * @return {Promise}\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(key) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var item, response;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                if (!(typeof key === 'undefined')) {\n                                    _context10.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('Key argument is invalid');\n\n                            case 2:\n                                _context10.next = 4;\n                                return this.get(key);\n\n                            case 4:\n                                item = _context10.sent;\n                                _context10.next = 7;\n                                return this.services.network.delete(item.uri);\n\n                            case 7:\n                                response = _context10.sent;\n\n                                this.cache.delete(key, response.body.last_event_id);\n                                this.emit('itemRemoved', key, true);\n\n                            case 10:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"queryItems\",\n        value: function queryItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee11() {\n                var _this3 = this;\n\n                var uri, response, items, meta;\n                return _regenerator2.default.wrap(function _callee11$(_context11) {\n                    while (1) {\n                        switch (_context11.prev = _context11.next) {\n                            case 0:\n                                args = args || {};\n                                uri = new utils_1.UriBuilder(this.links.items).queryParam('From', args.from).queryParam('PageSize', args.limit).queryParam('Key', args.key).queryParam('PageToken', args.pageToken).queryParam('Order', args.order).build();\n                                _context11.next = 4;\n                                return this.services.network.get(uri);\n\n                            case 4:\n                                response = _context11.sent;\n                                items = response.body.items.map(function (el) {\n                                    var itemInCache = _this3.cache.get(el.key);\n                                    if (itemInCache) {\n                                        _this3._handleItemUpdated(el.key, el.url, el.last_event_id, el.revision, el.data);\n                                    } else {\n                                        _this3.cache.store(el.key, new mapitem_1.MapItem(el), el.last_event_id);\n                                    }\n                                    return _this3.cache.get(el.key);\n                                });\n                                meta = response.body.meta;\n                                return _context11.abrupt(\"return\", new paginator_1.Paginator(items, function (pageToken) {\n                                    return _this3.queryItems({ pageToken: pageToken });\n                                }, meta.previous_token, meta.next_token));\n\n                            case 8:\n                            case \"end\":\n                                return _context11.stop();\n                        }\n                    }\n                }, _callee11, this);\n            }));\n        }\n        /**\n         * Get a list of items from the Map\n         * @param {Object} args Arguments for query\n         * @param {String} args.from Item, which should be used as an anchor. If undefined, starts from the beginning or end depending on args.order\n         * @param {Number} args.pageSize Result page size\n         * @param {String} args.order Order of results, should be 'asc' or 'desc'\n         * @return {Promise<Paginator>}\n         * @public\n         */\n\n    }, {\n        key: \"getItems\",\n        value: function getItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee12() {\n                return _regenerator2.default.wrap(function _callee12$(_context12) {\n                    while (1) {\n                        switch (_context12.prev = _context12.next) {\n                            case 0:\n                                args = args || {};\n                                args.limit = args.pageSize || args.limit || 50;\n                                args.order = args.order || 'asc';\n                                return _context12.abrupt(\"return\", this.queryItems(args));\n\n                            case 4:\n                            case \"end\":\n                                return _context12.stop();\n                        }\n                    }\n                }, _callee12, this);\n            }));\n        }\n        /**\n         * Enumerate through all of maps items\n         * It always triggers server interaction when being called for the first time for an object, so could be slow\n         * This method not supported now and not meant to be used externally\n         * @param {Function} handler Function to handle each argument\n         * @private\n         */\n\n    }, {\n        key: \"forEach\",\n        value: function forEach(handler) {\n            var _this4 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                function processPage(page) {\n                    page.items.forEach(function (x) {\n                        return handler(x);\n                    });\n                    if (page.hasNextPage) {\n                        page.nextPage().then(processPage).catch(reject);\n                    } else {\n                        resolve();\n                    }\n                }\n                _this4.queryItems().then(processPage).catch(reject);\n            });\n        }\n    }, {\n        key: \"shouldIgnoreEvent\",\n        value: function shouldIgnoreEvent(key, eventId) {\n            return this.cache.isKnown(key, eventId);\n        }\n        /**\n         * Handle update from the server\n         * @private\n         */\n\n    }, {\n        key: \"_update\",\n        value: function _update(update, isStrictlyOrdered) {\n            switch (update.type) {\n                case 'map_item_added':\n                    {\n                        this._handleItemAdded(update.item_key, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'map_item_updated':\n                    {\n                        this._handleItemUpdated(update.item_key, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'map_item_removed':\n                    {\n                        this._handleItemRemoved(update.item_key, update.id);\n                    }\n                    break;\n                case 'map_context_updated':\n                    {\n                        this._handleContextUpdate(update.context_data, update.id);\n                    }\n                    break;\n                case 'map_removed':\n                    {\n                        this.onRemoved(false);\n                    }\n                    break;\n            }\n            if (isStrictlyOrdered) {\n                this._advanceLastEventId(update.id, update.map_revision);\n            }\n        }\n    }, {\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {\n            if (this.lastEventId < eventId) {\n                this.descriptor.last_event_id = eventId;\n                if (revision) {\n                    this.descriptor.revision = revision;\n                }\n            }\n        }\n        /**\n         * Handle entity insertion event, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemAdded\",\n        value: function _handleItemAdded(key, url, eventId, revision, value) {\n            if (!this.cache.has(key) && !this.shouldIgnoreEvent(key, eventId)) {\n                var item = new mapitem_1.MapItem({ key: key, url: url, last_event_id: eventId, revision: revision, data: value });\n                this.cache.store(key, item, eventId);\n                this.emit('itemAdded', item, false);\n                this.emit('itemAddedRemotely', item);\n            }\n        }\n        /**\n         * Handle new value of entity, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemUpdated\",\n        value: function _handleItemUpdated(key, url, eventId, revision, value) {\n            var item = this.cache.get(key);\n            if (!item && !this.shouldIgnoreEvent(key, eventId)) {\n                item = new mapitem_1.MapItem({ key: key, url: url, last_event_id: eventId, revision: revision, data: value });\n                this.cache.store(key, item, eventId);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            } else if (item && eventId > item.lastEventId) {\n                item.update(eventId, revision, value);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            }\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemRemoved\",\n        value: function _handleItemRemoved(key, eventId) {\n            this.cache.delete(key, eventId);\n            this.emit('itemRemoved', key, false);\n            this.emit('itemRemovedRemotely', key);\n        }\n    }, {\n        key: \"_handleContextUpdate\",\n        value: function _handleContextUpdate(data, eventId) {\n            if (this.lastEventId < eventId) {\n                this.context = data;\n                this.emit('contextUpdated', data, false);\n                this.emit('contextUpdatedRemotely', data);\n            }\n        }\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            //\n            // Should also do some cleanup here\n            this.emit('collectionRemoved', locally);\n            if (!locally) {\n                this.emit('collectionRemovedRemotely');\n            }\n        }\n        /**\n         * Delete map from server. It will be impossible to restore it.\n         * @return {Promise} Promise to delete the collection\n         * @public\n         */\n\n    }, {\n        key: \"removeMap\",\n        value: function removeMap() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee13() {\n                return _regenerator2.default.wrap(function _callee13$(_context13) {\n                    while (1) {\n                        switch (_context13.prev = _context13.next) {\n                            case 0:\n                                _context13.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context13.stop();\n                        }\n                    }\n                }, _callee13, this);\n            }));\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"links\",\n        get: function get() {\n            return this.descriptor.links;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'map';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'map';\n        }\n    }]);\n    return SyncMap;\n}(entity_1.SyncEntity);\n\nexports.SyncMap = SyncMap;\n// export { SyncMap, MapDescriptor, Mutator };\nexports.default = SyncMap;\n/**\n * Applies a transformation to the item value\n * @callback Map~Mutator\n * @param {Object} data current value of an item\n * @return {Object} Modified data for an item\n */\n/**\n * Fired when item is added to the Map\n * @event Map#itemAdded\n * @type {Item} Added item\n */\n/**\n * Fired when item is added to the Map by remote actor\n * @event Map#itemAddedRemotely\n * @type {Item} Added item\n */\n/**\n * Fired when item is updated\n * @event Map#itemUpdated\n * @type {Item} Updated item\n */\n/**\n * Fired when item is updated by remote actor\n * @event Map#itemUpdatedRemotely\n * @type {Item} Updated item\n */\n/**\n * Fired when item is removed from the Map\n * @event Map#itemRemoved\n * @type {String} item key\n */\n/**\n * Fired when item is removed from the Map by remote actor\n * @event Map#itemRemovedRemotely\n * @type {String} item key\n */\n/**\n * Fired when Map is removed from server\n * @event Map#collectionRemoved\n */\n/**\n * Fired when Map is removed from server by remote actor\n * @event Map#collectionRemovedRemotely\n */\n\n/***/ }),\n\n/***/ \"ayXv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(\"ShN9\");\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n/***/ }),\n\n/***/ \"az0W\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Deprecated\n\n\n\nmodule.exports = function (obj) {\n  return typeof obj === \"function\";\n};\n\n/***/ }),\n\n/***/ \"b0lL\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar require;var require;(function (f) {\n    if (true) {\n        module.exports = f();\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f);\n    } else {\n        var g;if (typeof window !== \"undefined\") {\n            g = window;\n        } else if (typeof global !== \"undefined\") {\n            g = global;\n        } else if (typeof self !== \"undefined\") {\n            g = self;\n        } else {\n            g = this;\n        }g.rfc6902 = f();\n    }\n})(function () {\n    var define, module, exports;return function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }return n[o].exports;\n        }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n            s(r[o]);\n        }return s;\n    }({ 1: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var _slicedToArray = function _slicedToArray(arr, i) {\n                if (Array.isArray(arr)) {\n                    return arr;\n                } else if (Symbol.iterator in Object(arr)) {\n                    var _arr = [];for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n                        _arr.push(_step.value);if (i && _arr.length === i) break;\n                    }return _arr;\n                } else {\n                    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n                }\n            };\n\n            var _toConsumableArray = function _toConsumableArray(arr) {\n                if (Array.isArray(arr)) {\n                    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n                        arr2[i] = arr[i];\n                    }return arr2;\n                } else {\n                    return Array.from(arr);\n                }\n            };\n\n            exports.isDestructive = isDestructive;\n\n            /**\n            subtract(a, b) returns the keys in `a` that are not in `b`.\n            */\n            exports.subtract = subtract;\n\n            /**\n            intersection(objects) returns the keys that shared by all given `objects`.\n            */\n            exports.intersection = intersection;\n            exports.objectType = objectType;\n\n            /**\n            Array-diffing smarter (levenshtein-like) diffing here\n            \n            To get from the input ABC to the output AZ we could just delete all the input\n            and say \"insert A, insert Z\" and be done with it. That's what we do if the\n            input is empty. But we can be smarter.\n            \n                      output\n                           A   Z\n                           -   -\n                      [0]  1   2\n            input A |  1  [0]  1\n                  B |  2  [1]  1\n                  C |  3   2  [2]\n            \n            1) start at 0,0 (+0)\n            2) keep A (+0)\n            3) remove B (+1)\n            4) replace C with Z (+1)\n            \n            if input (source) is empty, they'll all be in the top row, just a bunch of\n            additions. If the output is empty, everything will be in the left column, as a\n            bunch of deletions.\n            */\n            exports.diffArrays = diffArrays;\n            exports.diffObjects = diffObjects;\n            exports.diffValues = diffValues;\n            exports.diffAny = diffAny;\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n\n            var compare = _dereq_(\"./equal\").compare;\n\n            function isDestructive(_ref) {\n                var op = _ref.op;\n\n                return op === \"remove\" || op === \"replace\" || op === \"copy\" || op === \"move\";\n            }\n\n            function subtract(a, b) {\n                var obj = {};\n                for (var add_key in a) {\n                    obj[add_key] = 1;\n                }\n                for (var del_key in b) {\n                    delete obj[del_key];\n                }\n                return Object.keys(obj);\n            }\n\n            function intersection(objects) {\n                // initialize like union()\n                var key_counts = {};\n                objects.forEach(function (object) {\n                    for (var key in object) {\n                        key_counts[key] = (key_counts[key] || 0) + 1;\n                    }\n                });\n                // but then, extra requirement: delete less commonly-seen keys\n                var threshold = objects.length;\n                for (var key in key_counts) {\n                    if (key_counts[key] < threshold) {\n                        delete key_counts[key];\n                    }\n                }\n                return Object.keys(key_counts);\n            }\n\n            function objectType(object) {\n                if (object === undefined) {\n                    return \"undefined\";\n                }\n                if (object === null) {\n                    return \"null\";\n                }\n                if (Array.isArray(object)) {\n                    return \"array\";\n                }\n                return typeof object;\n            }\n\n            function isArrayAdd(array_operation) {\n                return array_operation.op === \"add\";\n            }\n            function isArrayRemove(array_operation) {\n                return array_operation.op === \"remove\";\n            }\n            function isArrayReplace(array_operation) {\n                return array_operation.op === \"replace\";\n            }\n            function diffArrays(input, output, ptr) {\n                // set up cost matrix (very simple initialization: just a map)\n                var memo = {\n                    \"0,0\": { operations: [], cost: 0 }\n                };\n                /**\n                input[i's] -> output[j's]\n                   Given the layout above, i is the row, j is the col\n                   returns a list of Operations needed to get to from input.slice(0, i) to\n                output.slice(0, j), the each marked with the total cost of getting there.\n                `cost` is a non-negative integer.\n                Recursive.\n                */\n                function dist(i, j) {\n                    // memoized\n                    var memoized = memo[i + \",\" + j];\n                    if (memoized === undefined) {\n                        if (compare(input[i - 1], output[j - 1])) {\n                            // equal (no operations => no cost)\n                            memoized = dist(i - 1, j - 1);\n                        } else {\n                            var alternatives = [];\n                            if (i > 0) {\n                                // NOT topmost row\n                                var remove_alternative = dist(i - 1, j);\n                                alternatives.push({\n                                    // the new operation must be pushed on the end\n                                    operations: remove_alternative.operations.concat({\n                                        op: \"remove\",\n                                        index: i - 1 }),\n                                    cost: remove_alternative.cost + 1 });\n                            }\n                            if (j > 0) {\n                                // NOT leftmost column\n                                var add_alternative = dist(i, j - 1);\n                                alternatives.push({\n                                    operations: add_alternative.operations.concat({\n                                        op: \"add\",\n                                        index: i - 1,\n                                        value: output[j - 1] }),\n                                    cost: add_alternative.cost + 1 });\n                            }\n                            if (i > 0 && j > 0) {\n                                // TABLE MIDDLE\n                                // supposing we replaced it, compute the rest of the costs:\n                                var replace_alternative = dist(i - 1, j - 1);\n                                // okay, the general plan is to replace it, but we can be smarter,\n                                // recursing into the structure and replacing only part of it if\n                                // possible, but to do so we'll need the original value\n                                alternatives.push({\n                                    operations: replace_alternative.operations.concat({\n                                        op: \"replace\",\n                                        index: i - 1,\n                                        original: input[i - 1],\n                                        value: output[j - 1] }),\n                                    cost: replace_alternative.cost + 1 });\n                            }\n                            // the only other case, i === 0 && j === 0, has already been memoized\n                            // the meat of the algorithm:\n                            // sort by cost to find the lowest one (might be several ties for lowest)\n                            // [4, 6, 7, 1, 2].sort((a, b) => a - b); -> [ 1, 2, 4, 6, 7 ]\n                            var best = alternatives.sort(function (a, b) {\n                                return a.cost - b.cost;\n                            })[0];\n                            memoized = best;\n                        }\n                        memo[i + \",\" + j] = memoized;\n                    }\n                    return memoized;\n                }\n                // handle weird objects masquerading as Arrays that don't have proper length\n                // properties by using 0 for everything but positive numbers\n                var input_length = isNaN(input.length) || input.length <= 0 ? 0 : input.length;\n                var output_length = isNaN(output.length) || output.length <= 0 ? 0 : output.length;\n                var array_operations = dist(input_length, output_length).operations;\n\n                var _array_operations$reduce = array_operations.reduce(function (_ref, array_operation) {\n                    var _ref2 = _slicedToArray(_ref, 2);\n\n                    var operations = _ref2[0];\n                    var padding = _ref2[1];\n\n                    if (isArrayAdd(array_operation)) {\n                        var padded_index = array_operation.index + 1 + padding;\n                        var index_token = padded_index < input_length + padding ? String(padded_index) : \"-\";\n                        var operation = {\n                            op: array_operation.op,\n                            path: ptr.add(index_token).toString(),\n                            value: array_operation.value };\n                        // padding++; // maybe only if array_operation.index > -1 ?\n                        return [operations.concat(operation), padding + 1];\n                    } else if (isArrayRemove(array_operation)) {\n                        var operation = {\n                            op: array_operation.op,\n                            path: ptr.add(String(array_operation.index + padding)).toString() };\n                        // padding--;\n                        return [operations.concat(operation), padding - 1];\n                    } else {\n                        var replace_ptr = ptr.add(String(array_operation.index + padding));\n                        var replace_operations = diffAny(array_operation.original, array_operation.value, replace_ptr);\n                        return [operations.concat.apply(operations, _toConsumableArray(replace_operations)), padding];\n                    }\n                }, [[], 0]);\n\n                var _array_operations$reduce2 = _slicedToArray(_array_operations$reduce, 2);\n\n                var operations = _array_operations$reduce2[0];\n                var padding = _array_operations$reduce2[1];\n\n                return operations;\n            }\n\n            function diffObjects(input, output, ptr) {\n                // if a key is in input but not output -> remove it\n                var operations = [];\n                subtract(input, output).forEach(function (key) {\n                    operations.push({ op: \"remove\", path: ptr.add(key).toString() });\n                });\n                // if a key is in output but not input -> add it\n                subtract(output, input).forEach(function (key) {\n                    operations.push({ op: \"add\", path: ptr.add(key).toString(), value: output[key] });\n                });\n                // if a key is in both, diff it recursively\n                intersection([input, output]).forEach(function (key) {\n                    operations.push.apply(operations, _toConsumableArray(diffAny(input[key], output[key], ptr.add(key))));\n                });\n                return operations;\n            }\n\n            function diffValues(input, output, ptr) {\n                if (!compare(input, output)) {\n                    return [{ op: \"replace\", path: ptr.toString(), value: output }];\n                }\n                return [];\n            }\n\n            function diffAny(input, output, ptr) {\n                var input_type = objectType(input);\n                var output_type = objectType(output);\n                if (input_type == \"array\" && output_type == \"array\") {\n                    return diffArrays(input, output, ptr);\n                }\n                if (input_type == \"object\" && output_type == \"object\") {\n                    return diffObjects(input, output, ptr);\n                }\n                // only pairs of arrays and objects can go down a path to produce a smaller\n                // diff; everything else must be wholesale replaced if inequal\n                return diffValues(input, output, ptr);\n            }\n        }, { \"./equal\": 2 }], 2: [function (_dereq_, module, exports) {\n\n            /**\n            `compare()` returns true if `left` and `right` are materially equal\n            (i.e., would produce equivalent JSON), false otherwise.\n            \n            > Here, \"equal\" means that the value at the target location and the\n            > value conveyed by \"value\" are of the same JSON type, and that they\n            > are considered equal by the following rules for that type:\n            > o  strings: are considered equal if they contain the same number of\n            >    Unicode characters and their code points are byte-by-byte equal.\n            > o  numbers: are considered equal if their values are numerically\n            >    equal.\n            > o  arrays: are considered equal if they contain the same number of\n            >    values, and if each value can be considered equal to the value at\n            >    the corresponding position in the other array, using this list of\n            >    type-specific rules.\n            > o  objects: are considered equal if they contain the same number of\n            >    members, and if each member can be considered equal to a member in\n            >    the other object, by comparing their keys (as strings) and their\n            >    values (using this list of type-specific rules).\n            > o  literals (false, true, and null): are considered equal if they are\n            >    the same.\n            */\n            \"use strict\";\n\n            exports.compare = compare;\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n            /**\n            zip(a, b) assumes that a.length === b.length.\n            */\n            function zip(a, b) {\n                var zipped = [];\n                for (var i = 0, l = a.length; i < l; i++) {\n                    zipped.push([a[i], b[i]]);\n                }\n                return zipped;\n            }\n            /**\n            compareArrays(left, right) assumes that `left` and `right` are both Arrays.\n            */\n            function compareArrays(left, right) {\n                if (left.length !== right.length) {\n                    return false;\n                }return zip(left, right).every(function (pair) {\n                    return compare(pair[0], pair[1]);\n                });\n            }\n            /**\n            compareObjects(left, right) assumes that `left` and `right` are both Objects.\n            */\n            function compareObjects(left, right) {\n                var left_keys = Object.keys(left);\n                var right_keys = Object.keys(right);\n                if (!compareArrays(left_keys, right_keys)) {\n                    return false;\n                }return left_keys.every(function (key) {\n                    return compare(left[key], right[key]);\n                });\n            }\n            function compare(left, right) {\n                // strict equality handles literals, numbers, and strings (a sufficient but not necessary cause)\n                if (left === right) {\n                    return true;\n                } // check arrays\n                if (Array.isArray(left) && Array.isArray(right)) {\n                    return compareArrays(left, right);\n                }\n                // check objects\n                if (Object(left) === left && Object(right) === right) {\n                    return compareObjects(left, right);\n                }\n                // mismatched arrays & objects, etc., are always inequal\n                return false;\n            }\n        }, {}], 3: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var _get = function get(object, property, receiver) {\n                var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {\n                    var parent = Object.getPrototypeOf(object);if (parent === null) {\n                        return undefined;\n                    } else {\n                        return get(parent, property, receiver);\n                    }\n                } else if (\"value\" in desc && desc.writable) {\n                    return desc.value;\n                } else {\n                    var getter = desc.get;if (getter === undefined) {\n                        return undefined;\n                    }return getter.call(receiver);\n                }\n            };\n\n            var _inherits = function _inherits(subClass, superClass) {\n                if (typeof superClass !== \"function\" && superClass !== null) {\n                    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n                }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) subClass.__proto__ = superClass;\n            };\n\n            var _classCallCheck = function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            };\n\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n\n            var MissingError = exports.MissingError = function (_Error) {\n                function MissingError(path) {\n                    _classCallCheck(this, MissingError);\n\n                    _get(Object.getPrototypeOf(MissingError.prototype), \"constructor\", this).call(this, \"Value required at path: \" + path);\n                    this.path = path;\n                    this.name = this.constructor.name;\n                }\n\n                _inherits(MissingError, _Error);\n\n                return MissingError;\n            }(Error);\n\n            var InvalidOperationError = exports.InvalidOperationError = function (_Error2) {\n                function InvalidOperationError(op) {\n                    _classCallCheck(this, InvalidOperationError);\n\n                    _get(Object.getPrototypeOf(InvalidOperationError.prototype), \"constructor\", this).call(this, \"Invalid operation: \" + op);\n                    this.op = op;\n                    this.name = this.constructor.name;\n                }\n\n                _inherits(InvalidOperationError, _Error2);\n\n                return InvalidOperationError;\n            }(Error);\n\n            var TestError = exports.TestError = function (_Error3) {\n                function TestError(actual, expected) {\n                    _classCallCheck(this, TestError);\n\n                    _get(Object.getPrototypeOf(TestError.prototype), \"constructor\", this).call(this, \"Test failed: \" + actual + \" != \" + expected);\n                    this.actual = actual;\n                    this.expected = expected;\n                    this.name = this.constructor.name;\n                    this.actual = actual;\n                    this.expected = expected;\n                }\n\n                _inherits(TestError, _Error3);\n\n                return TestError;\n            }(Error);\n        }, {}], 4: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var _interopRequireWildcard = function _interopRequireWildcard(obj) {\n                return obj && obj.__esModule ? obj : { \"default\": obj };\n            };\n\n            /**\n            Apply a 'application/json-patch+json'-type patch to an object.\n            \n            `patch` *must* be an array of operations.\n            \n            > Operation objects MUST have exactly one \"op\" member, whose value\n            > indicates the operation to perform.  Its value MUST be one of \"add\",\n            > \"remove\", \"replace\", \"move\", \"copy\", or \"test\"; other values are\n            > errors.\n            \n            This method currently operates on the target object in-place.\n            \n            Returns list of results, one for each operation.\n              - `null` indicated success.\n              - otherwise, the result will be an instance of one of the Error classe\n                defined in errors.js.\n            */\n            exports.applyPatch = applyPatch;\n\n            /**\n            Produce a 'application/json-patch+json'-type patch to get from one object to\n            another.\n            \n            This does not alter `input` or `output` unless they have a property getter with\n            side-effects (which is not a good idea anyway).\n            \n            Returns list of operations to perform on `input` to produce `output`.\n            */\n            exports.createPatch = createPatch;\n\n            /**\n            Produce an 'application/json-patch+json'-type list of tests, to verify that\n            existing values in an object are identical to the those captured at some\n            checkpoint (whenever this function is called).\n            \n            This does not alter `input` or `output` unless they have a property getter with\n            side-effects (which is not a good idea anyway).\n            \n            Returns list of test operations.\n            */\n            exports.createTests = createTests;\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n\n            var InvalidOperationError = _dereq_(\"./errors\").InvalidOperationError;\n\n            var Pointer = _dereq_(\"./pointer\").Pointer;\n\n            var operationFunctions = _interopRequireWildcard(_dereq_(\"./patch\"));\n\n            var _diff = _dereq_(\"./diff\");\n\n            var diffAny = _diff.diffAny;\n            var isDestructive = _diff.isDestructive;\n\n            function applyPatch(object, patch) {\n                return patch.map(function (operation) {\n                    var operationFunction = operationFunctions[operation.op];\n                    // speedy exit if we don't recognize the operation name\n                    if (operationFunction === undefined) {\n                        return new InvalidOperationError(operation.op);\n                    }\n                    return operationFunction(object, operation);\n                });\n            }\n\n            function createPatch(input, output) {\n                var ptr = new Pointer();\n                // a new Pointer gets a default path of [''] if not specified\n                return diffAny(input, output, ptr);\n            }\n\n            function createTest(input, path) {\n                var endpoint = Pointer.fromJSON(path).evaluate(input);\n                if (endpoint !== undefined) {\n                    return { op: \"test\", path: path, value: endpoint.value };\n                }\n            }\n            function createTests(input, patch) {\n                var tests = new Array();\n                patch.filter(isDestructive).forEach(function (operation) {\n                    var pathTest = createTest(input, operation.path);\n                    if (pathTest) tests.push(pathTest);\n                    if (\"from\" in operation) {\n                        var fromTest = createTest(input, operation.from);\n                        if (fromTest) tests.push(fromTest);\n                    }\n                });\n                return tests;\n            }\n        }, { \"./diff\": 1, \"./errors\": 3, \"./patch\": 5, \"./pointer\": 6 }], 5: [function (_dereq_, module, exports) {\n\n            /**\n            >  o  If the target location specifies an array index, a new value is\n            >     inserted into the array at the specified index.\n            >  o  If the target location specifies an object member that does not\n            >     already exist, a new member is added to the object.\n            >  o  If the target location specifies an object member that does exist,\n            >     that member's value is replaced.\n            */\n            \"use strict\";\n\n            exports.add = add;\n\n            /**\n            > The \"remove\" operation removes the value at the target location.\n            > The target location MUST exist for the operation to be successful.\n            */\n            exports.remove = remove;\n\n            /**\n            > The \"replace\" operation replaces the value at the target location\n            > with a new value.  The operation object MUST contain a \"value\" member\n            > whose content specifies the replacement value.\n            > The target location MUST exist for the operation to be successful.\n            \n            > This operation is functionally identical to a \"remove\" operation for\n            > a value, followed immediately by an \"add\" operation at the same\n            > location with the replacement value.\n            \n            Even more simply, it's like the add operation with an existence check.\n            */\n            exports.replace = replace;\n\n            /**\n            > The \"move\" operation removes the value at a specified location and\n            > adds it to the target location.\n            > The operation object MUST contain a \"from\" member, which is a string\n            > containing a JSON Pointer value that references the location in the\n            > target document to move the value from.\n            > This operation is functionally identical to a \"remove\" operation on\n            > the \"from\" location, followed immediately by an \"add\" operation at\n            > the target location with the value that was just removed.\n            \n            > The \"from\" location MUST NOT be a proper prefix of the \"path\"\n            > location; i.e., a location cannot be moved into one of its children.\n            \n            TODO: throw if the check described in the previous paragraph fails.\n            */\n            exports.move = move;\n\n            /**\n            > The \"copy\" operation copies the value at a specified location to the\n            > target location.\n            > The operation object MUST contain a \"from\" member, which is a string\n            > containing a JSON Pointer value that references the location in the\n            > target document to copy the value from.\n            > The \"from\" location MUST exist for the operation to be successful.\n            \n            > This operation is functionally identical to an \"add\" operation at the\n            > target location using the value specified in the \"from\" member.\n            \n            Alternatively, it's like 'move' without the 'remove'.\n            */\n            exports.copy = copy;\n\n            /**\n            > The \"test\" operation tests that a value at the target location is\n            > equal to a specified value.\n            > The operation object MUST contain a \"value\" member that conveys the\n            > value to be compared to the target location's value.\n            > The target location MUST be equal to the \"value\" value for the\n            > operation to be considered successful.\n            */\n            exports.test = test;\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n\n            var Pointer = _dereq_(\"./pointer\").Pointer;\n\n            var compare = _dereq_(\"./equal\").compare;\n\n            var _errors = _dereq_(\"./errors\");\n\n            var MissingError = _errors.MissingError;\n            var TestError = _errors.TestError;\n\n            function _add(object, key, value) {\n                if (Array.isArray(object)) {\n                    // `key` must be an index\n                    if (key == \"-\") {\n                        object.push(value);\n                    } else {\n                        object.splice(key, 0, value);\n                    }\n                } else {\n                    object[key] = value;\n                }\n            }\n            function _remove(object, key) {\n                if (Array.isArray(object)) {\n                    // '-' syntax doesn't make sense when removing\n                    object.splice(key, 1);\n                } else {\n                    // not sure what the proper behavior is when path = ''\n                    delete object[key];\n                }\n            }\n            function add(object, operation) {\n                var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                // it's not exactly a \"MissingError\" in the same way that `remove` is -- more like a MissingParent, or something\n                if (endpoint.parent === undefined) {\n                    return new MissingError(operation.path);\n                }\n                _add(endpoint.parent, endpoint.key, operation.value);\n                return null;\n            }\n\n            function remove(object, operation) {\n                // endpoint has parent, key, and value properties\n                var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                if (endpoint.value === undefined) {\n                    return new MissingError(operation.path);\n                }\n                // not sure what the proper behavior is when path = ''\n                _remove(endpoint.parent, endpoint.key);\n                return null;\n            }\n\n            function replace(object, operation) {\n                var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                if (endpoint.value === undefined) {\n                    return new MissingError(operation.path);\n                }endpoint.parent[endpoint.key] = operation.value;\n                return null;\n            }\n\n            function move(object, operation) {\n                var from_endpoint = Pointer.fromJSON(operation.from).evaluate(object);\n                if (from_endpoint.value === undefined) {\n                    return new MissingError(operation.from);\n                }var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                if (endpoint.parent === undefined) {\n                    return new MissingError(operation.path);\n                }_remove(from_endpoint.parent, from_endpoint.key);\n                _add(endpoint.parent, endpoint.key, from_endpoint.value);\n                return null;\n            }\n\n            function copy(object, operation) {\n                var from_endpoint = Pointer.fromJSON(operation.from).evaluate(object);\n                if (from_endpoint.value === undefined) {\n                    return new MissingError(operation.from);\n                }var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                if (endpoint.parent === undefined) {\n                    return new MissingError(operation.path);\n                }_remove(from_endpoint.parent, from_endpoint.key);\n                _add(endpoint.parent, endpoint.key, from_endpoint.value);\n                return null;\n            }\n\n            function test(object, operation) {\n                var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n                var result = compare(endpoint.value, operation.value);\n                if (!result) {\n                    return new TestError(endpoint.value, operation.value);\n                }return null;\n            }\n        }, { \"./equal\": 2, \"./errors\": 3, \"./pointer\": 6 }], 6: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var _createClass = function () {\n                function defineProperties(target, props) {\n                    for (var key in props) {\n                        var prop = props[key];prop.configurable = true;if (prop.value) prop.writable = true;\n                    }Object.defineProperties(target, props);\n                }return function (Constructor, protoProps, staticProps) {\n                    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n                };\n            }();\n\n            var _classCallCheck = function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError(\"Cannot call a class as a function\");\n                }\n            };\n\n            Object.defineProperty(exports, \"__esModule\", {\n                value: true\n            });\n            /**\n            Unescape token part of a JSON Pointer string\n            \n            `token` should *not* contain any '/' characters.\n            \n            > Evaluation of each reference token begins by decoding any escaped\n            > character sequence.  This is performed by first transforming any\n            > occurrence of the sequence '~1' to '/', and then transforming any\n            > occurrence of the sequence '~0' to '~'.  By performing the\n            > substitutions in this order, an implementation avoids the error of\n            > turning '~01' first into '~1' and then into '/', which would be\n            > incorrect (the string '~01' correctly becomes '~1' after\n            > transformation).\n            \n            Here's my take:\n            \n            ~1 is unescaped with higher priority than ~0 because it is a lower-order escape character.\n            I say \"lower order\" because '/' needs escaping due to the JSON Pointer serialization technique.\n            Whereas, '~' is escaped because escaping '/' uses the '~' character.\n            */\n            function unescape(token) {\n                return token.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n            }\n            /** Escape token part of a JSON Pointer string\n            \n            > '~' needs to be encoded as '~0' and '/'\n            > needs to be encoded as '~1' when these characters appear in a\n            > reference token.\n            \n            This is the exact inverse of `unescape()`, so the reverse replacements must take place in reverse order.\n            */\n            function escape(token) {\n                return token.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n            }\n            /**\n            JSON Pointer representation\n            */\n\n            var Pointer = exports.Pointer = function () {\n                function Pointer() {\n                    var tokens = arguments[0] === undefined ? [\"\"] : arguments[0];\n\n                    _classCallCheck(this, Pointer);\n\n                    this.tokens = tokens;\n                }\n\n                _createClass(Pointer, {\n                    toString: {\n                        value: function toString() {\n                            return this.tokens.map(escape).join(\"/\");\n                        }\n                    },\n                    evaluate: {\n                        /**\n                        Returns an object with 'parent', 'key', and 'value' properties.\n                        In the special case that pointer = \"\", parent and key will be null, and `value = obj`\n                        Otherwise, parent will be the such that `parent[key] == value`\n                        */\n\n                        value: function evaluate(object) {\n                            var parent = null;\n                            var token = null;\n                            for (var i = 1, l = this.tokens.length; i < l; i++) {\n                                parent = object;\n                                token = this.tokens[i];\n                                // not sure if this the best way to handle non-existant paths...\n                                object = (parent || {})[token];\n                            }\n                            return {\n                                parent: parent,\n                                key: token,\n                                value: object };\n                        }\n                    },\n                    push: {\n                        value: function push(token) {\n                            // mutable\n                            this.tokens.push(token);\n                        }\n                    },\n                    add: {\n                        /**\n                        `token` should be a String. It'll be coerced to one anyway.\n                           immutable (shallowly)\n                        */\n\n                        value: function add(token) {\n                            var tokens = this.tokens.concat(String(token));\n                            return new Pointer(tokens);\n                        }\n                    }\n                }, {\n                    fromJSON: {\n                        /**\n                        `path` *must* be a properly escaped string.\n                        */\n\n                        value: function fromJSON(path) {\n                            var tokens = path.split(\"/\").map(unescape);\n                            if (tokens[0] !== \"\") throw new Error(\"Invalid JSON Pointer: \" + path);\n                            return new Pointer(tokens);\n                        }\n                    }\n                });\n\n                return Pointer;\n            }();\n        }, {}] }, {}, [4])(4);\n});\n\n/***/ }),\n\n/***/ \"b1KJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar util = __webpack_require__(\"gfUn\");\nvar precond = __webpack_require__(\"Dygy\");\n\nvar BackoffStrategy = __webpack_require__(\"C6lX\");\n\n// Exponential backoff strategy.\nfunction ExponentialBackoffStrategy(options) {\n    BackoffStrategy.call(this, options);\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n    this.factor_ = ExponentialBackoffStrategy.DEFAULT_FACTOR;\n\n    if (options && options.factor !== undefined) {\n        precond.checkArgument(options.factor > 1, 'Exponential factor should be greater than 1 but got %s.', options.factor);\n        this.factor_ = options.factor;\n    }\n}\nutil.inherits(ExponentialBackoffStrategy, BackoffStrategy);\n\n// Default multiplication factor used to compute the next backoff delay from\n// the current one. The value can be overridden by passing a custom factor as\n// part of the options.\nExponentialBackoffStrategy.DEFAULT_FACTOR = 2;\n\nExponentialBackoffStrategy.prototype.next_ = function () {\n    this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());\n    this.nextBackoffDelay_ = this.backoffDelay_ * this.factor_;\n    return this.backoffDelay_;\n};\n\nExponentialBackoffStrategy.prototype.reset_ = function () {\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n};\n\nmodule.exports = ExponentialBackoffStrategy;\n\n/***/ }),\n\n/***/ \"b1tA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(\"vSO4\");\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(\"ZaKr\").set });\n\n/***/ }),\n\n/***/ \"b7Q2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar create = __webpack_require__(\"TNJq\"),\n    descriptor = __webpack_require__(\"0WCH\"),\n    setToStringTag = __webpack_require__(\"11Ut\"),\n    IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(\"akPY\")(IteratorPrototype, __webpack_require__(\"Ug9I\")('iterator'), function () {\n  return this;\n});\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n/***/ }),\n\n/***/ \"bM4l\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"c2zY\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"i1Q6\"),\n    core = __webpack_require__(\"zKeE\"),\n    LIBRARY = __webpack_require__(\"1kq3\"),\n    wksExt = __webpack_require__(\"ZxII\"),\n    defineProperty = __webpack_require__(\"Gfzd\").f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n/***/ }),\n\n/***/ \"c6mp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"c2zY\")('asyncIterator');\n\n/***/ }),\n\n/***/ \"cFQ4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _slicedToArray2 = __webpack_require__(\"m8OI\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = __webpack_require__(\"X9RM\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable key-spacing */\nvar Backoff = __webpack_require__(\"PvFw\");\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar syncerror_1 = __webpack_require__(\"XzVR\");\nvar twilio_transport_1 = __webpack_require__(\"JE0K\");\n/**\n * A data container used by the Subscriptions class to track subscribed entities' local\n * representations and their state.\n */\n\nvar SubscribedEntity = function () {\n    function SubscribedEntity(entity) {\n        (0, _classCallCheck3.default)(this, SubscribedEntity);\n\n        this.localObject = entity;\n        this.pendingCorrelationId = null;\n        this.established = false;\n        this.retryCount = 0;\n    }\n\n    (0, _createClass3.default)(SubscribedEntity, [{\n        key: \"update\",\n        value: function update(event, isStrictlyOrderd) {\n            this.localObject._update(event, isStrictlyOrderd);\n        }\n    }, {\n        key: \"reset\",\n        value: function reset() {\n            this.pendingCorrelationId = null;\n            this.retryCount = 0;\n            this.established = false;\n        }\n    }, {\n        key: \"markAsFailed\",\n        value: function markAsFailed(message) {\n            this.rejectedWithError = message.error;\n            this.pendingCorrelationId = null;\n            this.localObject.reportFailure(new syncerror_1.SyncError(\"Failed to subscribe on service events: \" + message.error.message, message.error.status, message.error.code));\n        }\n    }, {\n        key: \"complete\",\n        value: function complete(eventId) {\n            this.pendingCorrelationId = null;\n            this.established = true;\n            this.localObject._advanceLastEventId(eventId);\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.localObject.sid;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return this.localObject.type;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.localObject.lastEventId;\n        }\n    }, {\n        key: \"isInTransition\",\n        get: function get() {\n            return this.pendingCorrelationId !== null;\n        }\n    }, {\n        key: \"isEstablished\",\n        get: function get() {\n            return this.established;\n        }\n    }]);\n    return SubscribedEntity;\n}();\n/**\n * @class Subscriptions\n * @classdesc A manager which, in batches of varying size, continuously persists the\n *      subscription intent of the caller to the Sync backend until it achieves a\n *      converged state.\n */\n\nvar Subscriptions = function () {\n    /**\n     * @constructor\n     * Prepares a new Subscriptions manager object with zero subscribed or persisted subscriptions.\n     *\n     * @param {object} config may include a key 'backoffConfig', wherein any of the parameters\n     *      of Backoff.exponential (from npm 'backoff') are valid and will override the defaults.\n     *\n     * @param {Network} must be a viable running Sync Network object, useful for routing requests.\n     */\n    function Subscriptions(services) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Subscriptions);\n\n        this.isConnected = false;\n        this.maxBatchSize = 100;\n        this.services = services;\n        this.subscriptions = new _map2.default();\n        this.persisted = new _map2.default();\n        this.latestPokeResponseArrivalTimestampByCorrelationId = new _map2.default();\n        var defaultBackoffConfig = {\n            randomisationFactor: 0.2,\n            initialDelay: 100,\n            maxDelay: 2 * 60 * 1000\n        };\n        this.backoff = Backoff.exponential((0, _extends3.default)(defaultBackoffConfig, this.services.config.backoffConfig));\n        // This block is triggered by #_persist. Every request is executed in a series of (ideally 1)\n        // backoff 'ready' event, at which point a new subscription set is calculated.\n        this.backoff.on('ready', function () {\n            var _getSubscriptionUpdat = _this.getSubscriptionUpdateBatch(),\n                action = _getSubscriptionUpdat.action,\n                subscriptionRequests = _getSubscriptionUpdat.subscriptions;\n\n            if (action) {\n                _this.applyNewSubscriptionUpdateBatch(action, subscriptionRequests);\n            } else {\n                _this.backoff.reset();\n                logger_1.default.info('All subscriptions resolved.');\n            }\n        });\n    }\n\n    (0, _createClass3.default)(Subscriptions, [{\n        key: \"getSubscriptionUpdateBatch\",\n        value: function getSubscriptionUpdateBatch() {\n            function substract(these, those, ignoreCurrentOp, limit) {\n                var result = [];\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(these), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n                            thisKey = _step$value[0],\n                            thisValue = _step$value[1];\n\n                        var otherValue = those.get(thisKey);\n                        if (!otherValue && (ignoreCurrentOp || !thisValue.isInTransition) && !thisValue.rejectedWithError) {\n                            result.push(thisValue);\n                            if (limit && result.length >= limit) {\n                                break;\n                            }\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                return result;\n            }\n            var listToAdd = substract(this.subscriptions, this.persisted, false, this.maxBatchSize);\n            if (listToAdd.length > 0) {\n                return { action: 'establish', subscriptions: listToAdd };\n            }\n            var listToRemove = substract(this.persisted, this.subscriptions, true, this.maxBatchSize);\n            if (listToRemove.length > 0) {\n                return { action: 'cancel', subscriptions: listToRemove };\n            }\n            return { action: null, subscriptions: null };\n        }\n    }, {\n        key: \"persist\",\n        value: function persist() {\n            try {\n                this.backoff.backoff();\n            } catch (e) {} // eslint-disable-line no-empty\n        }\n    }, {\n        key: \"applyNewSubscriptionUpdateBatch\",\n        value: function applyNewSubscriptionUpdateBatch(action, requests) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var _this2 = this;\n\n                var correlationId, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, subscribed, response, newMaxBatchSize, estimatedDeliveryInMs, isNumeric, isValidTimeout, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, attemptedSubscription;\n\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.isConnected) {\n                                    _context.next = 4;\n                                    break;\n                                }\n\n                                logger_1.default.debug(\"Twilsock connection (required for subscription) not ready; waiting\\u2026\");\n                                this.backoff.reset();\n                                return _context.abrupt(\"return\");\n\n                            case 4:\n                                // Keeping in mind that events may begin flowing _before_ we receive the response\n                                requests = this.processLocalActions(action, requests);\n                                correlationId = new Date().getTime();\n                                _iteratorNormalCompletion2 = true;\n                                _didIteratorError2 = false;\n                                _iteratorError2 = undefined;\n                                _context.prev = 9;\n\n                                for (_iterator2 = (0, _getIterator3.default)(requests); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                    subscribed = _step2.value;\n\n                                    this.recordActionAttemptOn(subscribed, action, correlationId);\n                                }\n                                // Send this batch to the service\n                                _context.next = 17;\n                                break;\n\n                            case 13:\n                                _context.prev = 13;\n                                _context.t0 = _context[\"catch\"](9);\n                                _didIteratorError2 = true;\n                                _iteratorError2 = _context.t0;\n\n                            case 17:\n                                _context.prev = 17;\n                                _context.prev = 18;\n\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n\n                            case 20:\n                                _context.prev = 20;\n\n                                if (!_didIteratorError2) {\n                                    _context.next = 23;\n                                    break;\n                                }\n\n                                throw _iteratorError2;\n\n                            case 23:\n                                return _context.finish(20);\n\n                            case 24:\n                                return _context.finish(17);\n\n                            case 25:\n                                _context.prev = 25;\n                                _context.next = 28;\n                                return this.request(action, correlationId, requests);\n\n                            case 28:\n                                response = _context.sent;\n                                newMaxBatchSize = response.body.max_batch_size;\n\n                                if (!isNaN(parseInt(newMaxBatchSize)) && isFinite(newMaxBatchSize) && newMaxBatchSize > 0) {\n                                    this.maxBatchSize = newMaxBatchSize;\n                                }\n                                if (action === 'establish') {\n                                    estimatedDeliveryInMs = response.body.estimated_delivery_in_ms;\n                                    isNumeric = !isNaN(parseFloat(estimatedDeliveryInMs)) && isFinite(estimatedDeliveryInMs);\n                                    isValidTimeout = isNumeric && estimatedDeliveryInMs > 0;\n\n                                    if (isValidTimeout) {\n                                        setTimeout(function () {\n                                            return _this2.verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests);\n                                        }, estimatedDeliveryInMs);\n                                    } else {\n                                        logger_1.default.error(\"Invalid timeout: \" + estimatedDeliveryInMs);\n                                    }\n                                }\n                                this.backoff.reset();\n                                _context.next = 57;\n                                break;\n\n                            case 35:\n                                _context.prev = 35;\n                                _context.t1 = _context[\"catch\"](25);\n                                _iteratorNormalCompletion3 = true;\n                                _didIteratorError3 = false;\n                                _iteratorError3 = undefined;\n                                _context.prev = 40;\n\n                                for (_iterator3 = (0, _getIterator3.default)(requests); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                                    attemptedSubscription = _step3.value;\n\n                                    this.recordActionFailureOn(attemptedSubscription, action);\n                                }\n                                _context.next = 48;\n                                break;\n\n                            case 44:\n                                _context.prev = 44;\n                                _context.t2 = _context[\"catch\"](40);\n                                _didIteratorError3 = true;\n                                _iteratorError3 = _context.t2;\n\n                            case 48:\n                                _context.prev = 48;\n                                _context.prev = 49;\n\n                                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                    _iterator3.return();\n                                }\n\n                            case 51:\n                                _context.prev = 51;\n\n                                if (!_didIteratorError3) {\n                                    _context.next = 54;\n                                    break;\n                                }\n\n                                throw _iteratorError3;\n\n                            case 54:\n                                return _context.finish(51);\n\n                            case 55:\n                                return _context.finish(48);\n\n                            case 56:\n                                if (_context.t1 instanceof twilio_transport_1.TwilsockUnavailableError) {\n                                    logger_1.default.debug(\"Twilsock connection (required for subscription) not ready (c:\" + correlationId + \"); waiting\\u2026\");\n                                    this.backoff.reset();\n                                } else {\n                                    logger_1.default.debug(\"Failed an attempt to \" + action + \" subscriptions (c:\" + correlationId + \"); retrying\", _context.t1);\n                                    this.persist();\n                                }\n\n                            case 57:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[9, 13, 17, 25], [18,, 20, 24], [25, 35], [40, 44, 48, 56], [49,, 51, 55]]);\n            }));\n        }\n    }, {\n        key: \"verifyPokeDelivery\",\n        value: function verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests) {\n            var _this3 = this;\n\n            var lastReceived = this.latestPokeResponseArrivalTimestampByCorrelationId.get(correlationId);\n            var silencePeriod = lastReceived ? new Date().getTime() - lastReceived : estimatedDeliveryInMs;\n            if (silencePeriod >= estimatedDeliveryInMs) {\n                // If we haven't received _any_ responses from that poke request for the duration of estimated_delivery_in_ms, poke again\n                requests.filter(function (r) {\n                    return r.pendingCorrelationId === correlationId;\n                }).forEach(function (r) {\n                    r.pendingCorrelationId = null;\n                    r.retryCount++;\n                    _this3.persisted.delete(r.sid);\n                });\n                this.persist();\n                this.latestPokeResponseArrivalTimestampByCorrelationId.delete(correlationId);\n            } else {\n                // Otherwise, the poke responses are probably in transit and we should wait for them\n                var timeoutExtension = estimatedDeliveryInMs - silencePeriod;\n                setTimeout(function () {\n                    return _this3.verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests);\n                }, timeoutExtension);\n            }\n        }\n    }, {\n        key: \"processLocalActions\",\n        value: function processLocalActions(action, requests) {\n            if (action === 'cancel') {\n                return requests.filter(function (request) {\n                    return !request.rejectedWithError;\n                });\n            }\n            return requests;\n        }\n    }, {\n        key: \"recordActionAttemptOn\",\n        value: function recordActionAttemptOn(attemptedSubscription, action, correlationId) {\n            if (action === 'establish') {\n                this.persisted.set(attemptedSubscription.sid, attemptedSubscription);\n                attemptedSubscription.pendingCorrelationId = correlationId;\n            } else {\n                var persistedSubscription = this.persisted.get(attemptedSubscription.sid);\n                if (persistedSubscription) {\n                    persistedSubscription.pendingCorrelationId = correlationId;\n                }\n            }\n        }\n    }, {\n        key: \"recordActionFailureOn\",\n        value: function recordActionFailureOn(attemptedSubscription, action) {\n            attemptedSubscription.pendingCorrelationId = null;\n            if (action === 'establish') {\n                this.persisted.delete(attemptedSubscription.sid);\n            }\n        }\n    }, {\n        key: \"request\",\n        value: function request(action, correlationId, objects) {\n            var requests = objects.map(function (object) {\n                return {\n                    object_sid: object.sid,\n                    object_type: object.type,\n                    last_event_id: action === 'establish' ? object.lastEventId : undefined // eslint-disable-line no-undefined, camelcase\n                };\n            });\n            var retriedRequests = objects.filter(function (a) {\n                return a.retryCount > 0;\n            }).length;\n            logger_1.default.debug(\"Attempting '\" + action + \"' request (c:\" + correlationId + \"):\", requests);\n            /* eslint-disable camelcase */\n            var requestBody = {\n                event_protocol_version: 3,\n                action: action,\n                correlation_id: correlationId,\n                retried_requests: retriedRequests,\n                requests: requests\n            };\n            /* eslint-enable camelcase */\n            return this.services.network.post(this.services.config.subscriptionsUri, requestBody, null, true);\n        }\n        /**\n         * Establishes intent to be subscribed to this entity. That subscription will be effected\n         * asynchronously.\n         * If subscription to the given sid already exists, it will be overwritten.\n         *\n         * @param {string} sid should be a well-formed SID, uniquely identifying a single instance of a Sync entity.\n         * @param {object} entity should represent the (singular) local representation of this entity.\n         *      Incoming events and modifications to the entity will be directed at the _update() function\n         *      of this provided reference.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"add\",\n        value: function add(sid, entity) {\n            logger_1.default.debug(\"Establishing intent to subscribe to \" + sid);\n            var existingSubscription = this.subscriptions.get(sid);\n            if (existingSubscription && existingSubscription.lastEventId === entity.lastEventId) {\n                // If last event id is the same as before - we're fine\n                return;\n            }\n            this.persisted.delete(sid);\n            this.subscriptions.set(sid, new SubscribedEntity(entity));\n            this.persist();\n        }\n        /**\n         * Establishes the caller's intent to no longer be subscribed to this entity. Following this\n         * call, no further events shall be routed to the local representation of the entity, even\n         * though a server-side subscription may take more time to actually terminate.\n         *\n         * @param {string} sid should be any well-formed SID, uniquely identifying a Sync entity.\n         *      This call only has meaningful effect if that entity is subscribed at the\n         *      time of call. Otherwise does nothing.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(sid) {\n            logger_1.default.debug(\"Establishing intent to unsubscribe from \" + sid);\n            var removed = this.subscriptions.delete(sid);\n            if (removed) {\n                this.persist();\n            }\n        }\n        /**\n         * The point of ingestion for remote incoming messages (e.g. new data was written to a map\n         * to which we are subscribed).\n         *\n         * @param {object} message is the full, unaltered body of the incoming notification.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"acceptMessage\",\n        value: function acceptMessage(message, isStrictlyOrdered) {\n            logger_1.default.trace('Subscriptions received', message);\n            if (message.correlation_id) {\n                this.latestPokeResponseArrivalTimestampByCorrelationId.set(message.correlation_id, new Date().getTime());\n            }\n            switch (message.event_type) {\n                case 'subscription_established':\n                    this.applySubscriptionEstablishedMessage(message.event, message.correlation_id);\n                    break;\n                case 'subscription_canceled':\n                    this.applySubscriptionCancelledMessage(message.event, message.correlation_id);\n                    break;\n                case 'subscription_failed':\n                    this.applySubscriptionFailedMessage(message.event, message.correlation_id);\n                    break;\n                case (message.event_type.match(/^(?:map|list|document)_/) || {}).input:\n                    {\n                        var typedSid = function typedSid() {\n                            if (message.event_type.match(/^map_/)) {\n                                return message.event.map_sid;\n                            } else if (message.event_type.match(/^list_/)) {\n                                return message.event.list_sid;\n                            } else if (message.event_type.match(/^document_/)) {\n                                return message.event.document_sid;\n                            } else {\n                                return undefined;\n                            }\n                        };\n\n                        ;\n                        this.applyEventToSubscribedEntity(typedSid(), message, isStrictlyOrdered);\n                    }\n                    break;\n                default:\n                    logger_1.default.debug(\"Dropping unknown message type \" + message.event_type);\n                    break;\n            }\n        }\n    }, {\n        key: \"applySubscriptionEstablishedMessage\",\n        value: function applySubscriptionEstablishedMessage(message, correlationId) {\n            var sid = message.object_sid;\n            var subscriptionIntent = this.persisted.get(message.object_sid);\n            if (subscriptionIntent && subscriptionIntent.pendingCorrelationId === correlationId) {\n                if (message.replay_status === 'interrupted') {\n                    logger_1.default.debug(\"Event Replay for subscription to \" + sid + \" (c:\" + correlationId + \") interrupted; continuing eagerly.\");\n                    subscriptionIntent.pendingCorrelationId = null;\n                    this.persisted.delete(subscriptionIntent.sid);\n                    this.backoff.reset();\n                } else if (message.replay_status === 'completed') {\n                    logger_1.default.debug(\"Event Replay for subscription to \" + sid + \" (c:\" + correlationId + \") completed. Subscription is ready.\");\n                    subscriptionIntent.complete(message.last_event_id);\n                    this.persisted.set(message.object_sid, subscriptionIntent);\n                    this.backoff.reset();\n                }\n            } else {\n                logger_1.default.debug(\"Late message for \" + message.object_sid + \" (c:\" + correlationId + \") dropped.\");\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applySubscriptionCancelledMessage\",\n        value: function applySubscriptionCancelledMessage(message, correlationId) {\n            var persistedSubscription = this.persisted.get(message.object_sid);\n            if (persistedSubscription && persistedSubscription.pendingCorrelationId === correlationId) {\n                persistedSubscription.pendingCorrelationId = null;\n                this.persisted.delete(message.object_sid);\n            } else {\n                logger_1.default.debug(\"Late message for \" + message.object_sid + \" (c:\" + correlationId + \") dropped.\");\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applySubscriptionFailedMessage\",\n        value: function applySubscriptionFailedMessage(message, correlationId) {\n            var sid = message.object_sid;\n            var subscriptionIntent = this.subscriptions.get(sid);\n            var subscription = this.persisted.get(sid);\n            if (subscriptionIntent && subscription) {\n                if (subscription.pendingCorrelationId === correlationId) {\n                    logger_1.default.error(\"Failed to subscribe on \" + subscription.sid, message.error);\n                    subscription.markAsFailed(message);\n                }\n            } else if (!subscriptionIntent && subscription) {\n                this.persisted.delete(sid);\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applyEventToSubscribedEntity\",\n        value: function applyEventToSubscribedEntity(sid, message, isStrictlyOrdered) {\n            var _this4 = this;\n\n            if (!sid) {\n                return;\n            }\n            // Looking for subscription descriptor to check if poke has been completed\n            isStrictlyOrdered = isStrictlyOrdered || function () {\n                var subscription = _this4.persisted.get(sid);\n                return subscription && subscription.isEstablished;\n            }();\n            // Still searching for subscriptionIntents. User could remove subscription already\n            var subscriptionIntent = this.subscriptions.get(sid);\n            if (subscriptionIntent) {\n                message.event.type = message.event_type;\n                subscriptionIntent.update(message.event, isStrictlyOrdered);\n            } else {\n                logger_1.default.debug(\"Message dropped for SID '\" + sid + \"', for which there is no subscription.\");\n            }\n        }\n    }, {\n        key: \"onConnectionStateChanged\",\n        value: function onConnectionStateChanged(isConnected) {\n            this.isConnected = isConnected;\n            if (isConnected) {\n                this.poke();\n            }\n        }\n        /**\n         * Prompts a playback of any missed changes made to any subscribed object. This method\n         * should be invoked whenever the connectivity layer has experienced cross-cutting\n         * delivery failures that would affect the entire local sync set. Any tangible result\n         * of this operation will result in calls to the _update() function of subscribed\n         * Sync entities.\n         */\n\n    }, {\n        key: \"poke\",\n        value: function poke() {\n            logger_1.default.info('Triggering event replay for all subscriptions.');\n            var failedSubscriptions = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(this.persisted.values()), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var it = _step4.value;\n\n                    it.reset();\n                    if (it.rejectedWithError) {\n                        failedSubscriptions.push(it);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            this.persisted.clear();\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = (0, _getIterator3.default)(failedSubscriptions), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var _it = _step5.value;\n\n                    this.persisted.set(_it.sid, _it);\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            this.persist();\n        }\n        /**\n         * Stops all communication, clears any subscription intent, and returns.\n         */\n\n    }, {\n        key: \"shutdown\",\n        value: function shutdown() {\n            this.backoff.reset();\n            this.subscriptions.clear();\n        }\n    }]);\n    return Subscriptions;\n}();\n\nexports.Subscriptions = Subscriptions;\nexports.default = Subscriptions;\n\n/***/ }),\n\n/***/ \"cOHw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(\"vSO4\"),\n    core = __webpack_require__(\"zKeE\"),\n    fails = __webpack_require__(\"wLcK\");\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY],\n      exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () {\n    fn(1);\n  }), 'Object', exp);\n};\n\n/***/ }),\n\n/***/ \"cYD/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar global = __webpack_require__(\"i1Q6\"),\n    $export = __webpack_require__(\"vSO4\"),\n    meta = __webpack_require__(\"e8vu\"),\n    fails = __webpack_require__(\"wLcK\"),\n    hide = __webpack_require__(\"akPY\"),\n    redefineAll = __webpack_require__(\"O6kh\"),\n    forOf = __webpack_require__(\"ozpD\"),\n    anInstance = __webpack_require__(\"KUik\"),\n    isObject = __webpack_require__(\"BxvP\"),\n    setToStringTag = __webpack_require__(\"11Ut\"),\n    dP = __webpack_require__(\"Gfzd\").f,\n    each = __webpack_require__(\"tMiz\")(0),\n    DESCRIPTORS = __webpack_require__(\"6MLN\");\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME],\n      C = Base,\n      ADDER = IS_MAP ? 'set' : 'add',\n      proto = C && C.prototype,\n      O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if ('size' in proto) dP(C.prototype, 'size', {\n      get: function get() {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n/***/ }),\n\n/***/ \"cjsw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"yOG5\");\nvar $Object = __webpack_require__(\"zKeE\").Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n/***/ }),\n\n/***/ \"dACh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n/***/ }),\n\n/***/ \"dAjQ\":\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n/***/ }),\n\n/***/ \"dVxL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar client_1 = __webpack_require__(\"Vroa\");\nexports.SyncClient = client_1.SyncClient;\nvar syncdocument_1 = __webpack_require__(\"hznj\");\nexports.SyncDocument = syncdocument_1.SyncDocument;\nvar synclist_1 = __webpack_require__(\"6Hp8\");\nexports.SyncList = synclist_1.SyncList;\nvar listitem_1 = __webpack_require__(\"qXBc\");\nexports.SyncListItem = listitem_1.ListItem;\nvar syncmap_1 = __webpack_require__(\"al4s\");\nexports.SyncMap = syncmap_1.SyncMap;\nvar mapitem_1 = __webpack_require__(\"QlMj\");\nexports.SyncMapItem = mapitem_1.MapItem;\nexports.default = client_1.SyncClient;\n\nmodule.exports = client_1.SyncClient;\nmodule.exports.SyncClient = client_1.SyncClient;\n\n/***/ }),\n\n/***/ \"dXs8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"b1tA\");\nmodule.exports = __webpack_require__(\"zKeE\").Object.setPrototypeOf;\n\n/***/ }),\n\n/***/ \"dhak\":\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n/***/ }),\n\n/***/ \"e8vu\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar META = __webpack_require__(\"X6va\")('meta'),\n    isObject = __webpack_require__(\"BxvP\"),\n    has = __webpack_require__(\"yS17\"),\n    setDesc = __webpack_require__(\"Gfzd\").f,\n    id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(\"wLcK\")(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function setMeta(it) {\n  setDesc(it, META, { value: {\n      i: 'O' + ++id, // object ID\n      w: {} // weak collections IDs\n    } });\n};\nvar fastKey = function fastKey(it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n    // return object ID\n  }return it[META].i;\n};\nvar getWeak = function getWeak(it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n    // return hash weak collections IDs\n  }return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function onFreeze(it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n/***/ }),\n\n/***/ \"eDHa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar syncerror_1 = __webpack_require__(\"XzVR\");\n\nvar SyncNetworkError = function (_syncerror_1$SyncErro) {\n    (0, _inherits3.default)(SyncNetworkError, _syncerror_1$SyncErro);\n\n    function SyncNetworkError(message) {\n        var status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var body = arguments[3];\n        (0, _classCallCheck3.default)(this, SyncNetworkError);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncNetworkError.__proto__ || (0, _getPrototypeOf2.default)(SyncNetworkError)).call(this, message, status, code));\n\n        _this.body = body;\n        return _this;\n    }\n\n    return SyncNetworkError;\n}(syncerror_1.SyncError);\n\nexports.SyncNetworkError = SyncNetworkError;\nexports.default = SyncNetworkError;\n\n/***/ }),\n\n/***/ \"ebIA\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"i1Q6\").document && document.documentElement;\n\n/***/ }),\n\n/***/ \"f+DB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function rng() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"f/lV\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _logger = __webpack_require__(\"obon\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar REQUEST_TIMEOUT = 30000;\n\nfunction isHttpSuccess(code) {\n  return code >= 200 && code < 300;\n}\n\nfunction isHttpReply(packet) {\n  return packet && packet.header && packet.header.http_status;\n}\n\nvar PacketInterface = function () {\n  function PacketInterface(socket) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, PacketInterface);\n\n    (0, _defineProperties2.default)(this, {\n      _activeRequests: { value: new _map2.default() },\n      _socket: { value: socket }\n    });\n\n    this._socket.on('reply', this._processReply.bind(this));\n    this._socket.on('disconnected', function () {\n      _this._activeRequests.forEach(function (descriptor) {\n        clearTimeout(descriptor.timeout);\n        descriptor.reject(new Error('Twilsock disconnected'));\n      });\n      _this._activeRequests.clear();\n    });\n  }\n\n  (0, _createClass3.default)(PacketInterface, [{\n    key: '_processReply',\n    value: function _processReply(reply) {\n      var request = this._activeRequests.get(reply.id);\n      if (request) {\n        clearTimeout(request.timeout);\n        this._activeRequests.delete(reply.id);\n\n        setTimeout(function () {\n          // User shouldn't intercept connection handling, thus making it asynchronous\n          if (!isHttpSuccess(reply.status.code)) {\n            request.reject(new Error('Transport failure: ' + reply.status.status));\n          } else if (isHttpReply(reply) && !isHttpSuccess(reply.header.http_status.code)) {\n            request.reject({\n              status: reply.header.http_status.code,\n              description: reply.header.http_status.status,\n              body: reply.body\n            });\n          } else {\n            request.resolve(reply);\n          }\n        }, 0);\n      }\n    }\n  }, {\n    key: '_storeRequest',\n    value: function _storeRequest(id, resolve, reject) {\n      var requestDescriptor = {\n        resolve: resolve,\n        reject: reject,\n        timeout: setTimeout(function () {\n          _logger2.default.debug('request', id, 'is timed out');\n          reject(new Error('Twilsock: request timeout: ' + id));\n        }, REQUEST_TIMEOUT)\n      };\n      this._activeRequests.set(id, requestDescriptor);\n    }\n  }, {\n    key: 'send',\n    value: function send(address, headers, body) {\n      var _this2 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this2._socket.isConnected) {\n          _logger2.default.info('Can not send upstream message. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var id = _this2._socket.sendUpstreamMessage(address, headers, body);\n        _logger2.default.trace('message sent: ', { id: id, address: address, headers: headers, body: body });\n        _this2._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'putNotificationContext',\n    value: function putNotificationContext(contextId, context) {\n      var _this3 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this3._socket.isConnected) {\n          _logger2.default.info('Can not send put notification context. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var header = { method: 'put_notification_ctx', notification_ctx_id: contextId }; // eslint-disable-line camelcase\n        var id = _this3._socket.send(header, context);\n        _this3._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'deleteNotificationContext',\n    value: function deleteNotificationContext(contextId) {\n      var _this4 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this4._socket.isConnected) {\n          _logger2.default.info('Can not send delete notification context. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var packet = { method: 'delete_notification_ctx', notification_ctx_id: contextId }; // eslint-disable-line camelcase\n        var id = _this4._socket.send(packet);\n        _this4._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'shutdown',\n    value: function shutdown() {\n      this._activeRequests.forEach(function (descriptor) {\n        clearTimeout(descriptor.timeout);\n        descriptor.reject(new Error('Twilsock: request cancelled by user'));\n      });\n      this._activeRequests.clear();\n    }\n  }]);\n  return PacketInterface;\n}();\n\nexports.default = PacketInterface;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"f648\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _undefined = __webpack_require__(\"qYbH\")(); // Support ES3 engines\n\nmodule.exports = function (val) {\n  return val !== _undefined && val !== null;\n};\n\n/***/ }),\n\n/***/ \"flj+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(\"y60x\")() ? Object.assign : __webpack_require__(\"ojUF\");\n\n/***/ }),\n\n/***/ \"fp6q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.1\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function (e) {\n    if (true) module.exports = e();else if (\"function\" == typeof define && define.amd) define([], e);else {\n        var f;\"undefined\" != typeof window ? f = window : \"undefined\" != typeof global ? f = global : \"undefined\" != typeof self && (f = self), f.Promise = e();\n    }\n}(function () {\n    var define, module, exports;return function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof _dereq_ == \"function\" && _dereq_;if (!u && a) return a(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }return n[o].exports;\n        }var i = typeof _dereq_ == \"function\" && _dereq_;for (var o = 0; o < r.length; o++) {\n            s(r[o]);\n        }return s;\n    }({ 1: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise) {\n                var SomePromiseArray = Promise._SomePromiseArray;\n                function any(promises) {\n                    var ret = new SomePromiseArray(promises);\n                    var promise = ret.promise();\n                    ret.setHowMany(1);\n                    ret.setUnwrap();\n                    ret.init();\n                    return promise;\n                }\n\n                Promise.any = function (promises) {\n                    return any(promises);\n                };\n\n                Promise.prototype.any = function () {\n                    return any(this);\n                };\n            };\n        }, {}], 2: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var firstLineError;\n            try {\n                throw new Error();\n            } catch (e) {\n                firstLineError = e;\n            }\n            var schedule = _dereq_(\"./schedule\");\n            var Queue = _dereq_(\"./queue\");\n            var util = _dereq_(\"./util\");\n\n            function Async() {\n                this._customScheduler = false;\n                this._isTickUsed = false;\n                this._lateQueue = new Queue(16);\n                this._normalQueue = new Queue(16);\n                this._haveDrainedQueues = false;\n                this._trampolineEnabled = true;\n                var self = this;\n                this.drainQueues = function () {\n                    self._drainQueues();\n                };\n                this._schedule = schedule;\n            }\n\n            Async.prototype.setScheduler = function (fn) {\n                var prev = this._schedule;\n                this._schedule = fn;\n                this._customScheduler = true;\n                return prev;\n            };\n\n            Async.prototype.hasCustomScheduler = function () {\n                return this._customScheduler;\n            };\n\n            Async.prototype.enableTrampoline = function () {\n                this._trampolineEnabled = true;\n            };\n\n            Async.prototype.disableTrampolineIfNecessary = function () {\n                if (util.hasDevTools) {\n                    this._trampolineEnabled = false;\n                }\n            };\n\n            Async.prototype.haveItemsQueued = function () {\n                return this._isTickUsed || this._haveDrainedQueues;\n            };\n\n            Async.prototype.fatalError = function (e, isNode) {\n                if (isNode) {\n                    process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) + \"\\n\");\n                    process.exit(2);\n                } else {\n                    this.throwLater(e);\n                }\n            };\n\n            Async.prototype.throwLater = function (fn, arg) {\n                if (arguments.length === 1) {\n                    arg = fn;\n                    fn = function fn() {\n                        throw arg;\n                    };\n                }\n                if (typeof setTimeout !== \"undefined\") {\n                    setTimeout(function () {\n                        fn(arg);\n                    }, 0);\n                } else try {\n                    this._schedule(function () {\n                        fn(arg);\n                    });\n                } catch (e) {\n                    throw new Error(\"No async scheduler available\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                }\n            };\n\n            function AsyncInvokeLater(fn, receiver, arg) {\n                this._lateQueue.push(fn, receiver, arg);\n                this._queueTick();\n            }\n\n            function AsyncInvoke(fn, receiver, arg) {\n                this._normalQueue.push(fn, receiver, arg);\n                this._queueTick();\n            }\n\n            function AsyncSettlePromises(promise) {\n                this._normalQueue._pushOne(promise);\n                this._queueTick();\n            }\n\n            if (!util.hasDevTools) {\n                Async.prototype.invokeLater = AsyncInvokeLater;\n                Async.prototype.invoke = AsyncInvoke;\n                Async.prototype.settlePromises = AsyncSettlePromises;\n            } else {\n                Async.prototype.invokeLater = function (fn, receiver, arg) {\n                    if (this._trampolineEnabled) {\n                        AsyncInvokeLater.call(this, fn, receiver, arg);\n                    } else {\n                        this._schedule(function () {\n                            setTimeout(function () {\n                                fn.call(receiver, arg);\n                            }, 100);\n                        });\n                    }\n                };\n\n                Async.prototype.invoke = function (fn, receiver, arg) {\n                    if (this._trampolineEnabled) {\n                        AsyncInvoke.call(this, fn, receiver, arg);\n                    } else {\n                        this._schedule(function () {\n                            fn.call(receiver, arg);\n                        });\n                    }\n                };\n\n                Async.prototype.settlePromises = function (promise) {\n                    if (this._trampolineEnabled) {\n                        AsyncSettlePromises.call(this, promise);\n                    } else {\n                        this._schedule(function () {\n                            promise._settlePromises();\n                        });\n                    }\n                };\n            }\n\n            Async.prototype._drainQueue = function (queue) {\n                while (queue.length() > 0) {\n                    var fn = queue.shift();\n                    if (typeof fn !== \"function\") {\n                        fn._settlePromises();\n                        continue;\n                    }\n                    var receiver = queue.shift();\n                    var arg = queue.shift();\n                    fn.call(receiver, arg);\n                }\n            };\n\n            Async.prototype._drainQueues = function () {\n                this._drainQueue(this._normalQueue);\n                this._reset();\n                this._haveDrainedQueues = true;\n                this._drainQueue(this._lateQueue);\n            };\n\n            Async.prototype._queueTick = function () {\n                if (!this._isTickUsed) {\n                    this._isTickUsed = true;\n                    this._schedule(this.drainQueues);\n                }\n            };\n\n            Async.prototype._reset = function () {\n                this._isTickUsed = false;\n            };\n\n            module.exports = Async;\n            module.exports.firstLineError = firstLineError;\n        }, { \"./queue\": 26, \"./schedule\": 29, \"./util\": 36 }], 3: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL, tryConvertToPromise, debug) {\n                var calledBind = false;\n                var rejectThis = function rejectThis(_, e) {\n                    this._reject(e);\n                };\n\n                var targetRejected = function targetRejected(e, context) {\n                    context.promiseRejectionQueued = true;\n                    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n                };\n\n                var bindingResolved = function bindingResolved(thisArg, context) {\n                    if ((this._bitField & 50397184) === 0) {\n                        this._resolveCallback(context.target);\n                    }\n                };\n\n                var bindingRejected = function bindingRejected(e, context) {\n                    if (!context.promiseRejectionQueued) this._reject(e);\n                };\n\n                Promise.prototype.bind = function (thisArg) {\n                    if (!calledBind) {\n                        calledBind = true;\n                        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n                        Promise.prototype._boundValue = debug.boundValueFunction();\n                    }\n                    var maybePromise = tryConvertToPromise(thisArg);\n                    var ret = new Promise(INTERNAL);\n                    ret._propagateFrom(this, 1);\n                    var target = this._target();\n                    ret._setBoundTo(maybePromise);\n                    if (maybePromise instanceof Promise) {\n                        var context = {\n                            promiseRejectionQueued: false,\n                            promise: ret,\n                            target: target,\n                            bindingPromise: maybePromise\n                        };\n                        target._then(INTERNAL, targetRejected, undefined, ret, context);\n                        maybePromise._then(bindingResolved, bindingRejected, undefined, ret, context);\n                        ret._setOnCancel(maybePromise);\n                    } else {\n                        ret._resolveCallback(target);\n                    }\n                    return ret;\n                };\n\n                Promise.prototype._setBoundTo = function (obj) {\n                    if (obj !== undefined) {\n                        this._bitField = this._bitField | 2097152;\n                        this._boundTo = obj;\n                    } else {\n                        this._bitField = this._bitField & ~2097152;\n                    }\n                };\n\n                Promise.prototype._isBound = function () {\n                    return (this._bitField & 2097152) === 2097152;\n                };\n\n                Promise.bind = function (thisArg, value) {\n                    return Promise.resolve(value).bind(thisArg);\n                };\n            };\n        }, {}], 4: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var old;\n            if (typeof Promise !== \"undefined\") old = Promise;\n            function noConflict() {\n                try {\n                    if (Promise === bluebird) Promise = old;\n                } catch (e) {}\n                return bluebird;\n            }\n            var bluebird = _dereq_(\"./promise\")();\n            bluebird.noConflict = noConflict;\n            module.exports = bluebird;\n        }, { \"./promise\": 22 }], 5: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var cr = Object.create;\n            if (cr) {\n                var callerCache = cr(null);\n                var getterCache = cr(null);\n                callerCache[\" size\"] = getterCache[\" size\"] = 0;\n            }\n\n            module.exports = function (Promise) {\n                var util = _dereq_(\"./util\");\n                var canEvaluate = util.canEvaluate;\n                var isIdentifier = util.isIdentifier;\n\n                var getMethodCaller;\n                var getGetter;\n                if (false) {\n                    var makeMethodCaller = function makeMethodCaller(methodName) {\n                        return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n                    };\n\n                    var makeGetter = function makeGetter(propertyName) {\n                        return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n                    };\n\n                    var getCompiled = function getCompiled(name, compiler, cache) {\n                        var ret = cache[name];\n                        if (typeof ret !== \"function\") {\n                            if (!isIdentifier(name)) {\n                                return null;\n                            }\n                            ret = compiler(name);\n                            cache[name] = ret;\n                            cache[\" size\"]++;\n                            if (cache[\" size\"] > 512) {\n                                var keys = Object.keys(cache);\n                                for (var i = 0; i < 256; ++i) {\n                                    delete cache[keys[i]];\n                                }cache[\" size\"] = keys.length - 256;\n                            }\n                        }\n                        return ret;\n                    };\n\n                    getMethodCaller = function getMethodCaller(name) {\n                        return getCompiled(name, makeMethodCaller, callerCache);\n                    };\n\n                    getGetter = function getGetter(name) {\n                        return getCompiled(name, makeGetter, getterCache);\n                    };\n                }\n\n                function ensureMethod(obj, methodName) {\n                    var fn;\n                    if (obj != null) fn = obj[methodName];\n                    if (typeof fn !== \"function\") {\n                        var message = \"Object \" + util.classString(obj) + \" has no method '\" + util.toString(methodName) + \"'\";\n                        throw new Promise.TypeError(message);\n                    }\n                    return fn;\n                }\n\n                function caller(obj) {\n                    var methodName = this.pop();\n                    var fn = ensureMethod(obj, methodName);\n                    return fn.apply(obj, this);\n                }\n                Promise.prototype.call = function (methodName) {\n                    var args = [].slice.call(arguments, 1);;\n                    if (false) {\n                        if (canEvaluate) {\n                            var maybeCaller = getMethodCaller(methodName);\n                            if (maybeCaller !== null) {\n                                return this._then(maybeCaller, undefined, undefined, args, undefined);\n                            }\n                        }\n                    }\n                    args.push(methodName);\n                    return this._then(caller, undefined, undefined, args, undefined);\n                };\n\n                function namedGetter(obj) {\n                    return obj[this];\n                }\n                function indexedGetter(obj) {\n                    var index = +this;\n                    if (index < 0) index = Math.max(0, index + obj.length);\n                    return obj[index];\n                }\n                Promise.prototype.get = function (propertyName) {\n                    var isIndex = typeof propertyName === \"number\";\n                    var getter;\n                    if (!isIndex) {\n                        if (canEvaluate) {\n                            var maybeGetter = getGetter(propertyName);\n                            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n                        } else {\n                            getter = namedGetter;\n                        }\n                    } else {\n                        getter = indexedGetter;\n                    }\n                    return this._then(getter, undefined, undefined, propertyName, undefined);\n                };\n            };\n        }, { \"./util\": 36 }], 6: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, apiRejection, debug) {\n                var util = _dereq_(\"./util\");\n                var tryCatch = util.tryCatch;\n                var errorObj = util.errorObj;\n                var async = Promise._async;\n\n                Promise.prototype[\"break\"] = Promise.prototype.cancel = function () {\n                    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n                    var promise = this;\n                    var child = promise;\n                    while (promise._isCancellable()) {\n                        if (!promise._cancelBy(child)) {\n                            if (child._isFollowing()) {\n                                child._followee().cancel();\n                            } else {\n                                child._cancelBranched();\n                            }\n                            break;\n                        }\n\n                        var parent = promise._cancellationParent;\n                        if (parent == null || !parent._isCancellable()) {\n                            if (promise._isFollowing()) {\n                                promise._followee().cancel();\n                            } else {\n                                promise._cancelBranched();\n                            }\n                            break;\n                        } else {\n                            if (promise._isFollowing()) promise._followee().cancel();\n                            promise._setWillBeCancelled();\n                            child = promise;\n                            promise = parent;\n                        }\n                    }\n                };\n\n                Promise.prototype._branchHasCancelled = function () {\n                    this._branchesRemainingToCancel--;\n                };\n\n                Promise.prototype._enoughBranchesHaveCancelled = function () {\n                    return this._branchesRemainingToCancel === undefined || this._branchesRemainingToCancel <= 0;\n                };\n\n                Promise.prototype._cancelBy = function (canceller) {\n                    if (canceller === this) {\n                        this._branchesRemainingToCancel = 0;\n                        this._invokeOnCancel();\n                        return true;\n                    } else {\n                        this._branchHasCancelled();\n                        if (this._enoughBranchesHaveCancelled()) {\n                            this._invokeOnCancel();\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n\n                Promise.prototype._cancelBranched = function () {\n                    if (this._enoughBranchesHaveCancelled()) {\n                        this._cancel();\n                    }\n                };\n\n                Promise.prototype._cancel = function () {\n                    if (!this._isCancellable()) return;\n                    this._setCancelled();\n                    async.invoke(this._cancelPromises, this, undefined);\n                };\n\n                Promise.prototype._cancelPromises = function () {\n                    if (this._length() > 0) this._settlePromises();\n                };\n\n                Promise.prototype._unsetOnCancel = function () {\n                    this._onCancelField = undefined;\n                };\n\n                Promise.prototype._isCancellable = function () {\n                    return this.isPending() && !this._isCancelled();\n                };\n\n                Promise.prototype.isCancellable = function () {\n                    return this.isPending() && !this.isCancelled();\n                };\n\n                Promise.prototype._doInvokeOnCancel = function (onCancelCallback, internalOnly) {\n                    if (util.isArray(onCancelCallback)) {\n                        for (var i = 0; i < onCancelCallback.length; ++i) {\n                            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n                        }\n                    } else if (onCancelCallback !== undefined) {\n                        if (typeof onCancelCallback === \"function\") {\n                            if (!internalOnly) {\n                                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                                if (e === errorObj) {\n                                    this._attachExtraTrace(e.e);\n                                    async.throwLater(e.e);\n                                }\n                            }\n                        } else {\n                            onCancelCallback._resultCancelled(this);\n                        }\n                    }\n                };\n\n                Promise.prototype._invokeOnCancel = function () {\n                    var onCancelCallback = this._onCancel();\n                    this._unsetOnCancel();\n                    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n                };\n\n                Promise.prototype._invokeInternalOnCancel = function () {\n                    if (this._isCancellable()) {\n                        this._doInvokeOnCancel(this._onCancel(), true);\n                        this._unsetOnCancel();\n                    }\n                };\n\n                Promise.prototype._resultCancelled = function () {\n                    this.cancel();\n                };\n            };\n        }, { \"./util\": 36 }], 7: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (NEXT_FILTER) {\n                var util = _dereq_(\"./util\");\n                var getKeys = _dereq_(\"./es5\").keys;\n                var tryCatch = util.tryCatch;\n                var errorObj = util.errorObj;\n\n                function catchFilter(instances, cb, promise) {\n                    return function (e) {\n                        var boundTo = promise._boundValue();\n                        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n                            var item = instances[i];\n\n                            if (item === Error || item != null && item.prototype instanceof Error) {\n                                if (e instanceof item) {\n                                    return tryCatch(cb).call(boundTo, e);\n                                }\n                            } else if (typeof item === \"function\") {\n                                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                                if (matchesPredicate === errorObj) {\n                                    return matchesPredicate;\n                                } else if (matchesPredicate) {\n                                    return tryCatch(cb).call(boundTo, e);\n                                }\n                            } else if (util.isObject(e)) {\n                                var keys = getKeys(item);\n                                for (var j = 0; j < keys.length; ++j) {\n                                    var key = keys[j];\n                                    if (item[key] != e[key]) {\n                                        continue predicateLoop;\n                                    }\n                                }\n                                return tryCatch(cb).call(boundTo, e);\n                            }\n                        }\n                        return NEXT_FILTER;\n                    };\n                }\n\n                return catchFilter;\n            };\n        }, { \"./es5\": 13, \"./util\": 36 }], 8: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise) {\n                var longStackTraces = false;\n                var contextStack = [];\n\n                Promise.prototype._promiseCreated = function () {};\n                Promise.prototype._pushContext = function () {};\n                Promise.prototype._popContext = function () {\n                    return null;\n                };\n                Promise._peekContext = Promise.prototype._peekContext = function () {};\n\n                function Context() {\n                    this._trace = new Context.CapturedTrace(peekContext());\n                }\n                Context.prototype._pushContext = function () {\n                    if (this._trace !== undefined) {\n                        this._trace._promiseCreated = null;\n                        contextStack.push(this._trace);\n                    }\n                };\n\n                Context.prototype._popContext = function () {\n                    if (this._trace !== undefined) {\n                        var trace = contextStack.pop();\n                        var ret = trace._promiseCreated;\n                        trace._promiseCreated = null;\n                        return ret;\n                    }\n                    return null;\n                };\n\n                function createContext() {\n                    if (longStackTraces) return new Context();\n                }\n\n                function peekContext() {\n                    var lastIndex = contextStack.length - 1;\n                    if (lastIndex >= 0) {\n                        return contextStack[lastIndex];\n                    }\n                    return undefined;\n                }\n                Context.CapturedTrace = null;\n                Context.create = createContext;\n                Context.deactivateLongStackTraces = function () {};\n                Context.activateLongStackTraces = function () {\n                    var Promise_pushContext = Promise.prototype._pushContext;\n                    var Promise_popContext = Promise.prototype._popContext;\n                    var Promise_PeekContext = Promise._peekContext;\n                    var Promise_peekContext = Promise.prototype._peekContext;\n                    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n                    Context.deactivateLongStackTraces = function () {\n                        Promise.prototype._pushContext = Promise_pushContext;\n                        Promise.prototype._popContext = Promise_popContext;\n                        Promise._peekContext = Promise_PeekContext;\n                        Promise.prototype._peekContext = Promise_peekContext;\n                        Promise.prototype._promiseCreated = Promise_promiseCreated;\n                        longStackTraces = false;\n                    };\n                    longStackTraces = true;\n                    Promise.prototype._pushContext = Context.prototype._pushContext;\n                    Promise.prototype._popContext = Context.prototype._popContext;\n                    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n                    Promise.prototype._promiseCreated = function () {\n                        var ctx = this._peekContext();\n                        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n                    };\n                };\n                return Context;\n            };\n        }, {}], 9: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, Context) {\n                var getDomain = Promise._getDomain;\n                var async = Promise._async;\n                var Warning = _dereq_(\"./errors\").Warning;\n                var util = _dereq_(\"./util\");\n                var canAttachTrace = util.canAttachTrace;\n                var unhandledRejectionHandled;\n                var possiblyUnhandledRejection;\n                var bluebirdFramePattern = /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\n                var nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\n                var parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\n                var stackFramePattern = null;\n                var formatStack = null;\n                var indentStackFrames = false;\n                var printWarning;\n                var debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 && (true || util.env(\"BLUEBIRD_DEBUG\") || util.env(\"NODE_ENV\") === \"development\"));\n\n                var warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 && (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\n                var longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 && (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\n                var wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 && (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\n                Promise.prototype.suppressUnhandledRejections = function () {\n                    var target = this._target();\n                    target._bitField = target._bitField & ~1048576 | 524288;\n                };\n\n                Promise.prototype._ensurePossibleRejectionHandled = function () {\n                    if ((this._bitField & 524288) !== 0) return;\n                    this._setRejectionIsUnhandled();\n                    var self = this;\n                    setTimeout(function () {\n                        self._notifyUnhandledRejection();\n                    }, 1);\n                };\n\n                Promise.prototype._notifyUnhandledRejectionIsHandled = function () {\n                    fireRejectionEvent(\"rejectionHandled\", unhandledRejectionHandled, undefined, this);\n                };\n\n                Promise.prototype._setReturnedNonUndefined = function () {\n                    this._bitField = this._bitField | 268435456;\n                };\n\n                Promise.prototype._returnedNonUndefined = function () {\n                    return (this._bitField & 268435456) !== 0;\n                };\n\n                Promise.prototype._notifyUnhandledRejection = function () {\n                    if (this._isRejectionUnhandled()) {\n                        var reason = this._settledValue();\n                        this._setUnhandledRejectionIsNotified();\n                        fireRejectionEvent(\"unhandledRejection\", possiblyUnhandledRejection, reason, this);\n                    }\n                };\n\n                Promise.prototype._setUnhandledRejectionIsNotified = function () {\n                    this._bitField = this._bitField | 262144;\n                };\n\n                Promise.prototype._unsetUnhandledRejectionIsNotified = function () {\n                    this._bitField = this._bitField & ~262144;\n                };\n\n                Promise.prototype._isUnhandledRejectionNotified = function () {\n                    return (this._bitField & 262144) > 0;\n                };\n\n                Promise.prototype._setRejectionIsUnhandled = function () {\n                    this._bitField = this._bitField | 1048576;\n                };\n\n                Promise.prototype._unsetRejectionIsUnhandled = function () {\n                    this._bitField = this._bitField & ~1048576;\n                    if (this._isUnhandledRejectionNotified()) {\n                        this._unsetUnhandledRejectionIsNotified();\n                        this._notifyUnhandledRejectionIsHandled();\n                    }\n                };\n\n                Promise.prototype._isRejectionUnhandled = function () {\n                    return (this._bitField & 1048576) > 0;\n                };\n\n                Promise.prototype._warn = function (message, shouldUseOwnTrace, promise) {\n                    return warn(message, shouldUseOwnTrace, promise || this);\n                };\n\n                Promise.onPossiblyUnhandledRejection = function (fn) {\n                    var domain = getDomain();\n                    possiblyUnhandledRejection = typeof fn === \"function\" ? domain === null ? fn : util.domainBind(domain, fn) : undefined;\n                };\n\n                Promise.onUnhandledRejectionHandled = function (fn) {\n                    var domain = getDomain();\n                    unhandledRejectionHandled = typeof fn === \"function\" ? domain === null ? fn : util.domainBind(domain, fn) : undefined;\n                };\n\n                var disableLongStackTraces = function disableLongStackTraces() {};\n                Promise.longStackTraces = function () {\n                    if (async.haveItemsQueued() && !config.longStackTraces) {\n                        throw new Error(\"cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    if (!config.longStackTraces && longStackTracesIsSupported()) {\n                        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n                        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n                        config.longStackTraces = true;\n                        disableLongStackTraces = function disableLongStackTraces() {\n                            if (async.haveItemsQueued() && !config.longStackTraces) {\n                                throw new Error(\"cannot enable long stack traces after promises have been created\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                            }\n                            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n                            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n                            Context.deactivateLongStackTraces();\n                            async.enableTrampoline();\n                            config.longStackTraces = false;\n                        };\n                        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n                        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n                        Context.activateLongStackTraces();\n                        async.disableTrampolineIfNecessary();\n                    }\n                };\n\n                Promise.hasLongStackTraces = function () {\n                    return config.longStackTraces && longStackTracesIsSupported();\n                };\n\n                var fireDomEvent = function () {\n                    try {\n                        if (typeof CustomEvent === \"function\") {\n                            var event = new CustomEvent(\"CustomEvent\");\n                            util.global.dispatchEvent(event);\n                            return function (name, event) {\n                                var domEvent = new CustomEvent(name.toLowerCase(), {\n                                    detail: event,\n                                    cancelable: true\n                                });\n                                return !util.global.dispatchEvent(domEvent);\n                            };\n                        } else if (typeof Event === \"function\") {\n                            var event = new Event(\"CustomEvent\");\n                            util.global.dispatchEvent(event);\n                            return function (name, event) {\n                                var domEvent = new Event(name.toLowerCase(), {\n                                    cancelable: true\n                                });\n                                domEvent.detail = event;\n                                return !util.global.dispatchEvent(domEvent);\n                            };\n                        } else {\n                            var event = document.createEvent(\"CustomEvent\");\n                            event.initCustomEvent(\"testingtheevent\", false, true, {});\n                            util.global.dispatchEvent(event);\n                            return function (name, event) {\n                                var domEvent = document.createEvent(\"CustomEvent\");\n                                domEvent.initCustomEvent(name.toLowerCase(), false, true, event);\n                                return !util.global.dispatchEvent(domEvent);\n                            };\n                        }\n                    } catch (e) {}\n                    return function () {\n                        return false;\n                    };\n                }();\n\n                var fireGlobalEvent = function () {\n                    if (util.isNode) {\n                        return function () {\n                            return process.emit.apply(process, arguments);\n                        };\n                    } else {\n                        if (!util.global) {\n                            return function () {\n                                return false;\n                            };\n                        }\n                        return function (name) {\n                            var methodName = \"on\" + name.toLowerCase();\n                            var method = util.global[methodName];\n                            if (!method) return false;\n                            method.apply(util.global, [].slice.call(arguments, 1));\n                            return true;\n                        };\n                    }\n                }();\n\n                function generatePromiseLifecycleEventObject(name, promise) {\n                    return { promise: promise };\n                }\n\n                var eventToObjectGenerator = {\n                    promiseCreated: generatePromiseLifecycleEventObject,\n                    promiseFulfilled: generatePromiseLifecycleEventObject,\n                    promiseRejected: generatePromiseLifecycleEventObject,\n                    promiseResolved: generatePromiseLifecycleEventObject,\n                    promiseCancelled: generatePromiseLifecycleEventObject,\n                    promiseChained: function promiseChained(name, promise, child) {\n                        return { promise: promise, child: child };\n                    },\n                    warning: function warning(name, _warning) {\n                        return { warning: _warning };\n                    },\n                    unhandledRejection: function unhandledRejection(name, reason, promise) {\n                        return { reason: reason, promise: promise };\n                    },\n                    rejectionHandled: generatePromiseLifecycleEventObject\n                };\n\n                var activeFireEvent = function activeFireEvent(name) {\n                    var globalEventFired = false;\n                    try {\n                        globalEventFired = fireGlobalEvent.apply(null, arguments);\n                    } catch (e) {\n                        async.throwLater(e);\n                        globalEventFired = true;\n                    }\n\n                    var domEventFired = false;\n                    try {\n                        domEventFired = fireDomEvent(name, eventToObjectGenerator[name].apply(null, arguments));\n                    } catch (e) {\n                        async.throwLater(e);\n                        domEventFired = true;\n                    }\n\n                    return domEventFired || globalEventFired;\n                };\n\n                Promise.config = function (opts) {\n                    opts = Object(opts);\n                    if (\"longStackTraces\" in opts) {\n                        if (opts.longStackTraces) {\n                            Promise.longStackTraces();\n                        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n                            disableLongStackTraces();\n                        }\n                    }\n                    if (\"warnings\" in opts) {\n                        var warningsOption = opts.warnings;\n                        config.warnings = !!warningsOption;\n                        wForgottenReturn = config.warnings;\n\n                        if (util.isObject(warningsOption)) {\n                            if (\"wForgottenReturn\" in warningsOption) {\n                                wForgottenReturn = !!warningsOption.wForgottenReturn;\n                            }\n                        }\n                    }\n                    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n                        if (async.haveItemsQueued()) {\n                            throw new Error(\"cannot enable cancellation after promises are in use\");\n                        }\n                        Promise.prototype._clearCancellationData = cancellationClearCancellationData;\n                        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n                        Promise.prototype._onCancel = cancellationOnCancel;\n                        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n                        Promise.prototype._attachCancellationCallback = cancellationAttachCancellationCallback;\n                        Promise.prototype._execute = cancellationExecute;\n                        _propagateFromFunction = cancellationPropagateFrom;\n                        config.cancellation = true;\n                    }\n                    if (\"monitoring\" in opts) {\n                        if (opts.monitoring && !config.monitoring) {\n                            config.monitoring = true;\n                            Promise.prototype._fireEvent = activeFireEvent;\n                        } else if (!opts.monitoring && config.monitoring) {\n                            config.monitoring = false;\n                            Promise.prototype._fireEvent = defaultFireEvent;\n                        }\n                    }\n                    return Promise;\n                };\n\n                function defaultFireEvent() {\n                    return false;\n                }\n\n                Promise.prototype._fireEvent = defaultFireEvent;\n                Promise.prototype._execute = function (executor, resolve, reject) {\n                    try {\n                        executor(resolve, reject);\n                    } catch (e) {\n                        return e;\n                    }\n                };\n                Promise.prototype._onCancel = function () {};\n                Promise.prototype._setOnCancel = function (handler) {\n                    ;\n                };\n                Promise.prototype._attachCancellationCallback = function (onCancel) {\n                    ;\n                };\n                Promise.prototype._captureStackTrace = function () {};\n                Promise.prototype._attachExtraTrace = function () {};\n                Promise.prototype._clearCancellationData = function () {};\n                Promise.prototype._propagateFrom = function (parent, flags) {\n                    ;\n                    ;\n                };\n\n                function cancellationExecute(executor, resolve, reject) {\n                    var promise = this;\n                    try {\n                        executor(resolve, reject, function (onCancel) {\n                            if (typeof onCancel !== \"function\") {\n                                throw new TypeError(\"onCancel must be a function, got: \" + util.toString(onCancel));\n                            }\n                            promise._attachCancellationCallback(onCancel);\n                        });\n                    } catch (e) {\n                        return e;\n                    }\n                }\n\n                function cancellationAttachCancellationCallback(onCancel) {\n                    if (!this._isCancellable()) return this;\n\n                    var previousOnCancel = this._onCancel();\n                    if (previousOnCancel !== undefined) {\n                        if (util.isArray(previousOnCancel)) {\n                            previousOnCancel.push(onCancel);\n                        } else {\n                            this._setOnCancel([previousOnCancel, onCancel]);\n                        }\n                    } else {\n                        this._setOnCancel(onCancel);\n                    }\n                }\n\n                function cancellationOnCancel() {\n                    return this._onCancelField;\n                }\n\n                function cancellationSetOnCancel(onCancel) {\n                    this._onCancelField = onCancel;\n                }\n\n                function cancellationClearCancellationData() {\n                    this._cancellationParent = undefined;\n                    this._onCancelField = undefined;\n                }\n\n                function cancellationPropagateFrom(parent, flags) {\n                    if ((flags & 1) !== 0) {\n                        this._cancellationParent = parent;\n                        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n                        if (branchesRemainingToCancel === undefined) {\n                            branchesRemainingToCancel = 0;\n                        }\n                        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n                    }\n                    if ((flags & 2) !== 0 && parent._isBound()) {\n                        this._setBoundTo(parent._boundTo);\n                    }\n                }\n\n                function bindingPropagateFrom(parent, flags) {\n                    if ((flags & 2) !== 0 && parent._isBound()) {\n                        this._setBoundTo(parent._boundTo);\n                    }\n                }\n                var _propagateFromFunction = bindingPropagateFrom;\n\n                function _boundValueFunction() {\n                    var ret = this._boundTo;\n                    if (ret !== undefined) {\n                        if (ret instanceof Promise) {\n                            if (ret.isFulfilled()) {\n                                return ret.value();\n                            } else {\n                                return undefined;\n                            }\n                        }\n                    }\n                    return ret;\n                }\n\n                function longStackTracesCaptureStackTrace() {\n                    this._trace = new CapturedTrace(this._peekContext());\n                }\n\n                function longStackTracesAttachExtraTrace(error, ignoreSelf) {\n                    if (canAttachTrace(error)) {\n                        var trace = this._trace;\n                        if (trace !== undefined) {\n                            if (ignoreSelf) trace = trace._parent;\n                        }\n                        if (trace !== undefined) {\n                            trace.attachExtraTrace(error);\n                        } else if (!error.__stackCleaned__) {\n                            var parsed = parseStackAndMessage(error);\n                            util.notEnumerableProp(error, \"stack\", parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n                            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n                        }\n                    }\n                }\n\n                function checkForgottenReturns(returnValue, promiseCreated, name, promise, parent) {\n                    if (returnValue === undefined && promiseCreated !== null && wForgottenReturn) {\n                        if (parent !== undefined && parent._returnedNonUndefined()) return;\n                        if ((promise._bitField & 65535) === 0) return;\n\n                        if (name) name = name + \" \";\n                        var handlerLine = \"\";\n                        var creatorLine = \"\";\n                        if (promiseCreated._trace) {\n                            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n                            var stack = cleanStack(traceLines);\n                            for (var i = stack.length - 1; i >= 0; --i) {\n                                var line = stack[i];\n                                if (!nodeFramePattern.test(line)) {\n                                    var lineMatches = line.match(parseLinePattern);\n                                    if (lineMatches) {\n                                        handlerLine = \"at \" + lineMatches[1] + \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                                    }\n                                    break;\n                                }\n                            }\n\n                            if (stack.length > 0) {\n                                var firstUserLine = stack[0];\n                                for (var i = 0; i < traceLines.length; ++i) {\n\n                                    if (traceLines[i] === firstUserLine) {\n                                        if (i > 0) {\n                                            creatorLine = \"\\n\" + traceLines[i - 1];\n                                        }\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                        var msg = \"a promise was created in a \" + name + \"handler \" + handlerLine + \"but was not returned from it, \" + \"see http://goo.gl/rRqMUw\" + creatorLine;\n                        promise._warn(msg, true, promiseCreated);\n                    }\n                }\n\n                function deprecated(name, replacement) {\n                    var message = name + \" is deprecated and will be removed in a future version.\";\n                    if (replacement) message += \" Use \" + replacement + \" instead.\";\n                    return warn(message);\n                }\n\n                function warn(message, shouldUseOwnTrace, promise) {\n                    if (!config.warnings) return;\n                    var warning = new Warning(message);\n                    var ctx;\n                    if (shouldUseOwnTrace) {\n                        promise._attachExtraTrace(warning);\n                    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n                        ctx.attachExtraTrace(warning);\n                    } else {\n                        var parsed = parseStackAndMessage(warning);\n                        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n                    }\n\n                    if (!activeFireEvent(\"warning\", warning)) {\n                        formatAndLogError(warning, \"\", true);\n                    }\n                }\n\n                function reconstructStack(message, stacks) {\n                    for (var i = 0; i < stacks.length - 1; ++i) {\n                        stacks[i].push(\"From previous event:\");\n                        stacks[i] = stacks[i].join(\"\\n\");\n                    }\n                    if (i < stacks.length) {\n                        stacks[i] = stacks[i].join(\"\\n\");\n                    }\n                    return message + \"\\n\" + stacks.join(\"\\n\");\n                }\n\n                function removeDuplicateOrEmptyJumps(stacks) {\n                    for (var i = 0; i < stacks.length; ++i) {\n                        if (stacks[i].length === 0 || i + 1 < stacks.length && stacks[i][0] === stacks[i + 1][0]) {\n                            stacks.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n\n                function removeCommonRoots(stacks) {\n                    var current = stacks[0];\n                    for (var i = 1; i < stacks.length; ++i) {\n                        var prev = stacks[i];\n                        var currentLastIndex = current.length - 1;\n                        var currentLastLine = current[currentLastIndex];\n                        var commonRootMeetPoint = -1;\n\n                        for (var j = prev.length - 1; j >= 0; --j) {\n                            if (prev[j] === currentLastLine) {\n                                commonRootMeetPoint = j;\n                                break;\n                            }\n                        }\n\n                        for (var j = commonRootMeetPoint; j >= 0; --j) {\n                            var line = prev[j];\n                            if (current[currentLastIndex] === line) {\n                                current.pop();\n                                currentLastIndex--;\n                            } else {\n                                break;\n                            }\n                        }\n                        current = prev;\n                    }\n                }\n\n                function cleanStack(stack) {\n                    var ret = [];\n                    for (var i = 0; i < stack.length; ++i) {\n                        var line = stack[i];\n                        var isTraceLine = \"    (No stack trace)\" === line || stackFramePattern.test(line);\n                        var isInternalFrame = isTraceLine && shouldIgnore(line);\n                        if (isTraceLine && !isInternalFrame) {\n                            if (indentStackFrames && line.charAt(0) !== \" \") {\n                                line = \"    \" + line;\n                            }\n                            ret.push(line);\n                        }\n                    }\n                    return ret;\n                }\n\n                function stackFramesAsArray(error) {\n                    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n                    for (var i = 0; i < stack.length; ++i) {\n                        var line = stack[i];\n                        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n                            break;\n                        }\n                    }\n                    if (i > 0 && error.name != \"SyntaxError\") {\n                        stack = stack.slice(i);\n                    }\n                    return stack;\n                }\n\n                function parseStackAndMessage(error) {\n                    var stack = error.stack;\n                    var message = error.toString();\n                    stack = typeof stack === \"string\" && stack.length > 0 ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n                    return {\n                        message: message,\n                        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n                    };\n                }\n\n                function formatAndLogError(error, title, isSoft) {\n                    if (typeof console !== \"undefined\") {\n                        var message;\n                        if (util.isObject(error)) {\n                            var stack = error.stack;\n                            message = title + formatStack(stack, error);\n                        } else {\n                            message = title + String(error);\n                        }\n                        if (typeof printWarning === \"function\") {\n                            printWarning(message, isSoft);\n                        } else if (typeof console.log === \"function\" || typeof console.log === \"object\") {\n                            console.log(message);\n                        }\n                    }\n                }\n\n                function fireRejectionEvent(name, localHandler, reason, promise) {\n                    var localEventFired = false;\n                    try {\n                        if (typeof localHandler === \"function\") {\n                            localEventFired = true;\n                            if (name === \"rejectionHandled\") {\n                                localHandler(promise);\n                            } else {\n                                localHandler(reason, promise);\n                            }\n                        }\n                    } catch (e) {\n                        async.throwLater(e);\n                    }\n\n                    if (name === \"unhandledRejection\") {\n                        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n                            formatAndLogError(reason, \"Unhandled rejection \");\n                        }\n                    } else {\n                        activeFireEvent(name, promise);\n                    }\n                }\n\n                function formatNonError(obj) {\n                    var str;\n                    if (typeof obj === \"function\") {\n                        str = \"[function \" + (obj.name || \"anonymous\") + \"]\";\n                    } else {\n                        str = obj && typeof obj.toString === \"function\" ? obj.toString() : util.toString(obj);\n                        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n                        if (ruselessToString.test(str)) {\n                            try {\n                                var newStr = JSON.stringify(obj);\n                                str = newStr;\n                            } catch (e) {}\n                        }\n                        if (str.length === 0) {\n                            str = \"(empty array)\";\n                        }\n                    }\n                    return \"(<\" + snip(str) + \">, no stack trace)\";\n                }\n\n                function snip(str) {\n                    var maxChars = 41;\n                    if (str.length < maxChars) {\n                        return str;\n                    }\n                    return str.substr(0, maxChars - 3) + \"...\";\n                }\n\n                function longStackTracesIsSupported() {\n                    return typeof captureStackTrace === \"function\";\n                }\n\n                var shouldIgnore = function shouldIgnore() {\n                    return false;\n                };\n                var parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\n                function parseLineInfo(line) {\n                    var matches = line.match(parseLineInfoRegex);\n                    if (matches) {\n                        return {\n                            fileName: matches[1],\n                            line: parseInt(matches[2], 10)\n                        };\n                    }\n                }\n\n                function setBounds(firstLineError, lastLineError) {\n                    if (!longStackTracesIsSupported()) return;\n                    var firstStackLines = firstLineError.stack.split(\"\\n\");\n                    var lastStackLines = lastLineError.stack.split(\"\\n\");\n                    var firstIndex = -1;\n                    var lastIndex = -1;\n                    var firstFileName;\n                    var lastFileName;\n                    for (var i = 0; i < firstStackLines.length; ++i) {\n                        var result = parseLineInfo(firstStackLines[i]);\n                        if (result) {\n                            firstFileName = result.fileName;\n                            firstIndex = result.line;\n                            break;\n                        }\n                    }\n                    for (var i = 0; i < lastStackLines.length; ++i) {\n                        var result = parseLineInfo(lastStackLines[i]);\n                        if (result) {\n                            lastFileName = result.fileName;\n                            lastIndex = result.line;\n                            break;\n                        }\n                    }\n                    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName || firstFileName !== lastFileName || firstIndex >= lastIndex) {\n                        return;\n                    }\n\n                    shouldIgnore = function shouldIgnore(line) {\n                        if (bluebirdFramePattern.test(line)) return true;\n                        var info = parseLineInfo(line);\n                        if (info) {\n                            if (info.fileName === firstFileName && firstIndex <= info.line && info.line <= lastIndex) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    };\n                }\n\n                function CapturedTrace(parent) {\n                    this._parent = parent;\n                    this._promisesCreated = 0;\n                    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n                    captureStackTrace(this, CapturedTrace);\n                    if (length > 32) this.uncycle();\n                }\n                util.inherits(CapturedTrace, Error);\n                Context.CapturedTrace = CapturedTrace;\n\n                CapturedTrace.prototype.uncycle = function () {\n                    var length = this._length;\n                    if (length < 2) return;\n                    var nodes = [];\n                    var stackToIndex = {};\n\n                    for (var i = 0, node = this; node !== undefined; ++i) {\n                        nodes.push(node);\n                        node = node._parent;\n                    }\n                    length = this._length = i;\n                    for (var i = length - 1; i >= 0; --i) {\n                        var stack = nodes[i].stack;\n                        if (stackToIndex[stack] === undefined) {\n                            stackToIndex[stack] = i;\n                        }\n                    }\n                    for (var i = 0; i < length; ++i) {\n                        var currentStack = nodes[i].stack;\n                        var index = stackToIndex[currentStack];\n                        if (index !== undefined && index !== i) {\n                            if (index > 0) {\n                                nodes[index - 1]._parent = undefined;\n                                nodes[index - 1]._length = 1;\n                            }\n                            nodes[i]._parent = undefined;\n                            nodes[i]._length = 1;\n                            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n                            if (index < length - 1) {\n                                cycleEdgeNode._parent = nodes[index + 1];\n                                cycleEdgeNode._parent.uncycle();\n                                cycleEdgeNode._length = cycleEdgeNode._parent._length + 1;\n                            } else {\n                                cycleEdgeNode._parent = undefined;\n                                cycleEdgeNode._length = 1;\n                            }\n                            var currentChildLength = cycleEdgeNode._length + 1;\n                            for (var j = i - 2; j >= 0; --j) {\n                                nodes[j]._length = currentChildLength;\n                                currentChildLength++;\n                            }\n                            return;\n                        }\n                    }\n                };\n\n                CapturedTrace.prototype.attachExtraTrace = function (error) {\n                    if (error.__stackCleaned__) return;\n                    this.uncycle();\n                    var parsed = parseStackAndMessage(error);\n                    var message = parsed.message;\n                    var stacks = [parsed.stack];\n\n                    var trace = this;\n                    while (trace !== undefined) {\n                        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n                        trace = trace._parent;\n                    }\n                    removeCommonRoots(stacks);\n                    removeDuplicateOrEmptyJumps(stacks);\n                    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n                    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n                };\n\n                var captureStackTrace = function stackDetection() {\n                    var v8stackFramePattern = /^\\s*at\\s*/;\n                    var v8stackFormatter = function v8stackFormatter(stack, error) {\n                        if (typeof stack === \"string\") return stack;\n\n                        if (error.name !== undefined && error.message !== undefined) {\n                            return error.toString();\n                        }\n                        return formatNonError(error);\n                    };\n\n                    if (typeof Error.stackTraceLimit === \"number\" && typeof Error.captureStackTrace === \"function\") {\n                        Error.stackTraceLimit += 6;\n                        stackFramePattern = v8stackFramePattern;\n                        formatStack = v8stackFormatter;\n                        var captureStackTrace = Error.captureStackTrace;\n\n                        shouldIgnore = function shouldIgnore(line) {\n                            return bluebirdFramePattern.test(line);\n                        };\n                        return function (receiver, ignoreUntil) {\n                            Error.stackTraceLimit += 6;\n                            captureStackTrace(receiver, ignoreUntil);\n                            Error.stackTraceLimit -= 6;\n                        };\n                    }\n                    var err = new Error();\n\n                    if (typeof err.stack === \"string\" && err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n                        stackFramePattern = /@/;\n                        formatStack = v8stackFormatter;\n                        indentStackFrames = true;\n                        return function captureStackTrace(o) {\n                            o.stack = new Error().stack;\n                        };\n                    }\n\n                    var hasStackAfterThrow;\n                    try {\n                        throw new Error();\n                    } catch (e) {\n                        hasStackAfterThrow = \"stack\" in e;\n                    }\n                    if (!(\"stack\" in err) && hasStackAfterThrow && typeof Error.stackTraceLimit === \"number\") {\n                        stackFramePattern = v8stackFramePattern;\n                        formatStack = v8stackFormatter;\n                        return function captureStackTrace(o) {\n                            Error.stackTraceLimit += 6;\n                            try {\n                                throw new Error();\n                            } catch (e) {\n                                o.stack = e.stack;\n                            }\n                            Error.stackTraceLimit -= 6;\n                        };\n                    }\n\n                    formatStack = function formatStack(stack, error) {\n                        if (typeof stack === \"string\") return stack;\n\n                        if ((typeof error === \"object\" || typeof error === \"function\") && error.name !== undefined && error.message !== undefined) {\n                            return error.toString();\n                        }\n                        return formatNonError(error);\n                    };\n\n                    return null;\n                }([]);\n\n                if (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n                    printWarning = function printWarning(message) {\n                        console.warn(message);\n                    };\n                    if (util.isNode && process.stderr.isTTY) {\n                        printWarning = function printWarning(message, isSoft) {\n                            var color = isSoft ? \"\\x1B[33m\" : \"\\x1B[31m\";\n                            console.warn(color + message + \"\\x1B[0m\\n\");\n                        };\n                    } else if (!util.isNode && typeof new Error().stack === \"string\") {\n                        printWarning = function printWarning(message, isSoft) {\n                            console.warn(\"%c\" + message, isSoft ? \"color: darkorange\" : \"color: red\");\n                        };\n                    }\n                }\n\n                var config = {\n                    warnings: warnings,\n                    longStackTraces: false,\n                    cancellation: false,\n                    monitoring: false\n                };\n\n                if (longStackTraces) Promise.longStackTraces();\n\n                return {\n                    longStackTraces: function longStackTraces() {\n                        return config.longStackTraces;\n                    },\n                    warnings: function warnings() {\n                        return config.warnings;\n                    },\n                    cancellation: function cancellation() {\n                        return config.cancellation;\n                    },\n                    monitoring: function monitoring() {\n                        return config.monitoring;\n                    },\n                    propagateFromFunction: function propagateFromFunction() {\n                        return _propagateFromFunction;\n                    },\n                    boundValueFunction: function boundValueFunction() {\n                        return _boundValueFunction;\n                    },\n                    checkForgottenReturns: checkForgottenReturns,\n                    setBounds: setBounds,\n                    warn: warn,\n                    deprecated: deprecated,\n                    CapturedTrace: CapturedTrace,\n                    fireDomEvent: fireDomEvent,\n                    fireGlobalEvent: fireGlobalEvent\n                };\n            };\n        }, { \"./errors\": 12, \"./util\": 36 }], 10: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise) {\n                function returner() {\n                    return this.value;\n                }\n                function thrower() {\n                    throw this.reason;\n                }\n\n                Promise.prototype[\"return\"] = Promise.prototype.thenReturn = function (value) {\n                    if (value instanceof Promise) value.suppressUnhandledRejections();\n                    return this._then(returner, undefined, undefined, { value: value }, undefined);\n                };\n\n                Promise.prototype[\"throw\"] = Promise.prototype.thenThrow = function (reason) {\n                    return this._then(thrower, undefined, undefined, { reason: reason }, undefined);\n                };\n\n                Promise.prototype.catchThrow = function (reason) {\n                    if (arguments.length <= 1) {\n                        return this._then(undefined, thrower, undefined, { reason: reason }, undefined);\n                    } else {\n                        var _reason = arguments[1];\n                        var handler = function handler() {\n                            throw _reason;\n                        };\n                        return this.caught(reason, handler);\n                    }\n                };\n\n                Promise.prototype.catchReturn = function (value) {\n                    if (arguments.length <= 1) {\n                        if (value instanceof Promise) value.suppressUnhandledRejections();\n                        return this._then(undefined, returner, undefined, { value: value }, undefined);\n                    } else {\n                        var _value = arguments[1];\n                        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n                        var handler = function handler() {\n                            return _value;\n                        };\n                        return this.caught(value, handler);\n                    }\n                };\n            };\n        }, {}], 11: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL) {\n                var PromiseReduce = Promise.reduce;\n                var PromiseAll = Promise.all;\n\n                function promiseAllThis() {\n                    return PromiseAll(this);\n                }\n\n                function PromiseMapSeries(promises, fn) {\n                    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n                }\n\n                Promise.prototype.each = function (fn) {\n                    return PromiseReduce(this, fn, INTERNAL, 0)._then(promiseAllThis, undefined, undefined, this, undefined);\n                };\n\n                Promise.prototype.mapSeries = function (fn) {\n                    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n                };\n\n                Promise.each = function (promises, fn) {\n                    return PromiseReduce(promises, fn, INTERNAL, 0)._then(promiseAllThis, undefined, undefined, promises, undefined);\n                };\n\n                Promise.mapSeries = PromiseMapSeries;\n            };\n        }, {}], 12: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var es5 = _dereq_(\"./es5\");\n            var Objectfreeze = es5.freeze;\n            var util = _dereq_(\"./util\");\n            var inherits = util.inherits;\n            var notEnumerableProp = util.notEnumerableProp;\n\n            function subError(nameProperty, defaultMessage) {\n                function SubError(message) {\n                    if (!(this instanceof SubError)) return new SubError(message);\n                    notEnumerableProp(this, \"message\", typeof message === \"string\" ? message : defaultMessage);\n                    notEnumerableProp(this, \"name\", nameProperty);\n                    if (Error.captureStackTrace) {\n                        Error.captureStackTrace(this, this.constructor);\n                    } else {\n                        Error.call(this);\n                    }\n                }\n                inherits(SubError, Error);\n                return SubError;\n            }\n\n            var _TypeError, _RangeError;\n            var Warning = subError(\"Warning\", \"warning\");\n            var CancellationError = subError(\"CancellationError\", \"cancellation error\");\n            var TimeoutError = subError(\"TimeoutError\", \"timeout error\");\n            var AggregateError = subError(\"AggregateError\", \"aggregate error\");\n            try {\n                _TypeError = TypeError;\n                _RangeError = RangeError;\n            } catch (e) {\n                _TypeError = subError(\"TypeError\", \"type error\");\n                _RangeError = subError(\"RangeError\", \"range error\");\n            }\n\n            var methods = (\"join pop push shift unshift slice filter forEach some \" + \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\n            for (var i = 0; i < methods.length; ++i) {\n                if (typeof Array.prototype[methods[i]] === \"function\") {\n                    AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n                }\n            }\n\n            es5.defineProperty(AggregateError.prototype, \"length\", {\n                value: 0,\n                configurable: false,\n                writable: true,\n                enumerable: true\n            });\n            AggregateError.prototype[\"isOperational\"] = true;\n            var level = 0;\n            AggregateError.prototype.toString = function () {\n                var indent = Array(level * 4 + 1).join(\" \");\n                var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n                level++;\n                indent = Array(level * 4 + 1).join(\" \");\n                for (var i = 0; i < this.length; ++i) {\n                    var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n                    var lines = str.split(\"\\n\");\n                    for (var j = 0; j < lines.length; ++j) {\n                        lines[j] = indent + lines[j];\n                    }\n                    str = lines.join(\"\\n\");\n                    ret += str + \"\\n\";\n                }\n                level--;\n                return ret;\n            };\n\n            function OperationalError(message) {\n                if (!(this instanceof OperationalError)) return new OperationalError(message);\n                notEnumerableProp(this, \"name\", \"OperationalError\");\n                notEnumerableProp(this, \"message\", message);\n                this.cause = message;\n                this[\"isOperational\"] = true;\n\n                if (message instanceof Error) {\n                    notEnumerableProp(this, \"message\", message.message);\n                    notEnumerableProp(this, \"stack\", message.stack);\n                } else if (Error.captureStackTrace) {\n                    Error.captureStackTrace(this, this.constructor);\n                }\n            }\n            inherits(OperationalError, Error);\n\n            var errorTypes = Error[\"__BluebirdErrorTypes__\"];\n            if (!errorTypes) {\n                errorTypes = Objectfreeze({\n                    CancellationError: CancellationError,\n                    TimeoutError: TimeoutError,\n                    OperationalError: OperationalError,\n                    RejectionError: OperationalError,\n                    AggregateError: AggregateError\n                });\n                es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n                    value: errorTypes,\n                    writable: false,\n                    enumerable: false,\n                    configurable: false\n                });\n            }\n\n            module.exports = {\n                Error: Error,\n                TypeError: _TypeError,\n                RangeError: _RangeError,\n                CancellationError: errorTypes.CancellationError,\n                OperationalError: errorTypes.OperationalError,\n                TimeoutError: errorTypes.TimeoutError,\n                AggregateError: errorTypes.AggregateError,\n                Warning: Warning\n            };\n        }, { \"./es5\": 13, \"./util\": 36 }], 13: [function (_dereq_, module, exports) {\n            var isES5 = function () {\n                \"use strict\";\n\n                return this === undefined;\n            }();\n\n            if (isES5) {\n                module.exports = {\n                    freeze: Object.freeze,\n                    defineProperty: Object.defineProperty,\n                    getDescriptor: Object.getOwnPropertyDescriptor,\n                    keys: Object.keys,\n                    names: Object.getOwnPropertyNames,\n                    getPrototypeOf: Object.getPrototypeOf,\n                    isArray: Array.isArray,\n                    isES5: isES5,\n                    propertyIsWritable: function propertyIsWritable(obj, prop) {\n                        var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n                        return !!(!descriptor || descriptor.writable || descriptor.set);\n                    }\n                };\n            } else {\n                var has = {}.hasOwnProperty;\n                var str = {}.toString;\n                var proto = {}.constructor.prototype;\n\n                var ObjectKeys = function ObjectKeys(o) {\n                    var ret = [];\n                    for (var key in o) {\n                        if (has.call(o, key)) {\n                            ret.push(key);\n                        }\n                    }\n                    return ret;\n                };\n\n                var ObjectGetDescriptor = function ObjectGetDescriptor(o, key) {\n                    return { value: o[key] };\n                };\n\n                var ObjectDefineProperty = function ObjectDefineProperty(o, key, desc) {\n                    o[key] = desc.value;\n                    return o;\n                };\n\n                var ObjectFreeze = function ObjectFreeze(obj) {\n                    return obj;\n                };\n\n                var ObjectGetPrototypeOf = function ObjectGetPrototypeOf(obj) {\n                    try {\n                        return Object(obj).constructor.prototype;\n                    } catch (e) {\n                        return proto;\n                    }\n                };\n\n                var ArrayIsArray = function ArrayIsArray(obj) {\n                    try {\n                        return str.call(obj) === \"[object Array]\";\n                    } catch (e) {\n                        return false;\n                    }\n                };\n\n                module.exports = {\n                    isArray: ArrayIsArray,\n                    keys: ObjectKeys,\n                    names: ObjectKeys,\n                    defineProperty: ObjectDefineProperty,\n                    getDescriptor: ObjectGetDescriptor,\n                    freeze: ObjectFreeze,\n                    getPrototypeOf: ObjectGetPrototypeOf,\n                    isES5: isES5,\n                    propertyIsWritable: function propertyIsWritable() {\n                        return true;\n                    }\n                };\n            }\n        }, {}], 14: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL) {\n                var PromiseMap = Promise.map;\n\n                Promise.prototype.filter = function (fn, options) {\n                    return PromiseMap(this, fn, options, INTERNAL);\n                };\n\n                Promise.filter = function (promises, fn, options) {\n                    return PromiseMap(promises, fn, options, INTERNAL);\n                };\n            };\n        }, {}], 15: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, tryConvertToPromise, NEXT_FILTER) {\n                var util = _dereq_(\"./util\");\n                var CancellationError = Promise.CancellationError;\n                var errorObj = util.errorObj;\n                var catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\n                function PassThroughHandlerContext(promise, type, handler) {\n                    this.promise = promise;\n                    this.type = type;\n                    this.handler = handler;\n                    this.called = false;\n                    this.cancelPromise = null;\n                }\n\n                PassThroughHandlerContext.prototype.isFinallyHandler = function () {\n                    return this.type === 0;\n                };\n\n                function FinallyHandlerCancelReaction(finallyHandler) {\n                    this.finallyHandler = finallyHandler;\n                }\n\n                FinallyHandlerCancelReaction.prototype._resultCancelled = function () {\n                    checkCancel(this.finallyHandler);\n                };\n\n                function checkCancel(ctx, reason) {\n                    if (ctx.cancelPromise != null) {\n                        if (arguments.length > 1) {\n                            ctx.cancelPromise._reject(reason);\n                        } else {\n                            ctx.cancelPromise._cancel();\n                        }\n                        ctx.cancelPromise = null;\n                        return true;\n                    }\n                    return false;\n                }\n\n                function succeed() {\n                    return finallyHandler.call(this, this.promise._target()._settledValue());\n                }\n                function fail(reason) {\n                    if (checkCancel(this, reason)) return;\n                    errorObj.e = reason;\n                    return errorObj;\n                }\n                function finallyHandler(reasonOrValue) {\n                    var promise = this.promise;\n                    var handler = this.handler;\n\n                    if (!this.called) {\n                        this.called = true;\n                        var ret = this.isFinallyHandler() ? handler.call(promise._boundValue()) : handler.call(promise._boundValue(), reasonOrValue);\n                        if (ret === NEXT_FILTER) {\n                            return ret;\n                        } else if (ret !== undefined) {\n                            promise._setReturnedNonUndefined();\n                            var maybePromise = tryConvertToPromise(ret, promise);\n                            if (maybePromise instanceof Promise) {\n                                if (this.cancelPromise != null) {\n                                    if (maybePromise._isCancelled()) {\n                                        var reason = new CancellationError(\"late cancellation observer\");\n                                        promise._attachExtraTrace(reason);\n                                        errorObj.e = reason;\n                                        return errorObj;\n                                    } else if (maybePromise.isPending()) {\n                                        maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this));\n                                    }\n                                }\n                                return maybePromise._then(succeed, fail, undefined, this, undefined);\n                            }\n                        }\n                    }\n\n                    if (promise.isRejected()) {\n                        checkCancel(this);\n                        errorObj.e = reasonOrValue;\n                        return errorObj;\n                    } else {\n                        checkCancel(this);\n                        return reasonOrValue;\n                    }\n                }\n\n                Promise.prototype._passThrough = function (handler, type, success, fail) {\n                    if (typeof handler !== \"function\") return this.then();\n                    return this._then(success, fail, undefined, new PassThroughHandlerContext(this, type, handler), undefined);\n                };\n\n                Promise.prototype.lastly = Promise.prototype[\"finally\"] = function (handler) {\n                    return this._passThrough(handler, 0, finallyHandler, finallyHandler);\n                };\n\n                Promise.prototype.tap = function (handler) {\n                    return this._passThrough(handler, 1, finallyHandler);\n                };\n\n                Promise.prototype.tapCatch = function (handlerOrPredicate) {\n                    var len = arguments.length;\n                    if (len === 1) {\n                        return this._passThrough(handlerOrPredicate, 1, undefined, finallyHandler);\n                    } else {\n                        var catchInstances = new Array(len - 1),\n                            j = 0,\n                            i;\n                        for (i = 0; i < len - 1; ++i) {\n                            var item = arguments[i];\n                            if (util.isObject(item)) {\n                                catchInstances[j++] = item;\n                            } else {\n                                return Promise.reject(new TypeError(\"tapCatch statement predicate: \" + \"expecting an object but got \" + util.classString(item)));\n                            }\n                        }\n                        catchInstances.length = j;\n                        var handler = arguments[i];\n                        return this._passThrough(catchFilter(catchInstances, handler, this), 1, undefined, finallyHandler);\n                    }\n                };\n\n                return PassThroughHandlerContext;\n            };\n        }, { \"./catch_filter\": 7, \"./util\": 36 }], 16: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug) {\n                var errors = _dereq_(\"./errors\");\n                var TypeError = errors.TypeError;\n                var util = _dereq_(\"./util\");\n                var errorObj = util.errorObj;\n                var tryCatch = util.tryCatch;\n                var yieldHandlers = [];\n\n                function promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n                    for (var i = 0; i < yieldHandlers.length; ++i) {\n                        traceParent._pushContext();\n                        var result = tryCatch(yieldHandlers[i])(value);\n                        traceParent._popContext();\n                        if (result === errorObj) {\n                            traceParent._pushContext();\n                            var ret = Promise.reject(errorObj.e);\n                            traceParent._popContext();\n                            return ret;\n                        }\n                        var maybePromise = tryConvertToPromise(result, traceParent);\n                        if (maybePromise instanceof Promise) return maybePromise;\n                    }\n                    return null;\n                }\n\n                function PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n                    if (debug.cancellation()) {\n                        var internal = new Promise(INTERNAL);\n                        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n                        this._promise = internal.lastly(function () {\n                            return _finallyPromise;\n                        });\n                        internal._captureStackTrace();\n                        internal._setOnCancel(this);\n                    } else {\n                        var promise = this._promise = new Promise(INTERNAL);\n                        promise._captureStackTrace();\n                    }\n                    this._stack = stack;\n                    this._generatorFunction = generatorFunction;\n                    this._receiver = receiver;\n                    this._generator = undefined;\n                    this._yieldHandlers = typeof yieldHandler === \"function\" ? [yieldHandler].concat(yieldHandlers) : yieldHandlers;\n                    this._yieldedPromise = null;\n                    this._cancellationPhase = false;\n                }\n                util.inherits(PromiseSpawn, Proxyable);\n\n                PromiseSpawn.prototype._isResolved = function () {\n                    return this._promise === null;\n                };\n\n                PromiseSpawn.prototype._cleanup = function () {\n                    this._promise = this._generator = null;\n                    if (debug.cancellation() && this._finallyPromise !== null) {\n                        this._finallyPromise._fulfill();\n                        this._finallyPromise = null;\n                    }\n                };\n\n                PromiseSpawn.prototype._promiseCancelled = function () {\n                    if (this._isResolved()) return;\n                    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n                    var result;\n                    if (!implementsReturn) {\n                        var reason = new Promise.CancellationError(\"generator .return() sentinel\");\n                        Promise.coroutine.returnSentinel = reason;\n                        this._promise._attachExtraTrace(reason);\n                        this._promise._pushContext();\n                        result = tryCatch(this._generator[\"throw\"]).call(this._generator, reason);\n                        this._promise._popContext();\n                    } else {\n                        this._promise._pushContext();\n                        result = tryCatch(this._generator[\"return\"]).call(this._generator, undefined);\n                        this._promise._popContext();\n                    }\n                    this._cancellationPhase = true;\n                    this._yieldedPromise = null;\n                    this._continue(result);\n                };\n\n                PromiseSpawn.prototype._promiseFulfilled = function (value) {\n                    this._yieldedPromise = null;\n                    this._promise._pushContext();\n                    var result = tryCatch(this._generator.next).call(this._generator, value);\n                    this._promise._popContext();\n                    this._continue(result);\n                };\n\n                PromiseSpawn.prototype._promiseRejected = function (reason) {\n                    this._yieldedPromise = null;\n                    this._promise._attachExtraTrace(reason);\n                    this._promise._pushContext();\n                    var result = tryCatch(this._generator[\"throw\"]).call(this._generator, reason);\n                    this._promise._popContext();\n                    this._continue(result);\n                };\n\n                PromiseSpawn.prototype._resultCancelled = function () {\n                    if (this._yieldedPromise instanceof Promise) {\n                        var promise = this._yieldedPromise;\n                        this._yieldedPromise = null;\n                        promise.cancel();\n                    }\n                };\n\n                PromiseSpawn.prototype.promise = function () {\n                    return this._promise;\n                };\n\n                PromiseSpawn.prototype._run = function () {\n                    this._generator = this._generatorFunction.call(this._receiver);\n                    this._receiver = this._generatorFunction = undefined;\n                    this._promiseFulfilled(undefined);\n                };\n\n                PromiseSpawn.prototype._continue = function (result) {\n                    var promise = this._promise;\n                    if (result === errorObj) {\n                        this._cleanup();\n                        if (this._cancellationPhase) {\n                            return promise.cancel();\n                        } else {\n                            return promise._rejectCallback(result.e, false);\n                        }\n                    }\n\n                    var value = result.value;\n                    if (result.done === true) {\n                        this._cleanup();\n                        if (this._cancellationPhase) {\n                            return promise.cancel();\n                        } else {\n                            return promise._resolveCallback(value);\n                        }\n                    } else {\n                        var maybePromise = tryConvertToPromise(value, this._promise);\n                        if (!(maybePromise instanceof Promise)) {\n                            maybePromise = promiseFromYieldHandler(maybePromise, this._yieldHandlers, this._promise);\n                            if (maybePromise === null) {\n                                this._promiseRejected(new TypeError(\"A value %s was yielded that could not be treated as a promise\\n\\n    See http://goo.gl/MqrFmX\\n\\n\".replace(\"%s\", String(value)) + \"From coroutine:\\n\" + this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")));\n                                return;\n                            }\n                        }\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if ((bitField & 50397184) === 0) {\n                            this._yieldedPromise = maybePromise;\n                            maybePromise._proxy(this, null);\n                        } else if ((bitField & 33554432) !== 0) {\n                            Promise._async.invoke(this._promiseFulfilled, this, maybePromise._value());\n                        } else if ((bitField & 16777216) !== 0) {\n                            Promise._async.invoke(this._promiseRejected, this, maybePromise._reason());\n                        } else {\n                            this._promiseCancelled();\n                        }\n                    }\n                };\n\n                Promise.coroutine = function (generatorFunction, options) {\n                    if (typeof generatorFunction !== \"function\") {\n                        throw new TypeError(\"generatorFunction must be a function\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    var yieldHandler = Object(options).yieldHandler;\n                    var PromiseSpawn$ = PromiseSpawn;\n                    var stack = new Error().stack;\n                    return function () {\n                        var generator = generatorFunction.apply(this, arguments);\n                        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler, stack);\n                        var ret = spawn.promise();\n                        spawn._generator = generator;\n                        spawn._promiseFulfilled(undefined);\n                        return ret;\n                    };\n                };\n\n                Promise.coroutine.addYieldHandler = function (fn) {\n                    if (typeof fn !== \"function\") {\n                        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    yieldHandlers.push(fn);\n                };\n\n                Promise.spawn = function (generatorFunction) {\n                    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n                    if (typeof generatorFunction !== \"function\") {\n                        return apiRejection(\"generatorFunction must be a function\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    var spawn = new PromiseSpawn(generatorFunction, this);\n                    var ret = spawn.promise();\n                    spawn._run(Promise.spawn);\n                    return ret;\n                };\n            };\n        }, { \"./errors\": 12, \"./util\": 36 }], 17: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain) {\n                var util = _dereq_(\"./util\");\n                var canEvaluate = util.canEvaluate;\n                var tryCatch = util.tryCatch;\n                var errorObj = util.errorObj;\n                var reject;\n\n                if (false) {\n                    if (canEvaluate) {\n                        var thenCallback = function thenCallback(i) {\n                            return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n                        };\n\n                        var promiseSetter = function promiseSetter(i) {\n                            return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n                        };\n\n                        var generateHolderClass = function generateHolderClass(total) {\n                            var props = new Array(total);\n                            for (var i = 0; i < props.length; ++i) {\n                                props[i] = \"this.p\" + (i + 1);\n                            }\n                            var assignment = props.join(\" = \") + \" = null;\";\n                            var cancellationCode = \"var promise;\\n\" + props.map(function (prop) {\n                                return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n                            }).join(\"\\n\");\n                            var passedArguments = props.join(\", \");\n                            var name = \"Holder$\" + total;\n\n                            var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n                            code = code.replace(/\\[TheName\\]/g, name).replace(/\\[TheTotal\\]/g, total).replace(/\\[ThePassedArguments\\]/g, passedArguments).replace(/\\[TheProperties\\]/g, assignment).replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n                            return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)(tryCatch, errorObj, Promise, async);\n                        };\n\n                        var holderClasses = [];\n                        var thenCallbacks = [];\n                        var promiseSetters = [];\n\n                        for (var i = 0; i < 8; ++i) {\n                            holderClasses.push(generateHolderClass(i + 1));\n                            thenCallbacks.push(thenCallback(i + 1));\n                            promiseSetters.push(promiseSetter(i + 1));\n                        }\n\n                        reject = function reject(reason) {\n                            this._reject(reason);\n                        };\n                    }\n                }\n\n                Promise.join = function () {\n                    var last = arguments.length - 1;\n                    var fn;\n                    if (last > 0 && typeof arguments[last] === \"function\") {\n                        fn = arguments[last];\n                        if (false) {\n                            if (last <= 8 && canEvaluate) {\n                                var ret = new Promise(INTERNAL);\n                                ret._captureStackTrace();\n                                var HolderClass = holderClasses[last - 1];\n                                var holder = new HolderClass(fn);\n                                var callbacks = thenCallbacks;\n\n                                for (var i = 0; i < last; ++i) {\n                                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                                    if (maybePromise instanceof Promise) {\n                                        maybePromise = maybePromise._target();\n                                        var bitField = maybePromise._bitField;\n                                        ;\n                                        if ((bitField & 50397184) === 0) {\n                                            maybePromise._then(callbacks[i], reject, undefined, ret, holder);\n                                            promiseSetters[i](maybePromise, holder);\n                                            holder.asyncNeeded = false;\n                                        } else if ((bitField & 33554432) !== 0) {\n                                            callbacks[i].call(ret, maybePromise._value(), holder);\n                                        } else if ((bitField & 16777216) !== 0) {\n                                            ret._reject(maybePromise._reason());\n                                        } else {\n                                            ret._cancel();\n                                        }\n                                    } else {\n                                        callbacks[i].call(ret, maybePromise, holder);\n                                    }\n                                }\n\n                                if (!ret._isFateSealed()) {\n                                    if (holder.asyncNeeded) {\n                                        var domain = getDomain();\n                                        if (domain !== null) {\n                                            holder.fn = util.domainBind(domain, holder.fn);\n                                        }\n                                    }\n                                    ret._setAsyncGuaranteed();\n                                    ret._setOnCancel(holder);\n                                }\n                                return ret;\n                            }\n                        }\n                    }\n                    var args = [].slice.call(arguments);;\n                    if (fn) args.pop();\n                    var ret = new PromiseArray(args).promise();\n                    return fn !== undefined ? ret.spread(fn) : ret;\n                };\n            };\n        }, { \"./util\": 36 }], 18: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug) {\n                var getDomain = Promise._getDomain;\n                var util = _dereq_(\"./util\");\n                var tryCatch = util.tryCatch;\n                var errorObj = util.errorObj;\n                var async = Promise._async;\n\n                function MappingPromiseArray(promises, fn, limit, _filter) {\n                    this.constructor$(promises);\n                    this._promise._captureStackTrace();\n                    var domain = getDomain();\n                    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n                    this._preservedValues = _filter === INTERNAL ? new Array(this.length()) : null;\n                    this._limit = limit;\n                    this._inFlight = 0;\n                    this._queue = [];\n                    async.invoke(this._asyncInit, this, undefined);\n                }\n                util.inherits(MappingPromiseArray, PromiseArray);\n\n                MappingPromiseArray.prototype._asyncInit = function () {\n                    this._init$(undefined, -2);\n                };\n\n                MappingPromiseArray.prototype._init = function () {};\n\n                MappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n                    var values = this._values;\n                    var length = this.length();\n                    var preservedValues = this._preservedValues;\n                    var limit = this._limit;\n\n                    if (index < 0) {\n                        index = index * -1 - 1;\n                        values[index] = value;\n                        if (limit >= 1) {\n                            this._inFlight--;\n                            this._drainQueue();\n                            if (this._isResolved()) return true;\n                        }\n                    } else {\n                        if (limit >= 1 && this._inFlight >= limit) {\n                            values[index] = value;\n                            this._queue.push(index);\n                            return false;\n                        }\n                        if (preservedValues !== null) preservedValues[index] = value;\n\n                        var promise = this._promise;\n                        var callback = this._callback;\n                        var receiver = promise._boundValue();\n                        promise._pushContext();\n                        var ret = tryCatch(callback).call(receiver, value, index, length);\n                        var promiseCreated = promise._popContext();\n                        debug.checkForgottenReturns(ret, promiseCreated, preservedValues !== null ? \"Promise.filter\" : \"Promise.map\", promise);\n                        if (ret === errorObj) {\n                            this._reject(ret.e);\n                            return true;\n                        }\n\n                        var maybePromise = tryConvertToPromise(ret, this._promise);\n                        if (maybePromise instanceof Promise) {\n                            maybePromise = maybePromise._target();\n                            var bitField = maybePromise._bitField;\n                            ;\n                            if ((bitField & 50397184) === 0) {\n                                if (limit >= 1) this._inFlight++;\n                                values[index] = maybePromise;\n                                maybePromise._proxy(this, (index + 1) * -1);\n                                return false;\n                            } else if ((bitField & 33554432) !== 0) {\n                                ret = maybePromise._value();\n                            } else if ((bitField & 16777216) !== 0) {\n                                this._reject(maybePromise._reason());\n                                return true;\n                            } else {\n                                this._cancel();\n                                return true;\n                            }\n                        }\n                        values[index] = ret;\n                    }\n                    var totalResolved = ++this._totalResolved;\n                    if (totalResolved >= length) {\n                        if (preservedValues !== null) {\n                            this._filter(values, preservedValues);\n                        } else {\n                            this._resolve(values);\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n\n                MappingPromiseArray.prototype._drainQueue = function () {\n                    var queue = this._queue;\n                    var limit = this._limit;\n                    var values = this._values;\n                    while (queue.length > 0 && this._inFlight < limit) {\n                        if (this._isResolved()) return;\n                        var index = queue.pop();\n                        this._promiseFulfilled(values[index], index);\n                    }\n                };\n\n                MappingPromiseArray.prototype._filter = function (booleans, values) {\n                    var len = values.length;\n                    var ret = new Array(len);\n                    var j = 0;\n                    for (var i = 0; i < len; ++i) {\n                        if (booleans[i]) ret[j++] = values[i];\n                    }\n                    ret.length = j;\n                    this._resolve(ret);\n                };\n\n                MappingPromiseArray.prototype.preservedValues = function () {\n                    return this._preservedValues;\n                };\n\n                function map(promises, fn, options, _filter) {\n                    if (typeof fn !== \"function\") {\n                        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n                    }\n\n                    var limit = 0;\n                    if (options !== undefined) {\n                        if (typeof options === \"object\" && options !== null) {\n                            if (typeof options.concurrency !== \"number\") {\n                                return Promise.reject(new TypeError(\"'concurrency' must be a number but it is \" + util.classString(options.concurrency)));\n                            }\n                            limit = options.concurrency;\n                        } else {\n                            return Promise.reject(new TypeError(\"options argument must be an object but it is \" + util.classString(options)));\n                        }\n                    }\n                    limit = typeof limit === \"number\" && isFinite(limit) && limit >= 1 ? limit : 0;\n                    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n                }\n\n                Promise.prototype.map = function (fn, options) {\n                    return map(this, fn, options, null);\n                };\n\n                Promise.map = function (promises, fn, options, _filter) {\n                    return map(promises, fn, options, _filter);\n                };\n            };\n        }, { \"./util\": 36 }], 19: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\n                var util = _dereq_(\"./util\");\n                var tryCatch = util.tryCatch;\n\n                Promise.method = function (fn) {\n                    if (typeof fn !== \"function\") {\n                        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    return function () {\n                        var ret = new Promise(INTERNAL);\n                        ret._captureStackTrace();\n                        ret._pushContext();\n                        var value = tryCatch(fn).apply(this, arguments);\n                        var promiseCreated = ret._popContext();\n                        debug.checkForgottenReturns(value, promiseCreated, \"Promise.method\", ret);\n                        ret._resolveFromSyncValue(value);\n                        return ret;\n                    };\n                };\n\n                Promise.attempt = Promise[\"try\"] = function (fn) {\n                    if (typeof fn !== \"function\") {\n                        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    var ret = new Promise(INTERNAL);\n                    ret._captureStackTrace();\n                    ret._pushContext();\n                    var value;\n                    if (arguments.length > 1) {\n                        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n                        var arg = arguments[1];\n                        var ctx = arguments[2];\n                        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg) : tryCatch(fn).call(ctx, arg);\n                    } else {\n                        value = tryCatch(fn)();\n                    }\n                    var promiseCreated = ret._popContext();\n                    debug.checkForgottenReturns(value, promiseCreated, \"Promise.try\", ret);\n                    ret._resolveFromSyncValue(value);\n                    return ret;\n                };\n\n                Promise.prototype._resolveFromSyncValue = function (value) {\n                    if (value === util.errorObj) {\n                        this._rejectCallback(value.e, false);\n                    } else {\n                        this._resolveCallback(value, true);\n                    }\n                };\n            };\n        }, { \"./util\": 36 }], 20: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var util = _dereq_(\"./util\");\n            var maybeWrapAsError = util.maybeWrapAsError;\n            var errors = _dereq_(\"./errors\");\n            var OperationalError = errors.OperationalError;\n            var es5 = _dereq_(\"./es5\");\n\n            function isUntypedError(obj) {\n                return obj instanceof Error && es5.getPrototypeOf(obj) === Error.prototype;\n            }\n\n            var rErrorKey = /^(?:name|message|stack|cause)$/;\n            function wrapAsOperationalError(obj) {\n                var ret;\n                if (isUntypedError(obj)) {\n                    ret = new OperationalError(obj);\n                    ret.name = obj.name;\n                    ret.message = obj.message;\n                    ret.stack = obj.stack;\n                    var keys = es5.keys(obj);\n                    for (var i = 0; i < keys.length; ++i) {\n                        var key = keys[i];\n                        if (!rErrorKey.test(key)) {\n                            ret[key] = obj[key];\n                        }\n                    }\n                    return ret;\n                }\n                util.markAsOriginatingFromRejection(obj);\n                return obj;\n            }\n\n            function nodebackForPromise(promise, multiArgs) {\n                return function (err, value) {\n                    if (promise === null) return;\n                    if (err) {\n                        var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n                        promise._attachExtraTrace(wrapped);\n                        promise._reject(wrapped);\n                    } else if (!multiArgs) {\n                        promise._fulfill(value);\n                    } else {\n                        var args = [].slice.call(arguments, 1);;\n                        promise._fulfill(args);\n                    }\n                    promise = null;\n                };\n            }\n\n            module.exports = nodebackForPromise;\n        }, { \"./errors\": 12, \"./es5\": 13, \"./util\": 36 }], 21: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise) {\n                var util = _dereq_(\"./util\");\n                var async = Promise._async;\n                var tryCatch = util.tryCatch;\n                var errorObj = util.errorObj;\n\n                function spreadAdapter(val, nodeback) {\n                    var promise = this;\n                    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n                    var ret = tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n                    if (ret === errorObj) {\n                        async.throwLater(ret.e);\n                    }\n                }\n\n                function successAdapter(val, nodeback) {\n                    var promise = this;\n                    var receiver = promise._boundValue();\n                    var ret = val === undefined ? tryCatch(nodeback).call(receiver, null) : tryCatch(nodeback).call(receiver, null, val);\n                    if (ret === errorObj) {\n                        async.throwLater(ret.e);\n                    }\n                }\n                function errorAdapter(reason, nodeback) {\n                    var promise = this;\n                    if (!reason) {\n                        var newReason = new Error(reason + \"\");\n                        newReason.cause = reason;\n                        reason = newReason;\n                    }\n                    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n                    if (ret === errorObj) {\n                        async.throwLater(ret.e);\n                    }\n                }\n\n                Promise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback, options) {\n                    if (typeof nodeback == \"function\") {\n                        var adapter = successAdapter;\n                        if (options !== undefined && Object(options).spread) {\n                            adapter = spreadAdapter;\n                        }\n                        this._then(adapter, errorAdapter, undefined, this, nodeback);\n                    }\n                    return this;\n                };\n            };\n        }, { \"./util\": 36 }], 22: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function () {\n                var makeSelfResolutionError = function makeSelfResolutionError() {\n                    return new TypeError(\"circular promise resolution chain\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                };\n                var reflectHandler = function reflectHandler() {\n                    return new Promise.PromiseInspection(this._target());\n                };\n                var apiRejection = function apiRejection(msg) {\n                    return Promise.reject(new TypeError(msg));\n                };\n                function Proxyable() {}\n                var UNDEFINED_BINDING = {};\n                var util = _dereq_(\"./util\");\n\n                var getDomain;\n                if (util.isNode) {\n                    getDomain = function getDomain() {\n                        var ret = process.domain;\n                        if (ret === undefined) ret = null;\n                        return ret;\n                    };\n                } else {\n                    getDomain = function getDomain() {\n                        return null;\n                    };\n                }\n                util.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\n                var es5 = _dereq_(\"./es5\");\n                var Async = _dereq_(\"./async\");\n                var async = new Async();\n                es5.defineProperty(Promise, \"_async\", { value: async });\n                var errors = _dereq_(\"./errors\");\n                var TypeError = Promise.TypeError = errors.TypeError;\n                Promise.RangeError = errors.RangeError;\n                var CancellationError = Promise.CancellationError = errors.CancellationError;\n                Promise.TimeoutError = errors.TimeoutError;\n                Promise.OperationalError = errors.OperationalError;\n                Promise.RejectionError = errors.OperationalError;\n                Promise.AggregateError = errors.AggregateError;\n                var INTERNAL = function INTERNAL() {};\n                var APPLY = {};\n                var NEXT_FILTER = {};\n                var tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\n                var PromiseArray = _dereq_(\"./promise_array\")(Promise, INTERNAL, tryConvertToPromise, apiRejection, Proxyable);\n                var Context = _dereq_(\"./context\")(Promise);\n                /*jshint unused:false*/\n                var createContext = Context.create;\n                var debug = _dereq_(\"./debuggability\")(Promise, Context);\n                var CapturedTrace = debug.CapturedTrace;\n                var PassThroughHandlerContext = _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\n                var catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n                var nodebackForPromise = _dereq_(\"./nodeback\");\n                var errorObj = util.errorObj;\n                var tryCatch = util.tryCatch;\n                function check(self, executor) {\n                    if (self == null || self.constructor !== Promise) {\n                        throw new TypeError(\"the promise constructor cannot be invoked directly\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    if (typeof executor !== \"function\") {\n                        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n                    }\n                }\n\n                function Promise(executor) {\n                    if (executor !== INTERNAL) {\n                        check(this, executor);\n                    }\n                    this._bitField = 0;\n                    this._fulfillmentHandler0 = undefined;\n                    this._rejectionHandler0 = undefined;\n                    this._promise0 = undefined;\n                    this._receiver0 = undefined;\n                    this._resolveFromExecutor(executor);\n                    this._promiseCreated();\n                    this._fireEvent(\"promiseCreated\", this);\n                }\n\n                Promise.prototype.toString = function () {\n                    return \"[object Promise]\";\n                };\n\n                Promise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n                    var len = arguments.length;\n                    if (len > 1) {\n                        var catchInstances = new Array(len - 1),\n                            j = 0,\n                            i;\n                        for (i = 0; i < len - 1; ++i) {\n                            var item = arguments[i];\n                            if (util.isObject(item)) {\n                                catchInstances[j++] = item;\n                            } else {\n                                return apiRejection(\"Catch statement predicate: \" + \"expecting an object but got \" + util.classString(item));\n                            }\n                        }\n                        catchInstances.length = j;\n                        fn = arguments[i];\n                        return this.then(undefined, catchFilter(catchInstances, fn, this));\n                    }\n                    return this.then(undefined, fn);\n                };\n\n                Promise.prototype.reflect = function () {\n                    return this._then(reflectHandler, reflectHandler, undefined, this, undefined);\n                };\n\n                Promise.prototype.then = function (didFulfill, didReject) {\n                    if (debug.warnings() && arguments.length > 0 && typeof didFulfill !== \"function\" && typeof didReject !== \"function\") {\n                        var msg = \".then() only accepts functions but was passed: \" + util.classString(didFulfill);\n                        if (arguments.length > 1) {\n                            msg += \", \" + util.classString(didReject);\n                        }\n                        this._warn(msg);\n                    }\n                    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n                };\n\n                Promise.prototype.done = function (didFulfill, didReject) {\n                    var promise = this._then(didFulfill, didReject, undefined, undefined, undefined);\n                    promise._setIsFinal();\n                };\n\n                Promise.prototype.spread = function (fn) {\n                    if (typeof fn !== \"function\") {\n                        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n                };\n\n                Promise.prototype.toJSON = function () {\n                    var ret = {\n                        isFulfilled: false,\n                        isRejected: false,\n                        fulfillmentValue: undefined,\n                        rejectionReason: undefined\n                    };\n                    if (this.isFulfilled()) {\n                        ret.fulfillmentValue = this.value();\n                        ret.isFulfilled = true;\n                    } else if (this.isRejected()) {\n                        ret.rejectionReason = this.reason();\n                        ret.isRejected = true;\n                    }\n                    return ret;\n                };\n\n                Promise.prototype.all = function () {\n                    if (arguments.length > 0) {\n                        this._warn(\".all() was passed arguments but it does not take any\");\n                    }\n                    return new PromiseArray(this).promise();\n                };\n\n                Promise.prototype.error = function (fn) {\n                    return this.caught(util.originatesFromRejection, fn);\n                };\n\n                Promise.getNewLibraryCopy = module.exports;\n\n                Promise.is = function (val) {\n                    return val instanceof Promise;\n                };\n\n                Promise.fromNode = Promise.fromCallback = function (fn) {\n                    var ret = new Promise(INTERNAL);\n                    ret._captureStackTrace();\n                    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs : false;\n                    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n                    if (result === errorObj) {\n                        ret._rejectCallback(result.e, true);\n                    }\n                    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n                    return ret;\n                };\n\n                Promise.all = function (promises) {\n                    return new PromiseArray(promises).promise();\n                };\n\n                Promise.cast = function (obj) {\n                    var ret = tryConvertToPromise(obj);\n                    if (!(ret instanceof Promise)) {\n                        ret = new Promise(INTERNAL);\n                        ret._captureStackTrace();\n                        ret._setFulfilled();\n                        ret._rejectionHandler0 = obj;\n                    }\n                    return ret;\n                };\n\n                Promise.resolve = Promise.fulfilled = Promise.cast;\n\n                Promise.reject = Promise.rejected = function (reason) {\n                    var ret = new Promise(INTERNAL);\n                    ret._captureStackTrace();\n                    ret._rejectCallback(reason, true);\n                    return ret;\n                };\n\n                Promise.setScheduler = function (fn) {\n                    if (typeof fn !== \"function\") {\n                        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    return async.setScheduler(fn);\n                };\n\n                Promise.prototype._then = function (didFulfill, didReject, _, receiver, internalData) {\n                    var haveInternalData = internalData !== undefined;\n                    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n                    var target = this._target();\n                    var bitField = target._bitField;\n\n                    if (!haveInternalData) {\n                        promise._propagateFrom(this, 3);\n                        promise._captureStackTrace();\n                        if (receiver === undefined && (this._bitField & 2097152) !== 0) {\n                            if (!((bitField & 50397184) === 0)) {\n                                receiver = this._boundValue();\n                            } else {\n                                receiver = target === this ? undefined : this._boundTo;\n                            }\n                        }\n                        this._fireEvent(\"promiseChained\", this, promise);\n                    }\n\n                    var domain = getDomain();\n                    if (!((bitField & 50397184) === 0)) {\n                        var handler,\n                            value,\n                            settler = target._settlePromiseCtx;\n                        if ((bitField & 33554432) !== 0) {\n                            value = target._rejectionHandler0;\n                            handler = didFulfill;\n                        } else if ((bitField & 16777216) !== 0) {\n                            value = target._fulfillmentHandler0;\n                            handler = didReject;\n                            target._unsetRejectionIsUnhandled();\n                        } else {\n                            settler = target._settlePromiseLateCancellationObserver;\n                            value = new CancellationError(\"late cancellation observer\");\n                            target._attachExtraTrace(value);\n                            handler = didReject;\n                        }\n\n                        async.invoke(settler, target, {\n                            handler: domain === null ? handler : typeof handler === \"function\" && util.domainBind(domain, handler),\n                            promise: promise,\n                            receiver: receiver,\n                            value: value\n                        });\n                    } else {\n                        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n                    }\n\n                    return promise;\n                };\n\n                Promise.prototype._length = function () {\n                    return this._bitField & 65535;\n                };\n\n                Promise.prototype._isFateSealed = function () {\n                    return (this._bitField & 117506048) !== 0;\n                };\n\n                Promise.prototype._isFollowing = function () {\n                    return (this._bitField & 67108864) === 67108864;\n                };\n\n                Promise.prototype._setLength = function (len) {\n                    this._bitField = this._bitField & -65536 | len & 65535;\n                };\n\n                Promise.prototype._setFulfilled = function () {\n                    this._bitField = this._bitField | 33554432;\n                    this._fireEvent(\"promiseFulfilled\", this);\n                };\n\n                Promise.prototype._setRejected = function () {\n                    this._bitField = this._bitField | 16777216;\n                    this._fireEvent(\"promiseRejected\", this);\n                };\n\n                Promise.prototype._setFollowing = function () {\n                    this._bitField = this._bitField | 67108864;\n                    this._fireEvent(\"promiseResolved\", this);\n                };\n\n                Promise.prototype._setIsFinal = function () {\n                    this._bitField = this._bitField | 4194304;\n                };\n\n                Promise.prototype._isFinal = function () {\n                    return (this._bitField & 4194304) > 0;\n                };\n\n                Promise.prototype._unsetCancelled = function () {\n                    this._bitField = this._bitField & ~65536;\n                };\n\n                Promise.prototype._setCancelled = function () {\n                    this._bitField = this._bitField | 65536;\n                    this._fireEvent(\"promiseCancelled\", this);\n                };\n\n                Promise.prototype._setWillBeCancelled = function () {\n                    this._bitField = this._bitField | 8388608;\n                };\n\n                Promise.prototype._setAsyncGuaranteed = function () {\n                    if (async.hasCustomScheduler()) return;\n                    this._bitField = this._bitField | 134217728;\n                };\n\n                Promise.prototype._receiverAt = function (index) {\n                    var ret = index === 0 ? this._receiver0 : this[index * 4 - 4 + 3];\n                    if (ret === UNDEFINED_BINDING) {\n                        return undefined;\n                    } else if (ret === undefined && this._isBound()) {\n                        return this._boundValue();\n                    }\n                    return ret;\n                };\n\n                Promise.prototype._promiseAt = function (index) {\n                    return this[index * 4 - 4 + 2];\n                };\n\n                Promise.prototype._fulfillmentHandlerAt = function (index) {\n                    return this[index * 4 - 4 + 0];\n                };\n\n                Promise.prototype._rejectionHandlerAt = function (index) {\n                    return this[index * 4 - 4 + 1];\n                };\n\n                Promise.prototype._boundValue = function () {};\n\n                Promise.prototype._migrateCallback0 = function (follower) {\n                    var bitField = follower._bitField;\n                    var fulfill = follower._fulfillmentHandler0;\n                    var reject = follower._rejectionHandler0;\n                    var promise = follower._promise0;\n                    var receiver = follower._receiverAt(0);\n                    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n                    this._addCallbacks(fulfill, reject, promise, receiver, null);\n                };\n\n                Promise.prototype._migrateCallbackAt = function (follower, index) {\n                    var fulfill = follower._fulfillmentHandlerAt(index);\n                    var reject = follower._rejectionHandlerAt(index);\n                    var promise = follower._promiseAt(index);\n                    var receiver = follower._receiverAt(index);\n                    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n                    this._addCallbacks(fulfill, reject, promise, receiver, null);\n                };\n\n                Promise.prototype._addCallbacks = function (fulfill, reject, promise, receiver, domain) {\n                    var index = this._length();\n\n                    if (index >= 65535 - 4) {\n                        index = 0;\n                        this._setLength(0);\n                    }\n\n                    if (index === 0) {\n                        this._promise0 = promise;\n                        this._receiver0 = receiver;\n                        if (typeof fulfill === \"function\") {\n                            this._fulfillmentHandler0 = domain === null ? fulfill : util.domainBind(domain, fulfill);\n                        }\n                        if (typeof reject === \"function\") {\n                            this._rejectionHandler0 = domain === null ? reject : util.domainBind(domain, reject);\n                        }\n                    } else {\n                        var base = index * 4 - 4;\n                        this[base + 2] = promise;\n                        this[base + 3] = receiver;\n                        if (typeof fulfill === \"function\") {\n                            this[base + 0] = domain === null ? fulfill : util.domainBind(domain, fulfill);\n                        }\n                        if (typeof reject === \"function\") {\n                            this[base + 1] = domain === null ? reject : util.domainBind(domain, reject);\n                        }\n                    }\n                    this._setLength(index + 1);\n                    return index;\n                };\n\n                Promise.prototype._proxy = function (proxyable, arg) {\n                    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n                };\n\n                Promise.prototype._resolveCallback = function (value, shouldBind) {\n                    if ((this._bitField & 117506048) !== 0) return;\n                    if (value === this) return this._rejectCallback(makeSelfResolutionError(), false);\n                    var maybePromise = tryConvertToPromise(value, this);\n                    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n                    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n                    var promise = maybePromise._target();\n\n                    if (promise === this) {\n                        this._reject(makeSelfResolutionError());\n                        return;\n                    }\n\n                    var bitField = promise._bitField;\n                    if ((bitField & 50397184) === 0) {\n                        var len = this._length();\n                        if (len > 0) promise._migrateCallback0(this);\n                        for (var i = 1; i < len; ++i) {\n                            promise._migrateCallbackAt(this, i);\n                        }\n                        this._setFollowing();\n                        this._setLength(0);\n                        this._setFollowee(promise);\n                    } else if ((bitField & 33554432) !== 0) {\n                        this._fulfill(promise._value());\n                    } else if ((bitField & 16777216) !== 0) {\n                        this._reject(promise._reason());\n                    } else {\n                        var reason = new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        this._reject(reason);\n                    }\n                };\n\n                Promise.prototype._rejectCallback = function (reason, synchronous, ignoreNonErrorWarnings) {\n                    var trace = util.ensureErrorObject(reason);\n                    var hasStack = trace === reason;\n                    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n                        var message = \"a promise was rejected with a non-error: \" + util.classString(reason);\n                        this._warn(message, true);\n                    }\n                    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n                    this._reject(reason);\n                };\n\n                Promise.prototype._resolveFromExecutor = function (executor) {\n                    if (executor === INTERNAL) return;\n                    var promise = this;\n                    this._captureStackTrace();\n                    this._pushContext();\n                    var synchronous = true;\n                    var r = this._execute(executor, function (value) {\n                        promise._resolveCallback(value);\n                    }, function (reason) {\n                        promise._rejectCallback(reason, synchronous);\n                    });\n                    synchronous = false;\n                    this._popContext();\n\n                    if (r !== undefined) {\n                        promise._rejectCallback(r, true);\n                    }\n                };\n\n                Promise.prototype._settlePromiseFromHandler = function (handler, receiver, value, promise) {\n                    var bitField = promise._bitField;\n                    if ((bitField & 65536) !== 0) return;\n                    promise._pushContext();\n                    var x;\n                    if (receiver === APPLY) {\n                        if (!value || typeof value.length !== \"number\") {\n                            x = errorObj;\n                            x.e = new TypeError(\"cannot .spread() a non-array: \" + util.classString(value));\n                        } else {\n                            x = tryCatch(handler).apply(this._boundValue(), value);\n                        }\n                    } else {\n                        x = tryCatch(handler).call(receiver, value);\n                    }\n                    var promiseCreated = promise._popContext();\n                    bitField = promise._bitField;\n                    if ((bitField & 65536) !== 0) return;\n\n                    if (x === NEXT_FILTER) {\n                        promise._reject(value);\n                    } else if (x === errorObj) {\n                        promise._rejectCallback(x.e, false);\n                    } else {\n                        debug.checkForgottenReturns(x, promiseCreated, \"\", promise, this);\n                        promise._resolveCallback(x);\n                    }\n                };\n\n                Promise.prototype._target = function () {\n                    var ret = this;\n                    while (ret._isFollowing()) {\n                        ret = ret._followee();\n                    }return ret;\n                };\n\n                Promise.prototype._followee = function () {\n                    return this._rejectionHandler0;\n                };\n\n                Promise.prototype._setFollowee = function (promise) {\n                    this._rejectionHandler0 = promise;\n                };\n\n                Promise.prototype._settlePromise = function (promise, handler, receiver, value) {\n                    var isPromise = promise instanceof Promise;\n                    var bitField = this._bitField;\n                    var asyncGuaranteed = (bitField & 134217728) !== 0;\n                    if ((bitField & 65536) !== 0) {\n                        if (isPromise) promise._invokeInternalOnCancel();\n\n                        if (receiver instanceof PassThroughHandlerContext && receiver.isFinallyHandler()) {\n                            receiver.cancelPromise = promise;\n                            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                                promise._reject(errorObj.e);\n                            }\n                        } else if (handler === reflectHandler) {\n                            promise._fulfill(reflectHandler.call(receiver));\n                        } else if (receiver instanceof Proxyable) {\n                            receiver._promiseCancelled(promise);\n                        } else if (isPromise || promise instanceof PromiseArray) {\n                            promise._cancel();\n                        } else {\n                            receiver.cancel();\n                        }\n                    } else if (typeof handler === \"function\") {\n                        if (!isPromise) {\n                            handler.call(receiver, value, promise);\n                        } else {\n                            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n                            this._settlePromiseFromHandler(handler, receiver, value, promise);\n                        }\n                    } else if (receiver instanceof Proxyable) {\n                        if (!receiver._isResolved()) {\n                            if ((bitField & 33554432) !== 0) {\n                                receiver._promiseFulfilled(value, promise);\n                            } else {\n                                receiver._promiseRejected(value, promise);\n                            }\n                        }\n                    } else if (isPromise) {\n                        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n                        if ((bitField & 33554432) !== 0) {\n                            promise._fulfill(value);\n                        } else {\n                            promise._reject(value);\n                        }\n                    }\n                };\n\n                Promise.prototype._settlePromiseLateCancellationObserver = function (ctx) {\n                    var handler = ctx.handler;\n                    var promise = ctx.promise;\n                    var receiver = ctx.receiver;\n                    var value = ctx.value;\n                    if (typeof handler === \"function\") {\n                        if (!(promise instanceof Promise)) {\n                            handler.call(receiver, value, promise);\n                        } else {\n                            this._settlePromiseFromHandler(handler, receiver, value, promise);\n                        }\n                    } else if (promise instanceof Promise) {\n                        promise._reject(value);\n                    }\n                };\n\n                Promise.prototype._settlePromiseCtx = function (ctx) {\n                    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n                };\n\n                Promise.prototype._settlePromise0 = function (handler, value, bitField) {\n                    var promise = this._promise0;\n                    var receiver = this._receiverAt(0);\n                    this._promise0 = undefined;\n                    this._receiver0 = undefined;\n                    this._settlePromise(promise, handler, receiver, value);\n                };\n\n                Promise.prototype._clearCallbackDataAtIndex = function (index) {\n                    var base = index * 4 - 4;\n                    this[base + 2] = this[base + 3] = this[base + 0] = this[base + 1] = undefined;\n                };\n\n                Promise.prototype._fulfill = function (value) {\n                    var bitField = this._bitField;\n                    if ((bitField & 117506048) >>> 16) return;\n                    if (value === this) {\n                        var err = makeSelfResolutionError();\n                        this._attachExtraTrace(err);\n                        return this._reject(err);\n                    }\n                    this._setFulfilled();\n                    this._rejectionHandler0 = value;\n\n                    if ((bitField & 65535) > 0) {\n                        if ((bitField & 134217728) !== 0) {\n                            this._settlePromises();\n                        } else {\n                            async.settlePromises(this);\n                        }\n                    }\n                };\n\n                Promise.prototype._reject = function (reason) {\n                    var bitField = this._bitField;\n                    if ((bitField & 117506048) >>> 16) return;\n                    this._setRejected();\n                    this._fulfillmentHandler0 = reason;\n\n                    if (this._isFinal()) {\n                        return async.fatalError(reason, util.isNode);\n                    }\n\n                    if ((bitField & 65535) > 0) {\n                        async.settlePromises(this);\n                    } else {\n                        this._ensurePossibleRejectionHandled();\n                    }\n                };\n\n                Promise.prototype._fulfillPromises = function (len, value) {\n                    for (var i = 1; i < len; i++) {\n                        var handler = this._fulfillmentHandlerAt(i);\n                        var promise = this._promiseAt(i);\n                        var receiver = this._receiverAt(i);\n                        this._clearCallbackDataAtIndex(i);\n                        this._settlePromise(promise, handler, receiver, value);\n                    }\n                };\n\n                Promise.prototype._rejectPromises = function (len, reason) {\n                    for (var i = 1; i < len; i++) {\n                        var handler = this._rejectionHandlerAt(i);\n                        var promise = this._promiseAt(i);\n                        var receiver = this._receiverAt(i);\n                        this._clearCallbackDataAtIndex(i);\n                        this._settlePromise(promise, handler, receiver, reason);\n                    }\n                };\n\n                Promise.prototype._settlePromises = function () {\n                    var bitField = this._bitField;\n                    var len = bitField & 65535;\n\n                    if (len > 0) {\n                        if ((bitField & 16842752) !== 0) {\n                            var reason = this._fulfillmentHandler0;\n                            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n                            this._rejectPromises(len, reason);\n                        } else {\n                            var value = this._rejectionHandler0;\n                            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n                            this._fulfillPromises(len, value);\n                        }\n                        this._setLength(0);\n                    }\n                    this._clearCancellationData();\n                };\n\n                Promise.prototype._settledValue = function () {\n                    var bitField = this._bitField;\n                    if ((bitField & 33554432) !== 0) {\n                        return this._rejectionHandler0;\n                    } else if ((bitField & 16777216) !== 0) {\n                        return this._fulfillmentHandler0;\n                    }\n                };\n\n                function deferResolve(v) {\n                    this.promise._resolveCallback(v);\n                }\n                function deferReject(v) {\n                    this.promise._rejectCallback(v, false);\n                }\n\n                Promise.defer = Promise.pending = function () {\n                    debug.deprecated(\"Promise.defer\", \"new Promise\");\n                    var promise = new Promise(INTERNAL);\n                    return {\n                        promise: promise,\n                        resolve: deferResolve,\n                        reject: deferReject\n                    };\n                };\n\n                util.notEnumerableProp(Promise, \"_makeSelfResolutionError\", makeSelfResolutionError);\n\n                _dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug);\n                _dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n                _dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n                _dereq_(\"./direct_resolve\")(Promise);\n                _dereq_(\"./synchronous_inspection\")(Promise);\n                _dereq_(\"./join\")(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\n                Promise.Promise = Promise;\n                Promise.version = \"3.5.1\";\n                _dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n                _dereq_('./call_get.js')(Promise);\n                _dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n                _dereq_('./timers.js')(Promise, INTERNAL, debug);\n                _dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n                _dereq_('./nodeify.js')(Promise);\n                _dereq_('./promisify.js')(Promise, INTERNAL);\n                _dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n                _dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n                _dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n                _dereq_('./settle.js')(Promise, PromiseArray, debug);\n                _dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n                _dereq_('./filter.js')(Promise, INTERNAL);\n                _dereq_('./each.js')(Promise, INTERNAL);\n                _dereq_('./any.js')(Promise);\n\n                util.toFastProperties(Promise);\n                util.toFastProperties(Promise.prototype);\n                function fillTypes(value) {\n                    var p = new Promise(INTERNAL);\n                    p._fulfillmentHandler0 = value;\n                    p._rejectionHandler0 = value;\n                    p._promise0 = value;\n                    p._receiver0 = value;\n                }\n                // Complete slack tracking, opt out of field-type tracking and           \n                // stabilize map                                                         \n                fillTypes({ a: 1 });\n                fillTypes({ b: 2 });\n                fillTypes({ c: 3 });\n                fillTypes(1);\n                fillTypes(function () {});\n                fillTypes(undefined);\n                fillTypes(false);\n                fillTypes(new Promise(INTERNAL));\n                debug.setBounds(Async.firstLineError, util.lastLineError);\n                return Promise;\n            };\n        }, { \"./any.js\": 1, \"./async\": 2, \"./bind\": 3, \"./call_get.js\": 5, \"./cancel\": 6, \"./catch_filter\": 7, \"./context\": 8, \"./debuggability\": 9, \"./direct_resolve\": 10, \"./each.js\": 11, \"./errors\": 12, \"./es5\": 13, \"./filter.js\": 14, \"./finally\": 15, \"./generators.js\": 16, \"./join\": 17, \"./map.js\": 18, \"./method\": 19, \"./nodeback\": 20, \"./nodeify.js\": 21, \"./promise_array\": 23, \"./promisify.js\": 24, \"./props.js\": 25, \"./race.js\": 27, \"./reduce.js\": 28, \"./settle.js\": 30, \"./some.js\": 31, \"./synchronous_inspection\": 32, \"./thenables\": 33, \"./timers.js\": 34, \"./using.js\": 35, \"./util\": 36 }], 23: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL, tryConvertToPromise, apiRejection, Proxyable) {\n                var util = _dereq_(\"./util\");\n                var isArray = util.isArray;\n\n                function toResolutionValue(val) {\n                    switch (val) {\n                        case -2:\n                            return [];\n                        case -3:\n                            return {};\n                        case -6:\n                            return new Map();\n                    }\n                }\n\n                function PromiseArray(values) {\n                    var promise = this._promise = new Promise(INTERNAL);\n                    if (values instanceof Promise) {\n                        promise._propagateFrom(values, 3);\n                    }\n                    promise._setOnCancel(this);\n                    this._values = values;\n                    this._length = 0;\n                    this._totalResolved = 0;\n                    this._init(undefined, -2);\n                }\n                util.inherits(PromiseArray, Proxyable);\n\n                PromiseArray.prototype.length = function () {\n                    return this._length;\n                };\n\n                PromiseArray.prototype.promise = function () {\n                    return this._promise;\n                };\n\n                PromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n                    var values = tryConvertToPromise(this._values, this._promise);\n                    if (values instanceof Promise) {\n                        values = values._target();\n                        var bitField = values._bitField;\n                        ;\n                        this._values = values;\n\n                        if ((bitField & 50397184) === 0) {\n                            this._promise._setAsyncGuaranteed();\n                            return values._then(init, this._reject, undefined, this, resolveValueIfEmpty);\n                        } else if ((bitField & 33554432) !== 0) {\n                            values = values._value();\n                        } else if ((bitField & 16777216) !== 0) {\n                            return this._reject(values._reason());\n                        } else {\n                            return this._cancel();\n                        }\n                    }\n                    values = util.asArray(values);\n                    if (values === null) {\n                        var err = apiRejection(\"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n                        this._promise._rejectCallback(err, false);\n                        return;\n                    }\n\n                    if (values.length === 0) {\n                        if (resolveValueIfEmpty === -5) {\n                            this._resolveEmptyArray();\n                        } else {\n                            this._resolve(toResolutionValue(resolveValueIfEmpty));\n                        }\n                        return;\n                    }\n                    this._iterate(values);\n                };\n\n                PromiseArray.prototype._iterate = function (values) {\n                    var len = this.getActualLength(values.length);\n                    this._length = len;\n                    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n                    var result = this._promise;\n                    var isResolved = false;\n                    var bitField = null;\n                    for (var i = 0; i < len; ++i) {\n                        var maybePromise = tryConvertToPromise(values[i], result);\n\n                        if (maybePromise instanceof Promise) {\n                            maybePromise = maybePromise._target();\n                            bitField = maybePromise._bitField;\n                        } else {\n                            bitField = null;\n                        }\n\n                        if (isResolved) {\n                            if (bitField !== null) {\n                                maybePromise.suppressUnhandledRejections();\n                            }\n                        } else if (bitField !== null) {\n                            if ((bitField & 50397184) === 0) {\n                                maybePromise._proxy(this, i);\n                                this._values[i] = maybePromise;\n                            } else if ((bitField & 33554432) !== 0) {\n                                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n                            } else if ((bitField & 16777216) !== 0) {\n                                isResolved = this._promiseRejected(maybePromise._reason(), i);\n                            } else {\n                                isResolved = this._promiseCancelled(i);\n                            }\n                        } else {\n                            isResolved = this._promiseFulfilled(maybePromise, i);\n                        }\n                    }\n                    if (!isResolved) result._setAsyncGuaranteed();\n                };\n\n                PromiseArray.prototype._isResolved = function () {\n                    return this._values === null;\n                };\n\n                PromiseArray.prototype._resolve = function (value) {\n                    this._values = null;\n                    this._promise._fulfill(value);\n                };\n\n                PromiseArray.prototype._cancel = function () {\n                    if (this._isResolved() || !this._promise._isCancellable()) return;\n                    this._values = null;\n                    this._promise._cancel();\n                };\n\n                PromiseArray.prototype._reject = function (reason) {\n                    this._values = null;\n                    this._promise._rejectCallback(reason, false);\n                };\n\n                PromiseArray.prototype._promiseFulfilled = function (value, index) {\n                    this._values[index] = value;\n                    var totalResolved = ++this._totalResolved;\n                    if (totalResolved >= this._length) {\n                        this._resolve(this._values);\n                        return true;\n                    }\n                    return false;\n                };\n\n                PromiseArray.prototype._promiseCancelled = function () {\n                    this._cancel();\n                    return true;\n                };\n\n                PromiseArray.prototype._promiseRejected = function (reason) {\n                    this._totalResolved++;\n                    this._reject(reason);\n                    return true;\n                };\n\n                PromiseArray.prototype._resultCancelled = function () {\n                    if (this._isResolved()) return;\n                    var values = this._values;\n                    this._cancel();\n                    if (values instanceof Promise) {\n                        values.cancel();\n                    } else {\n                        for (var i = 0; i < values.length; ++i) {\n                            if (values[i] instanceof Promise) {\n                                values[i].cancel();\n                            }\n                        }\n                    }\n                };\n\n                PromiseArray.prototype.shouldCopyValues = function () {\n                    return true;\n                };\n\n                PromiseArray.prototype.getActualLength = function (len) {\n                    return len;\n                };\n\n                return PromiseArray;\n            };\n        }, { \"./util\": 36 }], 24: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL) {\n                var THIS = {};\n                var util = _dereq_(\"./util\");\n                var nodebackForPromise = _dereq_(\"./nodeback\");\n                var withAppended = util.withAppended;\n                var maybeWrapAsError = util.maybeWrapAsError;\n                var canEvaluate = util.canEvaluate;\n                var TypeError = _dereq_(\"./errors\").TypeError;\n                var defaultSuffix = \"Async\";\n                var defaultPromisified = { __isPromisified__: true };\n                var noCopyProps = [\"arity\", \"length\", \"name\", \"arguments\", \"caller\", \"callee\", \"prototype\", \"__isPromisified__\"];\n                var noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\n                var defaultFilter = function defaultFilter(name) {\n                    return util.isIdentifier(name) && name.charAt(0) !== \"_\" && name !== \"constructor\";\n                };\n\n                function propsFilter(key) {\n                    return !noCopyPropsPattern.test(key);\n                }\n\n                function isPromisified(fn) {\n                    try {\n                        return fn.__isPromisified__ === true;\n                    } catch (e) {\n                        return false;\n                    }\n                }\n\n                function hasPromisified(obj, key, suffix) {\n                    var val = util.getDataPropertyOrDefault(obj, key + suffix, defaultPromisified);\n                    return val ? isPromisified(val) : false;\n                }\n                function checkValid(ret, suffix, suffixRegexp) {\n                    for (var i = 0; i < ret.length; i += 2) {\n                        var key = ret[i];\n                        if (suffixRegexp.test(key)) {\n                            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n                            for (var j = 0; j < ret.length; j += 2) {\n                                if (ret[j] === keyWithoutAsyncSuffix) {\n                                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\n\\n    See http://goo.gl/MqrFmX\\n\".replace(\"%s\", suffix));\n                                }\n                            }\n                        }\n                    }\n                }\n\n                function promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n                    var keys = util.inheritedDataKeys(obj);\n                    var ret = [];\n                    for (var i = 0; i < keys.length; ++i) {\n                        var key = keys[i];\n                        var value = obj[key];\n                        var passesDefaultFilter = filter === defaultFilter ? true : defaultFilter(key, value, obj);\n                        if (typeof value === \"function\" && !isPromisified(value) && !hasPromisified(obj, key, suffix) && filter(key, value, obj, passesDefaultFilter)) {\n                            ret.push(key, value);\n                        }\n                    }\n                    checkValid(ret, suffix, suffixRegexp);\n                    return ret;\n                }\n\n                var escapeIdentRegex = function escapeIdentRegex(str) {\n                    return str.replace(/([$])/, \"\\\\$\");\n                };\n\n                var makeNodePromisifiedEval;\n                if (false) {\n                    var switchCaseArgumentOrder = function switchCaseArgumentOrder(likelyArgumentCount) {\n                        var ret = [likelyArgumentCount];\n                        var min = Math.max(0, likelyArgumentCount - 1 - 3);\n                        for (var i = likelyArgumentCount - 1; i >= min; --i) {\n                            ret.push(i);\n                        }\n                        for (var i = likelyArgumentCount + 1; i <= 3; ++i) {\n                            ret.push(i);\n                        }\n                        return ret;\n                    };\n\n                    var argumentSequence = function argumentSequence(argumentCount) {\n                        return util.filledRange(argumentCount, \"_arg\", \"\");\n                    };\n\n                    var parameterDeclaration = function parameterDeclaration(parameterCount) {\n                        return util.filledRange(Math.max(parameterCount, 3), \"_arg\", \"\");\n                    };\n\n                    var parameterCount = function parameterCount(fn) {\n                        if (typeof fn.length === \"number\") {\n                            return Math.max(Math.min(fn.length, 1023 + 1), 0);\n                        }\n                        return 0;\n                    };\n\n                    makeNodePromisifiedEval = function makeNodePromisifiedEval(callback, receiver, originalName, fn, _, multiArgs) {\n                        var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n                        var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n                        var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n                        function generateCallForArgumentCount(count) {\n                            var args = argumentSequence(count).join(\", \");\n                            var comma = count > 0 ? \", \" : \"\";\n                            var ret;\n                            if (shouldProxyThis) {\n                                ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n                            } else {\n                                ret = receiver === undefined ? \"ret = callback({{args}}, nodeback); break;\\n\" : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n                            }\n                            return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n                        }\n\n                        function generateArgumentSwitchCase() {\n                            var ret = \"\";\n                            for (var i = 0; i < argumentOrder.length; ++i) {\n                                ret += \"case \" + argumentOrder[i] + \":\" + generateCallForArgumentCount(argumentOrder[i]);\n                            }\n\n                            ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", shouldProxyThis ? \"ret = callback.apply(this, args);\\n\" : \"ret = callback.apply(receiver, args);\\n\");\n                            return ret;\n                        }\n\n                        var getFunctionCode = typeof callback === \"string\" ? \"this != null ? this['\" + callback + \"'] : fn\" : \"fn\";\n                        var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase()).replace(\"[GetFunctionCode]\", getFunctionCode);\n                        body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n                        return new Function(\"Promise\", \"fn\", \"receiver\", \"withAppended\", \"maybeWrapAsError\", \"nodebackForPromise\", \"tryCatch\", \"errorObj\", \"notEnumerableProp\", \"INTERNAL\", body)(Promise, fn, receiver, withAppended, maybeWrapAsError, nodebackForPromise, util.tryCatch, util.errorObj, util.notEnumerableProp, INTERNAL);\n                    };\n                }\n\n                function makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n                    var defaultThis = function () {\n                        return this;\n                    }();\n                    var method = callback;\n                    if (typeof method === \"string\") {\n                        callback = fn;\n                    }\n                    function promisified() {\n                        var _receiver = receiver;\n                        if (receiver === THIS) _receiver = this;\n                        var promise = new Promise(INTERNAL);\n                        promise._captureStackTrace();\n                        var cb = typeof method === \"string\" && this !== defaultThis ? this[method] : callback;\n                        var fn = nodebackForPromise(promise, multiArgs);\n                        try {\n                            cb.apply(_receiver, withAppended(arguments, fn));\n                        } catch (e) {\n                            promise._rejectCallback(maybeWrapAsError(e), true, true);\n                        }\n                        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n                        return promise;\n                    }\n                    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n                    return promisified;\n                }\n\n                var makeNodePromisified = canEvaluate ? makeNodePromisifiedEval : makeNodePromisifiedClosure;\n\n                function promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n                    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n                    var methods = promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n                    for (var i = 0, len = methods.length; i < len; i += 2) {\n                        var key = methods[i];\n                        var fn = methods[i + 1];\n                        var promisifiedKey = key + suffix;\n                        if (promisifier === makeNodePromisified) {\n                            obj[promisifiedKey] = makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n                        } else {\n                            var promisified = promisifier(fn, function () {\n                                return makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n                            });\n                            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n                            obj[promisifiedKey] = promisified;\n                        }\n                    }\n                    util.toFastProperties(obj);\n                    return obj;\n                }\n\n                function promisify(callback, receiver, multiArgs) {\n                    return makeNodePromisified(callback, receiver, undefined, callback, null, multiArgs);\n                }\n\n                Promise.promisify = function (fn, options) {\n                    if (typeof fn !== \"function\") {\n                        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    if (isPromisified(fn)) {\n                        return fn;\n                    }\n                    options = Object(options);\n                    var receiver = options.context === undefined ? THIS : options.context;\n                    var multiArgs = !!options.multiArgs;\n                    var ret = promisify(fn, receiver, multiArgs);\n                    util.copyDescriptors(fn, ret, propsFilter);\n                    return ret;\n                };\n\n                Promise.promisifyAll = function (target, options) {\n                    if (typeof target !== \"function\" && typeof target !== \"object\") {\n                        throw new TypeError(\"the target of promisifyAll must be an object or a function\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    options = Object(options);\n                    var multiArgs = !!options.multiArgs;\n                    var suffix = options.suffix;\n                    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n                    var filter = options.filter;\n                    if (typeof filter !== \"function\") filter = defaultFilter;\n                    var promisifier = options.promisifier;\n                    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n                    if (!util.isIdentifier(suffix)) {\n                        throw new RangeError(\"suffix must be a valid identifier\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n\n                    var keys = util.inheritedDataKeys(target);\n                    for (var i = 0; i < keys.length; ++i) {\n                        var value = target[keys[i]];\n                        if (keys[i] !== \"constructor\" && util.isClass(value)) {\n                            promisifyAll(value.prototype, suffix, filter, promisifier, multiArgs);\n                            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n                        }\n                    }\n\n                    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n                };\n            };\n        }, { \"./errors\": 12, \"./nodeback\": 20, \"./util\": 36 }], 25: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, tryConvertToPromise, apiRejection) {\n                var util = _dereq_(\"./util\");\n                var isObject = util.isObject;\n                var es5 = _dereq_(\"./es5\");\n                var Es6Map;\n                if (typeof Map === \"function\") Es6Map = Map;\n\n                var mapToEntries = function () {\n                    var index = 0;\n                    var size = 0;\n\n                    function extractEntry(value, key) {\n                        this[index] = value;\n                        this[index + size] = key;\n                        index++;\n                    }\n\n                    return function mapToEntries(map) {\n                        size = map.size;\n                        index = 0;\n                        var ret = new Array(map.size * 2);\n                        map.forEach(extractEntry, ret);\n                        return ret;\n                    };\n                }();\n\n                var entriesToMap = function entriesToMap(entries) {\n                    var ret = new Es6Map();\n                    var length = entries.length / 2 | 0;\n                    for (var i = 0; i < length; ++i) {\n                        var key = entries[length + i];\n                        var value = entries[i];\n                        ret.set(key, value);\n                    }\n                    return ret;\n                };\n\n                function PropertiesPromiseArray(obj) {\n                    var isMap = false;\n                    var entries;\n                    if (Es6Map !== undefined && obj instanceof Es6Map) {\n                        entries = mapToEntries(obj);\n                        isMap = true;\n                    } else {\n                        var keys = es5.keys(obj);\n                        var len = keys.length;\n                        entries = new Array(len * 2);\n                        for (var i = 0; i < len; ++i) {\n                            var key = keys[i];\n                            entries[i] = obj[key];\n                            entries[i + len] = key;\n                        }\n                    }\n                    this.constructor$(entries);\n                    this._isMap = isMap;\n                    this._init$(undefined, isMap ? -6 : -3);\n                }\n                util.inherits(PropertiesPromiseArray, PromiseArray);\n\n                PropertiesPromiseArray.prototype._init = function () {};\n\n                PropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n                    this._values[index] = value;\n                    var totalResolved = ++this._totalResolved;\n                    if (totalResolved >= this._length) {\n                        var val;\n                        if (this._isMap) {\n                            val = entriesToMap(this._values);\n                        } else {\n                            val = {};\n                            var keyOffset = this.length();\n                            for (var i = 0, len = this.length(); i < len; ++i) {\n                                val[this._values[i + keyOffset]] = this._values[i];\n                            }\n                        }\n                        this._resolve(val);\n                        return true;\n                    }\n                    return false;\n                };\n\n                PropertiesPromiseArray.prototype.shouldCopyValues = function () {\n                    return false;\n                };\n\n                PropertiesPromiseArray.prototype.getActualLength = function (len) {\n                    return len >> 1;\n                };\n\n                function props(promises) {\n                    var ret;\n                    var castValue = tryConvertToPromise(promises);\n\n                    if (!isObject(castValue)) {\n                        return apiRejection(\"cannot await properties of a non-object\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    } else if (castValue instanceof Promise) {\n                        ret = castValue._then(Promise.props, undefined, undefined, undefined, undefined);\n                    } else {\n                        ret = new PropertiesPromiseArray(castValue).promise();\n                    }\n\n                    if (castValue instanceof Promise) {\n                        ret._propagateFrom(castValue, 2);\n                    }\n                    return ret;\n                }\n\n                Promise.prototype.props = function () {\n                    return props(this);\n                };\n\n                Promise.props = function (promises) {\n                    return props(promises);\n                };\n            };\n        }, { \"./es5\": 13, \"./util\": 36 }], 26: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            function arrayMove(src, srcIndex, dst, dstIndex, len) {\n                for (var j = 0; j < len; ++j) {\n                    dst[j + dstIndex] = src[j + srcIndex];\n                    src[j + srcIndex] = void 0;\n                }\n            }\n\n            function Queue(capacity) {\n                this._capacity = capacity;\n                this._length = 0;\n                this._front = 0;\n            }\n\n            Queue.prototype._willBeOverCapacity = function (size) {\n                return this._capacity < size;\n            };\n\n            Queue.prototype._pushOne = function (arg) {\n                var length = this.length();\n                this._checkCapacity(length + 1);\n                var i = this._front + length & this._capacity - 1;\n                this[i] = arg;\n                this._length = length + 1;\n            };\n\n            Queue.prototype.push = function (fn, receiver, arg) {\n                var length = this.length() + 3;\n                if (this._willBeOverCapacity(length)) {\n                    this._pushOne(fn);\n                    this._pushOne(receiver);\n                    this._pushOne(arg);\n                    return;\n                }\n                var j = this._front + length - 3;\n                this._checkCapacity(length);\n                var wrapMask = this._capacity - 1;\n                this[j + 0 & wrapMask] = fn;\n                this[j + 1 & wrapMask] = receiver;\n                this[j + 2 & wrapMask] = arg;\n                this._length = length;\n            };\n\n            Queue.prototype.shift = function () {\n                var front = this._front,\n                    ret = this[front];\n\n                this[front] = undefined;\n                this._front = front + 1 & this._capacity - 1;\n                this._length--;\n                return ret;\n            };\n\n            Queue.prototype.length = function () {\n                return this._length;\n            };\n\n            Queue.prototype._checkCapacity = function (size) {\n                if (this._capacity < size) {\n                    this._resizeTo(this._capacity << 1);\n                }\n            };\n\n            Queue.prototype._resizeTo = function (capacity) {\n                var oldCapacity = this._capacity;\n                this._capacity = capacity;\n                var front = this._front;\n                var length = this._length;\n                var moveItemsCount = front + length & oldCapacity - 1;\n                arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n            };\n\n            module.exports = Queue;\n        }, {}], 27: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL, tryConvertToPromise, apiRejection) {\n                var util = _dereq_(\"./util\");\n\n                var raceLater = function raceLater(promise) {\n                    return promise.then(function (array) {\n                        return race(array, promise);\n                    });\n                };\n\n                function race(promises, parent) {\n                    var maybePromise = tryConvertToPromise(promises);\n\n                    if (maybePromise instanceof Promise) {\n                        return raceLater(maybePromise);\n                    } else {\n                        promises = util.asArray(promises);\n                        if (promises === null) return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n                    }\n\n                    var ret = new Promise(INTERNAL);\n                    if (parent !== undefined) {\n                        ret._propagateFrom(parent, 3);\n                    }\n                    var fulfill = ret._fulfill;\n                    var reject = ret._reject;\n                    for (var i = 0, len = promises.length; i < len; ++i) {\n                        var val = promises[i];\n\n                        if (val === undefined && !(i in promises)) {\n                            continue;\n                        }\n\n                        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n                    }\n                    return ret;\n                }\n\n                Promise.race = function (promises) {\n                    return race(promises, undefined);\n                };\n\n                Promise.prototype.race = function () {\n                    return race(this, undefined);\n                };\n            };\n        }, { \"./util\": 36 }], 28: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug) {\n                var getDomain = Promise._getDomain;\n                var util = _dereq_(\"./util\");\n                var tryCatch = util.tryCatch;\n\n                function ReductionPromiseArray(promises, fn, initialValue, _each) {\n                    this.constructor$(promises);\n                    var domain = getDomain();\n                    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n                    if (initialValue !== undefined) {\n                        initialValue = Promise.resolve(initialValue);\n                        initialValue._attachCancellationCallback(this);\n                    }\n                    this._initialValue = initialValue;\n                    this._currentCancellable = null;\n                    if (_each === INTERNAL) {\n                        this._eachValues = Array(this._length);\n                    } else if (_each === 0) {\n                        this._eachValues = null;\n                    } else {\n                        this._eachValues = undefined;\n                    }\n                    this._promise._captureStackTrace();\n                    this._init$(undefined, -5);\n                }\n                util.inherits(ReductionPromiseArray, PromiseArray);\n\n                ReductionPromiseArray.prototype._gotAccum = function (accum) {\n                    if (this._eachValues !== undefined && this._eachValues !== null && accum !== INTERNAL) {\n                        this._eachValues.push(accum);\n                    }\n                };\n\n                ReductionPromiseArray.prototype._eachComplete = function (value) {\n                    if (this._eachValues !== null) {\n                        this._eachValues.push(value);\n                    }\n                    return this._eachValues;\n                };\n\n                ReductionPromiseArray.prototype._init = function () {};\n\n                ReductionPromiseArray.prototype._resolveEmptyArray = function () {\n                    this._resolve(this._eachValues !== undefined ? this._eachValues : this._initialValue);\n                };\n\n                ReductionPromiseArray.prototype.shouldCopyValues = function () {\n                    return false;\n                };\n\n                ReductionPromiseArray.prototype._resolve = function (value) {\n                    this._promise._resolveCallback(value);\n                    this._values = null;\n                };\n\n                ReductionPromiseArray.prototype._resultCancelled = function (sender) {\n                    if (sender === this._initialValue) return this._cancel();\n                    if (this._isResolved()) return;\n                    this._resultCancelled$();\n                    if (this._currentCancellable instanceof Promise) {\n                        this._currentCancellable.cancel();\n                    }\n                    if (this._initialValue instanceof Promise) {\n                        this._initialValue.cancel();\n                    }\n                };\n\n                ReductionPromiseArray.prototype._iterate = function (values) {\n                    this._values = values;\n                    var value;\n                    var i;\n                    var length = values.length;\n                    if (this._initialValue !== undefined) {\n                        value = this._initialValue;\n                        i = 0;\n                    } else {\n                        value = Promise.resolve(values[0]);\n                        i = 1;\n                    }\n\n                    this._currentCancellable = value;\n\n                    if (!value.isRejected()) {\n                        for (; i < length; ++i) {\n                            var ctx = {\n                                accum: null,\n                                value: values[i],\n                                index: i,\n                                length: length,\n                                array: this\n                            };\n                            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n                        }\n                    }\n\n                    if (this._eachValues !== undefined) {\n                        value = value._then(this._eachComplete, undefined, undefined, this, undefined);\n                    }\n                    value._then(completed, completed, undefined, value, this);\n                };\n\n                Promise.prototype.reduce = function (fn, initialValue) {\n                    return reduce(this, fn, initialValue, null);\n                };\n\n                Promise.reduce = function (promises, fn, initialValue, _each) {\n                    return reduce(promises, fn, initialValue, _each);\n                };\n\n                function completed(valueOrReason, array) {\n                    if (this.isFulfilled()) {\n                        array._resolve(valueOrReason);\n                    } else {\n                        array._reject(valueOrReason);\n                    }\n                }\n\n                function reduce(promises, fn, initialValue, _each) {\n                    if (typeof fn !== \"function\") {\n                        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n                    return array.promise();\n                }\n\n                function gotAccum(accum) {\n                    this.accum = accum;\n                    this.array._gotAccum(accum);\n                    var value = tryConvertToPromise(this.value, this.array._promise);\n                    if (value instanceof Promise) {\n                        this.array._currentCancellable = value;\n                        return value._then(gotValue, undefined, undefined, this, undefined);\n                    } else {\n                        return gotValue.call(this, value);\n                    }\n                }\n\n                function gotValue(value) {\n                    var array = this.array;\n                    var promise = array._promise;\n                    var fn = tryCatch(array._fn);\n                    promise._pushContext();\n                    var ret;\n                    if (array._eachValues !== undefined) {\n                        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n                    } else {\n                        ret = fn.call(promise._boundValue(), this.accum, value, this.index, this.length);\n                    }\n                    if (ret instanceof Promise) {\n                        array._currentCancellable = ret;\n                    }\n                    var promiseCreated = promise._popContext();\n                    debug.checkForgottenReturns(ret, promiseCreated, array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\", promise);\n                    return ret;\n                }\n            };\n        }, { \"./util\": 36 }], 29: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var util = _dereq_(\"./util\");\n            var schedule;\n            var noAsyncScheduler = function noAsyncScheduler() {\n                throw new Error(\"No async scheduler available\\n\\n    See http://goo.gl/MqrFmX\\n\");\n            };\n            var NativePromise = util.getNativePromise();\n            if (util.isNode && typeof MutationObserver === \"undefined\") {\n                var GlobalSetImmediate = global.setImmediate;\n                var ProcessNextTick = process.nextTick;\n                schedule = util.isRecentNode ? function (fn) {\n                    GlobalSetImmediate.call(global, fn);\n                } : function (fn) {\n                    ProcessNextTick.call(process, fn);\n                };\n            } else if (typeof NativePromise === \"function\" && typeof NativePromise.resolve === \"function\") {\n                var nativePromise = NativePromise.resolve();\n                schedule = function schedule(fn) {\n                    nativePromise.then(fn);\n                };\n            } else if (typeof MutationObserver !== \"undefined\" && !(typeof window !== \"undefined\" && window.navigator && (window.navigator.standalone || window.cordova))) {\n                schedule = function () {\n                    var div = document.createElement(\"div\");\n                    var opts = { attributes: true };\n                    var toggleScheduled = false;\n                    var div2 = document.createElement(\"div\");\n                    var o2 = new MutationObserver(function () {\n                        div.classList.toggle(\"foo\");\n                        toggleScheduled = false;\n                    });\n                    o2.observe(div2, opts);\n\n                    var scheduleToggle = function scheduleToggle() {\n                        if (toggleScheduled) return;\n                        toggleScheduled = true;\n                        div2.classList.toggle(\"foo\");\n                    };\n\n                    return function schedule(fn) {\n                        var o = new MutationObserver(function () {\n                            o.disconnect();\n                            fn();\n                        });\n                        o.observe(div, opts);\n                        scheduleToggle();\n                    };\n                }();\n            } else if (typeof setImmediate !== \"undefined\") {\n                schedule = function schedule(fn) {\n                    setImmediate(fn);\n                };\n            } else if (typeof setTimeout !== \"undefined\") {\n                schedule = function schedule(fn) {\n                    setTimeout(fn, 0);\n                };\n            } else {\n                schedule = noAsyncScheduler;\n            }\n            module.exports = schedule;\n        }, { \"./util\": 36 }], 30: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, debug) {\n                var PromiseInspection = Promise.PromiseInspection;\n                var util = _dereq_(\"./util\");\n\n                function SettledPromiseArray(values) {\n                    this.constructor$(values);\n                }\n                util.inherits(SettledPromiseArray, PromiseArray);\n\n                SettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n                    this._values[index] = inspection;\n                    var totalResolved = ++this._totalResolved;\n                    if (totalResolved >= this._length) {\n                        this._resolve(this._values);\n                        return true;\n                    }\n                    return false;\n                };\n\n                SettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n                    var ret = new PromiseInspection();\n                    ret._bitField = 33554432;\n                    ret._settledValueField = value;\n                    return this._promiseResolved(index, ret);\n                };\n                SettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n                    var ret = new PromiseInspection();\n                    ret._bitField = 16777216;\n                    ret._settledValueField = reason;\n                    return this._promiseResolved(index, ret);\n                };\n\n                Promise.settle = function (promises) {\n                    debug.deprecated(\".settle()\", \".reflect()\");\n                    return new SettledPromiseArray(promises).promise();\n                };\n\n                Promise.prototype.settle = function () {\n                    return Promise.settle(this);\n                };\n            };\n        }, { \"./util\": 36 }], 31: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, PromiseArray, apiRejection) {\n                var util = _dereq_(\"./util\");\n                var RangeError = _dereq_(\"./errors\").RangeError;\n                var AggregateError = _dereq_(\"./errors\").AggregateError;\n                var isArray = util.isArray;\n                var CANCELLATION = {};\n\n                function SomePromiseArray(values) {\n                    this.constructor$(values);\n                    this._howMany = 0;\n                    this._unwrap = false;\n                    this._initialized = false;\n                }\n                util.inherits(SomePromiseArray, PromiseArray);\n\n                SomePromiseArray.prototype._init = function () {\n                    if (!this._initialized) {\n                        return;\n                    }\n                    if (this._howMany === 0) {\n                        this._resolve([]);\n                        return;\n                    }\n                    this._init$(undefined, -5);\n                    var isArrayResolved = isArray(this._values);\n                    if (!this._isResolved() && isArrayResolved && this._howMany > this._canPossiblyFulfill()) {\n                        this._reject(this._getRangeError(this.length()));\n                    }\n                };\n\n                SomePromiseArray.prototype.init = function () {\n                    this._initialized = true;\n                    this._init();\n                };\n\n                SomePromiseArray.prototype.setUnwrap = function () {\n                    this._unwrap = true;\n                };\n\n                SomePromiseArray.prototype.howMany = function () {\n                    return this._howMany;\n                };\n\n                SomePromiseArray.prototype.setHowMany = function (count) {\n                    this._howMany = count;\n                };\n\n                SomePromiseArray.prototype._promiseFulfilled = function (value) {\n                    this._addFulfilled(value);\n                    if (this._fulfilled() === this.howMany()) {\n                        this._values.length = this.howMany();\n                        if (this.howMany() === 1 && this._unwrap) {\n                            this._resolve(this._values[0]);\n                        } else {\n                            this._resolve(this._values);\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                SomePromiseArray.prototype._promiseRejected = function (reason) {\n                    this._addRejected(reason);\n                    return this._checkOutcome();\n                };\n\n                SomePromiseArray.prototype._promiseCancelled = function () {\n                    if (this._values instanceof Promise || this._values == null) {\n                        return this._cancel();\n                    }\n                    this._addRejected(CANCELLATION);\n                    return this._checkOutcome();\n                };\n\n                SomePromiseArray.prototype._checkOutcome = function () {\n                    if (this.howMany() > this._canPossiblyFulfill()) {\n                        var e = new AggregateError();\n                        for (var i = this.length(); i < this._values.length; ++i) {\n                            if (this._values[i] !== CANCELLATION) {\n                                e.push(this._values[i]);\n                            }\n                        }\n                        if (e.length > 0) {\n                            this._reject(e);\n                        } else {\n                            this._cancel();\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n\n                SomePromiseArray.prototype._fulfilled = function () {\n                    return this._totalResolved;\n                };\n\n                SomePromiseArray.prototype._rejected = function () {\n                    return this._values.length - this.length();\n                };\n\n                SomePromiseArray.prototype._addRejected = function (reason) {\n                    this._values.push(reason);\n                };\n\n                SomePromiseArray.prototype._addFulfilled = function (value) {\n                    this._values[this._totalResolved++] = value;\n                };\n\n                SomePromiseArray.prototype._canPossiblyFulfill = function () {\n                    return this.length() - this._rejected();\n                };\n\n                SomePromiseArray.prototype._getRangeError = function (count) {\n                    var message = \"Input array must contain at least \" + this._howMany + \" items but contains only \" + count + \" items\";\n                    return new RangeError(message);\n                };\n\n                SomePromiseArray.prototype._resolveEmptyArray = function () {\n                    this._reject(this._getRangeError(0));\n                };\n\n                function some(promises, howMany) {\n                    if ((howMany | 0) !== howMany || howMany < 0) {\n                        return apiRejection(\"expecting a positive integer\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    var ret = new SomePromiseArray(promises);\n                    var promise = ret.promise();\n                    ret.setHowMany(howMany);\n                    ret.init();\n                    return promise;\n                }\n\n                Promise.some = function (promises, howMany) {\n                    return some(promises, howMany);\n                };\n\n                Promise.prototype.some = function (howMany) {\n                    return some(this, howMany);\n                };\n\n                Promise._SomePromiseArray = SomePromiseArray;\n            };\n        }, { \"./errors\": 12, \"./util\": 36 }], 32: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise) {\n                function PromiseInspection(promise) {\n                    if (promise !== undefined) {\n                        promise = promise._target();\n                        this._bitField = promise._bitField;\n                        this._settledValueField = promise._isFateSealed() ? promise._settledValue() : undefined;\n                    } else {\n                        this._bitField = 0;\n                        this._settledValueField = undefined;\n                    }\n                }\n\n                PromiseInspection.prototype._settledValue = function () {\n                    return this._settledValueField;\n                };\n\n                var value = PromiseInspection.prototype.value = function () {\n                    if (!this.isFulfilled()) {\n                        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    return this._settledValue();\n                };\n\n                var reason = PromiseInspection.prototype.error = PromiseInspection.prototype.reason = function () {\n                    if (!this.isRejected()) {\n                        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\n\\n    See http://goo.gl/MqrFmX\\n\");\n                    }\n                    return this._settledValue();\n                };\n\n                var isFulfilled = PromiseInspection.prototype.isFulfilled = function () {\n                    return (this._bitField & 33554432) !== 0;\n                };\n\n                var isRejected = PromiseInspection.prototype.isRejected = function () {\n                    return (this._bitField & 16777216) !== 0;\n                };\n\n                var isPending = PromiseInspection.prototype.isPending = function () {\n                    return (this._bitField & 50397184) === 0;\n                };\n\n                var isResolved = PromiseInspection.prototype.isResolved = function () {\n                    return (this._bitField & 50331648) !== 0;\n                };\n\n                PromiseInspection.prototype.isCancelled = function () {\n                    return (this._bitField & 8454144) !== 0;\n                };\n\n                Promise.prototype.__isCancelled = function () {\n                    return (this._bitField & 65536) === 65536;\n                };\n\n                Promise.prototype._isCancelled = function () {\n                    return this._target().__isCancelled();\n                };\n\n                Promise.prototype.isCancelled = function () {\n                    return (this._target()._bitField & 8454144) !== 0;\n                };\n\n                Promise.prototype.isPending = function () {\n                    return isPending.call(this._target());\n                };\n\n                Promise.prototype.isRejected = function () {\n                    return isRejected.call(this._target());\n                };\n\n                Promise.prototype.isFulfilled = function () {\n                    return isFulfilled.call(this._target());\n                };\n\n                Promise.prototype.isResolved = function () {\n                    return isResolved.call(this._target());\n                };\n\n                Promise.prototype.value = function () {\n                    return value.call(this._target());\n                };\n\n                Promise.prototype.reason = function () {\n                    var target = this._target();\n                    target._unsetRejectionIsUnhandled();\n                    return reason.call(target);\n                };\n\n                Promise.prototype._value = function () {\n                    return this._settledValue();\n                };\n\n                Promise.prototype._reason = function () {\n                    this._unsetRejectionIsUnhandled();\n                    return this._settledValue();\n                };\n\n                Promise.PromiseInspection = PromiseInspection;\n            };\n        }, {}], 33: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL) {\n                var util = _dereq_(\"./util\");\n                var errorObj = util.errorObj;\n                var isObject = util.isObject;\n\n                function tryConvertToPromise(obj, context) {\n                    if (isObject(obj)) {\n                        if (obj instanceof Promise) return obj;\n                        var then = getThen(obj);\n                        if (then === errorObj) {\n                            if (context) context._pushContext();\n                            var ret = Promise.reject(then.e);\n                            if (context) context._popContext();\n                            return ret;\n                        } else if (typeof then === \"function\") {\n                            if (isAnyBluebirdPromise(obj)) {\n                                var ret = new Promise(INTERNAL);\n                                obj._then(ret._fulfill, ret._reject, undefined, ret, null);\n                                return ret;\n                            }\n                            return doThenable(obj, then, context);\n                        }\n                    }\n                    return obj;\n                }\n\n                function doGetThen(obj) {\n                    return obj.then;\n                }\n\n                function getThen(obj) {\n                    try {\n                        return doGetThen(obj);\n                    } catch (e) {\n                        errorObj.e = e;\n                        return errorObj;\n                    }\n                }\n\n                var hasProp = {}.hasOwnProperty;\n                function isAnyBluebirdPromise(obj) {\n                    try {\n                        return hasProp.call(obj, \"_promise0\");\n                    } catch (e) {\n                        return false;\n                    }\n                }\n\n                function doThenable(x, then, context) {\n                    var promise = new Promise(INTERNAL);\n                    var ret = promise;\n                    if (context) context._pushContext();\n                    promise._captureStackTrace();\n                    if (context) context._popContext();\n                    var synchronous = true;\n                    var result = util.tryCatch(then).call(x, resolve, reject);\n                    synchronous = false;\n\n                    if (promise && result === errorObj) {\n                        promise._rejectCallback(result.e, true, true);\n                        promise = null;\n                    }\n\n                    function resolve(value) {\n                        if (!promise) return;\n                        promise._resolveCallback(value);\n                        promise = null;\n                    }\n\n                    function reject(reason) {\n                        if (!promise) return;\n                        promise._rejectCallback(reason, synchronous, true);\n                        promise = null;\n                    }\n                    return ret;\n                }\n\n                return tryConvertToPromise;\n            };\n        }, { \"./util\": 36 }], 34: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, INTERNAL, debug) {\n                var util = _dereq_(\"./util\");\n                var TimeoutError = Promise.TimeoutError;\n\n                function HandleWrapper(handle) {\n                    this.handle = handle;\n                }\n\n                HandleWrapper.prototype._resultCancelled = function () {\n                    clearTimeout(this.handle);\n                };\n\n                var afterValue = function afterValue(value) {\n                    return delay(+this).thenReturn(value);\n                };\n                var delay = Promise.delay = function (ms, value) {\n                    var ret;\n                    var handle;\n                    if (value !== undefined) {\n                        ret = Promise.resolve(value)._then(afterValue, null, null, ms, undefined);\n                        if (debug.cancellation() && value instanceof Promise) {\n                            ret._setOnCancel(value);\n                        }\n                    } else {\n                        ret = new Promise(INTERNAL);\n                        handle = setTimeout(function () {\n                            ret._fulfill();\n                        }, +ms);\n                        if (debug.cancellation()) {\n                            ret._setOnCancel(new HandleWrapper(handle));\n                        }\n                        ret._captureStackTrace();\n                    }\n                    ret._setAsyncGuaranteed();\n                    return ret;\n                };\n\n                Promise.prototype.delay = function (ms) {\n                    return delay(ms, this);\n                };\n\n                var afterTimeout = function afterTimeout(promise, message, parent) {\n                    var err;\n                    if (typeof message !== \"string\") {\n                        if (message instanceof Error) {\n                            err = message;\n                        } else {\n                            err = new TimeoutError(\"operation timed out\");\n                        }\n                    } else {\n                        err = new TimeoutError(message);\n                    }\n                    util.markAsOriginatingFromRejection(err);\n                    promise._attachExtraTrace(err);\n                    promise._reject(err);\n\n                    if (parent != null) {\n                        parent.cancel();\n                    }\n                };\n\n                function successClear(value) {\n                    clearTimeout(this.handle);\n                    return value;\n                }\n\n                function failureClear(reason) {\n                    clearTimeout(this.handle);\n                    throw reason;\n                }\n\n                Promise.prototype.timeout = function (ms, message) {\n                    ms = +ms;\n                    var ret, parent;\n\n                    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n                        if (ret.isPending()) {\n                            afterTimeout(ret, message, parent);\n                        }\n                    }, ms));\n\n                    if (debug.cancellation()) {\n                        parent = this.then();\n                        ret = parent._then(successClear, failureClear, undefined, handleWrapper, undefined);\n                        ret._setOnCancel(handleWrapper);\n                    } else {\n                        ret = this._then(successClear, failureClear, undefined, handleWrapper, undefined);\n                    }\n\n                    return ret;\n                };\n            };\n        }, { \"./util\": 36 }], 35: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            module.exports = function (Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug) {\n                var util = _dereq_(\"./util\");\n                var TypeError = _dereq_(\"./errors\").TypeError;\n                var inherits = _dereq_(\"./util\").inherits;\n                var errorObj = util.errorObj;\n                var tryCatch = util.tryCatch;\n                var NULL = {};\n\n                function thrower(e) {\n                    setTimeout(function () {\n                        throw e;\n                    }, 0);\n                }\n\n                function castPreservingDisposable(thenable) {\n                    var maybePromise = tryConvertToPromise(thenable);\n                    if (maybePromise !== thenable && typeof thenable._isDisposable === \"function\" && typeof thenable._getDisposer === \"function\" && thenable._isDisposable()) {\n                        maybePromise._setDisposable(thenable._getDisposer());\n                    }\n                    return maybePromise;\n                }\n                function dispose(resources, inspection) {\n                    var i = 0;\n                    var len = resources.length;\n                    var ret = new Promise(INTERNAL);\n                    function iterator() {\n                        if (i >= len) return ret._fulfill();\n                        var maybePromise = castPreservingDisposable(resources[i++]);\n                        if (maybePromise instanceof Promise && maybePromise._isDisposable()) {\n                            try {\n                                maybePromise = tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection), resources.promise);\n                            } catch (e) {\n                                return thrower(e);\n                            }\n                            if (maybePromise instanceof Promise) {\n                                return maybePromise._then(iterator, thrower, null, null, null);\n                            }\n                        }\n                        iterator();\n                    }\n                    iterator();\n                    return ret;\n                }\n\n                function Disposer(data, promise, context) {\n                    this._data = data;\n                    this._promise = promise;\n                    this._context = context;\n                }\n\n                Disposer.prototype.data = function () {\n                    return this._data;\n                };\n\n                Disposer.prototype.promise = function () {\n                    return this._promise;\n                };\n\n                Disposer.prototype.resource = function () {\n                    if (this.promise().isFulfilled()) {\n                        return this.promise().value();\n                    }\n                    return NULL;\n                };\n\n                Disposer.prototype.tryDispose = function (inspection) {\n                    var resource = this.resource();\n                    var context = this._context;\n                    if (context !== undefined) context._pushContext();\n                    var ret = resource !== NULL ? this.doDispose(resource, inspection) : null;\n                    if (context !== undefined) context._popContext();\n                    this._promise._unsetDisposable();\n                    this._data = null;\n                    return ret;\n                };\n\n                Disposer.isDisposer = function (d) {\n                    return d != null && typeof d.resource === \"function\" && typeof d.tryDispose === \"function\";\n                };\n\n                function FunctionDisposer(fn, promise, context) {\n                    this.constructor$(fn, promise, context);\n                }\n                inherits(FunctionDisposer, Disposer);\n\n                FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n                    var fn = this.data();\n                    return fn.call(resource, resource, inspection);\n                };\n\n                function maybeUnwrapDisposer(value) {\n                    if (Disposer.isDisposer(value)) {\n                        this.resources[this.index]._setDisposable(value);\n                        return value.promise();\n                    }\n                    return value;\n                }\n\n                function ResourceList(length) {\n                    this.length = length;\n                    this.promise = null;\n                    this[length - 1] = null;\n                }\n\n                ResourceList.prototype._resultCancelled = function () {\n                    var len = this.length;\n                    for (var i = 0; i < len; ++i) {\n                        var item = this[i];\n                        if (item instanceof Promise) {\n                            item.cancel();\n                        }\n                    }\n                };\n\n                Promise.using = function () {\n                    var len = arguments.length;\n                    if (len < 2) return apiRejection(\"you must pass at least 2 arguments to Promise.using\");\n                    var fn = arguments[len - 1];\n                    if (typeof fn !== \"function\") {\n                        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n                    }\n                    var input;\n                    var spreadArgs = true;\n                    if (len === 2 && Array.isArray(arguments[0])) {\n                        input = arguments[0];\n                        len = input.length;\n                        spreadArgs = false;\n                    } else {\n                        input = arguments;\n                        len--;\n                    }\n                    var resources = new ResourceList(len);\n                    for (var i = 0; i < len; ++i) {\n                        var resource = input[i];\n                        if (Disposer.isDisposer(resource)) {\n                            var disposer = resource;\n                            resource = resource.promise();\n                            resource._setDisposable(disposer);\n                        } else {\n                            var maybePromise = tryConvertToPromise(resource);\n                            if (maybePromise instanceof Promise) {\n                                resource = maybePromise._then(maybeUnwrapDisposer, null, null, {\n                                    resources: resources,\n                                    index: i\n                                }, undefined);\n                            }\n                        }\n                        resources[i] = resource;\n                    }\n\n                    var reflectedResources = new Array(resources.length);\n                    for (var i = 0; i < reflectedResources.length; ++i) {\n                        reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n                    }\n\n                    var resultPromise = Promise.all(reflectedResources).then(function (inspections) {\n                        for (var i = 0; i < inspections.length; ++i) {\n                            var inspection = inspections[i];\n                            if (inspection.isRejected()) {\n                                errorObj.e = inspection.error();\n                                return errorObj;\n                            } else if (!inspection.isFulfilled()) {\n                                resultPromise.cancel();\n                                return;\n                            }\n                            inspections[i] = inspection.value();\n                        }\n                        promise._pushContext();\n\n                        fn = tryCatch(fn);\n                        var ret = spreadArgs ? fn.apply(undefined, inspections) : fn(inspections);\n                        var promiseCreated = promise._popContext();\n                        debug.checkForgottenReturns(ret, promiseCreated, \"Promise.using\", promise);\n                        return ret;\n                    });\n\n                    var promise = resultPromise.lastly(function () {\n                        var inspection = new Promise.PromiseInspection(resultPromise);\n                        return dispose(resources, inspection);\n                    });\n                    resources.promise = promise;\n                    promise._setOnCancel(resources);\n                    return promise;\n                };\n\n                Promise.prototype._setDisposable = function (disposer) {\n                    this._bitField = this._bitField | 131072;\n                    this._disposer = disposer;\n                };\n\n                Promise.prototype._isDisposable = function () {\n                    return (this._bitField & 131072) > 0;\n                };\n\n                Promise.prototype._getDisposer = function () {\n                    return this._disposer;\n                };\n\n                Promise.prototype._unsetDisposable = function () {\n                    this._bitField = this._bitField & ~131072;\n                    this._disposer = undefined;\n                };\n\n                Promise.prototype.disposer = function (fn) {\n                    if (typeof fn === \"function\") {\n                        return new FunctionDisposer(fn, this, createContext());\n                    }\n                    throw new TypeError();\n                };\n            };\n        }, { \"./errors\": 12, \"./util\": 36 }], 36: [function (_dereq_, module, exports) {\n            \"use strict\";\n\n            var es5 = _dereq_(\"./es5\");\n            var canEvaluate = typeof navigator == \"undefined\";\n\n            var errorObj = { e: {} };\n            var tryCatchTarget;\n            var globalObject = typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : this !== undefined ? this : null;\n\n            function tryCatcher() {\n                try {\n                    var target = tryCatchTarget;\n                    tryCatchTarget = null;\n                    return target.apply(this, arguments);\n                } catch (e) {\n                    errorObj.e = e;\n                    return errorObj;\n                }\n            }\n            function tryCatch(fn) {\n                tryCatchTarget = fn;\n                return tryCatcher;\n            }\n\n            var inherits = function inherits(Child, Parent) {\n                var hasProp = {}.hasOwnProperty;\n\n                function T() {\n                    this.constructor = Child;\n                    this.constructor$ = Parent;\n                    for (var propertyName in Parent.prototype) {\n                        if (hasProp.call(Parent.prototype, propertyName) && propertyName.charAt(propertyName.length - 1) !== \"$\") {\n                            this[propertyName + \"$\"] = Parent.prototype[propertyName];\n                        }\n                    }\n                }\n                T.prototype = Parent.prototype;\n                Child.prototype = new T();\n                return Child.prototype;\n            };\n\n            function isPrimitive(val) {\n                return val == null || val === true || val === false || typeof val === \"string\" || typeof val === \"number\";\n            }\n\n            function isObject(value) {\n                return typeof value === \"function\" || typeof value === \"object\" && value !== null;\n            }\n\n            function maybeWrapAsError(maybeError) {\n                if (!isPrimitive(maybeError)) return maybeError;\n\n                return new Error(safeToString(maybeError));\n            }\n\n            function withAppended(target, appendee) {\n                var len = target.length;\n                var ret = new Array(len + 1);\n                var i;\n                for (i = 0; i < len; ++i) {\n                    ret[i] = target[i];\n                }\n                ret[i] = appendee;\n                return ret;\n            }\n\n            function getDataPropertyOrDefault(obj, key, defaultValue) {\n                if (es5.isES5) {\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n                    if (desc != null) {\n                        return desc.get == null && desc.set == null ? desc.value : defaultValue;\n                    }\n                } else {\n                    return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n                }\n            }\n\n            function notEnumerableProp(obj, name, value) {\n                if (isPrimitive(obj)) return obj;\n                var descriptor = {\n                    value: value,\n                    configurable: true,\n                    enumerable: false,\n                    writable: true\n                };\n                es5.defineProperty(obj, name, descriptor);\n                return obj;\n            }\n\n            function thrower(r) {\n                throw r;\n            }\n\n            var inheritedDataKeys = function () {\n                var excludedPrototypes = [Array.prototype, Object.prototype, Function.prototype];\n\n                var isExcludedProto = function isExcludedProto(val) {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (excludedPrototypes[i] === val) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n\n                if (es5.isES5) {\n                    var getKeys = Object.getOwnPropertyNames;\n                    return function (obj) {\n                        var ret = [];\n                        var visitedKeys = Object.create(null);\n                        while (obj != null && !isExcludedProto(obj)) {\n                            var keys;\n                            try {\n                                keys = getKeys(obj);\n                            } catch (e) {\n                                return ret;\n                            }\n                            for (var i = 0; i < keys.length; ++i) {\n                                var key = keys[i];\n                                if (visitedKeys[key]) continue;\n                                visitedKeys[key] = true;\n                                var desc = Object.getOwnPropertyDescriptor(obj, key);\n                                if (desc != null && desc.get == null && desc.set == null) {\n                                    ret.push(key);\n                                }\n                            }\n                            obj = es5.getPrototypeOf(obj);\n                        }\n                        return ret;\n                    };\n                } else {\n                    var hasProp = {}.hasOwnProperty;\n                    return function (obj) {\n                        if (isExcludedProto(obj)) return [];\n                        var ret = [];\n\n                        /*jshint forin:false */\n                        enumeration: for (var key in obj) {\n                            if (hasProp.call(obj, key)) {\n                                ret.push(key);\n                            } else {\n                                for (var i = 0; i < excludedPrototypes.length; ++i) {\n                                    if (hasProp.call(excludedPrototypes[i], key)) {\n                                        continue enumeration;\n                                    }\n                                }\n                                ret.push(key);\n                            }\n                        }\n                        return ret;\n                    };\n                }\n            }();\n\n            var thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\n            function isClass(fn) {\n                try {\n                    if (typeof fn === \"function\") {\n                        var keys = es5.names(fn.prototype);\n\n                        var hasMethods = es5.isES5 && keys.length > 1;\n                        var hasMethodsOtherThanConstructor = keys.length > 0 && !(keys.length === 1 && keys[0] === \"constructor\");\n                        var hasThisAssignmentAndStaticMethods = thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n                        if (hasMethods || hasMethodsOtherThanConstructor || hasThisAssignmentAndStaticMethods) {\n                            return true;\n                        }\n                    }\n                    return false;\n                } catch (e) {\n                    return false;\n                }\n            }\n\n            function toFastProperties(obj) {\n                /*jshint -W027,-W055,-W031*/\n                function FakeConstructor() {}\n                FakeConstructor.prototype = obj;\n                var l = 8;\n                while (l--) {\n                    new FakeConstructor();\n                }return obj;\n                eval(obj);\n            }\n\n            var rident = /^[a-z$_][a-z$_0-9]*$/i;\n            function isIdentifier(str) {\n                return rident.test(str);\n            }\n\n            function filledRange(count, prefix, suffix) {\n                var ret = new Array(count);\n                for (var i = 0; i < count; ++i) {\n                    ret[i] = prefix + i + suffix;\n                }\n                return ret;\n            }\n\n            function safeToString(obj) {\n                try {\n                    return obj + \"\";\n                } catch (e) {\n                    return \"[no string representation]\";\n                }\n            }\n\n            function isError(obj) {\n                return obj instanceof Error || obj !== null && typeof obj === \"object\" && typeof obj.message === \"string\" && typeof obj.name === \"string\";\n            }\n\n            function markAsOriginatingFromRejection(e) {\n                try {\n                    notEnumerableProp(e, \"isOperational\", true);\n                } catch (ignore) {}\n            }\n\n            function originatesFromRejection(e) {\n                if (e == null) return false;\n                return e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError || e[\"isOperational\"] === true;\n            }\n\n            function canAttachTrace(obj) {\n                return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n            }\n\n            var ensureErrorObject = function () {\n                if (!(\"stack\" in new Error())) {\n                    return function (value) {\n                        if (canAttachTrace(value)) return value;\n                        try {\n                            throw new Error(safeToString(value));\n                        } catch (err) {\n                            return err;\n                        }\n                    };\n                } else {\n                    return function (value) {\n                        if (canAttachTrace(value)) return value;\n                        return new Error(safeToString(value));\n                    };\n                }\n            }();\n\n            function classString(obj) {\n                return {}.toString.call(obj);\n            }\n\n            function copyDescriptors(from, to, filter) {\n                var keys = es5.names(from);\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (filter(key)) {\n                        try {\n                            es5.defineProperty(to, key, es5.getDescriptor(from, key));\n                        } catch (ignore) {}\n                    }\n                }\n            }\n\n            var asArray = function asArray(v) {\n                if (es5.isArray(v)) {\n                    return v;\n                }\n                return null;\n            };\n\n            if (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n                var ArrayFrom = typeof Array.from === \"function\" ? function (v) {\n                    return Array.from(v);\n                } : function (v) {\n                    var ret = [];\n                    var it = v[Symbol.iterator]();\n                    var itResult;\n                    while (!(itResult = it.next()).done) {\n                        ret.push(itResult.value);\n                    }\n                    return ret;\n                };\n\n                asArray = function asArray(v) {\n                    if (es5.isArray(v)) {\n                        return v;\n                    } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n                        return ArrayFrom(v);\n                    }\n                    return null;\n                };\n            }\n\n            var isNode = typeof process !== \"undefined\" && classString(process).toLowerCase() === \"[object process]\";\n\n            var hasEnvVariables = typeof process !== \"undefined\" && typeof process.env !== \"undefined\";\n\n            function env(key) {\n                return hasEnvVariables ? process.env[key] : undefined;\n            }\n\n            function getNativePromise() {\n                if (typeof Promise === \"function\") {\n                    try {\n                        var promise = new Promise(function () {});\n                        if ({}.toString.call(promise) === \"[object Promise]\") {\n                            return Promise;\n                        }\n                    } catch (e) {}\n                }\n            }\n\n            function domainBind(self, cb) {\n                return self.bind(cb);\n            }\n\n            var ret = {\n                isClass: isClass,\n                isIdentifier: isIdentifier,\n                inheritedDataKeys: inheritedDataKeys,\n                getDataPropertyOrDefault: getDataPropertyOrDefault,\n                thrower: thrower,\n                isArray: es5.isArray,\n                asArray: asArray,\n                notEnumerableProp: notEnumerableProp,\n                isPrimitive: isPrimitive,\n                isObject: isObject,\n                isError: isError,\n                canEvaluate: canEvaluate,\n                errorObj: errorObj,\n                tryCatch: tryCatch,\n                inherits: inherits,\n                withAppended: withAppended,\n                maybeWrapAsError: maybeWrapAsError,\n                toFastProperties: toFastProperties,\n                filledRange: filledRange,\n                toString: safeToString,\n                canAttachTrace: canAttachTrace,\n                ensureErrorObject: ensureErrorObject,\n                originatesFromRejection: originatesFromRejection,\n                markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n                classString: classString,\n                copyDescriptors: copyDescriptors,\n                hasDevTools: typeof chrome !== \"undefined\" && chrome && typeof chrome.loadTimes === \"function\",\n                isNode: isNode,\n                hasEnvVariables: hasEnvVariables,\n                env: env,\n                global: globalObject,\n                getNativePromise: getNativePromise,\n                domainBind: domainBind\n            };\n            ret.isRecentNode = ret.isNode && function () {\n                var version = process.versions.node.split(\".\").map(Number);\n                return version[0] === 0 && version[1] > 10 || version[0] > 0;\n            }();\n\n            if (ret.isNode) ret.toFastProperties(process);\n\n            try {\n                throw new Error();\n            } catch (e) {\n                ret.lastLineError = e;\n            }\n            module.exports = ret;\n        }, { \"./es5\": 13 }] }, {}, [4])(4);\n});;if (typeof window !== 'undefined' && window !== null) {\n    window.P = window.Promise;\n} else if (typeof self !== 'undefined' && self !== null) {\n    self.P = self.Promise;\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"g31e\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n/***/ }),\n\n/***/ \"g7Jl\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nvar util = __webpack_require__(\"gfUn\");\n\nvar errors = module.exports = __webpack_require__(\"AgUv\");\n\nfunction failCheck(ExceptionConstructor, callee, messageFormat, formatArgs) {\n    messageFormat = messageFormat || '';\n    var message = util.format.apply(this, [messageFormat].concat(formatArgs));\n    var error = new ExceptionConstructor(message);\n    Error.captureStackTrace(error, callee);\n    throw error;\n}\n\nfunction failArgumentCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalArgumentError, callee, message, formatArgs);\n}\n\nfunction failStateCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalStateError, callee, message, formatArgs);\n}\n\nmodule.exports.checkArgument = function (value, message) {\n    if (!value) {\n        failArgumentCheck(arguments.callee, message, Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkState = function (value, message) {\n    if (!value) {\n        failStateCheck(arguments.callee, message, Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkIsDef = function (value, message) {\n    if (value !== undefined) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message || 'Expected value to be defined but was undefined.', Array.prototype.slice.call(arguments, 2));\n};\n\nmodule.exports.checkIsDefAndNotNull = function (value, message) {\n    // Note that undefined == null.\n    if (value != null) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message || 'Expected value to be defined and not null but got \"' + typeOf(value) + '\".', Array.prototype.slice.call(arguments, 2));\n};\n\n// Fixed version of the typeOf operator which returns 'null' for null values\n// and 'array' for arrays.\nfunction typeOf(value) {\n    var s = typeof value;\n    if (s == 'object') {\n        if (!value) {\n            return 'null';\n        } else if (value instanceof Array) {\n            return 'array';\n        }\n    }\n    return s;\n}\n\nfunction typeCheck(expect) {\n    return function (value, message) {\n        var type = typeOf(value);\n\n        if (type == expect) {\n            return value;\n        }\n\n        failArgumentCheck(arguments.callee, message || 'Expected \"' + expect + '\" but got \"' + type + '\".', Array.prototype.slice.call(arguments, 2));\n    };\n}\n\nmodule.exports.checkIsString = typeCheck('string');\nmodule.exports.checkIsArray = typeCheck('array');\nmodule.exports.checkIsNumber = typeCheck('number');\nmodule.exports.checkIsBoolean = typeCheck('boolean');\nmodule.exports.checkIsFunction = typeCheck('function');\nmodule.exports.checkIsObject = typeCheck('object');\n\n/***/ }),\n\n/***/ \"gc0D\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"vcHl\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"gfUn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function (f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function (x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s':\n        return String(args[i++]);\n      case '%d':\n        return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function (fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function () {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function (set) {\n  if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function () {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function () {};\n    }\n  }\n  return debugs[set];\n};\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold': [1, 22],\n  'italic': [3, 23],\n  'underline': [4, 24],\n  'inverse': [7, 27],\n  'white': [37, 39],\n  'grey': [90, 39],\n  'black': [30, 39],\n  'blue': [34, 39],\n  'cyan': [36, 39],\n  'green': [32, 39],\n  'magenta': [35, 39],\n  'red': [31, 39],\n  'yellow': [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\x1B[' + inspect.colors[style][0] + 'm' + str + '\\x1B[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function (val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect && value && isFunction(value.inspect) &&\n  // Filter out the util module, it's inspect function is special\n  value.inspect !== exports.inspect &&\n  // Also filter out any prototype objects using the circular check.\n  !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '',\n      array = false,\n      braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function (key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '').replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value)) return ctx.stylize('' + value, 'number');\n  if (isBoolean(value)) return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value)) return ctx.stylize('null', 'null');\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function (key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function (line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function (line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"').replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function (prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] + (base === '' ? '' : base + '\\n ') + ' ' + output.join(',\\n  ') + ' ' + braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || typeof arg === 'symbol' || // ES6 symbol\n  typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = __webpack_require__(\"vexR\");\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function () {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = __webpack_require__(\"tcrG\");\n\nexports._extend = function (origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"gjjs\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(\"Gfzd\"),\n    anObject = __webpack_require__(\"zotD\"),\n    getKeys = __webpack_require__(\"knrM\");\n\nmodule.exports = __webpack_require__(\"6MLN\") ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties),\n      length = keys.length,\n      i = 0,\n      P;\n  while (length > i) {\n    dP.f(O, P = keys[i++], Properties[P]);\n  }return O;\n};\n\n/***/ }),\n\n/***/ \"gkZy\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"TEgB\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"gojl\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"akPY\");\n\n/***/ }),\n\n/***/ \"gq3z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\n/***/ }),\n\n/***/ \"h6ac\":\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n\n/***/ \"hEIm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(\"zotD\");\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n    // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n/***/ }),\n\n/***/ \"hVVj\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(\"f+DB\");\nvar bytesToUuid = __webpack_require__(\"dAjQ\");\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [_seedBytes[0] | 0x01, _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0,\n    _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n/***/ }),\n\n/***/ \"hYHi\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(\"f+DB\");\nvar bytesToUuid = __webpack_require__(\"dAjQ\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n/***/ }),\n\n/***/ \"htFH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(\"vSO4\");\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(\"6MLN\"), 'Object', { defineProperty: __webpack_require__(\"Gfzd\").f });\n\n/***/ }),\n\n/***/ \"hznj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends2 = __webpack_require__(\"T4f3\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = __webpack_require__(\"E56Z\");\nvar entity_1 = __webpack_require__(\"GBRx\");\nvar rfc6902_1 = __webpack_require__(\"b0lL\");\nvar retryingqueue_1 = __webpack_require__(\"/lpw\");\nvar utils_1 = __webpack_require__(\"PD3G\");\n/**\n * @class\n * @alias Document\n * @classdesc\n * Primitive to store a single document in DataSync service\n * @property {String} sid SyncDocument unique id\n * @property {String} uniqueName Unique name of a document\n * @property {Object} value Value of a document\n *\n * @fires Document#updated\n * @fires Document#updatedRemotely\n * @fires Document#removed\n * @fires Document#removedRemotely\n */\n\nvar SyncDocument = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncDocument, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncDocument(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncDocument);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncDocument.__proto__ || (0, _getPrototypeOf2.default)(SyncDocument)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.descriptor = descriptor;\n        _this.descriptor.data = _this.descriptor.data || {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncDocument, [{\n        key: \"_update\",\n\n        /**\n         * Update data entity with new data\n         * @private\n         */\n        value: function _update(update) {\n            switch (update.type) {\n                case 'document_updated':\n                    if (update.id > this.lastEventId) {\n                        var originalData = this.descriptor.data;\n                        this.descriptor.last_event_id = update.id;\n                        this.descriptor.revision = update.document_revision;\n                        this.descriptor.data = update.document_data;\n                        this.traverse(originalData, update.document_data, false);\n                        this.emit('updated', update.document_data, false);\n                        this.emit('updatedRemotely', update.document_data);\n                        this.services.storage.update(this.type, this.sid, this.uniqueName, { last_event_id: update.id, revision: update.document_revision, data: update.document_data });\n                    }\n                    break;\n                case 'document_removed':\n                    this.onRemoved(false);\n                    break;\n            }\n        }\n        /**\n         * Calculate diff between old and new data\n         * @private\n         */\n\n    }, {\n        key: \"traverse\",\n        value: function traverse(originalData, updatedData, isLocalEvent) {\n            var _this2 = this;\n\n            var diff = rfc6902_1.createPatch(originalData, updatedData);\n            diff.forEach(function (row) {\n                if (row.op === 'add') {\n                    _this2.emit('keyAdded', row.path, row.value, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyAddedRemotely', row.path, row.value);\n                    }\n                } else if (row.op === 'replace') {\n                    _this2.emit('keyUpdated', row.path, row.value, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyUpdatedRemotely', row.path, row.value);\n                    }\n                } else if (row.op === 'remove') {\n                    _this2.emit('keyRemoved', row.path, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyRemovedRemotely', row.path);\n                    }\n                }\n            });\n        }\n        /**\n         * @returns {Object} Internal data of entity\n         * For now use a 'value' property instead\n         * @private\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(path) {\n            // return !path ? this.value : this.value(path);\n            return this.value;\n        }\n        /**\n         * Set new value for the document\n         * @param {Object} value New value for the document\n         * @param {Boolean} [conditional=false] Check for remote modification when updating.\n         * If true, promise will be rejected if value was remotely modified\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(value, conditional) {\n            return this._actualSet(value, conditional ? function () {\n                throw new Error('Revision mismatch');\n            } : null);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(data, conflictResolver) {\n            var _this3 = this;\n\n            var resolver = void 0;\n            var arg = { data: data,\n                revision: conflictResolver ? this.revision : undefined };\n            if (conflictResolver) {\n                resolver = function resolver(err) {\n                    return __awaiter(_this3, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                        return _regenerator2.default.wrap(function _callee$(_context) {\n                            while (1) {\n                                switch (_context.prev = _context.next) {\n                                    case 0:\n                                        if (!(err.status === 412)) {\n                                            _context.next = 4;\n                                            break;\n                                        }\n\n                                        _context.next = 3;\n                                        return this.softSync();\n\n                                    case 3:\n                                        return _context.abrupt(\"return\", { revision: this.revision,\n                                            data: conflictResolver(utils_1.deepClone(this.value)) });\n\n                                    case 4:\n                                        throw err;\n\n                                    case 5:\n                                    case \"end\":\n                                        return _context.stop();\n                                }\n                            }\n                        }, _callee, this);\n                    }));\n                };\n            }\n            return this.actionQueue.add(this._set.bind(this), this.uri, arg, resolver).then(function (result) {\n                if (result.last_event_id > _this3.descriptor.last_event_id) {\n                    // Ignore returned value if we already got a newer one\n                    _this3.descriptor.revision = result.revision;\n                    _this3.descriptor.data = result.data;\n                    _this3.descriptor.last_event_id = result.last_event_id;\n                    _this3.services.storage.update(_this3.type, _this3.sid, _this3.uniqueName, { last_event_id: result.last_event_id, revision: result.revision, data: result.data });\n                }\n                _this3.emit('updated', _this3.value, true);\n                return _this3.value;\n            });\n        }\n        /**\n         * @param {Document~Mutator} mutator Function to apply to current data in order to modify it.\n         * Can be called multiple times if same data modified remotely at the same time.\n         * @return {Promise<Object>}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                return _context2.abrupt(\"return\", this._actualSet(mutator(utils_1.deepClone(this.value)), mutator));\n\n                            case 1:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Object>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(obj) {\n            return this.mutate(function (remote) {\n                return (0, _extends3.default)(remote, obj);\n            });\n        }\n    }, {\n        key: \"_set\",\n        value: function _set(context, param) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var response;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.next = 2;\n                                return this.services.network.post(this.uri, { data: param.data }, param.revision);\n\n                            case 2:\n                                response = _context3.sent;\n                                return _context3.abrupt(\"return\", { revision: response.body.revision, data: param.data, last_event_id: response.body.last_event_id });\n\n                            case 4:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n        /**\n         * Get new data from server\n         * @private\n         */\n\n    }, {\n        key: \"softSync\",\n        value: function softSync() {\n            var _this4 = this;\n\n            return this.services.network.get(this.uri).then(function (response) {\n                _this4._update({ type: 'document_updated',\n                    id: response.body.last_event_id,\n                    document_revision: response.body.revision,\n                    document_data: response.body.data }); // eslint-disable-line camelcase\n                return _this4;\n            }).catch(function (err) {\n                if (err.status === 404) {\n                    _this4.onRemoved(false);\n                } else {\n                    logger_1.default.error(\"Can't get updates for \" + _this4.sid + \":\", err);\n                }\n            });\n        }\n        /**\n         * Get value by given path\n         * @param {string} path JSON path\n         * @private\n         */\n        /*\n        _value(path) {\n          let result;\n          try {\n            let pathArr = path.replace(/^\\/|\\/$/gm, '').split('/');\n            let obj = this.data;\n            pathArr.forEach((el) => { obj = obj[el]; });\n            result = obj;\n          } catch (e) {\n            log.warn('Failed to get value:', e);\n          }\n          return result;\n        }\n        */\n\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            // Should also do some cleanup here\n            this.emit('removed', locally);\n            if (!locally) {\n                this.emit('removedRemotely');\n            }\n        }\n        /**\n         * Removes document from service\n         * @return {Promise}\n         * @public\n         */\n\n    }, {\n        key: \"removeDocument\",\n        value: function removeDocument() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"value\",\n        get: function get() {\n            return this.descriptor.data;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'document';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'document';\n        }\n    }]);\n    return SyncDocument;\n}(entity_1.SyncEntity);\n\nexports.SyncDocument = SyncDocument;\nexports.default = SyncDocument;\n/**\n * Applies a transformation to the document value\n * @callback Document~Mutator\n * @param {Object} data current value\n * @return {Object} Modified value\n */\n/**\n* Fired when document value changed\n* @event Document#updated\n* @type {Object}\n*/\n/**\n* Fired when document value changed remotely\n* @event Document#updatedRemotely\n* @type {Object}\n*/\n/**\n* Fired when document removed from server\n* @event Document#removed\n*/\n/**\n* Fired when document removed from server remotely\n* @event Document#removedRemotely\n*/\n\n/***/ }),\n\n/***/ \"i+u+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar $at = __webpack_require__(\"lytE\")(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(\"uRfg\")(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0; // next index\n  // 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t,\n      index = this._i,\n      point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n/***/ }),\n\n/***/ \"i/BB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(\"FRpO\");\n/**\n * Provides retrier service\n */\nvar Retrier = function (_super) {\n    __extends(Retrier, _super);\n    /**\n     * Creates a new Retrier instance\n     */\n    function Retrier(options) {\n        var _this = _super.call(this) || this;\n        _this.minDelay = options.min;\n        _this.maxDelay = options.max;\n        _this.initialDelay = options.initial || 0;\n        _this.maxAttemptsCount = options.maxAttemptsCount || 0;\n        _this.maxAttemptsTime = options.maxAttemptsTime || 0;\n        _this.randomness = options.randomness || 0;\n        _this.inProgress = false;\n        _this.attemptNum = 0;\n        _this.prevDelay = 0;\n        _this.currDelay = 0;\n        return _this;\n    }\n    Retrier.prototype.attempt = function () {\n        clearTimeout(this.timeout);\n        this.attemptNum++;\n        this.timeout = null;\n        this.emit(\"attempt\", this);\n    };\n    Retrier.prototype.nextDelay = function (delayOverride) {\n        if (typeof delayOverride === 'number') {\n            this.prevDelay = 0;\n            this.currDelay = delayOverride;\n            return delayOverride;\n        }\n        if (this.attemptNum == 0) {\n            return this.initialDelay;\n        }\n        if (this.attemptNum == 1) {\n            this.currDelay = this.minDelay;\n            return this.currDelay;\n        }\n        var delay = this.currDelay + this.prevDelay;\n        this.prevDelay = this.currDelay;\n        this.currDelay = delay;\n        return delay;\n    };\n    Retrier.prototype.randomize = function (delay) {\n        var area = delay * this.randomness;\n        var corr = Math.round(Math.random() * area * 2 - area);\n        return Math.max(0, delay + corr);\n    };\n    Retrier.prototype.scheduleAttempt = function (delayOverride) {\n        var _this = this;\n        if (this.maxAttemptsCount && this.attemptNum >= this.maxAttemptsCount) {\n            this.cleanup();\n            this.emit('failed', new Error('Maximum attempt count limit reached'));\n            this.reject(new Error('Maximum attempt count reached'));\n            return;\n        }\n        var delay = this.nextDelay(delayOverride);\n        delay = this.randomize(delay);\n        if (this.maxAttemptsTime && this.startTimestamp + this.maxAttemptsTime < Date.now() + delay) {\n            this.cleanup();\n            this.emit('failed', new Error('Maximum attempt time limit reached'));\n            this.reject(new Error('Maximum attempt time limit reached'));\n        }\n        this.timeout = setTimeout(function () {\n            return _this.attempt();\n        }, delay);\n    };\n    Retrier.prototype.cleanup = function () {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.inProgress = false;\n        this.attemptNum = 0;\n        this.prevDelay = 0;\n        this.currDelay = 0;\n    };\n    Retrier.prototype.start = function () {\n        var _this = this;\n        if (this.inProgress) {\n            throw new Error('Retrier is already in progress');\n        }\n        this.inProgress = true;\n        return new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n            _this.startTimestamp = Date.now();\n            _this.scheduleAttempt(_this.initialDelay);\n        });\n    };\n    Retrier.prototype.cancel = function () {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n            this.inProgress = false;\n            this.emit(\"cancelled\");\n            this.reject(new Error(\"Cancelled\"));\n        }\n    };\n    Retrier.prototype.succeeded = function (arg) {\n        this.emit(\"succeeded\", arg);\n        this.resolve(arg);\n    };\n    Retrier.prototype.failed = function (err, nextAttemptDelayOverride) {\n        if (this.timeout) {\n            throw new Error(\"Retrier attempt is already in progress\");\n        }\n        this.scheduleAttempt(nextAttemptDelayOverride);\n    };\n    Retrier.prototype.run = function (handler) {\n        var _this = this;\n        this.on('attempt', function () {\n            handler().then(function (v) {\n                return _this.succeeded(v);\n            }).catch(function (e) {\n                return _this.failed(e);\n            });\n        });\n        return this.start();\n    };\n    return Retrier;\n}(events_1.EventEmitter);\nexports.Retrier = Retrier;\nexports.default = Retrier;\n//# sourceMappingURL=retrier.js.map\n\n/***/ }),\n\n/***/ \"i1Q6\":\n/***/ (function(module, exports) {\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n/***/ }),\n\n/***/ \"iAJW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar assign = __webpack_require__(\"flj+\"),\n    normalizeOpts = __webpack_require__(\"1uac\"),\n    isCallable = __webpack_require__(\"az0W\"),\n    contains = __webpack_require__(\"z+/R\"),\n    d;\n\nd = module.exports = function (dscr, value /*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== 'string') {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set /*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n/***/ }),\n\n/***/ \"iH9W\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, Buffer) {\n\nvar EventEmitter = __webpack_require__(\"FRpO\").EventEmitter;\nvar inherits = __webpack_require__(\"gfUn\").inherits;\nvar Promise = global.Promise || __webpack_require__(\"Zt7E\").Promise;\n\n/**\n * Construct an {@link AccessManager} from an initial Access Token.\n * @class\n * @classdesc An {@link AccessManager} manages everything necessary for a\n *   Twilio Client to access Twilio. Namely, the {@link AccessManager} manages\n *   Access Tokens, and raises Access Token expiration events in the form of\n *   {@link AccessManager#event:tokenExpired}.\n * @param {string} initialToken - The initial Access Token\n * @property {?string} identity - The identity granted by the current Access\n *   Token; this value is populated asynchronously and is initially null\n * @property {string} token - The current Access Token\n * @property {boolean} isExpired - Whether or not the current Access Token is\n *   expired\n * @property {?Date} expires - The time at which he current Access Token\n *   expires; this value is populated asynchronously and is initially null\n * @fires AccessManager#error\n * @fires AccessManager#tokenExpired\n * @fires AccessManager#tokenWillExpire\n * @fires AccessManager#tokenUpdated\n */\nfunction AccessManager(initialToken) {\n  if (!(this instanceof AccessManager)) {\n    return new AccessManager(initialToken);\n  }\n  EventEmitter.call(this);\n  var expires = null;\n  var identity = null;\n  var isExpired = false;\n  var pendingUpdate = null;\n  var token = initialToken;\n  var tokenWillExpireTimer = null;\n  var tokenExpiredTimer = null;\n  var tokenUpdatedTimer = null;\n  var tokenPayload = null;\n  Object.defineProperties(this, {\n    _expires: {\n      get: function get() {\n        return expires;\n      },\n      set: function set(_expires) {\n        expires = _expires;\n      }\n    },\n    _identity: {\n      get: function get() {\n        return identity;\n      },\n      set: function set(_identity) {\n        identity = _identity;\n      }\n    },\n    _isExpired: {\n      get: function get() {\n        return isExpired;\n      },\n      set: function set(_isExpired) {\n        isExpired = _isExpired;\n      }\n    },\n    _pendingUpdate: {\n      get: function get() {\n        return pendingUpdate;\n      },\n      set: function set(_pendingUpdate) {\n        pendingUpdate = _pendingUpdate;\n      }\n    },\n    _token: {\n      get: function get() {\n        return token;\n      },\n      set: function set(_token) {\n        token = _token;\n      }\n    },\n    _tokenExpiredTimer: {\n      get: function get() {\n        return tokenExpiredTimer;\n      },\n      set: function set(_tokenExpiredTimer) {\n        tokenExpiredTimer = _tokenExpiredTimer;\n      }\n    },\n    _tokenWillExpireTimer: {\n      get: function get() {\n        return tokenWillExpireTimer;\n      },\n      set: function set(_tokenWillExpireTimer) {\n        tokenWillExpireTimer = _tokenWillExpireTimer;\n      }\n    },\n    _tokenUpdatedTimer: {\n      get: function get() {\n        return tokenUpdatedTimer;\n      },\n      set: function set(_tokenUpdatedTimer) {\n        tokenUpdatedTimer = _tokenUpdatedTimer;\n      }\n    },\n    _tokenPayload: {\n      get: function get() {\n        return tokenPayload;\n      },\n      set: function set(_tokenPayload) {\n        tokenPayload = _tokenPayload;\n      }\n    },\n    expires: {\n      enumerable: true,\n      get: function get() {\n        return expires;\n      }\n    },\n    identity: {\n      enumerable: true,\n      get: function get() {\n        return identity;\n      }\n    },\n    isExpired: {\n      enumerable: true,\n      get: function get() {\n        return isExpired;\n      }\n    },\n    token: {\n      enumerable: true,\n      get: function get() {\n        return token;\n      }\n    }\n  });\n  var _pendingUpdate = this.updateToken(initialToken);\n  _pendingUpdate.catch(function (error) {\n    if (this._pendingUpdate === _pendingUpdate) {\n      this.emit('error', error);\n    }\n  }.bind(this));\n}\n\ninherits(AccessManager, EventEmitter);\n\n/**\n * Update the {@link AccessManager}'s current Access Token.\n * @param {string} newToken - A new Access Token\n * @returns {Promise<this>}\n * @fires AccessManager#tokenUpdated\n */\nAccessManager.prototype.updateToken = function updateToken(newToken) {\n  var self = this;\n\n  var pendingUpdate = new Promise(function (resolve) {\n\n    var payload = parsePayload(newToken);\n\n    // Set the identity.\n    self._identity = getIdentity(payload);\n\n    // Emit the tokenUpdated event after the Promise resolves.\n    clearTimeout(self._tokenUpdatedTimer);\n    self._tokenUpdatedTimer = setTimeout(function tokenUpdated() {\n      self._tokenUpdatedTimer = null;\n      self.emit('tokenUpdated', self);\n    });\n\n    // Set expires, isExpired, tokenExpired and tokenWillExpire timers.\n    self._expires = new Date(payload.exp * 1000);\n    self._isExpired = Date.now() >= self.expires;\n\n    clearTimeout(self._tokenWillExpireTimer);\n    self._tokenWillExpireTimer = setTimeout(function tokenWillExpireTimer() {\n      self._tokenWillExpireTimer = null;\n      self.emit('tokenWillExpire', self);\n    }, self.expires - Date.now() - 3 * 60 * 1000); // 3 minutes before expiration\n    // Negative timeout for setTimeout is fine and means \"almost now\"\n\n    clearTimeout(self._tokenExpiredTimer);\n    self._tokenExpiredTimer = setTimeout(function tokenExpiredTimer() {\n      self._isExpired = true;\n      self._tokenExpiredTimer = null;\n      self.emit('tokenExpired', self);\n    }, self.expires - Date.now());\n\n    // Update the token and tokenPayload.\n    self._token = newToken;\n    self._tokenPayload = payload;\n\n    resolve(self);\n  });\n\n  this._pendingUpdate = pendingUpdate;\n\n  return pendingUpdate;\n};\n\n/**\n * Parse the payload of a JSON Web Token (JWT).\n * @private\n * @param {string} jwt\n * @returns {object}\n */\nfunction parsePayload(jwt) {\n  var segments = jwt.split('.');\n  if (segments.length !== 3) {\n    throw new Error('Token is invalid or malformed');\n  }\n  var encodedPayloadString = segments[1];\n  var payloadString = decodeBase64URL(encodedPayloadString);\n  var payload = JSON.parse(payloadString);\n  return payload;\n}\n\n/**\n * Decode a base64url-encoded string.\n * @private\n * @param {string} encoded\n * @returns {string}\n */\nfunction decodeBase64URL(encoded) {\n  var remainder = encoded.length % 4;\n  if (remainder > 0) {\n    var padlen = 4 - remainder;\n    encoded += new Array(padlen + 1).join('=');\n  }\n  encoded = encoded.replace(/-/g, '+').replace(/_/g, '/');\n  return decodeBase64(encoded);\n}\n\n/**\n * Decode a base64-encoded string.\n * @private\n * @param {string} encoded\n * @returns {string}\n */\nfunction decodeBase64(encoded) {\n  return new Buffer(encoded, 'base64').toString();\n}\n\n/**\n * Get the identity from the payload of an Access Token.\n * @private\n * @param {object} payload\n * @returns {?string}\n */\nfunction getIdentity(payload) {\n  var identity = null;\n  if (!payload.grants && payload.scope) {\n    identity = getIdentityFromCapabilityTokenScope(payload.scope);\n  } else if (payload.grants instanceof Array) {\n    identity = getIdentityFromSATGrants(payload.grants);\n  } else if (typeof payload.grants === 'object') {\n    identity = getIdentityFromFPAGrants(payload.grants);\n  }\n  return identity;\n}\n\n/**\n * Get the identity from a Capability Token's Scope.\n * @private\n * @param {String} scope\n * @returns {?string}\n */\n// TODO(rrowland): Remove this function as soon as we move to FPA.\nfunction getIdentityFromCapabilityTokenScope(scope) {\n  var match = decodeURIComponent(scope).match(/identity=(.*?)(&|$)/i);\n  return match && decodeURIComponent(match[1]);\n}\n\n/**\n * Get the identity from Scoped Access Token (SAT) grants.\n * @private\n * @param {Array<Object>} grants\n * @returns {?string}\n */\n// TODO(mroberts): Remove this function as soon as we move to FPA.\nfunction getIdentityFromSATGrants(grants) {\n  var identity = null;\n  for (var i = 0; i < grants.length; i++) {\n    var grant = grants[i];\n    if (grant && typeof grant.res === 'string') {\n      var match = grant.res.match(/^sip:(.*)@/);\n      if (match) {\n        identity = decodeURIComponent(match[1]);\n        break;\n      }\n    }\n  }\n  return identity;\n}\n\n/**\n * Get the identity from First-Person Access Token (FPA) grants.\n * @private\n * @param {object} grants\n * @returns {?string}\n */\nfunction getIdentityFromFPAGrants(grants) {\n  return grants.identity || null;\n}\n\n/**\n * An error occurred.\n * @param {Error} error\n * @event AccessManager#error\n */\n\n/**\n * The Access Token expired.\n * @param {AccessManager} manager\n * @event AccessManager#tokenExpired\n */\n\n/**\n * The Access Token will expire in 3 minutes\n * (or less if token TTL is less then 3 minutes).\n * @param {AccessManager} manager\n * @event AccessManager#tokenWillExpire\n */\n\n/**\n * The Access Token was updated.\n * @param {AccessManager} manager\n * @event AccessManager#tokenUpdated\n */\n\nmodule.exports = AccessManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\"), __webpack_require__(\"peL6\").Buffer))\n\n/***/ }),\n\n/***/ \"iSVM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar XHR = typeof XMLHttpRequest === 'undefined' ? __webpack_require__(1).XMLHttpRequest : XMLHttpRequest;\n\nfunction parseResponseHeaders(headerString) {\n  return headerString.split('\\r\\n').map(function (el) {\n    return el.split(': ');\n  }).filter(function (el) {\n    return el.length === 2 && el[1].length > 0;\n  }).reduce(function (prev, curr) {\n    prev[curr[0]] = curr[1];return prev;\n  }, {});\n}\n\nfunction extractBody(xhr) {\n  var contentType = xhr.getResponseHeader('Content-Type');\n  if (!contentType || contentType.indexOf('application/json') !== 0 || xhr.responseText.length === 0) {\n    return xhr.responseText;\n  }\n\n  try {\n    return JSON.parse(xhr.responseText);\n  } catch (e) {\n    return xhr.responseText;\n  }\n}\n\n/**\n * Use XMLHttpRequest to get a network resource.\n * @param {String} method - HTTP Method\n * @param {Object} params - Request parameters\n * @param {String} params.url - URL of the resource\n * @param {Array}  params.headers - An array of headers to pass [{ headerName : headerBody }]\n * @param {Object} params.body - A JSON body to send to the resource\n * @returns {Promise}\n **/\n\nvar Request = function () {\n  function Request() {\n    _classCallCheck(this, Request);\n  }\n\n  _createClass(Request, null, [{\n    key: 'request',\n    value: function request(method, params) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XHR();\n        xhr.open(method, params.url, true);\n\n        xhr.onreadystatechange = function onreadystatechange() {\n          if (xhr.readyState !== 4) {\n            return;\n          }\n\n          var headers = parseResponseHeaders(xhr.getAllResponseHeaders());\n          var body = extractBody(xhr);\n\n          if (200 <= xhr.status && xhr.status < 300) {\n            resolve({ status: xhr.status, headers: headers, body: body });\n          } else {\n            reject({ status: xhr.status, description: xhr.statusText, headers: headers, body: body });\n          }\n        };\n\n        for (var headerName in params.headers) {\n          xhr.setRequestHeader(headerName, params.headers[headerName]);\n          if (headerName === 'Content-Type' && params.headers[headerName] === 'application/json') {\n            params.body = JSON.stringify(params.body);\n          }\n        }\n\n        xhr.send(params.body);\n      });\n    }\n\n    /**\n     * Sugar function for request('GET', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'get',\n    value: function get(params) {\n      return this.request('GET', params);\n    }\n\n    /**\n     * Sugar function for request('POST', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'post',\n    value: function post(params) {\n      return this.request('POST', params);\n    }\n\n    /**\n     * Sugar function for request('PUT', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(params) {\n      return this.request('PUT', params);\n    }\n\n    /**\n     * Sugar function for request('DELETE', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(params) {\n      return this.request('DELETE', params);\n    }\n  }]);\n\n  return Request;\n}();\n\nexports.default = Request;\n\nmodule.exports = Request;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"ibPW\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"Ky5l\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"jx4H\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(\"FFZn\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n/***/ }),\n\n/***/ \"knrM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(\"B9Lq\"),\n    enumBugKeys = __webpack_require__(\"KxjL\");\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n/***/ }),\n\n/***/ \"kohK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function () {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = objectTypes[typeof window] && window || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4': '10 Technical Preview',\n      '6.3': '8.1',\n      '6.2': '8',\n      '6.1': 'Server 2008 R2 / 7',\n      '6.0': 'Server 2008 / Vista',\n      '5.2': 'Server 2003 / XP 64-bit',\n      '5.1': 'XP',\n      '5.01': '2000 SP1',\n      '5.0': '2000',\n      '4.0': 'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) && (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(os.replace(/ ce$/i, ' CE').replace(/\\bhpw/i, 'web').replace(/\\bMacintosh\\b/, 'Mac OS').replace(/_PowerPC\\b/i, ' OS').replace(/\\b(OS X) [^ \\d]+/i, '$1').replace(/\\bMac (OS X)\\b/, '$1').replace(/\\/(\\d)/, ' $1').replace(/_/g, '.').replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '').replace(/\\bx86\\.64\\b/gi, 'x86_64').replace(/\\b(Windows Phone) OS\\b/, '$1').replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1').split(' on ')[0]);\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return (/^(?:webOS|i(?:OS|P))/.test(string) ? string : capitalize(string)\n    );\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null ? capitalize(value) : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) && (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function (value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext ? !!nav.likeChrome : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = isCustomContext && context.java ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03B1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03B2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = isCustomContext && opera ? opera['[[Class]]'] : getClassOf(opera)) ? operaClass : opera = null;\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([{ 'label': 'EdgeHTML', 'pattern': 'Edge' }, 'Trident', { 'label': 'WebKit', 'pattern': 'AppleWebKit' }, 'iCab', 'Presto', 'NetFront', 'Tasman', 'KHTML', 'Gecko']);\n\n    /* Detectable browser names (order is important). */\n    var name = getName(['Adobe AIR', 'Arora', 'Avant Browser', 'Breach', 'Camino', 'Electron', 'Epiphany', 'Fennec', 'Flock', 'Galeon', 'GreenBrowser', 'iCab', 'Iceweasel', 'K-Meleon', 'Konqueror', 'Lunascape', 'Maxthon', { 'label': 'Microsoft Edge', 'pattern': 'Edge' }, 'Midori', 'Nook Browser', 'PaleMoon', 'PhantomJS', 'Raven', 'Rekonq', 'RockMelt', { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' }, 'SeaMonkey', { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' }, 'Sleipnir', 'SlimBrowser', { 'label': 'SRWare Iron', 'pattern': 'Iron' }, 'Sunrise', 'Swiftfox', 'Waterfox', 'WebPositive', 'Opera Mini', { 'label': 'Opera Mini', 'pattern': 'OPiOS' }, 'Opera', { 'label': 'Opera', 'pattern': 'OPR' }, 'Chrome', { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' }, { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' }, { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' }, { 'label': 'IE', 'pattern': 'IEMobile' }, { 'label': 'IE', 'pattern': 'MSIE' }, 'Safari']);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([{ 'label': 'BlackBerry', 'pattern': 'BB10' }, 'BlackBerry', { 'label': 'Galaxy S', 'pattern': 'GT-I9000' }, { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' }, { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' }, { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' }, { 'label': 'Galaxy S5', 'pattern': 'SM-G900' }, { 'label': 'Galaxy S6', 'pattern': 'SM-G920' }, { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' }, { 'label': 'Galaxy S7', 'pattern': 'SM-G930' }, { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' }, 'Google TV', 'Lumia', 'iPad', 'iPod', 'iPhone', 'Kindle', { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' }, 'Nexus', 'Nook', 'PlayBook', 'PlayStation Vita', 'PlayStation', 'TouchPad', 'Transformer', { 'label': 'Wii U', 'pattern': 'WiiU' }, 'Wii', 'Xbox One', { 'label': 'Xbox 360', 'pattern': 'Xbox' }, 'Xoom']);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1, 'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS(['Windows Phone', 'Android', 'CentOS', { 'label': 'Chrome OS', 'pattern': 'CrOS' }, 'Debian', 'Fedora', 'FreeBSD', 'Gentoo', 'Haiku', 'Kubuntu', 'Linux Mint', 'OpenBSD', 'Red Hat', 'SuSE', 'Ubuntu', 'Xubuntu', 'Cygwin', 'Symbian OS', 'hpwOS', 'webOS ', 'webOS', 'Tablet OS', 'Tizen', 'Linux', 'Mac OS X', 'Macintosh', 'Mac', 'Windows 98;', 'Windows ']);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function (result, guess) {\n        return result || RegExp('\\\\b' + (guess.pattern || qualify(guess)) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function (result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (value[product] || value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] || RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function (result, guess) {\n        return result || RegExp('\\\\b' + (guess.pattern || qualify(guess)) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function (result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result = RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua))) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function (result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result = RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) || RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) || RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua))) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String(guess.label && !RegExp(pattern, 'i').test(guess.label) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0].replace(RegExp(pattern, 'i'), guess).replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ').replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function (result, pattern) {\n        return result || (RegExp(pattern + '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if (data = /\\bGoogle TV\\b/.exec(product)) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n        name || (name = 'Safari');\n        os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua)) ? ' ' + data[1].replace(/_/g, '.') : '');\n      }\n      // Detect Kubuntu.\n      else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n          os = 'Kubuntu';\n        }\n        // Detect Android browsers.\n        else if (manufacturer && manufacturer != 'Google' && (/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua) || /\\bVita\\b/.test(product)) || /\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua)) {\n            name = 'Android Browser';\n            os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n          }\n          // Detect Silk desktop/accelerated modes.\n          else if (name == 'Silk') {\n              if (!/\\bMobi/i.test(ua)) {\n                os = 'Android';\n                description.unshift('desktop mode');\n              }\n              if (/Accelerated *= *true/i.test(ua)) {\n                description.unshift('accelerated');\n              }\n            }\n            // Detect PaleMoon identifying as Firefox.\n            else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n                description.push('identifying as Firefox ' + data[1]);\n              }\n              // Detect Firefox OS and products running Firefox.\n              else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n                  os || (os = 'Firefox OS');\n                  product || (product = data[1]);\n                }\n                // Detect false positives for Firefox/Safari.\n                else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n                    // Escape the `/` for Firefox 1.\n                    if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n                      // Clear name of false positives.\n                      name = null;\n                    }\n                    // Reassign a generic name.\n                    if ((data = product || manufacturer || os) && (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n                      name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n                    }\n                  }\n                  // Add Chrome version to description for Electron.\n                  else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n                      description.push('Chromium ' + data);\n                    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion(['(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))', 'Version', qualify(name), '(?:Firefox|Minefield|NetFront)']);\n    }\n    // Detect stubborn layout engines.\n    if (data = layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' || /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') || /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' || !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') || layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront') {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n        name = 'IE Mobile';\n        os = 'Windows Phone 8.x';\n        description.unshift('desktop mode');\n        version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n      }\n      // Detect IE 11 identifying as other browsers.\n      else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n          if (name) {\n            description.push('identifying as ' + name + (version ? ' ' + version : ''));\n          }\n          name = 'IE';\n          version = data[1];\n        }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {\n          os || (os = data[0].os || null);\n          try {\n            data[1] = context.require('ringo/engine').version;\n            version = data[1].join('.');\n            name = 'RingoJS';\n          } catch (e) {\n            if (data[0].global.system == context.system) {\n              name = 'Narwhal';\n            }\n          }\n        } else if (typeof context.process == 'object' && !context.process.browser && (data = context.process)) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          } else {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : 'unknown';\n          }\n        } else if (rhino) {\n          name = 'Rhino';\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf(data = context.runtime) == airRuntimeClass) {\n          name = 'Adobe AIR';\n          os = data.flash.system.Capabilities.os;\n        }\n        // Detect PhantomJS.\n        else if (getClassOf(data = context.phantom) == phantomClass) {\n            name = 'PhantomJS';\n            version = (data = data.version || null) && data.major + '.' + data.minor + '.' + data.patch;\n          }\n          // Detect IE compatibility modes.\n          else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n              // We're in compatibility mode when the Trident version + 4 doesn't\n              // equal the document mode.\n              version = [version, doc.documentMode];\n              if ((data = +data[1] + 4) != version[1]) {\n                description.push('IE ' + version[1] + ' mode');\n                layout && (layout[1] = '');\n                version[1] = data;\n              }\n              version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n            }\n            // Detect IE 11 masking as other browsers.\n            else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n                description.push('masking as ' + name + ' ' + version);\n                name = 'IE';\n                version = '11.0';\n                layout = ['Trident'];\n                os = 'Windows';\n              }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data = /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) || /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) || /\\bMinefield\\b/i.test(ua) && 'a')) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') + (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n        version = version.replace(/\\.[\\d.]+/, '.x');\n      }\n      // Detect Xbox 360 and Xbox One.\n      else if (/\\bXbox\\b/i.test(product)) {\n          if (product == 'Xbox 360') {\n            os = null;\n          }\n          if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n            description.unshift('mobile mode');\n          }\n        }\n        // Add mobile postfix.\n        else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) && (os == 'Windows CE' || /Mobi/i.test(ua))) {\n            name += ' Mobile';\n          }\n          // Detect IE platform preview.\n          else if (name == 'IE' && useFeatures) {\n              try {\n                if (context.external === null) {\n                  description.unshift('platform preview');\n                }\n              } catch (e) {\n                description.unshift('embedded');\n              }\n            }\n            // Detect BlackBerry OS version.\n            // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n            else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data = (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] || version)) {\n                data = [data, /BB10/.test(ua)];\n                os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n                version = null;\n              }\n              // Detect Opera identifying/masking itself as another browser.\n              // http://www.opera.com/support/kb/view/843/\n              else if (this != forOwn && product != 'Wii' && (useFeatures && opera || /Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua) || name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os) || name == 'IE' && (os && !/^Win/.test(os) && version > 5.5 || /\\bWindows XP\\b/.test(os) && version > 8 || version == 8 && !/\\bTrident\\b/.test(ua))) && !reOpera.test(data = parse.call(forOwn, ua.replace(reOpera, '') + ';')) && data.name) {\n                  // When \"identifying\", the UA contains both Opera and the other browser's name.\n                  data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n                  if (reOpera.test(name)) {\n                    if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n                      os = null;\n                    }\n                    data = 'identify' + data;\n                  }\n                  // When \"masking\", the UA contains only the other browser's name.\n                  else {\n                      data = 'mask' + data;\n                      if (operaClass) {\n                        name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n                      } else {\n                        name = 'Opera';\n                      }\n                      if (/\\bIE\\b/.test(data)) {\n                        os = null;\n                      }\n                      if (!useFeatures) {\n                        version = null;\n                      }\n                    }\n                  layout = ['Presto'];\n                  description.push(data);\n                }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if (data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1]) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] || version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n          version = null;\n        }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || !likeChrome && !data[1]) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' && (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n        description.unshift('desktop mode');\n        name = 'Chrome Mobile';\n        version = null;\n\n        if (/\\bOS X\\b/.test(os)) {\n          manufacturer = 'Apple';\n          os = 'iOS 4.3+';\n        } else {\n          os = null;\n        }\n      }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf(data = /[\\d.]+$/.exec(os)) == 0 && ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (/Browser|Lunascape|Maxthon/.test(name) || name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) || /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': data && !isSpecialCasedOS ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function toString() {\n          var version = this.version;\n          return this.family + (version && !isSpecialCasedOS ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (name && (/\\bWOW64\\b/i.test(ua) || useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua))) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (os && /^OS X/.test(os.family) && name == 'Chrome' && parseFloat(version) >= 39) {\n        os.architecture = 64;\n      }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function toString() {\n        return 'null';\n      }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (true) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return platform;\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n      // Export for CommonJS support.\n      forOwn(platform, function (value, key) {\n        freeExports[key] = value;\n      });\n    } else {\n      // Export to the global object.\n      root.platform = platform;\n    }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"l262\")(module), __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"kthq\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = __webpack_require__(\"0Qy9\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = __webpack_require__(\"L3Vt\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _slicedToArray2 = __webpack_require__(\"m8OI\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = __webpack_require__(\"X9RM\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = __webpack_require__(\"YZrv\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = __webpack_require__(\"BX4+\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(\"VOrx\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(\"ZKjc\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _stringify = __webpack_require__(\"HxWs\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = __webpack_require__(\"GyB/\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _events = __webpack_require__(\"FRpO\");\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = __webpack_require__(\"obon\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _uuid = __webpack_require__(\"qQO4\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _backoff = __webpack_require__(\"PvFw\");\n\nvar _backoff2 = _interopRequireDefault(_backoff);\n\nvar _javascriptStateMachine = __webpack_require__(\"uxiv\");\n\nvar _javascriptStateMachine2 = _interopRequireDefault(_javascriptStateMachine);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar WebSocket = global.WebSocket || global.MozWebSocket || __webpack_require__(0);\n\nvar ACTIVITY_CHECK_INTERVAL = 5000;\nvar ACTIVITY_TIMEOUT = 43000;\n\nvar INIT_TIMEOUT = 5000;\nvar UPDATE_TIMEOUT = 5000;\nvar DISCONNECTING_TIMEOUT = 3000;\n\nfunction byteLength(s) {\n  var escstr = encodeURIComponent(s);\n  var binstr = escstr.replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  });\n  return binstr.length;\n}\n\nfunction stringToUint8Array(s) {\n  var escstr = encodeURIComponent(s);\n  var binstr = escstr.replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  });\n  var ua = new Uint8Array(binstr.length);\n  Array.prototype.forEach.call(binstr, function (ch, i) {\n    ua[i] = ch.charCodeAt(0);\n  });\n  return ua;\n}\n\nfunction uint8ArrayToString(ua) {\n  var binstr = Array.prototype.map.call(ua, function (ch) {\n    return String.fromCharCode(ch);\n  }).join('');\n  var escstr = binstr.replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  });\n  return decodeURIComponent(escstr);\n}\n\nfunction getMagic(buffer) {\n  var strMagic = '';\n  var idx = 0;\n  for (; idx < buffer.length; ++idx) {\n    var chr = String.fromCharCode(buffer[idx]);\n    strMagic += chr;\n    if (chr === '\\r') {\n      idx += 2;\n      break;\n    }\n  }\n\n  var magics = strMagic.split(' ');\n  return {\n    size: idx,\n    protocol: magics[0],\n    version: magics[1],\n    headerSize: Number(magics[2])\n  };\n}\n\n/**\n * Makes sure that body is properly stringified\n */\nfunction preparePayload(payload) {\n  switch (typeof payload === 'undefined' ? 'undefined' : (0, _typeof3.default)(payload)) {\n    case 'undefined':\n      return '';\n    case 'object':\n      return (0, _stringify2.default)(payload);\n    default:\n      return payload;\n  }\n}\n\n/**\n * @param {Uint8Array} array\n * @returns {Object}\n */\nfunction getJsonObject(array) {\n  var str = uint8ArrayToString(array);\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    _logger2.default.error('failed to parse input: ', str);\n    throw e;\n  }\n}\n\n/**\n * @class TwilsockChannel\n * @classdesc Twilsock connection\n *\n * @param config\n */\n\nvar TwilsockChannel = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockChannel, _EventEmitter);\n\n  function TwilsockChannel(config) {\n    (0, _classCallCheck3.default)(this, TwilsockChannel);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockChannel.__proto__ || (0, _getPrototypeOf2.default)(TwilsockChannel)).call(this));\n\n    if (config.logLevel) {\n      _logger2.default.setLevel(config.logLevel);\n    }\n\n    var backoff = _backoff2.default.exponential({\n      randomisationFactor: 0.2,\n      initialDelay: 2 * 1000,\n      maxDelay: 2 * 60 * 1000\n    });\n\n    backoff.on('ready', function () {\n      _this._retry();\n    });\n    _this.on('reply', function (reply) {\n      _this._processReply(reply);\n    });\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _transportReady: { value: false, writable: true },\n      _disconnectedPromiseResolve: { value: null, writable: true },\n      _backoffDefault: { value: backoff },\n      _backoff: { value: backoff, writable: true },\n      _fsm: { value: null, writable: true },\n      _watchTimer: { value: null, writable: true },\n      _timestamp: { value: 0, writable: true },\n      _socket: { value: null, writable: true },\n      _activeToken: { value: null, writable: true },\n      activeToken: { enumerable: true, get: function get() {\n          return _this._activeToken;\n        } },\n      state: { enumberable: true, get: function get() {\n          return _this._getState();\n        } },\n      isConnected: { enumberable: true, get: function get() {\n          return _this._isConnected();\n        } },\n      _activeRequests: { value: new _map2.default() },\n      _disconnectingTimer: { value: null, writable: true },\n      _isDeferredUpdate: { value: false, writable: true }\n    });\n\n    _this._fsm = _javascriptStateMachine2.default.create({\n      initial: 'disconnected',\n      events: [{ name: 'userConnect', from: ['disconnected', 'rejected'], to: 'connecting' }, { name: 'userConnect', from: ['connecting', 'connected'] }, // ignore event\n      { name: 'userDisconnect', from: ['connecting', 'initialising', 'connected', 'updating', 'retrying', 'rejected', 'waitSocketClosed', 'waitOffloadSocketClosed'], to: 'disconnecting' }, { name: 'userRetry', from: ['retrying'], to: 'connecting' }, { name: 'socketConnected', from: ['connecting'], to: 'initialising' }, { name: 'socketClosed', from: ['connecting', 'initialising', 'connected', 'updating', 'error', 'waitOffloadSocketClosed'], to: 'retrying' }, { name: 'socketClosed', from: ['disconnecting'], to: 'disconnected' }, { name: 'socketClosed', from: ['waitSocketClosed'], to: 'disconnected' }, { name: 'socketClosed', from: ['rejected'], to: 'rejected' }, { name: 'initSuccess', from: ['initialising'], to: 'connected' }, { name: 'initError', from: ['initialising'], to: 'error' }, { name: 'tokenRejected', from: ['initialising', 'updating'], to: 'rejected' }, { name: 'protocolError', from: ['initialising', 'connected', 'updating'], to: 'error' }, { name: 'receiveClose', from: ['initialising', 'connected', 'updating'], to: 'waitSocketClosed' }, { name: 'receiveOffload', from: ['initialising', 'connected', 'updating'], to: 'waitOffloadSocketClosed' }, { name: 'unsupportedProtocol', from: ['initialising', 'connected', 'updating'], to: 'unsupported' }, { name: 'receiveFatalClose', from: ['initialising', 'connected', 'updating'], to: 'unsupported' }, { name: 'userUpdateToken', from: ['disconnected', 'rejected', 'connecting', 'retrying'], to: 'connecting' }, { name: 'userUpdateToken', from: ['connected'], to: 'updating' }, { name: 'updateSuccess', from: ['updating'], to: 'connected' }, { name: 'updateError', from: ['updating'], to: 'error' }],\n      callbacks: {\n        onconnecting: function onconnecting() {\n          _this._startWatchdogTimer();\n          _this._setupSocket();\n          _this.emit('connecting');\n        },\n        onenterinitialising: function onenterinitialising() {\n          _this._sendInit();\n        },\n        onleaveinitialising: function onleaveinitialising() {\n          _this._cancelInit();\n        },\n        onenterupdating: function onenterupdating() {\n          _this._sendUpdate();\n        },\n        onleaveupdating: function onleaveupdating() {\n          _this._cancelUpdate();\n        },\n        onenterretrying: function onenterretrying() {\n          _this._initRetry();\n          _this.emit('connecting');\n        },\n        onenterconnected: function onenterconnected() {\n          _this._resetBackoff();\n          _this._onConnected();\n        },\n        onuserUpdateToken: function onuserUpdateToken() {\n          _this._resetBackoff();\n        },\n        ontokenRejected: function ontokenRejected() {\n          _this._resetBackoff();\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onuserDisconnect: function onuserDisconnect() {\n          _this._closeSocket();\n        },\n        onenterdisconnecting: function onenterdisconnecting() {\n          _this._startDisconnectTimer();\n        },\n        onleavedisconnecting: function onleavedisconnecting() {\n          _this._cancelDisconnectTimer();\n        },\n        onenterwaitSocketClosed: function onenterwaitSocketClosed() {\n          _this._startDisconnectTimer();\n        },\n        onleavewaitSocketClosed: function onleavewaitSocketClosed() {\n          _this._cancelDisconnectTimer();\n        },\n        onenterwaitOffloadSocketClosed: function onenterwaitOffloadSocketClosed() {\n          _this._startDisconnectTimer();\n        },\n        onleavewaitOffloadSocketClosed: function onleavewaitOffloadSocketClosed() {\n          _this._cancelDisconnectTimer();\n        },\n        ondisconnected: function ondisconnected() {\n          _this._resetBackoff();\n          _this._finalizeSocket();\n        },\n        onreceiveClose: function onreceiveClose(event, from, to, args) {\n          _logger2.default.debug('onreceiveClose: ', args);\n          _this._onCloseReceived(args);\n        },\n        onreceiveOffload: function onreceiveOffload(event, from, to, args) {\n          _logger2.default.debug('onreceiveoffload: ', args);\n          _this._modifyBackoff(args.body);\n          _this._onCloseReceived(args.status);\n        },\n        onunsupported: function onunsupported() {\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onerror: function onerror() {\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onenterstate: function onenterstate(event, from, to) {\n          _this._changeState(event, from, to);\n        }\n      },\n      error: function error() {\n        _logger2.default.warn('FSM: unexpected transition', arguments);\n      }\n    });\n\n    return _this;\n  }\n\n  (0, _createClass3.default)(TwilsockChannel, [{\n    key: '_changeState',\n    value: function _changeState(event, from, to) {\n      var _this2 = this;\n\n      _logger2.default.debug('FSM: ', event, ': ', from, '>>', to);\n\n      this.emit('stateChanged', this.state);\n\n      if (this._isDeferredUpdate) {\n        this._isDeferredUpdate = false;\n        setTimeout(function () {\n          _this2.updateToken();\n        }, 0);\n      }\n    }\n  }, {\n    key: '_resetBackoff',\n    value: function _resetBackoff() {\n      _logger2.default.trace('_resetBackoff');\n      this._backoff = this._backoffDefault;\n      this._backoff.reset();\n    }\n  }, {\n    key: '_modifyBackoff',\n    value: function _modifyBackoff(body) {\n      _logger2.default.trace('_modifyBackoff', body);\n\n      var backoffPolicy = body ? body.backoff_policy : null;\n\n      if (backoffPolicy) {\n        var min = backoffPolicy.reconnect_min_ms || 2 * 1000;\n        var max = backoffPolicy.reconnect_max_ms || 2 * 60 * 1000;\n\n        _logger2.default.debug('new backoff policy', min, max);\n\n        this._backoff = _backoff2.default.exponential({\n          randomisationFactor: 0.2,\n          initialDelay: min,\n          maxDelay: max\n        });\n      }\n    }\n  }, {\n    key: '_startDisconnectTimer',\n    value: function _startDisconnectTimer() {\n      var _this3 = this;\n\n      _logger2.default.trace('_startDisconnectTimer');\n\n      if (this._disconnectingTimer) {\n        clearTimeout(this._disconnectingTimer);\n        this._disconnectingTimer = null;\n      }\n\n      this._disconnectingTimer = setTimeout(function () {\n        _logger2.default.debug('disconnecting is timed out');\n        _this3._closeSocket();\n      }, DISCONNECTING_TIMEOUT);\n    }\n  }, {\n    key: '_cancelDisconnectTimer',\n    value: function _cancelDisconnectTimer() {\n      _logger2.default.trace('_cancelDisconnectTimer');\n\n      if (this._disconnectingTimer) {\n        clearTimeout(this._disconnectingTimer);\n        this._disconnectingTimer = null;\n      }\n    }\n  }, {\n    key: '_processReply',\n    value: function _processReply(reply) {\n      _logger2.default.debug('receive reply:', reply);\n\n      var request = this._activeRequests.get(reply.id);\n      if (request) {\n        clearTimeout(request.timeout);\n        this._activeRequests.delete(reply.id);\n\n        switch (request.reqType) {\n          case 'init':\n            if (reply.status.code >= 200 && reply.status.code < 300) {\n              this._fsm.initSuccess(reply.body);\n            } else if (reply.status.code === 401 || reply.status.code === 403) {\n              this._fsm.tokenRejected(reply.status);\n            } else if (reply.status.code === 429) {\n              this._modifyBackoff(reply.body);\n              this._fsm.initError(reply.status);\n            } else {\n              this._fsm.initError(reply.status);\n            }\n            break;\n          case 'update':\n            if (reply.status.code >= 200 && reply.status.code < 300) {\n              this._fsm.updateSuccess(reply.body);\n            } else if (reply.status.code === 401 || reply.status.code === 403) {\n              this._fsm.tokenRejected(reply.status);\n            } else if (reply.status.code === 429) {\n              this._modifyBackoff(reply.body);\n              this._fsm.updateError(reply.status);\n            } else {\n              this._fsm.updateError(reply.status);\n            }\n            break;\n          default:\n            _logger2.default.error('unexpected reply');\n        }\n      }\n    }\n  }, {\n    key: '_storeRequest',\n    value: function _storeRequest(id, type, timeoutMs) {\n      var _this4 = this;\n\n      _logger2.default.trace('_storeRequest');\n\n      var requestDescriptor = {\n        reqType: type,\n        timeout: setTimeout(function () {\n          _logger2.default.debug('request', type, ': ', id, 'is timed out');\n\n          if (type !== 'init' && type !== 'update') {\n            _logger2.default.error('unknown request type', type);\n          }\n\n          _this4._closeSocket();\n        }, timeoutMs)\n      };\n\n      this._activeRequests.set(id, requestDescriptor);\n    }\n\n    /**\n     * Checks if connection established\n     * @public\n     */\n\n  }, {\n    key: '_isConnected',\n    value: function _isConnected() {\n      return this.state === TwilsockChannel.state.CONNECTED && this._socket && this._socket.readyState === 1;\n    }\n\n    /**\n     * @returns {Number} Connection state\n     * @public\n     */\n\n  }, {\n    key: '_getState',\n    value: function _getState() {\n      if (!this._fsm) {\n        return TwilsockChannel.state.DISCONNECTED;\n      }\n\n      switch (this._fsm.current) {\n        case 'connecting':\n        case 'initialising':\n        case 'retrying':\n        case 'error':\n          return TwilsockChannel.state.CONNECTING;\n        case 'updating':\n        case 'connected':\n          return TwilsockChannel.state.CONNECTED;\n        case 'rejected':\n          return TwilsockChannel.state.REJECTED;\n        case 'disconnecting':\n        case 'waitSocketClosed':\n        case 'waitOffloadSocketClosed':\n          return TwilsockChannel.state.DISCONNECTING;\n        case 'disconnected':\n        default:\n          return TwilsockChannel.state.DISCONNECTED;\n      }\n    }\n  }, {\n    key: '_initRetry',\n    value: function _initRetry() {\n      _logger2.default.trace('_initRetry');\n\n      this._backoff.backoff();\n    }\n  }, {\n    key: '_retry',\n    value: function _retry() {\n      _logger2.default.trace('_retry');\n\n      this._socket = null;\n      this._activeToken = null;\n      this._fsm.userRetry();\n    }\n  }, {\n    key: '_onConnected',\n    value: function _onConnected() {\n      this.emit('connected');\n    }\n  }, {\n    key: '_finalizeSocket',\n    value: function _finalizeSocket() {\n      _logger2.default.trace('_finalizeSocket');\n\n      this._stopWatchdogTimer();\n      this._onDisconnected();\n\n      if (this._disconnectedPromiseResolve) {\n        var resolve = this._disconnectedPromiseResolve;\n        this._disconnectedPromiseResolve = null;\n        resolve();\n      }\n    }\n  }, {\n    key: '_onDisconnected',\n    value: function _onDisconnected() {\n      this._socket = null;\n      this._activeToken = null;\n      this.emit('disconnected');\n    }\n  }, {\n    key: '_setupSocket',\n    value: function _setupSocket() {\n      _logger2.default.trace('_setupSocket:', this._config.token);\n\n      var self = this;\n      var uri = this._config.twilsockUri;\n\n      _logger2.default.debug('try to connect to:', uri);\n\n      var socket = new WebSocket(uri);\n      socket.binaryType = 'arraybuffer';\n\n      socket.onopen = function () {\n        _logger2.default.info('socket opened');\n        self._fsm.socketConnected();\n      };\n\n      socket.onclose = function (e) {\n        _logger2.default.info('socket closed', e);\n        self._fsm.socketClosed();\n      };\n\n      socket.onerror = function (e) {\n        _logger2.default.error('error: ', e);\n      };\n\n      socket.onmessage = function (message) {\n        _logger2.default.trace('data: ', message.data);\n\n        var fieldMargin = 2;\n\n        var dataView = new Uint8Array(message.data);\n        var magic = getMagic(dataView);\n        if (magic.protocol !== 'TWILSOCK' || magic.version !== 'V3.0') {\n          _logger2.default.error('unsupported protocol: ' + magic.protocol + ' ver ' + magic.version);\n          self._fsm.unsupportedProtocol();\n          return;\n        }\n\n        var header = null;\n        try {\n          header = getJsonObject(dataView.subarray(magic.size, magic.size + magic.headerSize));\n        } catch (e) {\n          _logger2.default.error('failed to parse message header', e, message);\n          self._fsm.protocolError();\n          return;\n        }\n        _logger2.default.trace('message received: ', header);\n\n        var payload = null;\n        if (header.payload_size > 0) {\n          var payloadOffset = fieldMargin + magic.size + magic.headerSize;\n          var payloadSize = header.payload_size;\n\n          if (!header.hasOwnProperty('payload_type') || header.payload_type.indexOf('application/json') === 0) {\n            try {\n              payload = getJsonObject(dataView.subarray(payloadOffset, payloadOffset + payloadSize));\n            } catch (e) {\n              _logger2.default.error('failed to parse message body', e, message);\n              self._fsm.protocolError();\n              return;\n            }\n          } else if (header.payload_type.indexOf('text/plain') === 0) {\n            payload = uint8ArrayToString(dataView.subarray(payloadOffset, payloadOffset + payloadSize));\n          }\n        }\n\n        self._updateActivityTimestamp();\n\n        if (header.method === 'notification') {\n          self._confirmReceiving(header);\n          self.emit('message', header.message_type, payload);\n        } else if (header.method === 'reply') {\n          self.emit('reply', {\n            id: header.id,\n            status: header.status,\n            header: header,\n            body: payload\n          });\n        } else if (header.method === 'ping') {\n          self._confirmReceiving(header);\n        } else if (header.method === 'close') {\n          _logger2.default.trace('connection close initated by server');\n          self._confirmReceiving(header);\n\n          if (header.status.code === 308) {\n            _logger2.default.info('connection has been offloaded');\n            self._fsm.receiveOffload({ status: header.status.status, body: payload });\n          } else if (header.status.code === 406) {\n            // Not acceptable message\n            _logger2.default.error('connection has been rejected because server can not parse protocol');\n            self._fsm.receiveFatalClose();\n          } else if (header.status.code === 417) {\n            // Protocol error\n            _logger2.default.info('connection has been rejected because server could not understand client`s reply');\n            self._fsm.receiveFatalClose(header.status.status);\n          } else if (header.status.code === 410) {\n            // Expired connection\n            _logger2.default.info('connection has expired');\n            self._fsm.receiveClose(header.status.status);\n          } else if (header.status.code === 401) {\n            // Authentication fail\n            _logger2.default.info('connection is not authenticate');\n            self._fsm.receiveClose(header.status.status);\n          } else {\n            _logger2.default.error('unexpected close: ', header.status);\n            // Try to reconnect\n            self._fsm.receiveOffload({ status: header.status.status, body: null });\n          }\n        }\n      };\n\n      this._activeToken = this._config.token;\n      this._socket = socket;\n    }\n  }, {\n    key: '_sendInit',\n    value: function _sendInit() {\n      _logger2.default.trace('_sendInit');\n\n      var header = {\n        id: _uuid2.default.v4(),\n        method: 'init',\n        token: this._activeToken\n      };\n\n      this._sendPacket(header);\n      this._storeRequest(header.id, 'init', INIT_TIMEOUT);\n    }\n  }, {\n    key: '_sendUpdate',\n    value: function _sendUpdate() {\n      _logger2.default.trace('_sendUpdate');\n\n      var header = {\n        id: _uuid2.default.v4(),\n        method: 'update',\n        token: this._activeToken\n      };\n\n      this._sendPacket(header);\n      this._storeRequest(header.id, 'update', UPDATE_TIMEOUT);\n    }\n  }, {\n    key: '_cancelInit',\n    value: function _cancelInit() {\n      _logger2.default.trace('_cancelInit');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this._activeRequests), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n              id = _step$value[0],\n              request = _step$value[1];\n\n          if (request && request.reqType === 'init') {\n            clearTimeout(request.timeout);\n            this._activeRequests.delete(id);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: '_cancelUpdate',\n    value: function _cancelUpdate() {\n      _logger2.default.trace('_cancelUpdate');\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(this._activeRequests), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _step2$value = (0, _slicedToArray3.default)(_step2.value, 2),\n              id = _step2$value[0],\n              request = _step2$value[1];\n\n          if (request && request.reqType === 'update') {\n            clearTimeout(request.timeout);\n            this._activeRequests.delete(id);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n\n    /**\n     * Should be called for each message to confirm it received\n     */\n\n  }, {\n    key: '_confirmReceiving',\n    value: function _confirmReceiving(messageHeader) {\n      _logger2.default.trace('_confirmReceiving');\n\n      var header = {\n        method: 'reply',\n        id: messageHeader.id,\n        payload_type: 'application/json', // eslint-disable-line camelcase\n        status: { code: 200, status: 'OK' }\n      };\n\n      try {\n        this._sendPacket(header);\n      } catch (e) {\n        _logger2.default.debug('failed to confirm packet receiving', e);\n      }\n    }\n\n    /**\n     * Prepare binary packet and send it over the network\n     */\n\n  }, {\n    key: '_sendPacket',\n    value: function _sendPacket(header, payload) {\n      var payloadString = preparePayload(payload);\n\n      header.payload_size = byteLength(payloadString); // eslint-disable-line camelcase\n      var headerString = (0, _stringify2.default)(header) + '\\r\\n';\n      var magicString = 'TWILSOCK V3.0 ' + (byteLength(headerString) - 2) + '\\r\\n';\n\n      _logger2.default.debug('send request:', magicString + headerString + payloadString);\n\n      var message = stringToUint8Array(magicString + headerString + payloadString);\n\n      try {\n        this._socket.send(message.buffer);\n      } catch (e) {\n        _logger2.default.info('failed to send ', header, e);\n        _logger2.default.info(e.stack);\n        throw e;\n      }\n    }\n\n    /**\n     * Shutdown connection\n     * @private\n     */\n\n  }, {\n    key: '_closeSocket',\n    value: function _closeSocket() {\n      _logger2.default.trace('_closeSocket');\n\n      if (this._socket) {\n        this._socket.onopen = null;\n        this._socket.onclose = null;\n        this._socket.onerror = null;\n        this._socket.onmessage = null;\n\n        this._socket.close();\n      }\n      this._fsm.socketClosed();\n    }\n\n    /**\n     * Initiate the twilsock connection\n     * If already connected, it does nothing\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect() {\n      _logger2.default.trace('connect');\n      this._fsm.userConnect();\n    }\n\n    /**\n     * Close twilsock connection\n     * If already disconnected, it does nothing\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      var _this5 = this;\n\n      _logger2.default.trace('disconnect');\n\n      if (this._fsm.is('disconnected')) {\n        return _promise2.default.resolve();\n      }\n\n      return new _promise2.default(function (resolve) {\n        _this5._disconnectedPromiseResolve = resolve;\n        _this5._fsm.userDisconnect();\n      });\n    }\n\n    /**\n     * Update fpa token for twilsock connection\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      _logger2.default.trace('updateToken:', this._config.token);\n\n      if (this._fsm.current === 'initialising' || this._fsm.current === 'updating' || this._fsm.current === 'waitSocketClosed' || this._fsm.current === 'waitOffloadSocketClosed') {\n\n        _logger2.default.debug('defer updateToken because of', this._fsm.current, 'is in progress');\n        this._isDeferredUpdate = true;\n        return;\n      }\n\n      this._isDeferredUpdate = false;\n\n      this._activeToken = this._config.token;\n      this._fsm.userUpdateToken();\n    }\n\n    /**\n     * Send upstream message\n     * @returns {String} id of sent message\n     */\n\n  }, {\n    key: 'sendUpstreamMessage',\n    value: function sendUpstreamMessage(address, headers, body) {\n      var id = _uuid2.default.v4();\n\n      var httpRequest = {\n        host: address.host,\n        path: address.path,\n        method: address.method\n      };\n\n      if (address.hasOwnProperty('params')) {\n        httpRequest.params = address.params;\n      }\n\n      /* eslint-disable camelcase */\n      var twilsockHeader = {\n        method: 'message',\n        id: id,\n        http_request: httpRequest\n      };\n\n      if (headers) {\n        twilsockHeader.http_request.headers = headers;\n      }\n\n      if (headers && headers.hasOwnProperty('Content-Type')) {\n        twilsockHeader.payload_type = headers['Content-Type'];\n      }\n\n      this._sendPacket(twilsockHeader, body);\n      return id;\n      /* eslint-enable camelcase */\n    }\n  }, {\n    key: 'send',\n    value: function send(header, body) {\n      header.id = header.id || _uuid2.default.v4();\n      this._sendPacket(header, body);\n      return header.id;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_onCloseReceived',\n    value: function _onCloseReceived(reason) {\n      _logger2.default.trace('_onCloseReceived');\n      _logger2.default.info('connection closed by server, reason is', reason);\n\n      // Waiting for server close connection. All others events are skipped\n      if (this._socket) {\n        this._socket.onopen = null;\n        this._socket.onerror = null;\n        this._socket.onmessage = null;\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_startWatchdogTimer',\n    value: function _startWatchdogTimer() {\n      var _this6 = this;\n\n      _logger2.default.trace('_startWatchdogTimer');\n\n      this._timestamp = Date.now();\n      this._watchTimer = setInterval(function () {\n        if (Date.now() - _this6._timestamp > ACTIVITY_TIMEOUT && _this6._socket) {\n          _this6._socket.close();\n        }\n      }, ACTIVITY_CHECK_INTERVAL);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_stopWatchdogTimer',\n    value: function _stopWatchdogTimer() {\n      _logger2.default.trace('_stopWatchdogTimer');\n\n      clearInterval(this._watchTimer);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_updateActivityTimestamp',\n    value: function _updateActivityTimestamp() {\n      _logger2.default.trace('_updateActivityTimestamp');\n\n      this._timestamp = Date.now();\n    }\n  }]);\n  return TwilsockChannel;\n}(_events2.default);\n/**\n * Enum for connection state values.\n * @readonly\n * @enum {number}\n */\n\nexports.default = TwilsockChannel;\nTwilsockChannel.state = {\n  DISCONNECTED: 'disconnected',\n  CONNECTING: 'connecting',\n  CONNECTED: 'connected',\n  DISCONNECTING: 'disconnecting',\n  ERROR: 'error',\n  REJECTED: 'rejected'\n};\n(0, _freeze2.default)(TwilsockChannel.state);\n\n(0, _freeze2.default)(TwilsockChannel);\nmodule.exports = exports['default'];\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"ky2m\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"BtHH\");\nmodule.exports = __webpack_require__(\"zKeE\").Object.getPrototypeOf;\n\n/***/ }),\n\n/***/ \"l262\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function get() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ }),\n\n/***/ \"lmjd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _regenerator = __webpack_require__(\"aIIw\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getIterator2 = __webpack_require__(\"X9RM\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _iterator2 = __webpack_require__(\"6t7t\");\n\nvar _iterator3 = _interopRequireDefault(_iterator2);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Node = function () {\n    function Node(key, value) {\n        (0, _classCallCheck3.default)(this, Node);\n\n        this.balanceFactor = 0;\n        this.key = key;\n        this.value = value;\n        this.parent = null;\n        this.left = null;\n        this.right = null;\n    }\n\n    (0, _createClass3.default)(Node, [{\n        key: \"update\",\n        value: function update(value) {\n            this.value = value;\n        }\n    }, {\n        key: \"replace\",\n        value: function replace(target, replacement) {\n            if (!target) {\n                return;\n            }\n            if (this.left === replacement) {\n                this.left = replacement;\n            } else if (this.right === replacement) {\n                this.right = replacement;\n            }\n        }\n    }, {\n        key: \"isRoot\",\n        get: function get() {\n            return this.parent === null;\n        }\n    }, {\n        key: \"isLeaf\",\n        get: function get() {\n            return this.left === null && this.right === null;\n        }\n    }, {\n        key: \"isLeftChild\",\n        get: function get() {\n            return this.parent.left === this;\n        }\n    }]);\n    return Node;\n}();\n/**\n * @property length\n */\n\nvar TreeMap = function () {\n    function TreeMap(less, equal) {\n        (0, _classCallCheck3.default)(this, TreeMap);\n\n        this.isLessThan = less || function (x, y) {\n            return x < y;\n        };\n        this.isEqual = equal || function (x, y) {\n            return x === y;\n        };\n        this.root = null;\n        this.count = null;\n    }\n\n    (0, _createClass3.default)(TreeMap, [{\n        key: \"clear\",\n        value: function clear() {\n            this.root = null;\n            this.count = 0;\n        }\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            var node = this.getNode(key);\n            if (node) {\n                node.update(value);\n            } else {\n                this.insert(key, value);\n            }\n            // return node;\n        }\n    }, {\n        key: \"insert\",\n        value: function insert(key, value) {\n            var node = new Node(key, value);\n            this.count++;\n            if (!this.root) {\n                this.root = node;\n                // return node;\n                return;\n            }\n            var currNode = this.root;\n            for (;;) {\n                if (this.isLessThan(key, currNode.key)) {\n                    if (currNode.left) {\n                        currNode = currNode.left;\n                    } else {\n                        currNode.left = node;\n                        break;\n                    }\n                } else {\n                    if (currNode.right) {\n                        currNode = currNode.right;\n                    } else {\n                        currNode.right = node;\n                        break;\n                    }\n                }\n            }\n            node.parent = currNode;\n            currNode = node;\n            while (currNode.parent) {\n                var parent = currNode.parent;\n                var prevBalanceFactor = parent.balanceFactor;\n                if (currNode.isLeftChild) {\n                    parent.balanceFactor++;\n                } else {\n                    parent.balanceFactor--;\n                }\n                if (Math.abs(parent.balanceFactor) < Math.abs(prevBalanceFactor)) {\n                    break;\n                }\n                if (parent.balanceFactor < -1 || parent.balanceFactor > 1) {\n                    this.rebalance(parent);\n                    break;\n                }\n                currNode = parent;\n            }\n            // return node;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            var currentNode = this.root;\n            while (currentNode) {\n                if (this.isEqual(key, currentNode.key)) {\n                    return currentNode.value;\n                }\n                if (this.isLessThan(key, currentNode.key)) {\n                    currentNode = currentNode.left;\n                } else {\n                    currentNode = currentNode.right;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key) {\n            // update this algorithm and remove any\n            var node = this.getNode(key);\n            if (!node || node.key !== key) {\n                return null;\n            }\n            var parent = node.parent;\n            var left = node.left;\n            var right = node.right;\n            if (!!left !== !!right) {\n                var child = left || right;\n                if (!parent && !child) {\n                    this.root = null;\n                } else if (parent && !child) {\n                    this.root = child;\n                } else {\n                    parent.replace(node, null);\n                    this.rebalance(parent);\n                }\n            } else {\n                var maxLeft = node.left;\n                while (maxLeft.right) {\n                    maxLeft = maxLeft.right;\n                }\n                if (node.left === maxLeft) {\n                    if (node.isRoot) {\n                        this.root = maxLeft;\n                        maxLeft.parent = null;\n                    } else {\n                        if (node.isLeftChild) {\n                            node.parent.left = maxLeft;\n                        } else {\n                            node.parent.right = maxLeft;\n                        }\n                        maxLeft.parent = node.parent;\n                    }\n                    maxLeft.right = node.right;\n                    maxLeft.right.parent = maxLeft;\n                    maxLeft.balanceFactor = node.balanceFactor;\n                    node = {\n                        parent: maxLeft, isLeftChild: true\n                    };\n                } else {\n                    var mlParent = maxLeft.parent;\n                    var mlLeft = maxLeft.left;\n                    mlParent.right = mlLeft;\n                    if (mlLeft) {\n                        mlLeft.parent = mlParent;\n                    }\n                    if (node.isRoot) {\n                        this.root = maxLeft;\n                        maxLeft.parent = null;\n                    } else {\n                        if (node.isLeftChild) {\n                            node.parent.left = maxLeft;\n                        } else {\n                            node.parent.right = maxLeft;\n                        }\n                        maxLeft.parent = node.parent;\n                    }\n                    maxLeft.right = node.right;\n                    maxLeft.right.parent = maxLeft;\n                    maxLeft.left = node.left;\n                    maxLeft.left.parent = maxLeft;\n                    maxLeft.balanceFactor = node.balanceFactor;\n                    node = {\n                        parent: mlParent, isLeftChild: false\n                    };\n                }\n            }\n            this.count--;\n            while (node.parent) {\n                var _parent = node.parent;\n                var prevBalanceFactor = _parent.balanceFactor;\n                if (node.isLeftChild) {\n                    _parent.balanceFactor -= 1;\n                } else {\n                    _parent.balanceFactor += 1;\n                }\n                if (Math.abs(_parent.balanceFactor) > Math.abs(prevBalanceFactor)) {\n                    if (_parent.balanceFactor < -1 || _parent.balanceFactor > 1) {\n                        this.rebalance(_parent);\n                        if (_parent.parent.balanceFactor === 0) {\n                            node = _parent.parent;\n                        } else {\n                            break;\n                        }\n                    } else {\n                        break;\n                    }\n                } else {\n                    node = _parent;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"getNode\",\n        value: function getNode(key) {\n            var currentNode = this.root;\n            while (currentNode) {\n                if (this.isEqual(key, currentNode.key)) {\n                    return currentNode;\n                }\n                if (this.isLessThan(key, currentNode.key)) {\n                    currentNode = currentNode.left;\n                } else {\n                    currentNode = currentNode.right;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"rebalance\",\n        value: function rebalance(node) {\n            if (node.balanceFactor < 0) {\n                if (node.right.balanceFactor > 0) {\n                    this.rotateRight(node.right);\n                    this.rotateLeft(node);\n                } else {\n                    this.rotateLeft(node);\n                }\n            } else if (node.balanceFactor > 0) {\n                if (node.left.balanceFactor < 0) {\n                    this.rotateLeft(node.left);\n                    this.rotateRight(node);\n                } else {\n                    this.rotateRight(node);\n                }\n            }\n        }\n    }, {\n        key: \"rotateLeft\",\n        value: function rotateLeft(pivot) {\n            var root = pivot.right;\n            pivot.right = root.left;\n            if (root.left !== null) {\n                root.left.parent = pivot;\n            }\n            root.parent = pivot.parent;\n            if (root.parent === null) {\n                this.root = root;\n            } else if (pivot.isLeftChild) {\n                root.parent.left = root;\n            } else {\n                root.parent.right = root;\n            }\n            root.left = pivot;\n            pivot.parent = root;\n            pivot.balanceFactor = pivot.balanceFactor + 1 - Math.min(root.balanceFactor, 0);\n            root.balanceFactor = root.balanceFactor + 1 - Math.max(pivot.balanceFactor, 0);\n        }\n    }, {\n        key: \"rotateRight\",\n        value: function rotateRight(pivot) {\n            var root = pivot.left;\n            pivot.left = root.right;\n            if (root.right !== null) {\n                root.right.parent = pivot;\n            }\n            root.parent = pivot.parent;\n            if (root.parent === null) {\n                this.root = root;\n            } else if (pivot.isLeftChild) {\n                root.parent.left = root;\n            } else {\n                root.parent.right = root;\n            }\n            root.right = pivot;\n            pivot.parent = root;\n            pivot.balanceFactor = pivot.balanceFactor - 1 - Math.min(root.balanceFactor, 0);\n            root.balanceFactor = root.balanceFactor - 1 - Math.max(pivot.balanceFactor, 0);\n        }\n    }, {\n        key: _iterator3.default,\n        value: _regenerator2.default.mark(function value() {\n            var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, iter;\n\n            return _regenerator2.default.wrap(function value$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _iteratorNormalCompletion = true;\n                            _didIteratorError = false;\n                            _iteratorError = undefined;\n                            _context.prev = 3;\n                            _iterator = (0, _getIterator3.default)(this.getIterator());\n\n                        case 5:\n                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                                _context.next = 12;\n                                break;\n                            }\n\n                            iter = _step.value;\n                            _context.next = 9;\n                            return iter;\n\n                        case 9:\n                            _iteratorNormalCompletion = true;\n                            _context.next = 5;\n                            break;\n\n                        case 12:\n                            _context.next = 18;\n                            break;\n\n                        case 14:\n                            _context.prev = 14;\n                            _context.t0 = _context[\"catch\"](3);\n                            _didIteratorError = true;\n                            _iteratorError = _context.t0;\n\n                        case 18:\n                            _context.prev = 18;\n                            _context.prev = 19;\n\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n\n                        case 21:\n                            _context.prev = 21;\n\n                            if (!_didIteratorError) {\n                                _context.next = 24;\n                                break;\n                            }\n\n                            throw _iteratorError;\n\n                        case 24:\n                            return _context.finish(21);\n\n                        case 25:\n                            return _context.finish(18);\n\n                        case 26:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, value, this, [[3, 14, 18, 26], [19,, 21, 25]]);\n        })\n    }, {\n        key: \"getIterator\",\n        value: _regenerator2.default.mark(function getIterator() {\n            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n            var currentNode, fromleft;\n            return _regenerator2.default.wrap(function getIterator$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            currentNode = this.root;\n\n                        case 1:\n                            if (!currentNode) {\n                                _context2.next = 7;\n                                break;\n                            }\n\n                            if (!(this.isEqual(key, currentNode.key) || key === null && !currentNode.left)) {\n                                _context2.next = 4;\n                                break;\n                            }\n\n                            return _context2.abrupt(\"break\", 7);\n\n                        case 4:\n                            if (this.isLessThan(key, currentNode.key) || key === null) {\n                                currentNode = currentNode.left;\n                            } else {\n                                currentNode = currentNode.right;\n                            }\n                            _context2.next = 1;\n                            break;\n\n                        case 7:\n                            if (currentNode) {\n                                _context2.next = 9;\n                                break;\n                            }\n\n                            return _context2.abrupt(\"return\", null);\n\n                        case 9:\n                            fromleft = true;\n\n                        case 10:\n                            if (!fromleft) {\n                                _context2.next = 28;\n                                break;\n                            }\n\n                            _context2.next = 13;\n                            return [currentNode.key, currentNode.value];\n\n                        case 13:\n                            fromleft = false;\n\n                            if (!currentNode.right) {\n                                _context2.next = 20;\n                                break;\n                            }\n\n                            currentNode = currentNode.right;\n                            while (currentNode.left) {\n                                currentNode = currentNode.left;\n                            }\n                            fromleft = true;\n                            _context2.next = 26;\n                            break;\n\n                        case 20:\n                            if (!currentNode.parent) {\n                                _context2.next = 25;\n                                break;\n                            }\n\n                            fromleft = currentNode.parent.left === currentNode;\n                            currentNode = currentNode.parent;\n                            _context2.next = 26;\n                            break;\n\n                        case 25:\n                            return _context2.abrupt(\"break\", 36);\n\n                        case 26:\n                            _context2.next = 34;\n                            break;\n\n                        case 28:\n                            if (!currentNode.parent) {\n                                _context2.next = 33;\n                                break;\n                            }\n\n                            fromleft = currentNode.parent.left === currentNode;\n                            currentNode = currentNode.parent;\n                            _context2.next = 34;\n                            break;\n\n                        case 33:\n                            return _context2.abrupt(\"break\", 36);\n\n                        case 34:\n                            _context2.next = 10;\n                            break;\n\n                        case 36:\n                            return _context2.abrupt(\"return\", null);\n\n                        case 37:\n                        case \"end\":\n                            return _context2.stop();\n                    }\n                }\n            }, getIterator, this);\n        })\n    }, {\n        key: \"getReverseIterator\",\n        value: _regenerator2.default.mark(function getReverseIterator() {\n            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n            var currentNode, fromright;\n            return _regenerator2.default.wrap(function getReverseIterator$(_context3) {\n                while (1) {\n                    switch (_context3.prev = _context3.next) {\n                        case 0:\n                            currentNode = this.root;\n\n                        case 1:\n                            if (!currentNode) {\n                                _context3.next = 7;\n                                break;\n                            }\n\n                            if (!(this.isEqual(key, currentNode.key) || key === null && !currentNode.right)) {\n                                _context3.next = 4;\n                                break;\n                            }\n\n                            return _context3.abrupt(\"break\", 7);\n\n                        case 4:\n                            if (!this.isLessThan(key, currentNode.key) || key === null) {\n                                currentNode = currentNode.right;\n                            } else {\n                                currentNode = currentNode.left;\n                            }\n                            _context3.next = 1;\n                            break;\n\n                        case 7:\n                            if (currentNode) {\n                                _context3.next = 9;\n                                break;\n                            }\n\n                            return _context3.abrupt(\"return\", null);\n\n                        case 9:\n                            fromright = true;\n\n                        case 10:\n                            if (!fromright) {\n                                _context3.next = 28;\n                                break;\n                            }\n\n                            _context3.next = 13;\n                            return [currentNode.key, currentNode.value];\n\n                        case 13:\n                            fromright = false;\n\n                            if (!currentNode.left) {\n                                _context3.next = 20;\n                                break;\n                            }\n\n                            currentNode = currentNode.left;\n                            while (currentNode.right) {\n                                currentNode = currentNode.right;\n                            }\n                            fromright = true;\n                            _context3.next = 26;\n                            break;\n\n                        case 20:\n                            if (!currentNode.parent) {\n                                _context3.next = 25;\n                                break;\n                            }\n\n                            fromright = currentNode.parent.right === currentNode;\n                            currentNode = currentNode.parent;\n                            _context3.next = 26;\n                            break;\n\n                        case 25:\n                            return _context3.abrupt(\"break\", 36);\n\n                        case 26:\n                            _context3.next = 34;\n                            break;\n\n                        case 28:\n                            if (!currentNode.parent) {\n                                _context3.next = 33;\n                                break;\n                            }\n\n                            fromright = currentNode.parent.right === currentNode;\n                            currentNode = currentNode.parent;\n                            _context3.next = 34;\n                            break;\n\n                        case 33:\n                            return _context3.abrupt(\"break\", 36);\n\n                        case 34:\n                            _context3.next = 10;\n                            break;\n\n                        case 36:\n                            return _context3.abrupt(\"return\", null);\n\n                        case 37:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, getReverseIterator, this);\n        })\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this.count;\n        }\n    }]);\n    return TreeMap;\n}();\n\nexports.TreeMap = TreeMap;\n//# sourceMappingURL=tree.js.map\n\n/***/ }),\n\n/***/ \"luWe\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _from = __webpack_require__(\"VuZO\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar log = __webpack_require__(\"T51w\");\nfunction prepareLine(prefix, args) {\n    return [prefix].concat((0, _from2.default)(args));\n}\nexports.default = {\n    setLevel: function setLevel(level) {\n        log.setLevel(level);\n    },\n    trace: function trace() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        log.trace.apply(null, prepareLine('EMS T:', args));\n    },\n    debug: function debug() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        log.debug.apply(null, prepareLine('EMS D:', args));\n    },\n    info: function info() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        log.info.apply(null, prepareLine('EMS I:', args));\n    },\n    warn: function warn() {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n        }\n\n        log.warn.apply(null, prepareLine('EMS W:', args));\n    },\n    error: function error() {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n        }\n\n        log.error.apply(null, prepareLine('EMS E:', args));\n    }\n};\n\n/***/ }),\n\n/***/ \"lytE\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(\"MpYs\"),\n    defined = __webpack_require__(\"U72i\");\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that)),\n        i = toInteger(pos),\n        l = s.length,\n        a,\n        b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n/***/ }),\n\n/***/ \"m8OI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _isIterable2 = __webpack_require__(\"gkZy\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = __webpack_require__(\"X9RM\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/***/ }),\n\n/***/ \"mbLO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(\"U72i\");\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n/***/ }),\n\n/***/ \"mc9D\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\tC-like unsigned 32 bits integers in Javascript\n\tCopyright (C) 2013, Pierre Curto\n\tMIT license\n */\n;(function (root) {\n\n\t// Local cache for typical radices\n\tvar radixPowerCache = {\n\t\t36: UINT32(Math.pow(36, 5)),\n\t\t16: UINT32(Math.pow(16, 7)),\n\t\t10: UINT32(Math.pow(10, 9)),\n\t\t2: UINT32(Math.pow(2, 30))\n\t};\n\tvar radixCache = {\n\t\t36: UINT32(36),\n\t\t16: UINT32(16),\n\t\t10: UINT32(10),\n\t\t2: UINT32(2)\n\n\t\t/**\n   *\tRepresents an unsigned 32 bits integer\n   * @constructor\n   * @param {Number|String|Number} low bits     | integer as a string \t\t | integer as a number\n   * @param {Number|Number|Undefined} high bits | radix (optional, default=10)\n   * @return \n   */\n\t};function UINT32(l, h) {\n\t\tif (!(this instanceof UINT32)) return new UINT32(l, h);\n\n\t\tthis._low = 0;\n\t\tthis._high = 0;\n\t\tthis.remainder = null;\n\t\tif (typeof h == 'undefined') return fromNumber.call(this, l);\n\n\t\tif (typeof l == 'string') return fromString.call(this, l, h);\n\n\t\tfromBits.call(this, l, h);\n\t}\n\n\t/**\n  * Set the current _UINT32_ object with its low and high bits\n  * @method fromBits\n  * @param {Number} low bits\n  * @param {Number} high bits\n  * @return ThisExpression\n  */\n\tfunction fromBits(l, h) {\n\t\tthis._low = l | 0;\n\t\tthis._high = h | 0;\n\n\t\treturn this;\n\t}\n\tUINT32.prototype.fromBits = fromBits;\n\n\t/**\n  * Set the current _UINT32_ object from a number\n  * @method fromNumber\n  * @param {Number} number\n  * @return ThisExpression\n  */\n\tfunction fromNumber(value) {\n\t\tthis._low = value & 0xFFFF;\n\t\tthis._high = value >>> 16;\n\n\t\treturn this;\n\t}\n\tUINT32.prototype.fromNumber = fromNumber;\n\n\t/**\n  * Set the current _UINT32_ object from a string\n  * @method fromString\n  * @param {String} integer as a string\n  * @param {Number} radix (optional, default=10)\n  * @return ThisExpression\n  */\n\tfunction fromString(s, radix) {\n\t\tvar value = parseInt(s, radix || 10);\n\n\t\tthis._low = value & 0xFFFF;\n\t\tthis._high = value >>> 16;\n\n\t\treturn this;\n\t}\n\tUINT32.prototype.fromString = fromString;\n\n\t/**\n  * Convert this _UINT32_ to a number\n  * @method toNumber\n  * @return {Number} the converted UINT32\n  */\n\tUINT32.prototype.toNumber = function () {\n\t\treturn this._high * 65536 + this._low;\n\t};\n\n\t/**\n  * Convert this _UINT32_ to a string\n  * @method toString\n  * @param {Number} radix (optional, default=10)\n  * @return {String} the converted UINT32\n  */\n\tUINT32.prototype.toString = function (radix) {\n\t\treturn this.toNumber().toString(radix || 10);\n\t};\n\n\t/**\n  * Add two _UINT32_. The current _UINT32_ stores the result\n  * @method add\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.add = function (other) {\n\t\tvar a00 = this._low + other._low;\n\t\tvar a16 = a00 >>> 16;\n\n\t\ta16 += this._high + other._high;\n\n\t\tthis._low = a00 & 0xFFFF;\n\t\tthis._high = a16 & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Subtract two _UINT32_. The current _UINT32_ stores the result\n  * @method subtract\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.subtract = function (other) {\n\t\t//TODO inline\n\t\treturn this.add(other.clone().negate());\n\t};\n\n\t/**\n  * Multiply two _UINT32_. The current _UINT32_ stores the result\n  * @method multiply\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.multiply = function (other) {\n\t\t/*\n  \ta = a00 + a16\n  \tb = b00 + b16\n  \ta*b = (a00 + a16)(b00 + b16)\n  \t\t= a00b00 + a00b16 + a16b00 + a16b16\n  \t\ta16b16 overflows the 32bits\n   */\n\t\tvar a16 = this._high;\n\t\tvar a00 = this._low;\n\t\tvar b16 = other._high;\n\t\tvar b00 = other._low;\n\n\t\t/* Removed to increase speed under normal circumstances (i.e. not multiplying by 0 or 1)\n  \t\t// this == 0 or other == 1: nothing to do\n  \t\tif ((a00 == 0 && a16 == 0) || (b00 == 1 && b16 == 0)) return this\n  \n  \t\t// other == 0 or this == 1: this = other\n  \t\tif ((b00 == 0 && b16 == 0) || (a00 == 1 && a16 == 0)) {\n  \t\t\tthis._low = other._low\n  \t\t\tthis._high = other._high\n  \t\t\treturn this\n  \t\t}\n  */\n\n\t\tvar c16, c00;\n\t\tc00 = a00 * b00;\n\t\tc16 = c00 >>> 16;\n\n\t\tc16 += a16 * b00;\n\t\tc16 &= 0xFFFF; // Not required but improves performance\n\t\tc16 += a00 * b16;\n\n\t\tthis._low = c00 & 0xFFFF;\n\t\tthis._high = c16 & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Divide two _UINT32_. The current _UINT32_ stores the result.\n  * The remainder is made available as the _remainder_ property on\n  * the _UINT32_ object. It can be null, meaning there are no remainder.\n  * @method div\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.div = function (other) {\n\t\tif (other._low == 0 && other._high == 0) throw Error('division by zero');\n\n\t\t// other == 1\n\t\tif (other._high == 0 && other._low == 1) {\n\t\t\tthis.remainder = new UINT32(0);\n\t\t\treturn this;\n\t\t}\n\n\t\t// other > this: 0\n\t\tif (other.gt(this)) {\n\t\t\tthis.remainder = this.clone();\n\t\t\tthis._low = 0;\n\t\t\tthis._high = 0;\n\t\t\treturn this;\n\t\t}\n\t\t// other == this: 1\n\t\tif (this.eq(other)) {\n\t\t\tthis.remainder = new UINT32(0);\n\t\t\tthis._low = 1;\n\t\t\tthis._high = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\t// Shift the divisor left until it is higher than the dividend\n\t\tvar _other = other.clone();\n\t\tvar i = -1;\n\t\twhile (!this.lt(_other)) {\n\t\t\t// High bit can overflow the default 16bits\n\t\t\t// Its ok since we right shift after this loop\n\t\t\t// The overflown bit must be kept though\n\t\t\t_other.shiftLeft(1, true);\n\t\t\ti++;\n\t\t}\n\n\t\t// Set the remainder\n\t\tthis.remainder = this.clone();\n\t\t// Initialize the current result to 0\n\t\tthis._low = 0;\n\t\tthis._high = 0;\n\t\tfor (; i >= 0; i--) {\n\t\t\t_other.shiftRight(1);\n\t\t\t// If shifted divisor is smaller than the dividend\n\t\t\t// then subtract it from the dividend\n\t\t\tif (!this.remainder.lt(_other)) {\n\t\t\t\tthis.remainder.subtract(_other);\n\t\t\t\t// Update the current result\n\t\t\t\tif (i >= 16) {\n\t\t\t\t\tthis._high |= 1 << i - 16;\n\t\t\t\t} else {\n\t\t\t\t\tthis._low |= 1 << i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Negate the current _UINT32_\n  * @method negate\n  * @return ThisExpression\n  */\n\tUINT32.prototype.negate = function () {\n\t\tvar v = (~this._low & 0xFFFF) + 1;\n\t\tthis._low = v & 0xFFFF;\n\t\tthis._high = ~this._high + (v >>> 16) & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Equals\n  * @method eq\n  * @param {Object} other UINT32\n  * @return {Boolean}\n  */\n\tUINT32.prototype.equals = UINT32.prototype.eq = function (other) {\n\t\treturn this._low == other._low && this._high == other._high;\n\t};\n\n\t/**\n  * Greater than (strict)\n  * @method gt\n  * @param {Object} other UINT32\n  * @return {Boolean}\n  */\n\tUINT32.prototype.greaterThan = UINT32.prototype.gt = function (other) {\n\t\tif (this._high > other._high) return true;\n\t\tif (this._high < other._high) return false;\n\t\treturn this._low > other._low;\n\t};\n\n\t/**\n  * Less than (strict)\n  * @method lt\n  * @param {Object} other UINT32\n  * @return {Boolean}\n  */\n\tUINT32.prototype.lessThan = UINT32.prototype.lt = function (other) {\n\t\tif (this._high < other._high) return true;\n\t\tif (this._high > other._high) return false;\n\t\treturn this._low < other._low;\n\t};\n\n\t/**\n  * Bitwise OR\n  * @method or\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.or = function (other) {\n\t\tthis._low |= other._low;\n\t\tthis._high |= other._high;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise AND\n  * @method and\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.and = function (other) {\n\t\tthis._low &= other._low;\n\t\tthis._high &= other._high;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise NOT\n  * @method not\n  * @return ThisExpression\n  */\n\tUINT32.prototype.not = function () {\n\t\tthis._low = ~this._low & 0xFFFF;\n\t\tthis._high = ~this._high & 0xFFFF;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise XOR\n  * @method xor\n  * @param {Object} other UINT32\n  * @return ThisExpression\n  */\n\tUINT32.prototype.xor = function (other) {\n\t\tthis._low ^= other._low;\n\t\tthis._high ^= other._high;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise shift right\n  * @method shiftRight\n  * @param {Number} number of bits to shift\n  * @return ThisExpression\n  */\n\tUINT32.prototype.shiftRight = UINT32.prototype.shiftr = function (n) {\n\t\tif (n > 16) {\n\t\t\tthis._low = this._high >> n - 16;\n\t\t\tthis._high = 0;\n\t\t} else if (n == 16) {\n\t\t\tthis._low = this._high;\n\t\t\tthis._high = 0;\n\t\t} else {\n\t\t\tthis._low = this._low >> n | this._high << 16 - n & 0xFFFF;\n\t\t\tthis._high >>= n;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise shift left\n  * @method shiftLeft\n  * @param {Number} number of bits to shift\n  * @param {Boolean} allow overflow\n  * @return ThisExpression\n  */\n\tUINT32.prototype.shiftLeft = UINT32.prototype.shiftl = function (n, allowOverflow) {\n\t\tif (n > 16) {\n\t\t\tthis._high = this._low << n - 16;\n\t\t\tthis._low = 0;\n\t\t\tif (!allowOverflow) {\n\t\t\t\tthis._high &= 0xFFFF;\n\t\t\t}\n\t\t} else if (n == 16) {\n\t\t\tthis._high = this._low;\n\t\t\tthis._low = 0;\n\t\t} else {\n\t\t\tthis._high = this._high << n | this._low >> 16 - n;\n\t\t\tthis._low = this._low << n & 0xFFFF;\n\t\t\tif (!allowOverflow) {\n\t\t\t\t// Overflow only allowed on the high bits...\n\t\t\t\tthis._high &= 0xFFFF;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise rotate left\n  * @method rotl\n  * @param {Number} number of bits to rotate\n  * @return ThisExpression\n  */\n\tUINT32.prototype.rotateLeft = UINT32.prototype.rotl = function (n) {\n\t\tvar v = this._high << 16 | this._low;\n\t\tv = v << n | v >>> 32 - n;\n\t\tthis._low = v & 0xFFFF;\n\t\tthis._high = v >>> 16;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Bitwise rotate right\n  * @method rotr\n  * @param {Number} number of bits to rotate\n  * @return ThisExpression\n  */\n\tUINT32.prototype.rotateRight = UINT32.prototype.rotr = function (n) {\n\t\tvar v = this._high << 16 | this._low;\n\t\tv = v >>> n | v << 32 - n;\n\t\tthis._low = v & 0xFFFF;\n\t\tthis._high = v >>> 16;\n\n\t\treturn this;\n\t};\n\n\t/**\n  * Clone the current _UINT32_\n  * @method clone\n  * @return {Object} cloned UINT32\n  */\n\tUINT32.prototype.clone = function () {\n\t\treturn new UINT32(this._low, this._high);\n\t};\n\n\tif (true) {\n\t\t// AMD / RequireJS\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn UINT32;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module != 'undefined' && module.exports) {\n\t\t// Node.js\n\t\tmodule.exports = UINT32;\n\t} else {\n\t\t// Browser\n\t\troot['UINT32'] = UINT32;\n\t}\n})(this);\n\n/***/ }),\n\n/***/ \"nFDa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"i+u+\");\n__webpack_require__(\"COf8\");\nmodule.exports = __webpack_require__(\"ZxII\").f('iterator');\n\n/***/ }),\n\n/***/ \"nhVq\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(\"gq3z\")() ? Object.keys : __webpack_require__(\"3cwc\");\n\n/***/ }),\n\n/***/ \"o4G5\":\n/***/ (function(module, exports) {\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n                  var un = that === undefined;\n                  switch (args.length) {\n                                    case 0:\n                                                      return un ? fn() : fn.call(that);\n                                    case 1:\n                                                      return un ? fn(args[0]) : fn.call(that, args[0]);\n                                    case 2:\n                                                      return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);\n                                    case 3:\n                                                      return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);\n                                    case 4:\n                                                      return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);\n                  }return fn.apply(that, args);\n};\n\n/***/ }),\n\n/***/ \"obon\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _from = __webpack_require__(\"VuZO\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _loglevel = __webpack_require__(\"T51w\");\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction prepareLine(prefix, args) {\n  return [prefix].concat((0, _from2.default)(args));\n}\n\nexports.default = {\n  setLevel: function setLevel(level) {\n    _loglevel2.default.setLevel(level);\n  },\n\n  trace: function trace() {\n    _loglevel2.default.trace.apply(null, prepareLine('Twilsock T:', arguments));\n  },\n  debug: function debug() {\n    _loglevel2.default.debug.apply(null, prepareLine('Twilsock D:', arguments));\n  },\n  info: function info() {\n    _loglevel2.default.info.apply(null, prepareLine('Twilsock I:', arguments));\n  },\n  warn: function warn() {\n    _loglevel2.default.warn.apply(null, prepareLine('Twilsock W:', arguments));\n  },\n  error: function error() {\n    _loglevel2.default.error.apply(null, prepareLine('Twilsock E:', arguments));\n  }\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"ojUF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar keys = __webpack_require__(\"nhVq\"),\n    value = __webpack_require__(\"XtTh\"),\n    max = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error,\n\t    i,\n\t    length = max(arguments.length, 2),\n\t    assign;\n\tdest = Object(value(dest));\n\tassign = function assign(key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n/***/ }),\n\n/***/ \"ozpD\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(\"3zRh\"),\n    call = __webpack_require__(\"hEIm\"),\n    isArrayIter = __webpack_require__(\"af0K\"),\n    anObject = __webpack_require__(\"zotD\"),\n    toLength = __webpack_require__(\"S7IM\"),\n    getIterFn = __webpack_require__(\"7AqT\"),\n    BREAK = {},\n    RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () {\n    return iterable;\n  } : getIterFn(iterable),\n      f = ctx(fn, that, entries ? 2 : 1),\n      index = 0,\n      length,\n      step,\n      iterator,\n      result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n/***/ }),\n\n/***/ \"p+Kh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports.AccessManager = __webpack_require__(\"iH9W\");\n\n/***/ }),\n\n/***/ \"pFSU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar getKeys = __webpack_require__(\"knrM\"),\n    toIObject = __webpack_require__(\"Wyka\");\nmodule.exports = function (object, el) {\n  var O = toIObject(object),\n      keys = getKeys(O),\n      length = keys.length,\n      index = 0,\n      key;\n  while (length > index) {\n    if (O[key = keys[index++]] === el) return key;\n  }\n};\n\n/***/ }),\n\n/***/ \"peL6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(\"yh9p\");\nvar ieee754 = __webpack_require__(\"JgNJ\");\nvar isArray = __webpack_require__(\"REa7\");\n\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength();\n\nfunction typedArraySupport() {\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function foo() {\n        return 42;\n      } };\n    return arr.foo() === 42 && // typed array instances can be augmented\n    typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n    arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction kMaxLength() {\n  return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n}\n\nfunction createBuffer(that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length');\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length);\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length);\n    }\n    that.length = length;\n  }\n\n  return that;\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length);\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error('If encoding is specified then the first argument must be a string');\n    }\n    return allocUnsafe(this, arg);\n  }\n  return from(this, arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype;\n  return arr;\n};\n\nfunction from(that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset);\n  }\n\n  return fromObject(that, value);\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length);\n};\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array;\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    });\n  }\n}\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number');\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative');\n  }\n}\n\nfunction alloc(that, size, fill, encoding) {\n  assertSize(size);\n  if (size <= 0) {\n    return createBuffer(that, size);\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n  }\n  return createBuffer(that, size);\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding);\n};\n\nfunction allocUnsafe(that, size) {\n  assertSize(size);\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0;\n    }\n  }\n  return that;\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size);\n};\n\nfunction fromString(that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding');\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  that = createBuffer(that, length);\n\n  var actual = that.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual);\n  }\n\n  return that;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  that = createBuffer(that, length);\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255;\n  }\n  return that;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array);\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset);\n  } else {\n    array = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array;\n    that.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array);\n  }\n  return that;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    that = createBuffer(that, len);\n\n    if (that.length === 0) {\n      return that;\n    }\n\n    obj.copy(that, 0, 0, len);\n    return that;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n  }\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nBuffer.compare = function compare(a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers');\n  }\n\n  if (a === b) return 0;\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n  if (length === undefined) {\n    length = 0;\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0;\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length;\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n      case 'hex':\n        return len >>> 1;\n      case 'base64':\n        return base64ToBytes(string).length;\n      default:\n        if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false;\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0;\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length | 0;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n    if (this.length > max) str += ' ... ';\n  }\n  return '<Buffer ' + str + '>';\n};\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer');\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n\n  if (this === target) return 0;\n\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1;\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n  byteOffset = +byteOffset; // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n  if (dir) {\n    var foundIndex = -1;\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n    if (length > remaining) {\n      length = remaining;\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length;\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (isNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction latin1Write(buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0;\n    // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0;\n    // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n    if (isFinite(length)) {\n      length = length | 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    }\n    // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  var loweredCase = false;\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n\n  var i = start;\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n          break;\n        case 2:\n          secondByte = buf[i + 1];\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break;\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n          break;\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = '';\n  var i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n\n  var out = '';\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i]);\n  }\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = '';\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n\n  var newBuf;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end);\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n  mul *= 0x80;\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  byteLength = byteLength | 0;\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2;\n};\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2;\n};\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1;\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = value >>> 24;\n    this[offset + 2] = value >>> 16;\n    this[offset + 1] = value >>> 8;\n    this[offset] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4;\n};\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n  } else {\n    objectWriteUInt16(this, value, offset, true);\n  }\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 8;\n    this[offset + 1] = value & 0xff;\n  } else {\n    objectWriteUInt16(this, value, offset, false);\n  }\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value & 0xff;\n    this[offset + 1] = value >>> 8;\n    this[offset + 2] = value >>> 16;\n    this[offset + 3] = value >>> 24;\n  } else {\n    objectWriteUInt32(this, value, offset, true);\n  }\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset | 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value >>> 24;\n    this[offset + 1] = value >>> 16;\n    this[offset + 2] = value >>> 8;\n    this[offset + 3] = value & 0xff;\n  } else {\n    objectWriteUInt32(this, value, offset, false);\n  }\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n};\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start;\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0;\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds');\n\n  // Are we oob?\n  if (end > this.length) end = this.length;\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n};\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n      if (code < 256) {\n        val = code;\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n\n  if (!val) val = 0;\n\n  var i;\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n    var len = bytes.length;\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n};\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '');\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return '';\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n  return str;\n}\n\nfunction stringtrim(str) {\n  if (str.trim) return str.trim();\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction toHex(n) {\n  if (n < 16) return '0' + n.toString(16);\n  return n.toString(16);\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        }\n\n        // valid lead\n        leadSurrogate = codePoint;\n\n        continue;\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null;\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n  return i;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"pwNi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(\"KM04\");\n\nif (false) {\n\trequire('preact/devtools');\n} else if (true && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_require__.p + 'sw.js');\n}\n\nvar interopDefault = function interopDefault(m) {\n\treturn m && m.default ? m.default : m;\n};\n\nvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\nif (typeof app === 'function') {\n\tvar root = document.body.firstElementChild;\n\n\tvar init = function init() {\n\t\tvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (false) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n/***/ }),\n\n/***/ \"qEFr\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\"_args\":[[\"twilio-sync@0.5.8\",\"/Users/dkundel/dev/twilio-barista-node\"]],\"_from\":\"twilio-sync@0.5.8\",\"_id\":\"twilio-sync@0.5.8\",\"_inBundle\":false,\"_integrity\":\"sha1-8k4W1ffyRW2J3/Vi5ZDr7h4TCNo=\",\"_location\":\"/twilio-sync\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"version\",\"registry\":true,\"raw\":\"twilio-sync@0.5.8\",\"name\":\"twilio-sync\",\"escapedName\":\"twilio-sync\",\"rawSpec\":\"0.5.8\",\"saveSpec\":null,\"fetchSpec\":\"0.5.8\"},\"_requiredBy\":[\"/\"],\"_resolved\":\"https://registry.npmjs.org/twilio-sync/-/twilio-sync-0.5.8.tgz\",\"_spec\":\"0.5.8\",\"_where\":\"/Users/dkundel/dev/twilio-barista-node\",\"author\":{\"name\":\"Twilio\"},\"browser\":\"browser/index.js\",\"dependencies\":{\"babel-runtime\":\"^6.23.0\",\"karibu\":\"^1.0.1\",\"loglevel\":\"^1.4.1\",\"operation-retrier\":\"^1.1.2\",\"platform\":\"^1.3.3\",\"rfc6902\":\"^1.3.0\",\"twilio-ems-client\":\"^0.2.0\",\"twilio-notifications\":\"^0.4.0\",\"twilio-transport\":\"^0.1.2\",\"twilsock\":\"^0.3.0\",\"uuid\":\"^3.0.1\",\"xxhashjs\":\"^0.2.1\"},\"description\":\"Twilio Sync client library\",\"devDependencies\":{\"@types/chai\":\"^3.4.35\",\"@types/chai-as-promised\":\"0.0.29\",\"@types/loglevel\":\"^1.4.29\",\"@types/mocha\":\"^2.2.39\",\"@types/node\":\"^7.0.5\",\"@types/sinon\":\"^1.16.35\",\"@types/sinon-as-promised\":\"^4.0.5\",\"@types/sinon-chai\":\"^2.7.27\",\"async-test-tools\":\"^1.0.6\",\"babel-cli\":\"^6.23.0\",\"babel-plugin-add-module-exports\":\"^0.2.1\",\"babel-plugin-array-includes\":\"^2.0.3\",\"babel-plugin-transform-object-assign\":\"^6.22.0\",\"babel-plugin-transform-runtime\":\"^6.23.0\",\"babel-preset-es2015\":\"^6.22.0\",\"babelify\":\"^7.3.0\",\"backoff\":\"^2.5.0\",\"browserify\":\"^14.1.0\",\"chai\":\"^3.5.0\",\"chai-as-promised\":\"^6.0.0\",\"cheerio\":\"^0.22.0\",\"del\":\"^2.2.2\",\"gulp\":\"^3.9.1\",\"gulp-babel\":\"^6.1.2\",\"gulp-derequire\":\"^2.1.0\",\"gulp-exit\":\"0.0.2\",\"gulp-insert\":\"^0.5.0\",\"gulp-istanbul\":\"^1.1.1\",\"gulp-mocha\":\"^4.0.1\",\"gulp-rename\":\"^1.2.2\",\"gulp-replace\":\"^0.5.4\",\"gulp-tap\":\"^0.1.3\",\"gulp-tslint\":\"^7.1.0\",\"gulp-typescript\":\"^3.1.5\",\"gulp-uglify\":\"^2.0.1\",\"gulp-util\":\"^3.0.8\",\"ink-docstrap\":\"^1.3.0\",\"isparta\":\"^4.0.0\",\"jsdoc\":\"^3.4.3\",\"jsonwebtoken\":\"^7.3.0\",\"karma\":\"^1.5.0\",\"karma-browserify\":\"^5.1.1\",\"karma-browserstack-launcher\":\"^1.2.0\",\"karma-mocha\":\"^1.3.0\",\"karma-mocha-reporter\":\"^2.2.2\",\"run-sequence\":\"^1.2.2\",\"sinon\":\"^1.17.7\",\"sinon-as-promised\":\"^4.0.2\",\"sinon-chai\":\"^2.8.0\",\"ts-node\":\"^3.0.0\",\"tslint\":\"^4.5.1\",\"twilio\":\"^3.3.0-edge\",\"typescript\":\"2.2.1\",\"underscore\":\"^1.8.3\",\"vinyl-buffer\":\"^1.0.0\",\"vinyl-source-stream\":\"^1.1.0\",\"watchify\":\"^3.9.0\"},\"engines\":{\"node\":\">=6\"},\"license\":\"MIT\",\"main\":\"lib/index.js\",\"name\":\"twilio-sync\",\"scripts\":{\"prepublish\":\"gulp build\",\"test\":\"gulp unit-test\"},\"version\":\"0.5.8\"}\n\n/***/ }),\n\n/***/ \"qQO4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar v1 = __webpack_require__(\"hVVj\");\nvar v4 = __webpack_require__(\"hYHi\");\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n/***/ }),\n\n/***/ \"qXBc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class\n * @classdesc List item\n * Represents a data for each element in a collection\n * @alias ListItem\n * @property {Number} index  - identifier of an item\n * @property {Object} value - value of an item\n */\n\nvar ListItem = function () {\n  /**\n   * @private\n   * @constructor\n   * @param {Object} data Item descriptor\n   * @param {Number} data.index Item identifier\n   * @param {String} data.uri Item URI\n   * @param {Object} data.value Item data\n   */\n  function ListItem(data) {\n    (0, _classCallCheck3.default)(this, ListItem);\n\n    this.data = data;\n  }\n\n  (0, _createClass3.default)(ListItem, [{\n    key: \"update\",\n\n    /**\n     * Update item data\n     * @param {Number} EventId Update event id\n     * @param {String} Revision Updated item revision\n     * @param {Object} Value Updated item data\n     * @private\n     */\n    value: function update(eventId, revision, value) {\n      this.data.lastEventId = eventId;\n      this.data.revision = revision;\n      this.data.value = value;\n      return this;\n    }\n  }, {\n    key: \"uri\",\n    get: function get() {\n      return this.data.uri;\n    }\n  }, {\n    key: \"revision\",\n    get: function get() {\n      return this.data.revision;\n    }\n  }, {\n    key: \"lastEventId\",\n    get: function get() {\n      return this.data.lastEventId;\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this.data.index;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.data.value;\n    }\n  }]);\n  return ListItem;\n}();\n\nexports.ListItem = ListItem;\nexports.default = ListItem;\n\n/***/ }),\n\n/***/ \"qYbH\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// eslint-disable-next-line no-empty-function\n\nmodule.exports = function () {};\n\n/***/ }),\n\n/***/ \"r9SO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n\th32: __webpack_require__(\"Nf0/\"),\n\th64: __webpack_require__(\"OFjk\")\n};\n\n/***/ }),\n\n/***/ \"rMkZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(\"Wyka\"),\n    gOPN = __webpack_require__(\"Ni5N\").f,\n    toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function getWindowNames(it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n/***/ }),\n\n/***/ \"rdar\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"sw5u\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) {\n\tfor (var i = 1; i < arguments.length; i++) {\n\t\tvar source = arguments[i];for (var key in source) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t}return target;\n};\n\nvar _preact = __webpack_require__(\"KM04\");\n\nvar _preactRouter = __webpack_require__(\"/QC5\");\n\nfunction _objectWithoutProperties(obj, keys) {\n\tvar target = {};for (var i in obj) {\n\t\tif (keys.indexOf(i) >= 0) continue;if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;target[i] = obj[i];\n\t}return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n\tif (!(instance instanceof Constructor)) {\n\t\tthrow new TypeError(\"Cannot call a class as a function\");\n\t}\n}\n\nfunction _possibleConstructorReturn(self, call) {\n\tif (!self) {\n\t\tthrow new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t}return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n\tif (typeof superClass !== \"function\" && superClass !== null) {\n\t\tthrow new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children[0] && props.children[0]({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: path === props.path\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(Match, { path: path || props.href }, function (_ref2) {\n\t\tvar matches = _ref2.matches;\n\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t});\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n\n/***/ }),\n\n/***/ \"sxPs\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(\"z7R8\"),\n    createDesc = __webpack_require__(\"0WCH\"),\n    toIObject = __webpack_require__(\"Wyka\"),\n    toPrimitive = __webpack_require__(\"EKwp\"),\n    has = __webpack_require__(\"yS17\"),\n    IE8_DOM_DEFINE = __webpack_require__(\"R6c1\"),\n    gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(\"6MLN\") ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) {/* empty */}\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n/***/ }),\n\n/***/ \"tMiz\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = __webpack_require__(\"3zRh\"),\n    IObject = __webpack_require__(\"E5Ce\"),\n    toObject = __webpack_require__(\"mbLO\"),\n    toLength = __webpack_require__(\"S7IM\"),\n    asc = __webpack_require__(\"TD/Z\");\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1,\n      IS_FILTER = TYPE == 2,\n      IS_SOME = TYPE == 3,\n      IS_EVERY = TYPE == 4,\n      IS_FIND_INDEX = TYPE == 6,\n      NO_HOLES = TYPE == 5 || IS_FIND_INDEX,\n      create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this),\n        self = IObject(O),\n        f = ctx(callbackfn, that, 3),\n        length = toLength(self.length),\n        index = 0,\n        result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined,\n        val,\n        res;\n    for (; length > index; index++) {\n      if (NO_HOLES || index in self) {\n        val = self[index];\n        res = f(val, index, O);\n        if (TYPE) {\n          if (IS_MAP) result[index] = res; // map\n          else if (res) switch (TYPE) {\n              case 3:\n                return true; // some\n              case 5:\n                return val; // find\n              case 6:\n                return index; // findIndex\n              case 2:\n                result.push(val); // filter\n            } else if (IS_EVERY) return false; // every\n        }\n      }\n    }return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n/***/ }),\n\n/***/ \"tcrG\":\n/***/ (function(module, exports) {\n\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function TempCtor() {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  };\n}\n\n/***/ }),\n\n/***/ \"tuDi\":\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n\n/***/ \"tvE3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"FshL\");\nvar $Object = __webpack_require__(\"zKeE\").Object;\nmodule.exports = function defineProperties(T, D) {\n  return $Object.defineProperties(T, D);\n};\n\n/***/ }),\n\n/***/ \"uRfg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LIBRARY = __webpack_require__(\"1kq3\"),\n    $export = __webpack_require__(\"vSO4\"),\n    redefine = __webpack_require__(\"gojl\"),\n    hide = __webpack_require__(\"akPY\"),\n    has = __webpack_require__(\"yS17\"),\n    Iterators = __webpack_require__(\"dhak\"),\n    $iterCreate = __webpack_require__(\"b7Q2\"),\n    setToStringTag = __webpack_require__(\"11Ut\"),\n    getPrototypeOf = __webpack_require__(\"HHE0\"),\n    ITERATOR = __webpack_require__(\"Ug9I\")('iterator'),\n    BUGGY = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n,\n    FF_ITERATOR = '@@iterator',\n    KEYS = 'keys',\n    VALUES = 'values';\n\nvar returnThis = function returnThis() {\n  return this;\n};\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function getMethod(kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS:\n        return function keys() {\n          return new Constructor(this, kind);\n        };\n      case VALUES:\n        return function values() {\n          return new Constructor(this, kind);\n        };\n    }return function entries() {\n      return new Constructor(this, kind);\n    };\n  };\n  var TAG = NAME + ' Iterator',\n      DEF_VALUES = DEFAULT == VALUES,\n      VALUES_BUG = false,\n      proto = Base.prototype,\n      $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT],\n      $default = $native || getMethod(DEFAULT),\n      $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined,\n      $anyNative = NAME == 'Array' ? proto.entries || $native : $native,\n      methods,\n      key,\n      IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() {\n      return $native.call(this);\n    };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n/***/ }),\n\n/***/ \"ugM7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"zotD\"),\n    get = __webpack_require__(\"7AqT\");\nmodule.exports = __webpack_require__(\"zKeE\").getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n/***/ }),\n\n/***/ \"uj5A\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\n\nvar getKeys = __webpack_require__(\"knrM\"),\n    gOPS = __webpack_require__(\"Ocr3\"),\n    pIE = __webpack_require__(\"z7R8\"),\n    toObject = __webpack_require__(\"mbLO\"),\n    IObject = __webpack_require__(\"E5Ce\"),\n    $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(\"wLcK\")(function () {\n  var A = {},\n      B = {},\n      S = Symbol(),\n      K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) {\n    B[k] = k;\n  });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) {\n  // eslint-disable-line no-unused-vars\n  var T = toObject(target),\n      aLen = arguments.length,\n      index = 1,\n      getSymbols = gOPS.f,\n      isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]),\n        keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),\n        length = keys.length,\n        j = 0,\n        key;\n    while (length > j) {\n      if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n    }\n  }return T;\n} : $assign;\n\n/***/ }),\n\n/***/ \"uxiv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\n  Javascript State Machine Library - https://github.com/jakesgordon/javascript-state-machine\n\n  Copyright (c) 2012, 2013, 2014, 2015, Jake Gordon and contributors\n  Released under the MIT license - https://github.com/jakesgordon/javascript-state-machine/blob/master/LICENSE\n\n*/\n\n(function () {\n\n  var StateMachine = {\n\n    //---------------------------------------------------------------------------\n\n    VERSION: \"2.4.0\",\n\n    //---------------------------------------------------------------------------\n\n    Result: {\n      SUCCEEDED: 1, // the event transitioned successfully from one state to another\n      NOTRANSITION: 2, // the event was successfull but no state transition was necessary\n      CANCELLED: 3, // the event was cancelled by the caller in a beforeEvent callback\n      PENDING: 4 // the event is asynchronous and the caller is in control of when the transition occurs\n    },\n\n    Error: {\n      INVALID_TRANSITION: 100, // caller tried to fire an event that was innapropriate in the current state\n      PENDING_TRANSITION: 200, // caller tried to fire an event while an async transition was still pending\n      INVALID_CALLBACK: 300 // caller provided callback function threw an exception\n    },\n\n    WILDCARD: '*',\n    ASYNC: 'async',\n\n    //---------------------------------------------------------------------------\n\n    create: function create(cfg, target) {\n\n      var initial = typeof cfg.initial == 'string' ? { state: cfg.initial } : cfg.initial; // allow for a simple string, or an object with { state: 'foo', event: 'setup', defer: true|false }\n      var terminal = cfg.terminal || cfg['final'];\n      var fsm = target || cfg.target || {};\n      var events = cfg.events || [];\n      var callbacks = cfg.callbacks || {};\n      var map = {}; // track state transitions allowed for an event { event: { from: [ to ] } }\n      var transitions = {}; // track events allowed from a state            { state: [ event ] }\n\n      var add = function add(e) {\n        var from = Array.isArray(e.from) ? e.from : e.from ? [e.from] : [StateMachine.WILDCARD]; // allow 'wildcard' transition if 'from' is not specified\n        map[e.name] = map[e.name] || {};\n        for (var n = 0; n < from.length; n++) {\n          transitions[from[n]] = transitions[from[n]] || [];\n          transitions[from[n]].push(e.name);\n\n          map[e.name][from[n]] = e.to || from[n]; // allow no-op transition if 'to' is not specified\n        }\n        if (e.to) transitions[e.to] = transitions[e.to] || [];\n      };\n\n      if (initial) {\n        initial.event = initial.event || 'startup';\n        add({ name: initial.event, from: 'none', to: initial.state });\n      }\n\n      for (var n = 0; n < events.length; n++) {\n        add(events[n]);\n      }for (var name in map) {\n        if (map.hasOwnProperty(name)) fsm[name] = StateMachine.buildEvent(name, map[name]);\n      }\n\n      for (var name in callbacks) {\n        if (callbacks.hasOwnProperty(name)) fsm[name] = callbacks[name];\n      }\n\n      fsm.current = 'none';\n      fsm.is = function (state) {\n        return Array.isArray(state) ? state.indexOf(this.current) >= 0 : this.current === state;\n      };\n      fsm.can = function (event) {\n        return !this.transition && map[event] !== undefined && (map[event].hasOwnProperty(this.current) || map[event].hasOwnProperty(StateMachine.WILDCARD));\n      };\n      fsm.cannot = function (event) {\n        return !this.can(event);\n      };\n      fsm.transitions = function () {\n        return (transitions[this.current] || []).concat(transitions[StateMachine.WILDCARD] || []);\n      };\n      fsm.isFinished = function () {\n        return this.is(terminal);\n      };\n      fsm.error = cfg.error || function (name, from, to, args, error, msg, e) {\n        throw e || msg;\n      }; // default behavior when something unexpected happens is to throw an exception, but caller can override this behavior if desired (see github issue #3 and #17)\n      fsm.states = function () {\n        return Object.keys(transitions).sort();\n      };\n\n      if (initial && !initial.defer) fsm[initial.event]();\n\n      return fsm;\n    },\n\n    //===========================================================================\n\n    doCallback: function doCallback(fsm, func, name, from, to, args) {\n      if (func) {\n        try {\n          return func.apply(fsm, [name, from, to].concat(args));\n        } catch (e) {\n          return fsm.error(name, from, to, args, StateMachine.Error.INVALID_CALLBACK, \"an exception occurred in a caller-provided callback function\", e);\n        }\n      }\n    },\n\n    beforeAnyEvent: function beforeAnyEvent(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onbeforeevent'], name, from, to, args);\n    },\n    afterAnyEvent: function afterAnyEvent(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onafterevent'] || fsm['onevent'], name, from, to, args);\n    },\n    leaveAnyState: function leaveAnyState(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onleavestate'], name, from, to, args);\n    },\n    enterAnyState: function enterAnyState(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onenterstate'] || fsm['onstate'], name, from, to, args);\n    },\n    changeState: function changeState(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onchangestate'], name, from, to, args);\n    },\n\n    beforeThisEvent: function beforeThisEvent(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onbefore' + name], name, from, to, args);\n    },\n    afterThisEvent: function afterThisEvent(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onafter' + name] || fsm['on' + name], name, from, to, args);\n    },\n    leaveThisState: function leaveThisState(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onleave' + from], name, from, to, args);\n    },\n    enterThisState: function enterThisState(fsm, name, from, to, args) {\n      return StateMachine.doCallback(fsm, fsm['onenter' + to] || fsm['on' + to], name, from, to, args);\n    },\n\n    beforeEvent: function beforeEvent(fsm, name, from, to, args) {\n      if (false === StateMachine.beforeThisEvent(fsm, name, from, to, args) || false === StateMachine.beforeAnyEvent(fsm, name, from, to, args)) return false;\n    },\n\n    afterEvent: function afterEvent(fsm, name, from, to, args) {\n      StateMachine.afterThisEvent(fsm, name, from, to, args);\n      StateMachine.afterAnyEvent(fsm, name, from, to, args);\n    },\n\n    leaveState: function leaveState(fsm, name, from, to, args) {\n      var specific = StateMachine.leaveThisState(fsm, name, from, to, args),\n          general = StateMachine.leaveAnyState(fsm, name, from, to, args);\n      if (false === specific || false === general) return false;else if (StateMachine.ASYNC === specific || StateMachine.ASYNC === general) return StateMachine.ASYNC;\n    },\n\n    enterState: function enterState(fsm, name, from, to, args) {\n      StateMachine.enterThisState(fsm, name, from, to, args);\n      StateMachine.enterAnyState(fsm, name, from, to, args);\n    },\n\n    //===========================================================================\n\n    buildEvent: function buildEvent(name, map) {\n      return function () {\n\n        var from = this.current;\n        var to = map[from] || (map[StateMachine.WILDCARD] != StateMachine.WILDCARD ? map[StateMachine.WILDCARD] : from) || from;\n        var args = Array.prototype.slice.call(arguments); // turn arguments into pure array\n\n        if (this.transition) return this.error(name, from, to, args, StateMachine.Error.PENDING_TRANSITION, \"event \" + name + \" inappropriate because previous transition did not complete\");\n\n        if (this.cannot(name)) return this.error(name, from, to, args, StateMachine.Error.INVALID_TRANSITION, \"event \" + name + \" inappropriate in current state \" + this.current);\n\n        if (false === StateMachine.beforeEvent(this, name, from, to, args)) return StateMachine.Result.CANCELLED;\n\n        if (from === to) {\n          StateMachine.afterEvent(this, name, from, to, args);\n          return StateMachine.Result.NOTRANSITION;\n        }\n\n        // prepare a transition method for use EITHER lower down, or by caller if they want an async transition (indicated by an ASYNC return value from leaveState)\n        var fsm = this;\n        this.transition = function () {\n          fsm.transition = null; // this method should only ever be called once\n          fsm.current = to;\n          StateMachine.enterState(fsm, name, from, to, args);\n          StateMachine.changeState(fsm, name, from, to, args);\n          StateMachine.afterEvent(fsm, name, from, to, args);\n          return StateMachine.Result.SUCCEEDED;\n        };\n        this.transition.cancel = function () {\n          // provide a way for caller to cancel async transition if desired (issue #22)\n          fsm.transition = null;\n          StateMachine.afterEvent(fsm, name, from, to, args);\n        };\n\n        var leave = StateMachine.leaveState(this, name, from, to, args);\n        if (false === leave) {\n          this.transition = null;\n          return StateMachine.Result.CANCELLED;\n        } else if (StateMachine.ASYNC === leave) {\n          return StateMachine.Result.PENDING;\n        } else {\n          if (this.transition) // need to check in case user manually called transition() but forgot to return StateMachine.ASYNC\n            return this.transition();\n        }\n      };\n    }\n\n  }; // StateMachine\n\n  //===========================================================================\n\n  //======\n  // NODE\n  //======\n  if (true) {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = StateMachine;\n    }\n    exports.StateMachine = StateMachine;\n  }\n  //============\n  // AMD/REQUIRE\n  //============\n  else if (typeof define === 'function' && define.amd) {\n      define(function (require) {\n        return StateMachine;\n      });\n    }\n    //========\n    // BROWSER\n    //========\n    else if (typeof window !== 'undefined') {\n        window.StateMachine = StateMachine;\n      }\n      //===========\n      // WEB WORKER\n      //===========\n      else if (typeof self !== 'undefined') {\n          self.StateMachine = StateMachine;\n        }\n})();\n\n/***/ }),\n\n/***/ \"uzcO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(\"3zRh\"),\n    invoke = __webpack_require__(\"o4G5\"),\n    html = __webpack_require__(\"ebIA\"),\n    cel = __webpack_require__(\"9kxq\"),\n    global = __webpack_require__(\"i1Q6\"),\n    process = global.process,\n    setTask = global.setImmediate,\n    clearTask = global.clearImmediate,\n    MessageChannel = global.MessageChannel,\n    counter = 0,\n    queue = {},\n    ONREADYSTATECHANGE = 'onreadystatechange',\n    defer,\n    channel,\n    port;\nvar run = function run() {\n  var id = +this;\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function listener(event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [],\n        i = 1;\n    while (arguments.length > i) {\n      args.push(arguments[i++]);\n    }queue[++counter] = function () {\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(\"ShN9\")(process) == 'process') {\n    defer = function defer(id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n    // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n    // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function defer(id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n    // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function defer(id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n    // Rest old browsers\n  } else {\n    defer = function defer(id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n/***/ }),\n\n/***/ \"vSO4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(\"i1Q6\"),\n    core = __webpack_require__(\"zKeE\"),\n    ctx = __webpack_require__(\"3zRh\"),\n    hide = __webpack_require__(\"akPY\"),\n    PROTOTYPE = 'prototype';\n\nvar $export = function $export(type, name, source) {\n  var IS_FORCED = type & $export.F,\n      IS_GLOBAL = type & $export.G,\n      IS_STATIC = type & $export.S,\n      IS_PROTO = type & $export.P,\n      IS_BIND = type & $export.B,\n      IS_WRAP = type & $export.W,\n      exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n      expProto = exports[PROTOTYPE],\n      target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\n      key,\n      own,\n      out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? function (C) {\n      var F = function F(a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0:\n              return new C();\n            case 1:\n              return new C(a);\n            case 2:\n              return new C(a, b);\n          }return new C(a, b, c);\n        }return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n      // make static versions for prototype methods\n    }(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1; // forced\n$export.G = 2; // global\n$export.S = 4; // static\n$export.P = 8; // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\n$export.U = 64; // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n/***/ }),\n\n/***/ \"vUQk\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar $defineProperty = __webpack_require__(\"Gfzd\"),\n    createDesc = __webpack_require__(\"0WCH\");\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));else object[index] = value;\n};\n\n/***/ }),\n\n/***/ \"vcHl\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"YD0x\");\nmodule.exports = __webpack_require__(\"zKeE\").Object.assign;\n\n/***/ }),\n\n/***/ \"vexR\":\n/***/ (function(module, exports) {\n\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object' && typeof arg.copy === 'function' && typeof arg.fill === 'function' && typeof arg.readUInt8 === 'function';\n};\n\n/***/ }),\n\n/***/ \"vvo2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"tuDi\");\n__webpack_require__(\"i+u+\");\n__webpack_require__(\"COf8\");\n__webpack_require__(\"+o4f\");\n__webpack_require__(\"XMdB\");\nmodule.exports = __webpack_require__(\"zKeE\").Set;\n\n/***/ }),\n\n/***/ \"wLcK\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n/***/ }),\n\n/***/ \"x6MZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = __webpack_require__(\"ZHvQ\"),\n    from = __webpack_require__(\"YLmZ\");\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n/***/ }),\n\n/***/ \"xwD+\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n/***/ }),\n\n/***/ \"y60x\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n\tvar assign = Object.assign,\n\t    obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n\n/***/ }),\n\n/***/ \"y9oC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// Generated by CoffeeScript 1.11.0\n(function () {\n  module.exports = __webpack_require__(\"An/8\");\n\n  if (global.window != null) {\n    global.window.Bottleneck = module.exports;\n  }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"h6ac\")))\n\n/***/ }),\n\n/***/ \"yOG5\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(\"vSO4\");\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(\"TNJq\") });\n\n/***/ }),\n\n/***/ \"yS17\":\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n/***/ }),\n\n/***/ \"ycyv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(\"knrM\"),\n    gOPS = __webpack_require__(\"Ocr3\"),\n    pIE = __webpack_require__(\"z7R8\");\nmodule.exports = function (it) {\n  var result = getKeys(it),\n      getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it),\n        isEnum = pIE.f,\n        i = 0,\n        key;\n    while (symbols.length > i) {\n      if (isEnum.call(it, key = symbols[i++])) result.push(key);\n    }\n  }return result;\n};\n\n/***/ }),\n\n/***/ \"yeEC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"cjsw\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"yh9p\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength;\nexports.toByteArray = toByteArray;\nexports.fromByteArray = fromByteArray;\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n}\n\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction placeHoldersCount(b64) {\n  var len = b64.length;\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4');\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0;\n}\n\nfunction byteLength(b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64);\n}\n\nfunction toByteArray(b64) {\n  var i, l, tmp, placeHolders, arr;\n  var len = b64.length;\n  placeHolders = placeHoldersCount(b64);\n\n  arr = new Arr(len * 3 / 4 - placeHolders);\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len;\n\n  var L = 0;\n\n  for (i = 0; i < l; i += 4) {\n    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n    arr[L++] = tmp >> 16 & 0xFF;\n    arr[L++] = tmp >> 8 & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  if (placeHolders === 2) {\n    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n    arr[L++] = tmp & 0xFF;\n  } else if (placeHolders === 1) {\n    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n    arr[L++] = tmp >> 8 & 0xFF;\n    arr[L++] = tmp & 0xFF;\n  }\n\n  return arr;\n}\n\nfunction tripletToBase64(num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n}\n\nfunction encodeChunk(uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('');\n}\n\nfunction fromByteArray(uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var output = '';\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    output += lookup[tmp >> 2];\n    output += lookup[tmp << 4 & 0x3F];\n    output += '==';\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    output += lookup[tmp >> 10];\n    output += lookup[tmp >> 4 & 0x3F];\n    output += lookup[tmp << 2 & 0x3F];\n    output += '=';\n  }\n\n  parts.push(output);\n\n  return parts.join('');\n}\n\n/***/ }),\n\n/***/ \"z+/R\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(\"753d\")() ? String.prototype.contains : __webpack_require__(\"3RK5\");\n\n/***/ }),\n\n/***/ \"z7R8\":\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n/***/ }),\n\n/***/ \"zKeE\":\n/***/ (function(module, exports) {\n\nvar core = module.exports = { version: '2.4.0' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n/***/ }),\n\n/***/ \"zWNa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperties = __webpack_require__(\"LlWG\");\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = __webpack_require__(\"dACh\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(\"jx4H\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar ERS_URI = 'https://ers.twilio.com';\nvar ERS_PATH = '/v1/registrations';\n\nvar NotificationConfig = function () {\n  function NotificationConfig(token, options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, NotificationConfig);\n\n    options = (options || {}).Notification || {};\n    var uri = options.ersUri || ERS_URI;\n\n    (0, _defineProperties2.default)(this, {\n      _registrarUri: { value: uri + ERS_PATH },\n      _token: { value: token, writable: true },\n\n      registrarUri: { get: function get() {\n          return _this._registrarUri;\n        } },\n      token: { get: function get() {\n          return _this._token;\n        } }\n    });\n  }\n\n  (0, _createClass3.default)(NotificationConfig, [{\n    key: 'updateToken',\n    value: function updateToken(token) {\n      this._token = token;\n    }\n  }]);\n  return NotificationConfig;\n}();\n\nexports.default = NotificationConfig;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ \"zotD\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(\"BxvP\");\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// bundle.004e7.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t5: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = \"text/javascript\";\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"route-dashboard\",\"1\":\"route-admin\",\"2\":\"route-orders\",\"3\":\"route-kiosk\",\"4\":\"route-home\"}[chunkId]||chunkId) + \".chunk.\" + {\"0\":\"b51ce\",\"1\":\"ac2d4\",\"2\":\"b3cdf\",\"3\":\"55172\",\"4\":\"b08f3\"}[chunkId] + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 169fe25e432ba8d28472","\"use strict\";\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uuid = require(\"uuid\");\nvar logger_1 = require(\"./logger\");\nvar syncerror_1 = require(\"./syncerror\");\nvar syncNetworkError_1 = require(\"./syncNetworkError\");\nvar operation_retrier_1 = require(\"operation-retrier\");\nvar twilio_transport_1 = require(\"twilio-transport\");\nvar MINIMUM_RETRY_DELAY = 4000;\nvar MAXIMUM_RETRY_DELAY = 60000;\nvar MAXIMUM_ATTEMPTS_TIME = 90000;\nvar RETRY_DELAY_RANDOMNESS = 0.2;\nfunction messageFromErrorBody(trasportError) {\n    if (trasportError.body) {\n        if (trasportError.body.message) {\n            return trasportError.body.message;\n        }\n    }\n    switch (trasportError.status) {\n        case 429:\n            return 'Throttled by server';\n        case 404:\n            return 'Not found from server';\n        default:\n            return 'Error from server';\n    }\n}\nfunction codeFromErrorBody(trasportError) {\n    if (trasportError.body) {\n        return trasportError.body.code;\n    }\n    return 0;\n}\nfunction mapTransportError(transportError) {\n    if (transportError.status === 409) {\n        return new syncNetworkError_1.SyncNetworkError(messageFromErrorBody(transportError), transportError.status, codeFromErrorBody(transportError), transportError.body);\n    } else if (transportError.status) {\n        return new syncerror_1.SyncError(messageFromErrorBody(transportError), transportError.status, codeFromErrorBody(transportError));\n    } else if (transportError instanceof twilio_transport_1.TwilsockUnavailableError) {\n        return transportError;\n    } else {\n        return new syncerror_1.SyncError(transportError.message, 0, 0);\n    }\n}\n/**\n * @classdesc Incapsulates network operations to make it possible to add some optimization/caching strategies\n */\n\nvar Network = function () {\n    function Network(productId, clientInfo, config, transport) {\n        (0, _classCallCheck3.default)(this, Network);\n\n        this.productId = productId;\n        this.clientInfo = clientInfo;\n        this.config = config;\n        this.transport = transport;\n    }\n\n    (0, _createClass3.default)(Network, [{\n        key: \"createHeaders\",\n        value: function createHeaders() {\n            return {\n                'Content-Type': 'application/json',\n                'Twilio-Sync-Client-Info': (0, _stringify2.default)(this.clientInfo),\n                'Twilio-Request-Id': 'RQ' + uuid.v4().replace(/-/g, ''),\n                'X-Twilio-Product-Id': this.productId,\n                'X-Twilio-Token': this.config.token\n            };\n        }\n    }, {\n        key: \"backoffConfig\",\n        value: function backoffConfig() {\n            return (0, _extends3.default)({ min: MINIMUM_RETRY_DELAY,\n                max: MAXIMUM_RETRY_DELAY,\n                maxAttemptsTime: MAXIMUM_ATTEMPTS_TIME,\n                randomness: RETRY_DELAY_RANDOMNESS }, this.config.backoffConfig);\n        }\n    }, {\n        key: \"executeWithRetry\",\n        value: function executeWithRetry(request) {\n            var _this = this;\n\n            var retryWhenThrottled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            return new _promise2.default(function (resolve, reject) {\n                var codesToRetryOn = [502, 503, 504];\n                if (retryWhenThrottled) {\n                    codesToRetryOn.push(429);\n                }\n                var retrier = new operation_retrier_1.default(_this.backoffConfig());\n                retrier.on('attempt', function () {\n                    request().then(function (result) {\n                        return retrier.succeeded(result);\n                    }).catch(function (err) {\n                        if (codesToRetryOn.indexOf(err.status) !== -1) {\n                            var delayOverride = parseInt(err.headers ? err.headers['Retry-After'] : null);\n                            retrier.failed(mapTransportError(err), isNaN(delayOverride) ? null : delayOverride * 1000);\n                        } else if (err.message === 'Twilsock disconnected') {\n                            // Ugly hack. We must make a proper exceptions for twilsock\n                            retrier.failed(mapTransportError(err));\n                        } else {\n                            // Fatal error\n                            retrier.removeAllListeners();\n                            retrier.cancel();\n                            reject(mapTransportError(err));\n                        }\n                    });\n                });\n                retrier.on('succeeded', function (result) {\n                    resolve(result);\n                });\n                retrier.on('cancelled', function (err) {\n                    return reject(mapTransportError(err));\n                });\n                retrier.on('failed', function (err) {\n                    return reject(mapTransportError(err));\n                });\n                retrier.start();\n            });\n        }\n        /**\n         * Make a GET request by given URI\n         * @Returns Promise<Response> Result of successful get request\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(uri) {\n            var _this2 = this;\n\n            var headers = this.createHeaders();\n            logger_1.default.debug('GET', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this2.transport.get(uri, headers);\n            }, true);\n        }\n    }, {\n        key: \"post\",\n        value: function post(uri, body, revision, twilsockOnly) {\n            var _this3 = this;\n\n            var headers = this.createHeaders();\n            if (typeof revision !== 'undefined' && revision !== null) {\n                headers['If-Match'] = revision;\n            }\n            logger_1.default.debug('POST', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this3.transport.post(uri, headers, body, twilsockOnly);\n            }, false);\n        }\n    }, {\n        key: \"put\",\n        value: function put(uri, body, revision) {\n            var _this4 = this;\n\n            var headers = this.createHeaders();\n            if (typeof revision !== 'undefined' && revision !== null) {\n                headers['If-Match'] = revision;\n            }\n            logger_1.default.debug('PUT', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this4.transport.put(uri, headers, body);\n            }, false);\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(uri) {\n            var _this5 = this;\n\n            var headers = this.createHeaders();\n            logger_1.default.debug('DELETE', uri, 'ID:', headers['Twilio-Request-Id']);\n            return this.executeWithRetry(function () {\n                return _this5.transport.delete(uri, headers);\n            }, false);\n        }\n    }]);\n    return Network;\n}();\n\nexports.Network = Network;\nexports.default = Network;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/network.js","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.set.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CDS_URI = 'https://cds.twilio.com';\nvar SUBSCRIPTIONS_PATH = '/v4/Subscriptions';\nvar MAPS_PATH = '/v3/Maps';\nvar LISTS_PATH = '/v3/Lists';\nvar DOCUMENTS_PATH = '/v3/Documents';\nfunction getWithDefault(container, key, defaultValue) {\n    if (container && typeof container[key] !== 'undefined') {\n        return container[key];\n    }\n    return defaultValue;\n}\n/**\n * Settings container for Sync library\n */\n\nvar Configuration = function () {\n    /**\n     * @param {String} token - authentication token\n     */\n    function Configuration(token, options) {\n        (0, _classCallCheck3.default)(this, Configuration);\n\n        options = options || {};\n        options = options.Sync || options.DataSync || {};\n        var baseUri = options.cdsUri || CDS_URI;\n        this._token = token;\n        this.settings = {\n            subscriptionsUri: baseUri + SUBSCRIPTIONS_PATH,\n            documentsUri: baseUri + DOCUMENTS_PATH,\n            listsUri: baseUri + LISTS_PATH,\n            mapsUri: baseUri + MAPS_PATH,\n            sessionStorageEnabled: getWithDefault(options, 'enableSessionStorage', true)\n        };\n    }\n\n    (0, _createClass3.default)(Configuration, [{\n        key: \"updateToken\",\n        value: function updateToken(token) {\n            this._token = token;\n        }\n    }, {\n        key: \"token\",\n        get: function get() {\n            return this._token;\n        }\n    }, {\n        key: \"subscriptionsUri\",\n        get: function get() {\n            return this.settings.subscriptionsUri;\n        }\n    }, {\n        key: \"documentsUri\",\n        get: function get() {\n            return this.settings.documentsUri;\n        }\n    }, {\n        key: \"listsUri\",\n        get: function get() {\n            return this.settings.listsUri;\n        }\n    }, {\n        key: \"mapsUri\",\n        get: function get() {\n            return this.settings.mapsUri;\n        }\n    }, {\n        key: \"backoffConfig\",\n        get: function get() {\n            return this.settings.backoffConfig || {};\n        }\n    }, {\n        key: \"sessionStorageEnabled\",\n        get: function get() {\n            return this.settings.sessionStorageEnabled;\n        }\n    }]);\n    return Configuration;\n}();\n\nexports.Configuration = Configuration;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/configuration.js","import { Component, cloneElement, h } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tif ( opts === void 0 ) opts=EMPTY$1;\n\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\tvar aAttr = a.attributes || EMPTY$1,\n\t\tbAttr = b.attributes || EMPTY$1;\n\tif (aAttr.default) { return 1; }\n\tif (bAttr.default) { return -1; }\n\tvar diff = rank(aAttr.path) - rank(bAttr.path);\n\treturn diff || (aAttr.path.length - bAttr.path.length);\n}\n\nfunction segmentize(url) {\n\treturn strip(url).split('/');\n}\n\nfunction rank(url) {\n\treturn (strip(url).match(/\\/+/g) || '').length;\n}\n\nfunction strip(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '');\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized){\n\t\treturn;\n\t}\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () { return routeTo(getCurrentUrl()); });\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) { return this.canRoute(url); }\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children.slice().sort(pathRankSort).map( function (vnode) {\n\t\t\tvar attrs = vnode.attributes || {},\n\t\t\t\tpath = attrs.path,\n\t\t\t\tmatches = exec(url, path, attrs);\n\t\t\tif (matches) {\n\t\t\t\tif (invoke!==false) {\n\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t}\n\t\t\t\treturn vnode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\th('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return h(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-router/dist/preact-router.es.js","\"use strict\";\n\nvar _freeze = require(\"babel-runtime/core-js/object/freeze\");\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar RetryingQueue = function () {\n    function RetryingQueue() {\n        (0, _classCallCheck3.default)(this, RetryingQueue);\n\n        this.queue = new Array();\n        this.isActive = false;\n    }\n\n    (0, _createClass3.default)(RetryingQueue, [{\n        key: \"wakeupQueue\",\n        value: function wakeupQueue() {\n            var _this = this;\n\n            if (!this.isActive && this.queue.length > 0) {\n                this.isActive = true;\n                setTimeout(function () {\n                    return _this.executeTask(_this.queue[0]);\n                }, 0);\n            }\n        }\n    }, {\n        key: \"pickNext\",\n        value: function pickNext() {\n            var _this2 = this;\n\n            this.queue.shift();\n            if (this.queue.length === 0) {\n                this.isActive = false;\n                return;\n            }\n            setTimeout(function () {\n                return _this2.executeTask(_this2.queue[0]);\n            }, 0);\n        }\n    }, {\n        key: \"pickSame\",\n        value: function pickSame(arg) {\n            var _this3 = this;\n\n            this.queue[0].arg = arg;\n            setTimeout(function () {\n                return _this3.executeTask(_this3.queue[0]);\n            }, 0);\n        }\n    }, {\n        key: \"executeTask\",\n        value: function executeTask(task) {\n            var _this4 = this;\n\n            task.task(task.context, task.arg).then(function (result) {\n                _this4.pickNext();\n                task.resolve(result);\n            }).catch(function (error) {\n                try {\n                    if (task.handle) {\n                        task.handle(error).then(function (result) {\n                            return _this4.pickSame(result);\n                        }).catch(task.reject);\n                    } else {\n                        throw error;\n                    }\n                } catch (e) {\n                    task.reject(error);\n                }\n            });\n        }\n    }, {\n        key: \"add\",\n        value: function add(task, context, arg, errorHandler) {\n            var _this5 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                _this5.queue.push({\n                    task: task,\n                    context: context,\n                    arg: arg,\n                    handle: errorHandler,\n                    resolve: resolve,\n                    reject: reject\n                });\n                _this5.wakeupQueue();\n            });\n        }\n    }]);\n    return RetryingQueue;\n}();\n\nexports.RetryingQueue = RetryingQueue;\n(0, _freeze2.default)(RetryingQueue);\nexports.default = RetryingQueue;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/retryingqueue.js","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_shared-key.js","require('../../modules/es6.object.freeze');\nmodule.exports = require('../../modules/_core').Object.freeze;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/freeze.js","module.exports = { \"default\": require(\"core-js/library/fn/object/freeze\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/freeze.js","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_property-desc.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = require('./client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _client2.default;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/index.js","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_set-to-string-tag.js","module.exports = true;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_library.js","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/normalize-options.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Map', {toJSON: require('./_collection-to-json')('Map')});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es7.map.to-json.js","require('./_wks-define')('observable');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es7.symbol.observable.js","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('preact')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'preact'], factory) :\n  (factory((global.preactMdl = global.preactMdl || {}),global.preact));\n}(this, function (exports,preact) { 'use strict';\n\n  var asyncGenerator = function () {\n    function AwaitValue(value) {\n      this.value = value;\n    }\n\n    function AsyncGenerator(gen) {\n      var front, back;\n\n      function send(key, arg) {\n        return new Promise(function (resolve, reject) {\n          var request = {\n            key: key,\n            arg: arg,\n            resolve: resolve,\n            reject: reject,\n            next: null\n          };\n\n          if (back) {\n            back = back.next = request;\n          } else {\n            front = back = request;\n            resume(key, arg);\n          }\n        });\n      }\n\n      function resume(key, arg) {\n        try {\n          var result = gen[key](arg);\n          var value = result.value;\n\n          if (value instanceof AwaitValue) {\n            Promise.resolve(value.value).then(function (arg) {\n              resume(\"next\", arg);\n            }, function (arg) {\n              resume(\"throw\", arg);\n            });\n          } else {\n            settle(result.done ? \"return\" : \"normal\", result.value);\n          }\n        } catch (err) {\n          settle(\"throw\", err);\n        }\n      }\n\n      function settle(type, value) {\n        switch (type) {\n          case \"return\":\n            front.resolve({\n              value: value,\n              done: true\n            });\n            break;\n\n          case \"throw\":\n            front.reject(value);\n            break;\n\n          default:\n            front.resolve({\n              value: value,\n              done: false\n            });\n            break;\n        }\n\n        front = front.next;\n\n        if (front) {\n          resume(front.key, front.arg);\n        } else {\n          back = null;\n        }\n      }\n\n      this._invoke = send;\n\n      if (typeof gen.return !== \"function\") {\n        this.return = undefined;\n      }\n    }\n\n    if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n      AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n        return this;\n      };\n    }\n\n    AsyncGenerator.prototype.next = function (arg) {\n      return this._invoke(\"next\", arg);\n    };\n\n    AsyncGenerator.prototype.throw = function (arg) {\n      return this._invoke(\"throw\", arg);\n    };\n\n    AsyncGenerator.prototype.return = function (arg) {\n      return this._invoke(\"return\", arg);\n    };\n\n    return {\n      wrap: function (fn) {\n        return function () {\n          return new AsyncGenerator(fn.apply(this, arguments));\n        };\n      },\n      await: function (value) {\n        return new AwaitValue(value);\n      }\n    };\n  }();\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var objectWithoutProperties = function (obj, keys) {\n    var target = {};\n\n    for (var i in obj) {\n      if (keys.indexOf(i) >= 0) continue;\n      if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n      target[i] = obj[i];\n    }\n\n    return target;\n  };\n\n  var possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  var options = {};\n\n  function mdl() {\n  \treturn options.mdl || options.componentHandler || window.componentHandler;\n  }\n\n  var RIPPLE_CLASS = 'js-ripple-effect';\n\n  var MDL_PREFIX = function (s) {\n  \treturn MDL_NO_PREFIX[s] ? s : 'mdl-' + s;\n  };\n\n  var MDL_NO_PREFIX = { 'is-active': true };\n\n  var uidCounter = 1;\n\n  function uid() {\n  \treturn ++uidCounter;\n  }\n\n  function extend(base, props) {\n  \tfor (var i in props) {\n  \t\tif (props.hasOwnProperty(i)) base[i] = props[i];\n  \t}return base;\n  }\n\n  function setClass(attributes, value, append) {\n  \tvar cl = getClass(attributes);\n  \tif (attributes.className) delete attributes.className;\n  \tif (append) value = cl ? cl + ' ' + value : value;\n  \tattributes.class = value;\n  }\n\n  function getClass(attributes) {\n  \treturn attributes.class || attributes.className;\n  }\n\n  var propMaps = {\n  \tdisabled: function (_ref) {\n  \t\tvar attributes = _ref.attributes;\n\n  \t\tif (attributes.hasOwnProperty('disabled') && !attributes.disabled) {\n  \t\t\tattributes.disabled = null;\n  \t\t}\n  \t},\n  \tbadge: function (_ref2) {\n  \t\tvar attributes = _ref2.attributes;\n\n  \t\tattributes['data-badge'] = attributes.badge;\n  \t\tdelete attributes.badge;\n  \t\tsetClass(attributes, 'mdl-badge', true);\n  \t},\n  \tactive: function (_ref3) {\n  \t\tvar attributes = _ref3.attributes;\n\n  \t\tif (attributes.active) {\n  \t\t\tsetClass(attributes, 'is-active', true);\n  \t\t}\n  \t},\n  \tshadow: function (_ref4) {\n  \t\tvar attributes = _ref4.attributes;\n\n  \t\tvar d = parseFloat(attributes.shadow) | 0,\n  \t\t    c = getClass(attributes).replace(/\\smdl-[^ ]+--shadow\\b/g, '');\n  \t\tsetClass(attributes, c + (c ? ' ' : '') + ('mdl-shadow--' + d + 'dp'));\n  \t}\n  };\n\n  var MaterialComponent = function (_Component) {\n  \tinherits(MaterialComponent, _Component);\n\n  \tfunction MaterialComponent() {\n  \t\tvar _temp, _this, _ret;\n\n  \t\tclassCallCheck(this, MaterialComponent);\n\n  \t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n  \t\t\targs[_key] = arguments[_key];\n  \t\t}\n\n  \t\treturn _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.component = 'none', _this.js = false, _this.ripple = false, _this.mdlClasses = null, _this.upgradedBase = null, _temp), possibleConstructorReturn(_this, _ret);\n  \t}\n\n  \tMaterialComponent.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'div',\n  \t\t\tprops,\n  \t\t\tprops.children\n  \t\t);\n  \t};\n\n  \tMaterialComponent.prototype.render = function render(props, state) {\n  \t\tvar r = this.mdlRender(props, state);\n  \t\tif (this.nodeName) r.nodeName = this.nodeName;\n  \t\tif (!r.attributes) r.attributes = {};\n  \t\tr.attributes.class = this.createMdlClasses(props).concat(r.attributes.class || [], r.attributes.className || []).join(' ');\n  \t\tfor (var i in propMaps) {\n  \t\t\tif (propMaps.hasOwnProperty(i)) {\n  \t\t\t\tif (props.hasOwnProperty(i)) {\n  \t\t\t\t\tpropMaps[i](r);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}if (this.base && this.upgradedBase) {\n  \t\t\tthis.preserveMdlDom(this.base, r);\n  \t\t}\n  \t\treturn r;\n  \t};\n\n  \tMaterialComponent.prototype.preserveMdlDom = function preserveMdlDom(base, r) {\n  \t\tif (!base || !base.hasAttribute || !r) return;\n\n  \t\tvar c = base.childNodes,\n  \t\t    persist = ['mdl-js-ripple-effect--ignore-events', 'mdl-js-ripple-effect', 'is-upgraded', 'is-dirty'],\n  \t\t    v = base.getAttribute('data-upgraded'),\n  \t\t    a = r.attributes,\n  \t\t    cl = getClass(a) || '',\n  \t\t    foundRipple = false;\n\n  \t\tif (!a) a = {};\n\n  \t\tif (v) {\n  \t\t\ta['data-upgraded'] = v;\n  \t\t\tupgradeQueue.add(base);\n  \t\t}\n\n  \t\tif (base.hasAttribute('ink-enabled')) {\n  \t\t\tif (!r.attributes) r.attributes = {};\n  \t\t\tr.attributes['ink-enabled'] = 'true';\n  \t\t}\n\n  \t\tfor (var i = 0; i < persist.length; i++) {\n  \t\t\tif (base.classList.contains(persist[i])) {\n  \t\t\t\tif (typeof a.class === 'string') {\n  \t\t\t\t\tif (cl.indexOf(persist[i]) === -1) {\n  \t\t\t\t\t\tcl += ' ' + persist[i];\n  \t\t\t\t\t}\n  \t\t\t\t} else {\n  \t\t\t\t\t(cl || (cl = {}))[persist[i]] = true;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n\n  \t\tsetClass(a, cl);\n  \t};\n\n  \tMaterialComponent.prototype.createMdlClasses = function createMdlClasses(props) {\n  \t\tvar name = this.component,\n  \t\t    c = [],\n  \t\t    mapping = this.propClassMapping || {},\n  \t\t    js = props.js !== false && (this.js || this.ripple);\n  \t\tif (name) c.push(name);\n  \t\tif (this.mdlClasses) c.push.apply(c, this.mdlClasses);\n  \t\tif (this.ripple && props.ripple !== false) {\n  \t\t\tc.push(RIPPLE_CLASS);\n  \t\t}\n  \t\tif (js) c.push('js-' + name);\n  \t\tfor (var i in props) {\n  \t\t\tif (props.hasOwnProperty(i) && props[i] === true) {\n  \t\t\t\tc.push(MDL_NO_PREFIX[i] ? i : mapping[i] || name + '--' + i);\n  \t\t\t}\n  \t\t}\n  \t\treturn c.map(MDL_PREFIX);\n  \t};\n\n  \tMaterialComponent.prototype.componentDidMount = function componentDidMount() {\n  \t\tif (this.base !== this.upgradedBase) {\n  \t\t\tif (this.upgradedBase) {\n  \t\t\t\tmdl().downgradeElements(this.upgradedBase);\n  \t\t\t}\n  \t\t\tthis.upgradedBase = null;\n  \t\t\tif (this.base && this.base.parentElement) {\n  \t\t\t\tthis.upgradedBase = this.base;\n  \t\t\t\tmdl().upgradeElement(this.base);\n  \t\t\t}\n  \t\t}\n  \t};\n\n  \tMaterialComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n  \t\tif (this.upgradedBase) {\n  \t\t\tmdl().downgradeElements(this.upgradedBase);\n  \t\t\tthis.upgradedBase = null;\n  \t\t}\n  \t};\n\n  \treturn MaterialComponent;\n  }(preact.Component);\n\n  var upgradeQueue = {\n  \titems: [],\n  \tadd: function (base) {\n  \t\tif (upgradeQueue.items.push(base) === 1) {\n  \t\t\trequestAnimationFrame(upgradeQueue.process);\n  \t\t}\n  \t},\n  \tprocess: function () {\n  \t\tvar p = upgradeQueue.items;\n  \t\tfor (var i = p.length; i--;) {\n  \t\t\tvar el = p[i],\n  \t\t\t    v = el.getAttribute('data-upgraded'),\n  \t\t\t    u = v && v.split(',');\n  \t\t\tif (!u) continue;\n  \t\t\tfor (var j = u.length; j--;) {\n  \t\t\t\tvar c = u[j],\n  \t\t\t\t    a = c && el[c];\n  \t\t\t\tif (a) {\n  \t\t\t\t\tif (a.updateClasses_) {\n  \t\t\t\t\t\ta.updateClasses_();\n  \t\t\t\t\t}\n  \t\t\t\t\tif (a.onFocus_ && a.input_ && a.input_.matches && a.input_.matches(':focus')) {\n  \t\t\t\t\t\ta.onFocus_();\n  \t\t\t\t\t}\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t\tp.length = 0;\n  \t}\n  };\n\n  var Icon = function (_MaterialComponent) {\n  \tinherits(Icon, _MaterialComponent);\n\n  \tfunction Icon() {\n  \t\tclassCallCheck(this, Icon);\n  \t\treturn possibleConstructorReturn(this, _MaterialComponent.apply(this, arguments));\n  \t}\n\n  \tIcon.prototype.mdlRender = function mdlRender(props) {\n  \t\tvar c = getClass(props) || '',\n  \t\t    icon = String(props.icon || props.children).replace(/[ -]/g, '_');\n  \t\tdelete props.icon;\n  \t\tdelete props.className;\n  \t\tif (typeof c === 'string') {\n  \t\t\tc = 'material-icons ' + c;\n  \t\t} else {\n  \t\t\tc['material-icons'] = true;\n  \t\t}\n  \t\treturn preact.h(\n  \t\t\t'i',\n  \t\t\t_extends({}, props, { 'class': c }),\n  \t\t\ticon\n  \t\t);\n  \t};\n\n  \treturn Icon;\n  }(MaterialComponent);\n\n  var Button = function (_MaterialComponent2) {\n  \tinherits(Button, _MaterialComponent2);\n\n  \tfunction Button() {\n  \t\tvar _temp2, _this3, _ret2;\n\n  \t\tclassCallCheck(this, Button);\n\n  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n  \t\t\targs[_key2] = arguments[_key2];\n  \t\t}\n\n  \t\treturn _ret2 = (_temp2 = (_this3 = possibleConstructorReturn(this, _MaterialComponent2.call.apply(_MaterialComponent2, [this].concat(args))), _this3), _this3.component = 'button', _this3.nodeName = 'button', _this3.js = true, _this3.ripple = true, _temp2), possibleConstructorReturn(_this3, _ret2);\n  \t}\n\n  \treturn Button;\n  }(MaterialComponent);\n\n  var Card = function (_MaterialComponent3) {\n  \tinherits(Card, _MaterialComponent3);\n\n  \tfunction Card() {\n  \t\tvar _temp3, _this4, _ret3;\n\n  \t\tclassCallCheck(this, Card);\n\n  \t\tfor (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n  \t\t\targs[_key3] = arguments[_key3];\n  \t\t}\n\n  \t\treturn _ret3 = (_temp3 = (_this4 = possibleConstructorReturn(this, _MaterialComponent3.call.apply(_MaterialComponent3, [this].concat(args))), _this4), _this4.component = 'card', _temp3), possibleConstructorReturn(_this4, _ret3);\n  \t}\n\n  \treturn Card;\n  }(MaterialComponent);\n\n  var CardTitle = function (_MaterialComponent4) {\n  \tinherits(CardTitle, _MaterialComponent4);\n\n  \tfunction CardTitle() {\n  \t\tvar _temp4, _this5, _ret4;\n\n  \t\tclassCallCheck(this, CardTitle);\n\n  \t\tfor (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n  \t\t\targs[_key4] = arguments[_key4];\n  \t\t}\n\n  \t\treturn _ret4 = (_temp4 = (_this5 = possibleConstructorReturn(this, _MaterialComponent4.call.apply(_MaterialComponent4, [this].concat(args))), _this5), _this5.component = 'card__title', _this5.propClassMapping = {\n  \t\t\texpand: 'card--expand'\n  \t\t}, _temp4), possibleConstructorReturn(_this5, _ret4);\n  \t}\n\n  \treturn CardTitle;\n  }(MaterialComponent);\n\n  var CardTitleText = function (_MaterialComponent5) {\n  \tinherits(CardTitleText, _MaterialComponent5);\n\n  \tfunction CardTitleText() {\n  \t\tvar _temp5, _this6, _ret5;\n\n  \t\tclassCallCheck(this, CardTitleText);\n\n  \t\tfor (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n  \t\t\targs[_key5] = arguments[_key5];\n  \t\t}\n\n  \t\treturn _ret5 = (_temp5 = (_this6 = possibleConstructorReturn(this, _MaterialComponent5.call.apply(_MaterialComponent5, [this].concat(args))), _this6), _this6.component = 'card__title-text', _this6.nodeName = 'h2', _temp5), possibleConstructorReturn(_this6, _ret5);\n  \t}\n\n  \treturn CardTitleText;\n  }(MaterialComponent);\n\n  var CardMedia = function (_MaterialComponent6) {\n  \tinherits(CardMedia, _MaterialComponent6);\n\n  \tfunction CardMedia() {\n  \t\tvar _temp6, _this7, _ret6;\n\n  \t\tclassCallCheck(this, CardMedia);\n\n  \t\tfor (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n  \t\t\targs[_key6] = arguments[_key6];\n  \t\t}\n\n  \t\treturn _ret6 = (_temp6 = (_this7 = possibleConstructorReturn(this, _MaterialComponent6.call.apply(_MaterialComponent6, [this].concat(args))), _this7), _this7.component = 'card__media', _temp6), possibleConstructorReturn(_this7, _ret6);\n  \t}\n\n  \treturn CardMedia;\n  }(MaterialComponent);\n\n  var CardText = function (_MaterialComponent7) {\n  \tinherits(CardText, _MaterialComponent7);\n\n  \tfunction CardText() {\n  \t\tvar _temp7, _this8, _ret7;\n\n  \t\tclassCallCheck(this, CardText);\n\n  \t\tfor (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n  \t\t\targs[_key7] = arguments[_key7];\n  \t\t}\n\n  \t\treturn _ret7 = (_temp7 = (_this8 = possibleConstructorReturn(this, _MaterialComponent7.call.apply(_MaterialComponent7, [this].concat(args))), _this8), _this8.component = 'card__supporting-text', _temp7), possibleConstructorReturn(_this8, _ret7);\n  \t}\n\n  \treturn CardText;\n  }(MaterialComponent);\n\n  var CardActions = function (_MaterialComponent8) {\n  \tinherits(CardActions, _MaterialComponent8);\n\n  \tfunction CardActions() {\n  \t\tvar _temp8, _this9, _ret8;\n\n  \t\tclassCallCheck(this, CardActions);\n\n  \t\tfor (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n  \t\t\targs[_key8] = arguments[_key8];\n  \t\t}\n\n  \t\treturn _ret8 = (_temp8 = (_this9 = possibleConstructorReturn(this, _MaterialComponent8.call.apply(_MaterialComponent8, [this].concat(args))), _this9), _this9.component = 'card__actions', _temp8), possibleConstructorReturn(_this9, _ret8);\n  \t}\n\n  \treturn CardActions;\n  }(MaterialComponent);\n\n  var CardMenu = function (_MaterialComponent9) {\n  \tinherits(CardMenu, _MaterialComponent9);\n\n  \tfunction CardMenu() {\n  \t\tvar _temp9, _this10, _ret9;\n\n  \t\tclassCallCheck(this, CardMenu);\n\n  \t\tfor (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n  \t\t\targs[_key9] = arguments[_key9];\n  \t\t}\n\n  \t\treturn _ret9 = (_temp9 = (_this10 = possibleConstructorReturn(this, _MaterialComponent9.call.apply(_MaterialComponent9, [this].concat(args))), _this10), _this10.component = 'card__menu', _temp9), possibleConstructorReturn(_this10, _ret9);\n  \t}\n\n  \treturn CardMenu;\n  }(MaterialComponent);\n\n  extend(Card, {\n  \tTitle: CardTitle,\n  \tTitleText: CardTitleText,\n  \tMedia: CardMedia,\n  \tText: CardText,\n  \tActions: CardActions,\n  \tMenu: CardMenu\n  });\n\n  var Dialog = function (_MaterialComponent10) {\n  \tinherits(Dialog, _MaterialComponent10);\n\n  \tfunction Dialog() {\n  \t\tvar _temp10, _this11, _ret10;\n\n  \t\tclassCallCheck(this, Dialog);\n\n  \t\tfor (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n  \t\t\targs[_key10] = arguments[_key10];\n  \t\t}\n\n  \t\treturn _ret10 = (_temp10 = (_this11 = possibleConstructorReturn(this, _MaterialComponent10.call.apply(_MaterialComponent10, [this].concat(args))), _this11), _this11.component = 'dialog', _this11.nodeName = 'dialog', _this11.show = function () {\n  \t\t\t_this11.base.show();\n  \t\t}, _this11.showModal = function () {\n  \t\t\t_this11.base.showModal();\n  \t\t}, _this11.close = function () {\n  \t\t\t_this11.base.close && _this11.base.close();\n  \t\t}, _temp10), possibleConstructorReturn(_this11, _ret10);\n  \t}\n\n  \treturn Dialog;\n  }(MaterialComponent);\n\n  var DialogTitle = function (_MaterialComponent11) {\n  \tinherits(DialogTitle, _MaterialComponent11);\n\n  \tfunction DialogTitle() {\n  \t\tvar _temp11, _this12, _ret11;\n\n  \t\tclassCallCheck(this, DialogTitle);\n\n  \t\tfor (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n  \t\t\targs[_key11] = arguments[_key11];\n  \t\t}\n\n  \t\treturn _ret11 = (_temp11 = (_this12 = possibleConstructorReturn(this, _MaterialComponent11.call.apply(_MaterialComponent11, [this].concat(args))), _this12), _this12.component = 'dialog__title', _temp11), possibleConstructorReturn(_this12, _ret11);\n  \t}\n\n  \treturn DialogTitle;\n  }(MaterialComponent);\n\n  var DialogContent = function (_MaterialComponent12) {\n  \tinherits(DialogContent, _MaterialComponent12);\n\n  \tfunction DialogContent() {\n  \t\tvar _temp12, _this13, _ret12;\n\n  \t\tclassCallCheck(this, DialogContent);\n\n  \t\tfor (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n  \t\t\targs[_key12] = arguments[_key12];\n  \t\t}\n\n  \t\treturn _ret12 = (_temp12 = (_this13 = possibleConstructorReturn(this, _MaterialComponent12.call.apply(_MaterialComponent12, [this].concat(args))), _this13), _this13.component = 'dialog__content', _temp12), possibleConstructorReturn(_this13, _ret12);\n  \t}\n\n  \treturn DialogContent;\n  }(MaterialComponent);\n\n  var DialogActions = function (_MaterialComponent13) {\n  \tinherits(DialogActions, _MaterialComponent13);\n\n  \tfunction DialogActions() {\n  \t\tvar _temp13, _this14, _ret13;\n\n  \t\tclassCallCheck(this, DialogActions);\n\n  \t\tfor (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n  \t\t\targs[_key13] = arguments[_key13];\n  \t\t}\n\n  \t\treturn _ret13 = (_temp13 = (_this14 = possibleConstructorReturn(this, _MaterialComponent13.call.apply(_MaterialComponent13, [this].concat(args))), _this14), _this14.component = 'dialog__actions', _temp13), possibleConstructorReturn(_this14, _ret13);\n  \t}\n\n  \treturn DialogActions;\n  }(MaterialComponent);\n\n  extend(Dialog, {\n  \tTitle: DialogTitle,\n  \tContent: DialogContent,\n  \tActions: DialogActions\n  });\n\n  var Layout = function (_MaterialComponent14) {\n  \tinherits(Layout, _MaterialComponent14);\n\n  \tfunction Layout() {\n  \t\tvar _temp14, _this15, _ret14;\n\n  \t\tclassCallCheck(this, Layout);\n\n  \t\tfor (var _len14 = arguments.length, args = Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n  \t\t\targs[_key14] = arguments[_key14];\n  \t\t}\n\n  \t\treturn _ret14 = (_temp14 = (_this15 = possibleConstructorReturn(this, _MaterialComponent14.call.apply(_MaterialComponent14, [this].concat(args))), _this15), _this15.component = 'layout', _this15.js = true, _temp14), possibleConstructorReturn(_this15, _ret14);\n  \t}\n\n  \treturn Layout;\n  }(MaterialComponent);\n\n  var LayoutHeader = function (_MaterialComponent15) {\n  \tinherits(LayoutHeader, _MaterialComponent15);\n\n  \tfunction LayoutHeader() {\n  \t\tvar _temp15, _this16, _ret15;\n\n  \t\tclassCallCheck(this, LayoutHeader);\n\n  \t\tfor (var _len15 = arguments.length, args = Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n  \t\t\targs[_key15] = arguments[_key15];\n  \t\t}\n\n  \t\treturn _ret15 = (_temp15 = (_this16 = possibleConstructorReturn(this, _MaterialComponent15.call.apply(_MaterialComponent15, [this].concat(args))), _this16), _this16.component = 'layout__header', _this16.nodeName = 'header', _temp15), possibleConstructorReturn(_this16, _ret15);\n  \t}\n\n  \treturn LayoutHeader;\n  }(MaterialComponent);\n\n  var LayoutHeaderRow = function (_MaterialComponent16) {\n  \tinherits(LayoutHeaderRow, _MaterialComponent16);\n\n  \tfunction LayoutHeaderRow() {\n  \t\tvar _temp16, _this17, _ret16;\n\n  \t\tclassCallCheck(this, LayoutHeaderRow);\n\n  \t\tfor (var _len16 = arguments.length, args = Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n  \t\t\targs[_key16] = arguments[_key16];\n  \t\t}\n\n  \t\treturn _ret16 = (_temp16 = (_this17 = possibleConstructorReturn(this, _MaterialComponent16.call.apply(_MaterialComponent16, [this].concat(args))), _this17), _this17.component = 'layout__header-row', _temp16), possibleConstructorReturn(_this17, _ret16);\n  \t}\n\n  \treturn LayoutHeaderRow;\n  }(MaterialComponent);\n\n  var LayoutTitle = function (_MaterialComponent17) {\n  \tinherits(LayoutTitle, _MaterialComponent17);\n\n  \tfunction LayoutTitle() {\n  \t\tvar _temp17, _this18, _ret17;\n\n  \t\tclassCallCheck(this, LayoutTitle);\n\n  \t\tfor (var _len17 = arguments.length, args = Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {\n  \t\t\targs[_key17] = arguments[_key17];\n  \t\t}\n\n  \t\treturn _ret17 = (_temp17 = (_this18 = possibleConstructorReturn(this, _MaterialComponent17.call.apply(_MaterialComponent17, [this].concat(args))), _this18), _this18.component = 'layout-title', _this18.nodeName = 'span', _temp17), possibleConstructorReturn(_this18, _ret17);\n  \t}\n\n  \treturn LayoutTitle;\n  }(MaterialComponent);\n\n  var LayoutSpacer = function (_MaterialComponent18) {\n  \tinherits(LayoutSpacer, _MaterialComponent18);\n\n  \tfunction LayoutSpacer() {\n  \t\tvar _temp18, _this19, _ret18;\n\n  \t\tclassCallCheck(this, LayoutSpacer);\n\n  \t\tfor (var _len18 = arguments.length, args = Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n  \t\t\targs[_key18] = arguments[_key18];\n  \t\t}\n\n  \t\treturn _ret18 = (_temp18 = (_this19 = possibleConstructorReturn(this, _MaterialComponent18.call.apply(_MaterialComponent18, [this].concat(args))), _this19), _this19.component = 'layout-spacer', _temp18), possibleConstructorReturn(_this19, _ret18);\n  \t}\n\n  \treturn LayoutSpacer;\n  }(MaterialComponent);\n\n  var LayoutDrawer = function (_MaterialComponent19) {\n  \tinherits(LayoutDrawer, _MaterialComponent19);\n\n  \tfunction LayoutDrawer() {\n  \t\tvar _temp19, _this20, _ret19;\n\n  \t\tclassCallCheck(this, LayoutDrawer);\n\n  \t\tfor (var _len19 = arguments.length, args = Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n  \t\t\targs[_key19] = arguments[_key19];\n  \t\t}\n\n  \t\treturn _ret19 = (_temp19 = (_this20 = possibleConstructorReturn(this, _MaterialComponent19.call.apply(_MaterialComponent19, [this].concat(args))), _this20), _this20.component = 'layout__drawer', _temp19), possibleConstructorReturn(_this20, _ret19);\n  \t}\n\n  \treturn LayoutDrawer;\n  }(MaterialComponent);\n\n  var LayoutContent = function (_MaterialComponent20) {\n  \tinherits(LayoutContent, _MaterialComponent20);\n\n  \tfunction LayoutContent() {\n  \t\tvar _temp20, _this21, _ret20;\n\n  \t\tclassCallCheck(this, LayoutContent);\n\n  \t\tfor (var _len20 = arguments.length, args = Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n  \t\t\targs[_key20] = arguments[_key20];\n  \t\t}\n\n  \t\treturn _ret20 = (_temp20 = (_this21 = possibleConstructorReturn(this, _MaterialComponent20.call.apply(_MaterialComponent20, [this].concat(args))), _this21), _this21.component = 'layout__content', _this21.nodeName = 'main', _temp20), possibleConstructorReturn(_this21, _ret20);\n  \t}\n\n  \treturn LayoutContent;\n  }(MaterialComponent);\n\n  var LayoutTabBar = function (_MaterialComponent21) {\n  \tinherits(LayoutTabBar, _MaterialComponent21);\n\n  \tfunction LayoutTabBar() {\n  \t\tvar _temp21, _this22, _ret21;\n\n  \t\tclassCallCheck(this, LayoutTabBar);\n\n  \t\tfor (var _len21 = arguments.length, args = Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n  \t\t\targs[_key21] = arguments[_key21];\n  \t\t}\n\n  \t\treturn _ret21 = (_temp21 = (_this22 = possibleConstructorReturn(this, _MaterialComponent21.call.apply(_MaterialComponent21, [this].concat(args))), _this22), _this22.component = 'layout__tab-bar', _this22.js = true, _this22.ripple = false, _temp21), possibleConstructorReturn(_this22, _ret21);\n  \t}\n\n  \treturn LayoutTabBar;\n  }(MaterialComponent);\n\n  var LayoutTab = function (_MaterialComponent22) {\n  \tinherits(LayoutTab, _MaterialComponent22);\n\n  \tfunction LayoutTab() {\n  \t\tvar _temp22, _this23, _ret22;\n\n  \t\tclassCallCheck(this, LayoutTab);\n\n  \t\tfor (var _len22 = arguments.length, args = Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n  \t\t\targs[_key22] = arguments[_key22];\n  \t\t}\n\n  \t\treturn _ret22 = (_temp22 = (_this23 = possibleConstructorReturn(this, _MaterialComponent22.call.apply(_MaterialComponent22, [this].concat(args))), _this23), _this23.component = 'layout__tab', _this23.nodeName = 'a', _temp22), possibleConstructorReturn(_this23, _ret22);\n  \t}\n\n  \treturn LayoutTab;\n  }(MaterialComponent);\n\n  var LayoutTabPanel = function (_MaterialComponent23) {\n  \tinherits(LayoutTabPanel, _MaterialComponent23);\n\n  \tfunction LayoutTabPanel() {\n  \t\tvar _temp23, _this24, _ret23;\n\n  \t\tclassCallCheck(this, LayoutTabPanel);\n\n  \t\tfor (var _len23 = arguments.length, args = Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {\n  \t\t\targs[_key23] = arguments[_key23];\n  \t\t}\n\n  \t\treturn _ret23 = (_temp23 = (_this24 = possibleConstructorReturn(this, _MaterialComponent23.call.apply(_MaterialComponent23, [this].concat(args))), _this24), _this24.component = 'layout__tab-panel', _temp23), possibleConstructorReturn(_this24, _ret23);\n  \t}\n\n  \tLayoutTabPanel.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'section',\n  \t\t\tprops,\n  \t\t\tpreact.h(\n  \t\t\t\t'div',\n  \t\t\t\t{ 'class': 'page-content' },\n  \t\t\t\tprops.children\n  \t\t\t)\n  \t\t);\n  \t};\n\n  \treturn LayoutTabPanel;\n  }(MaterialComponent);\n\n  extend(Layout, {\n  \tHeader: LayoutHeader,\n  \tHeaderRow: LayoutHeaderRow,\n  \tTitle: LayoutTitle,\n  \tSpacer: LayoutSpacer,\n  \tDrawer: LayoutDrawer,\n  \tContent: LayoutContent,\n  \tTabBar: LayoutTabBar,\n  \tTab: LayoutTab,\n  \tTabPanel: LayoutTabPanel\n  });\n\n  var Navigation = function (_MaterialComponent24) {\n  \tinherits(Navigation, _MaterialComponent24);\n\n  \tfunction Navigation() {\n  \t\tvar _temp24, _this25, _ret24;\n\n  \t\tclassCallCheck(this, Navigation);\n\n  \t\tfor (var _len24 = arguments.length, args = Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {\n  \t\t\targs[_key24] = arguments[_key24];\n  \t\t}\n\n  \t\treturn _ret24 = (_temp24 = (_this25 = possibleConstructorReturn(this, _MaterialComponent24.call.apply(_MaterialComponent24, [this].concat(args))), _this25), _this25.component = 'navigation', _this25.nodeName = 'nav', _this25.propClassMapping = {\n  \t\t\t'large-screen-only': 'layout--large-screen-only'\n  \t\t}, _temp24), possibleConstructorReturn(_this25, _ret24);\n  \t}\n\n  \tNavigation.prototype.mdlRender = function mdlRender(props, state) {\n  \t\tvar r = _MaterialComponent24.prototype.mdlRender.call(this, props, state);\n  \t\tr.children.forEach(function (item) {\n  \t\t\tif (!item) return item;\n  \t\t\tvar c = item.attributes && getClass(item.attributes) || '';\n  \t\t\tif (!c.match(/\\bmdl-navigation__link\\b/g)) {\n  \t\t\t\tif (!item.attributes) item.attributes = {};\n  \t\t\t\tsetClass(item.attributes, ' mdl-navigation__link', true);\n  \t\t\t}\n  \t\t});\n  \t\treturn r;\n  \t};\n\n  \treturn Navigation;\n  }(MaterialComponent);\n\n  var NavigationLink = function (_MaterialComponent25) {\n  \tinherits(NavigationLink, _MaterialComponent25);\n\n  \tfunction NavigationLink() {\n  \t\tclassCallCheck(this, NavigationLink);\n\n  \t\tfor (var _len25 = arguments.length, args = Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {\n  \t\t\targs[_key25] = arguments[_key25];\n  \t\t}\n\n  \t\tvar _this26 = possibleConstructorReturn(this, _MaterialComponent25.call.apply(_MaterialComponent25, [this].concat(args)));\n\n  \t\t_this26.component = 'navigation__link';\n  \t\t_this26.nodeName = 'a';\n\n  \t\t_this26.handleClick = _this26.handleClick.bind(_this26);\n  \t\treturn _this26;\n  \t}\n\n  \tNavigationLink.prototype.handleClick = function handleClick(e) {\n  \t\tvar _props = this.props,\n  \t\t    route = _props.route,\n  \t\t    href = _props.href,\n  \t\t    onClick = _props.onClick,\n  \t\t    onclick = _props.onclick;\n\n  \t\tonClick = onClick || onclick;\n  \t\tif (typeof onClick === 'function' && onClick({ type: 'click', target: this }) === false) {} else if (typeof route === 'function') {\n  \t\t\troute(href);\n  \t\t}\n  \t\te.preventDefault();\n  \t\treturn false;\n  \t};\n\n  \tNavigationLink.prototype.mdlRender = function mdlRender(_ref5, state) {\n  \t\tvar children = _ref5.children,\n  \t\t    props = objectWithoutProperties(_ref5, ['children']);\n\n  \t\treturn preact.h(\n  \t\t\t'a',\n  \t\t\t_extends({}, props, { onclick: this.handleClick }),\n  \t\t\tchildren\n  \t\t);\n  \t};\n\n  \treturn NavigationLink;\n  }(MaterialComponent);\n\n  Navigation.Link = NavigationLink;\n\n  var Tabs = function (_MaterialComponent26) {\n  \tinherits(Tabs, _MaterialComponent26);\n\n  \tfunction Tabs() {\n  \t\tvar _temp25, _this27, _ret25;\n\n  \t\tclassCallCheck(this, Tabs);\n\n  \t\tfor (var _len26 = arguments.length, args = Array(_len26), _key26 = 0; _key26 < _len26; _key26++) {\n  \t\t\targs[_key26] = arguments[_key26];\n  \t\t}\n\n  \t\treturn _ret25 = (_temp25 = (_this27 = possibleConstructorReturn(this, _MaterialComponent26.call.apply(_MaterialComponent26, [this].concat(args))), _this27), _this27.component = 'tabs', _this27.js = true, _this27.ripple = false, _temp25), possibleConstructorReturn(_this27, _ret25);\n  \t}\n\n  \treturn Tabs;\n  }(MaterialComponent);\n\n  var TabBar = function (_MaterialComponent27) {\n  \tinherits(TabBar, _MaterialComponent27);\n\n  \tfunction TabBar() {\n  \t\tvar _temp26, _this28, _ret26;\n\n  \t\tclassCallCheck(this, TabBar);\n\n  \t\tfor (var _len27 = arguments.length, args = Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {\n  \t\t\targs[_key27] = arguments[_key27];\n  \t\t}\n\n  \t\treturn _ret26 = (_temp26 = (_this28 = possibleConstructorReturn(this, _MaterialComponent27.call.apply(_MaterialComponent27, [this].concat(args))), _this28), _this28.component = 'tabs__tab-bar', _temp26), possibleConstructorReturn(_this28, _ret26);\n  \t}\n\n  \treturn TabBar;\n  }(MaterialComponent);\n\n  var Tab = function (_MaterialComponent28) {\n  \tinherits(Tab, _MaterialComponent28);\n\n  \tfunction Tab() {\n  \t\tvar _temp27, _this29, _ret27;\n\n  \t\tclassCallCheck(this, Tab);\n\n  \t\tfor (var _len28 = arguments.length, args = Array(_len28), _key28 = 0; _key28 < _len28; _key28++) {\n  \t\t\targs[_key28] = arguments[_key28];\n  \t\t}\n\n  \t\treturn _ret27 = (_temp27 = (_this29 = possibleConstructorReturn(this, _MaterialComponent28.call.apply(_MaterialComponent28, [this].concat(args))), _this29), _this29.component = 'tabs__tab', _this29.nodeName = 'a', _temp27), possibleConstructorReturn(_this29, _ret27);\n  \t}\n\n  \treturn Tab;\n  }(MaterialComponent);\n\n  var TabPanel = function (_MaterialComponent29) {\n  \tinherits(TabPanel, _MaterialComponent29);\n\n  \tfunction TabPanel() {\n  \t\tvar _temp28, _this30, _ret28;\n\n  \t\tclassCallCheck(this, TabPanel);\n\n  \t\tfor (var _len29 = arguments.length, args = Array(_len29), _key29 = 0; _key29 < _len29; _key29++) {\n  \t\t\targs[_key29] = arguments[_key29];\n  \t\t}\n\n  \t\treturn _ret28 = (_temp28 = (_this30 = possibleConstructorReturn(this, _MaterialComponent29.call.apply(_MaterialComponent29, [this].concat(args))), _this30), _this30.component = 'tabs__panel', _this30.nodeName = 'section', _temp28), possibleConstructorReturn(_this30, _ret28);\n  \t}\n\n  \treturn TabPanel;\n  }(MaterialComponent);\n\n  extend(Tabs, {\n  \tTabBar: TabBar,\n  \tBar: TabBar,\n  \tTab: Tab,\n  \tTabPanel: TabPanel,\n  \tPanel: TabPanel\n  });\n\n  var MegaFooter = function (_MaterialComponent30) {\n  \tinherits(MegaFooter, _MaterialComponent30);\n\n  \tfunction MegaFooter() {\n  \t\tvar _temp29, _this31, _ret29;\n\n  \t\tclassCallCheck(this, MegaFooter);\n\n  \t\tfor (var _len30 = arguments.length, args = Array(_len30), _key30 = 0; _key30 < _len30; _key30++) {\n  \t\t\targs[_key30] = arguments[_key30];\n  \t\t}\n\n  \t\treturn _ret29 = (_temp29 = (_this31 = possibleConstructorReturn(this, _MaterialComponent30.call.apply(_MaterialComponent30, [this].concat(args))), _this31), _this31.component = 'mega-footer', _this31.nodeName = 'footer', _temp29), possibleConstructorReturn(_this31, _ret29);\n  \t}\n\n  \treturn MegaFooter;\n  }(MaterialComponent);\n\n  var MegaFooterMiddleSection = function (_MaterialComponent31) {\n  \tinherits(MegaFooterMiddleSection, _MaterialComponent31);\n\n  \tfunction MegaFooterMiddleSection() {\n  \t\tvar _temp30, _this32, _ret30;\n\n  \t\tclassCallCheck(this, MegaFooterMiddleSection);\n\n  \t\tfor (var _len31 = arguments.length, args = Array(_len31), _key31 = 0; _key31 < _len31; _key31++) {\n  \t\t\targs[_key31] = arguments[_key31];\n  \t\t}\n\n  \t\treturn _ret30 = (_temp30 = (_this32 = possibleConstructorReturn(this, _MaterialComponent31.call.apply(_MaterialComponent31, [this].concat(args))), _this32), _this32.component = 'mega-footer__middle-section', _temp30), possibleConstructorReturn(_this32, _ret30);\n  \t}\n\n  \treturn MegaFooterMiddleSection;\n  }(MaterialComponent);\n\n  var MegaFooterDropDownSection = function (_MaterialComponent32) {\n  \tinherits(MegaFooterDropDownSection, _MaterialComponent32);\n\n  \tfunction MegaFooterDropDownSection() {\n  \t\tvar _temp31, _this33, _ret31;\n\n  \t\tclassCallCheck(this, MegaFooterDropDownSection);\n\n  \t\tfor (var _len32 = arguments.length, args = Array(_len32), _key32 = 0; _key32 < _len32; _key32++) {\n  \t\t\targs[_key32] = arguments[_key32];\n  \t\t}\n\n  \t\treturn _ret31 = (_temp31 = (_this33 = possibleConstructorReturn(this, _MaterialComponent32.call.apply(_MaterialComponent32, [this].concat(args))), _this33), _this33.component = 'mega-footer__drop-down-section', _temp31), possibleConstructorReturn(_this33, _ret31);\n  \t}\n\n  \treturn MegaFooterDropDownSection;\n  }(MaterialComponent);\n\n  var MegaFooterHeading = function (_MaterialComponent33) {\n  \tinherits(MegaFooterHeading, _MaterialComponent33);\n\n  \tfunction MegaFooterHeading() {\n  \t\tvar _temp32, _this34, _ret32;\n\n  \t\tclassCallCheck(this, MegaFooterHeading);\n\n  \t\tfor (var _len33 = arguments.length, args = Array(_len33), _key33 = 0; _key33 < _len33; _key33++) {\n  \t\t\targs[_key33] = arguments[_key33];\n  \t\t}\n\n  \t\treturn _ret32 = (_temp32 = (_this34 = possibleConstructorReturn(this, _MaterialComponent33.call.apply(_MaterialComponent33, [this].concat(args))), _this34), _this34.component = 'mega-footer__heading', _this34.nodeName = 'h1', _temp32), possibleConstructorReturn(_this34, _ret32);\n  \t}\n\n  \treturn MegaFooterHeading;\n  }(MaterialComponent);\n\n  var MegaFooterLinkList = function (_MaterialComponent34) {\n  \tinherits(MegaFooterLinkList, _MaterialComponent34);\n\n  \tfunction MegaFooterLinkList() {\n  \t\tvar _temp33, _this35, _ret33;\n\n  \t\tclassCallCheck(this, MegaFooterLinkList);\n\n  \t\tfor (var _len34 = arguments.length, args = Array(_len34), _key34 = 0; _key34 < _len34; _key34++) {\n  \t\t\targs[_key34] = arguments[_key34];\n  \t\t}\n\n  \t\treturn _ret33 = (_temp33 = (_this35 = possibleConstructorReturn(this, _MaterialComponent34.call.apply(_MaterialComponent34, [this].concat(args))), _this35), _this35.component = 'mega-footer__link-list', _this35.nodeName = 'ul', _temp33), possibleConstructorReturn(_this35, _ret33);\n  \t}\n\n  \treturn MegaFooterLinkList;\n  }(MaterialComponent);\n\n  var MegaFooterBottomSection = function (_MaterialComponent35) {\n  \tinherits(MegaFooterBottomSection, _MaterialComponent35);\n\n  \tfunction MegaFooterBottomSection() {\n  \t\tvar _temp34, _this36, _ret34;\n\n  \t\tclassCallCheck(this, MegaFooterBottomSection);\n\n  \t\tfor (var _len35 = arguments.length, args = Array(_len35), _key35 = 0; _key35 < _len35; _key35++) {\n  \t\t\targs[_key35] = arguments[_key35];\n  \t\t}\n\n  \t\treturn _ret34 = (_temp34 = (_this36 = possibleConstructorReturn(this, _MaterialComponent35.call.apply(_MaterialComponent35, [this].concat(args))), _this36), _this36.component = 'mega-footer__bottom-section', _temp34), possibleConstructorReturn(_this36, _ret34);\n  \t}\n\n  \treturn MegaFooterBottomSection;\n  }(MaterialComponent);\n\n  extend(MegaFooter, {\n  \tMiddleSection: MegaFooterMiddleSection,\n  \tDropDownSection: MegaFooterDropDownSection,\n  \tHeading: MegaFooterHeading,\n  \tLinkList: MegaFooterLinkList,\n  \tBottomSection: MegaFooterBottomSection\n  });\n\n  var MiniFooter = function (_MaterialComponent36) {\n  \tinherits(MiniFooter, _MaterialComponent36);\n\n  \tfunction MiniFooter() {\n  \t\tvar _temp35, _this37, _ret35;\n\n  \t\tclassCallCheck(this, MiniFooter);\n\n  \t\tfor (var _len36 = arguments.length, args = Array(_len36), _key36 = 0; _key36 < _len36; _key36++) {\n  \t\t\targs[_key36] = arguments[_key36];\n  \t\t}\n\n  \t\treturn _ret35 = (_temp35 = (_this37 = possibleConstructorReturn(this, _MaterialComponent36.call.apply(_MaterialComponent36, [this].concat(args))), _this37), _this37.component = 'mini-footer', _this37.nodeName = 'footer', _temp35), possibleConstructorReturn(_this37, _ret35);\n  \t}\n\n  \treturn MiniFooter;\n  }(MaterialComponent);\n\n  var MiniFooterLeftSection = function (_MaterialComponent37) {\n  \tinherits(MiniFooterLeftSection, _MaterialComponent37);\n\n  \tfunction MiniFooterLeftSection() {\n  \t\tvar _temp36, _this38, _ret36;\n\n  \t\tclassCallCheck(this, MiniFooterLeftSection);\n\n  \t\tfor (var _len37 = arguments.length, args = Array(_len37), _key37 = 0; _key37 < _len37; _key37++) {\n  \t\t\targs[_key37] = arguments[_key37];\n  \t\t}\n\n  \t\treturn _ret36 = (_temp36 = (_this38 = possibleConstructorReturn(this, _MaterialComponent37.call.apply(_MaterialComponent37, [this].concat(args))), _this38), _this38.component = 'mini-footer__left-section', _temp36), possibleConstructorReturn(_this38, _ret36);\n  \t}\n\n  \treturn MiniFooterLeftSection;\n  }(MaterialComponent);\n\n  var MiniFooterLinkList = function (_MaterialComponent38) {\n  \tinherits(MiniFooterLinkList, _MaterialComponent38);\n\n  \tfunction MiniFooterLinkList() {\n  \t\tvar _temp37, _this39, _ret37;\n\n  \t\tclassCallCheck(this, MiniFooterLinkList);\n\n  \t\tfor (var _len38 = arguments.length, args = Array(_len38), _key38 = 0; _key38 < _len38; _key38++) {\n  \t\t\targs[_key38] = arguments[_key38];\n  \t\t}\n\n  \t\treturn _ret37 = (_temp37 = (_this39 = possibleConstructorReturn(this, _MaterialComponent38.call.apply(_MaterialComponent38, [this].concat(args))), _this39), _this39.component = 'mini-footer__link-list', _this39.nodeName = 'ul', _temp37), possibleConstructorReturn(_this39, _ret37);\n  \t}\n\n  \treturn MiniFooterLinkList;\n  }(MaterialComponent);\n\n  extend(MiniFooter, {\n  \tLeftSection: MiniFooterLeftSection,\n  \tLinkList: MiniFooterLinkList\n  });\n\n  var Grid = function (_MaterialComponent39) {\n  \tinherits(Grid, _MaterialComponent39);\n\n  \tfunction Grid() {\n  \t\tvar _temp38, _this40, _ret38;\n\n  \t\tclassCallCheck(this, Grid);\n\n  \t\tfor (var _len39 = arguments.length, args = Array(_len39), _key39 = 0; _key39 < _len39; _key39++) {\n  \t\t\targs[_key39] = arguments[_key39];\n  \t\t}\n\n  \t\treturn _ret38 = (_temp38 = (_this40 = possibleConstructorReturn(this, _MaterialComponent39.call.apply(_MaterialComponent39, [this].concat(args))), _this40), _this40.component = 'grid', _temp38), possibleConstructorReturn(_this40, _ret38);\n  \t}\n\n  \treturn Grid;\n  }(MaterialComponent);\n\n  var Cell = function (_MaterialComponent40) {\n  \tinherits(Cell, _MaterialComponent40);\n\n  \tfunction Cell() {\n  \t\tvar _temp39, _this41, _ret39;\n\n  \t\tclassCallCheck(this, Cell);\n\n  \t\tfor (var _len40 = arguments.length, args = Array(_len40), _key40 = 0; _key40 < _len40; _key40++) {\n  \t\t\targs[_key40] = arguments[_key40];\n  \t\t}\n\n  \t\treturn _ret39 = (_temp39 = (_this41 = possibleConstructorReturn(this, _MaterialComponent40.call.apply(_MaterialComponent40, [this].concat(args))), _this41), _this41.component = 'cell', _temp39), possibleConstructorReturn(_this41, _ret39);\n  \t}\n\n  \treturn Cell;\n  }(MaterialComponent);\n\n  Grid.Cell = Cell;\n\n  var Progress = function (_MaterialComponent41) {\n  \tinherits(Progress, _MaterialComponent41);\n\n  \tfunction Progress() {\n  \t\tvar _temp40, _this42, _ret40;\n\n  \t\tclassCallCheck(this, Progress);\n\n  \t\tfor (var _len41 = arguments.length, args = Array(_len41), _key41 = 0; _key41 < _len41; _key41++) {\n  \t\t\targs[_key41] = arguments[_key41];\n  \t\t}\n\n  \t\treturn _ret40 = (_temp40 = (_this42 = possibleConstructorReturn(this, _MaterialComponent41.call.apply(_MaterialComponent41, [this].concat(args))), _this42), _this42.component = 'progress', _this42.js = true, _temp40), possibleConstructorReturn(_this42, _ret40);\n  \t}\n\n  \tProgress.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'div',\n  \t\t\tprops,\n  \t\t\tpreact.h('div', { 'class': 'progressbar bar bar1' }),\n  \t\t\tpreact.h('div', { 'class': 'bufferbar bar bar2' }),\n  \t\t\tpreact.h('div', { 'class': 'auxbar bar bar3' })\n  \t\t);\n  \t};\n\n  \tProgress.prototype.componentDidUpdate = function componentDidUpdate() {\n  \t\tvar api = this.base.MaterialProgress,\n  \t\t    p = this.props;\n  \t\tif (p.progress) api.setProgress(p.progress);\n  \t\tif (p.buffer) api.setBuffer(p.buffer);\n  \t};\n\n  \treturn Progress;\n  }(MaterialComponent);\n\n  var Spinner = function (_MaterialComponent42) {\n  \tinherits(Spinner, _MaterialComponent42);\n\n  \tfunction Spinner() {\n  \t\tvar _temp41, _this43, _ret41;\n\n  \t\tclassCallCheck(this, Spinner);\n\n  \t\tfor (var _len42 = arguments.length, args = Array(_len42), _key42 = 0; _key42 < _len42; _key42++) {\n  \t\t\targs[_key42] = arguments[_key42];\n  \t\t}\n\n  \t\treturn _ret41 = (_temp41 = (_this43 = possibleConstructorReturn(this, _MaterialComponent42.call.apply(_MaterialComponent42, [this].concat(args))), _this43), _this43.component = 'spinner', _this43.js = true, _temp41), possibleConstructorReturn(_this43, _ret41);\n  \t}\n\n  \treturn Spinner;\n  }(MaterialComponent);\n\n  var Menu = function (_MaterialComponent43) {\n  \tinherits(Menu, _MaterialComponent43);\n\n  \tfunction Menu() {\n  \t\tvar _temp42, _this44, _ret42;\n\n  \t\tclassCallCheck(this, Menu);\n\n  \t\tfor (var _len43 = arguments.length, args = Array(_len43), _key43 = 0; _key43 < _len43; _key43++) {\n  \t\t\targs[_key43] = arguments[_key43];\n  \t\t}\n\n  \t\treturn _ret42 = (_temp42 = (_this44 = possibleConstructorReturn(this, _MaterialComponent43.call.apply(_MaterialComponent43, [this].concat(args))), _this44), _this44.component = 'menu', _this44.nodeName = 'ul', _this44.js = true, _this44.ripple = true, _temp42), possibleConstructorReturn(_this44, _ret42);\n  \t}\n\n  \treturn Menu;\n  }(MaterialComponent);\n\n  var MenuItem = function (_MaterialComponent44) {\n  \tinherits(MenuItem, _MaterialComponent44);\n\n  \tfunction MenuItem() {\n  \t\tvar _temp43, _this45, _ret43;\n\n  \t\tclassCallCheck(this, MenuItem);\n\n  \t\tfor (var _len44 = arguments.length, args = Array(_len44), _key44 = 0; _key44 < _len44; _key44++) {\n  \t\t\targs[_key44] = arguments[_key44];\n  \t\t}\n\n  \t\treturn _ret43 = (_temp43 = (_this45 = possibleConstructorReturn(this, _MaterialComponent44.call.apply(_MaterialComponent44, [this].concat(args))), _this45), _this45.component = 'menu__item', _this45.nodeName = 'li', _temp43), possibleConstructorReturn(_this45, _ret43);\n  \t}\n\n  \treturn MenuItem;\n  }(MaterialComponent);\n\n  Menu.Item = MenuItem;\n\n  var Slider = function (_MaterialComponent45) {\n  \tinherits(Slider, _MaterialComponent45);\n\n  \tfunction Slider() {\n  \t\tvar _temp44, _this46, _ret44;\n\n  \t\tclassCallCheck(this, Slider);\n\n  \t\tfor (var _len45 = arguments.length, args = Array(_len45), _key45 = 0; _key45 < _len45; _key45++) {\n  \t\t\targs[_key45] = arguments[_key45];\n  \t\t}\n\n  \t\treturn _ret44 = (_temp44 = (_this46 = possibleConstructorReturn(this, _MaterialComponent45.call.apply(_MaterialComponent45, [this].concat(args))), _this46), _this46.component = 'slider', _this46.js = true, _temp44), possibleConstructorReturn(_this46, _ret44);\n  \t}\n\n  \tSlider.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h('input', _extends({ type: 'range', tabindex: '0' }, props));\n  \t};\n\n  \treturn Slider;\n  }(MaterialComponent);\n\n  var Snackbar = function (_MaterialComponent46) {\n  \tinherits(Snackbar, _MaterialComponent46);\n\n  \tfunction Snackbar() {\n  \t\tvar _temp45, _this47, _ret45;\n\n  \t\tclassCallCheck(this, Snackbar);\n\n  \t\tfor (var _len46 = arguments.length, args = Array(_len46), _key46 = 0; _key46 < _len46; _key46++) {\n  \t\t\targs[_key46] = arguments[_key46];\n  \t\t}\n\n  \t\treturn _ret45 = (_temp45 = (_this47 = possibleConstructorReturn(this, _MaterialComponent46.call.apply(_MaterialComponent46, [this].concat(args))), _this47), _this47.component = 'snackbar', _this47.js = true, _temp45), possibleConstructorReturn(_this47, _ret45);\n  \t}\n\n  \tSnackbar.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'div',\n  \t\t\tprops,\n  \t\t\tpreact.h(\n  \t\t\t\t'div',\n  \t\t\t\t{ 'class': 'mdl-snackbar__text' },\n  \t\t\t\tprops.children\n  \t\t\t),\n  \t\t\tpreact.h('button', { 'class': 'mdl-snackbar__action', type: 'button' })\n  \t\t);\n  \t};\n\n  \treturn Snackbar;\n  }(MaterialComponent);\n\n  var CheckBox = function (_MaterialComponent47) {\n  \tinherits(CheckBox, _MaterialComponent47);\n\n  \tfunction CheckBox() {\n  \t\tvar _temp46, _this48, _ret46;\n\n  \t\tclassCallCheck(this, CheckBox);\n\n  \t\tfor (var _len47 = arguments.length, args = Array(_len47), _key47 = 0; _key47 < _len47; _key47++) {\n  \t\t\targs[_key47] = arguments[_key47];\n  \t\t}\n\n  \t\treturn _ret46 = (_temp46 = (_this48 = possibleConstructorReturn(this, _MaterialComponent47.call.apply(_MaterialComponent47, [this].concat(args))), _this48), _this48.component = 'checkbox', _this48.js = true, _this48.ripple = true, _temp46), possibleConstructorReturn(_this48, _ret46);\n  \t}\n\n  \tCheckBox.prototype.getValue = function getValue() {\n  \t\treturn this.base.children[0].checked;\n  \t};\n\n  \tCheckBox.prototype.mdlRender = function mdlRender(props) {\n  \t\tvar evt = {};\n  \t\tfor (var i in props) {\n  \t\t\tif (i.match(/^on[a-z]+$/gi)) {\n  \t\t\t\tevt[i] = props[i];\n  \t\t\t\tdelete props[i];\n  \t\t\t}\n  \t\t}return preact.h(\n  \t\t\t'label',\n  \t\t\tprops,\n  \t\t\tpreact.h('input', _extends({ type: 'checkbox', 'class': 'mdl-checkbox__input', checked: props.checked, disabled: props.disabled }, evt)),\n  \t\t\tpreact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-checkbox__label' },\n  \t\t\t\tprops.children\n  \t\t\t),\n  \t\t\tpreact.h('span', { 'class': 'mdl-checkbox__focus-helper' }),\n  \t\t\tpreact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-checkbox__box-outline' },\n  \t\t\t\tpreact.h('span', { 'class': 'mdl-checkbox__tick-outline' })\n  \t\t\t)\n  \t\t);\n  \t};\n\n  \treturn CheckBox;\n  }(MaterialComponent);\n\n  var Radio = function (_MaterialComponent48) {\n  \tinherits(Radio, _MaterialComponent48);\n\n  \tfunction Radio() {\n  \t\tvar _temp47, _this49, _ret47;\n\n  \t\tclassCallCheck(this, Radio);\n\n  \t\tfor (var _len48 = arguments.length, args = Array(_len48), _key48 = 0; _key48 < _len48; _key48++) {\n  \t\t\targs[_key48] = arguments[_key48];\n  \t\t}\n\n  \t\treturn _ret47 = (_temp47 = (_this49 = possibleConstructorReturn(this, _MaterialComponent48.call.apply(_MaterialComponent48, [this].concat(args))), _this49), _this49.component = 'radio', _this49.js = true, _this49.ripple = true, _temp47), possibleConstructorReturn(_this49, _ret47);\n  \t}\n\n  \tRadio.prototype.getValue = function getValue() {\n  \t\treturn this.base.children[0].checked;\n  \t};\n\n  \tRadio.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'label',\n  \t\t\tprops,\n  \t\t\tpreact.h('input', { type: 'radio', 'class': 'mdl-radio__button', name: props.name, value: props.value, checked: props.checked, disabled: props.disabled }),\n  \t\t\tpreact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-radio__label' },\n  \t\t\t\tprops.children\n  \t\t\t)\n  \t\t);\n  \t};\n\n  \treturn Radio;\n  }(MaterialComponent);\n\n  var IconToggle = function (_MaterialComponent49) {\n  \tinherits(IconToggle, _MaterialComponent49);\n\n  \tfunction IconToggle() {\n  \t\tvar _temp48, _this50, _ret48;\n\n  \t\tclassCallCheck(this, IconToggle);\n\n  \t\tfor (var _len49 = arguments.length, args = Array(_len49), _key49 = 0; _key49 < _len49; _key49++) {\n  \t\t\targs[_key49] = arguments[_key49];\n  \t\t}\n\n  \t\treturn _ret48 = (_temp48 = (_this50 = possibleConstructorReturn(this, _MaterialComponent49.call.apply(_MaterialComponent49, [this].concat(args))), _this50), _this50.component = 'icon-toggle', _this50.js = true, _this50.ripple = true, _temp48), possibleConstructorReturn(_this50, _ret48);\n  \t}\n\n  \tIconToggle.prototype.getValue = function getValue() {\n  \t\treturn this.base.children[0].checked;\n  \t};\n\n  \tIconToggle.prototype.mdlRender = function mdlRender(props) {\n  \t\treturn preact.h(\n  \t\t\t'label',\n  \t\t\tprops,\n  \t\t\tpreact.h('input', { type: 'checkbox', 'class': 'mdl-icon-toggle__input', checked: props.checked, disabled: props.disabled }),\n  \t\t\tpreact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-icon-toggle__label material-icons' },\n  \t\t\t\tprops.children\n  \t\t\t)\n  \t\t);\n  \t};\n\n  \treturn IconToggle;\n  }(MaterialComponent);\n\n  var Switch = function (_MaterialComponent50) {\n  \tinherits(Switch, _MaterialComponent50);\n\n  \tfunction Switch() {\n  \t\tvar _temp49, _this51, _ret49;\n\n  \t\tclassCallCheck(this, Switch);\n\n  \t\tfor (var _len50 = arguments.length, args = Array(_len50), _key50 = 0; _key50 < _len50; _key50++) {\n  \t\t\targs[_key50] = arguments[_key50];\n  \t\t}\n\n  \t\treturn _ret49 = (_temp49 = (_this51 = possibleConstructorReturn(this, _MaterialComponent50.call.apply(_MaterialComponent50, [this].concat(args))), _this51), _this51.component = 'switch', _this51.nodeName = 'label', _this51.js = true, _this51.ripple = true, _temp49), possibleConstructorReturn(_this51, _ret49);\n  \t}\n\n  \tSwitch.prototype.shouldComponentUpdate = function shouldComponentUpdate(_ref6) {\n  \t\tvar checked = _ref6.checked;\n\n  \t\tif (Boolean(checked) === Boolean(this.props.checked)) return false;\n  \t\treturn true;\n  \t};\n\n  \tSwitch.prototype.getValue = function getValue() {\n  \t\treturn this.base.children[0].checked;\n  \t};\n\n  \tSwitch.prototype.mdlRender = function mdlRender(_ref7) {\n  \t\tvar props = objectWithoutProperties(_ref7, []);\n\n  \t\tvar evt = {};\n  \t\tfor (var i in props) {\n  \t\t\tif (i.match(/^on[a-z]+$/gi)) {\n  \t\t\t\tevt[i] = props[i];\n  \t\t\t\tdelete props[i];\n  \t\t\t}\n  \t\t}return preact.h(\n  \t\t\t'label',\n  \t\t\tprops,\n  \t\t\tpreact.h('input', _extends({ type: 'checkbox', 'class': 'mdl-switch__input', checked: props.checked, disabled: props.disabled }, evt)),\n  \t\t\tpreact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-switch__label' },\n  \t\t\t\tprops.children\n  \t\t\t),\n  \t\t\tpreact.h('div', { 'class': 'mdl-switch__track' }),\n  \t\t\tpreact.h(\n  \t\t\t\t'div',\n  \t\t\t\t{ 'class': 'mdl-switch__thumb' },\n  \t\t\t\tpreact.h('span', { 'class': 'mdl-switch__focus-helper' })\n  \t\t\t)\n  \t\t);\n  \t};\n\n  \treturn Switch;\n  }(MaterialComponent);\n\n  var Table = function (_MaterialComponent51) {\n  \tinherits(Table, _MaterialComponent51);\n\n  \tfunction Table() {\n  \t\tvar _temp50, _this52, _ret50;\n\n  \t\tclassCallCheck(this, Table);\n\n  \t\tfor (var _len51 = arguments.length, args = Array(_len51), _key51 = 0; _key51 < _len51; _key51++) {\n  \t\t\targs[_key51] = arguments[_key51];\n  \t\t}\n\n  \t\treturn _ret50 = (_temp50 = (_this52 = possibleConstructorReturn(this, _MaterialComponent51.call.apply(_MaterialComponent51, [this].concat(args))), _this52), _this52.component = 'data-table', _this52.nodeName = 'table', _this52.js = true, _temp50), possibleConstructorReturn(_this52, _ret50);\n  \t}\n\n  \treturn Table;\n  }(MaterialComponent);\n\n  var TableCell = function (_MaterialComponent52) {\n  \tinherits(TableCell, _MaterialComponent52);\n\n  \tfunction TableCell() {\n  \t\tvar _temp51, _this53, _ret51;\n\n  \t\tclassCallCheck(this, TableCell);\n\n  \t\tfor (var _len52 = arguments.length, args = Array(_len52), _key52 = 0; _key52 < _len52; _key52++) {\n  \t\t\targs[_key52] = arguments[_key52];\n  \t\t}\n\n  \t\treturn _ret51 = (_temp51 = (_this53 = possibleConstructorReturn(this, _MaterialComponent52.call.apply(_MaterialComponent52, [this].concat(args))), _this53), _this53.component = 'data-table__cell', _this53.nodeName = 'td', _temp51), possibleConstructorReturn(_this53, _ret51);\n  \t}\n\n  \treturn TableCell;\n  }(MaterialComponent);\n\n  Table.Cell = TableCell;\n\n  var List = function (_MaterialComponent53) {\n  \tinherits(List, _MaterialComponent53);\n\n  \tfunction List() {\n  \t\tvar _temp52, _this54, _ret52;\n\n  \t\tclassCallCheck(this, List);\n\n  \t\tfor (var _len53 = arguments.length, args = Array(_len53), _key53 = 0; _key53 < _len53; _key53++) {\n  \t\t\targs[_key53] = arguments[_key53];\n  \t\t}\n\n  \t\treturn _ret52 = (_temp52 = (_this54 = possibleConstructorReturn(this, _MaterialComponent53.call.apply(_MaterialComponent53, [this].concat(args))), _this54), _this54.component = 'list', _this54.nodeName = 'ul', _temp52), possibleConstructorReturn(_this54, _ret52);\n  \t}\n\n  \treturn List;\n  }(MaterialComponent);\n\n  var ListItem = function (_MaterialComponent54) {\n  \tinherits(ListItem, _MaterialComponent54);\n\n  \tfunction ListItem() {\n  \t\tvar _temp53, _this55, _ret53;\n\n  \t\tclassCallCheck(this, ListItem);\n\n  \t\tfor (var _len54 = arguments.length, args = Array(_len54), _key54 = 0; _key54 < _len54; _key54++) {\n  \t\t\targs[_key54] = arguments[_key54];\n  \t\t}\n\n  \t\treturn _ret53 = (_temp53 = (_this55 = possibleConstructorReturn(this, _MaterialComponent54.call.apply(_MaterialComponent54, [this].concat(args))), _this55), _this55.component = 'list__item', _this55.nodeName = 'li', _temp53), possibleConstructorReturn(_this55, _ret53);\n  \t}\n\n  \treturn ListItem;\n  }(MaterialComponent);\n\n  List.Item = ListItem;\n\n  var TextField = function (_MaterialComponent55) {\n  \tinherits(TextField, _MaterialComponent55);\n\n  \tfunction TextField() {\n  \t\tclassCallCheck(this, TextField);\n\n  \t\tfor (var _len55 = arguments.length, args = Array(_len55), _key55 = 0; _key55 < _len55; _key55++) {\n  \t\t\targs[_key55] = arguments[_key55];\n  \t\t}\n\n  \t\tvar _this56 = possibleConstructorReturn(this, _MaterialComponent55.call.apply(_MaterialComponent55, [this].concat(args)));\n\n  \t\t_this56.component = 'textfield';\n  \t\t_this56.js = true;\n\n  \t\t_this56.id = uid();\n  \t\treturn _this56;\n  \t}\n\n  \tTextField.prototype.componentDidUpdate = function componentDidUpdate() {\n  \t\tvar input = this.base && this.base.querySelector && this.base.querySelector('input,textarea');\n  \t\tif (input && input.value && input.value !== this.props.value) {\n  \t\t\tinput.value = this.props.value;\n  \t\t}\n  \t\tif (input && input.setCustomValidity) {\n  \t\t\tinput.setCustomValidity(this.props.errorMessage || \"\");\n  \t\t}\n  \t};\n\n  \tTextField.prototype.mdlRender = function mdlRender() {\n  \t\tvar props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  \t\tvar id = props.id || this.id,\n  \t\t    errorMessage = props.errorMessage,\n  \t\t    p = extend({}, props);\n\n  \t\tdelete p.class;\n  \t\tdelete p.errorMessage;\n\n  \t\tvar field = preact.h(\n  \t\t\t'div',\n  \t\t\tnull,\n  \t\t\tpreact.h('input', _extends({ type: 'text', 'class': 'mdl-textfield__input', id: id, value: '' }, p)),\n  \t\t\tpreact.h(\n  \t\t\t\t'label',\n  \t\t\t\t{ 'class': 'mdl-textfield__label', 'for': id },\n  \t\t\t\tprops.label || props.children\n  \t\t\t),\n  \t\t\terrorMessage ? preact.h(\n  \t\t\t\t'span',\n  \t\t\t\t{ 'class': 'mdl-textfield__error' },\n  \t\t\t\terrorMessage\n  \t\t\t) : null\n  \t\t);\n  \t\tif (props.multiline) {\n  \t\t\tfield.children[0].nodeName = 'textarea';\n  \t\t}\n  \t\tif (props.expandable === true) {\n  \t\t\t(field.attributes = field.attributes || {}).class = 'mdl-textfield__expandable-holder';\n  \t\t\tfield = preact.h(\n  \t\t\t\t'div',\n  \t\t\t\tnull,\n  \t\t\t\tpreact.h(\n  \t\t\t\t\t'label',\n  \t\t\t\t\t{ 'class': 'mdl-button mdl-js-button mdl-button--icon', 'for': id },\n  \t\t\t\t\tpreact.h(\n  \t\t\t\t\t\t'i',\n  \t\t\t\t\t\t{ 'class': 'material-icons' },\n  \t\t\t\t\t\tprops.icon\n  \t\t\t\t\t)\n  \t\t\t\t),\n  \t\t\t\tfield\n  \t\t\t);\n  \t\t}\n  \t\tvar cl = getClass(props);\n  \t\tif (cl) {\n  \t\t\t(field.attributes = field.attributes || {}).class = cl;\n  \t\t}\n\n  \t\treturn field;\n  \t};\n\n  \treturn TextField;\n  }(MaterialComponent);\n\n  var Tooltip = function (_MaterialComponent56) {\n  \tinherits(Tooltip, _MaterialComponent56);\n\n  \tfunction Tooltip() {\n  \t\tvar _temp54, _this57, _ret54;\n\n  \t\tclassCallCheck(this, Tooltip);\n\n  \t\tfor (var _len56 = arguments.length, args = Array(_len56), _key56 = 0; _key56 < _len56; _key56++) {\n  \t\t\targs[_key56] = arguments[_key56];\n  \t\t}\n\n  \t\treturn _ret54 = (_temp54 = (_this57 = possibleConstructorReturn(this, _MaterialComponent56.call.apply(_MaterialComponent56, [this].concat(args))), _this57), _this57.component = 'tooltip', _temp54), possibleConstructorReturn(_this57, _ret54);\n  \t}\n\n  \treturn Tooltip;\n  }(MaterialComponent);\n\n  var index = {\n  \toptions: options,\n  \tIcon: Icon,\n  \tButton: Button,\n  \tCard: Card,\n  \tDialog: Dialog,\n  \tLayout: Layout,\n  \tNavigation: Navigation,\n  \tTabs: Tabs,\n  \tMegaFooter: MegaFooter,\n  \tMiniFooter: MiniFooter,\n  \tGrid: Grid,\n  \tCell: Cell,\n  \tProgress: Progress,\n  \tSpinner: Spinner,\n  \tMenu: Menu,\n  \tSlider: Slider,\n  \tSnackbar: Snackbar,\n  \tCheckBox: CheckBox,\n  \tRadio: Radio,\n  \tIconToggle: IconToggle,\n  \tSwitch: Switch,\n  \tTable: Table,\n  \tTextField: TextField,\n  \tTooltip: Tooltip,\n  \tList: List,\n  \tListItem: ListItem\n  };\n\n  exports.options = options;\n  exports.MaterialComponent = MaterialComponent;\n  exports.Icon = Icon;\n  exports.Button = Button;\n  exports.Card = Card;\n  exports.CardTitle = CardTitle;\n  exports.CardTitleText = CardTitleText;\n  exports.CardMedia = CardMedia;\n  exports.CardText = CardText;\n  exports.CardActions = CardActions;\n  exports.CardMenu = CardMenu;\n  exports.Dialog = Dialog;\n  exports.DialogTitle = DialogTitle;\n  exports.DialogContent = DialogContent;\n  exports.DialogActions = DialogActions;\n  exports.Layout = Layout;\n  exports.LayoutHeader = LayoutHeader;\n  exports.LayoutHeaderRow = LayoutHeaderRow;\n  exports.LayoutTitle = LayoutTitle;\n  exports.LayoutSpacer = LayoutSpacer;\n  exports.LayoutDrawer = LayoutDrawer;\n  exports.LayoutContent = LayoutContent;\n  exports.LayoutTabBar = LayoutTabBar;\n  exports.LayoutTab = LayoutTab;\n  exports.LayoutTabPanel = LayoutTabPanel;\n  exports.Navigation = Navigation;\n  exports.NavigationLink = NavigationLink;\n  exports.Tabs = Tabs;\n  exports.TabBar = TabBar;\n  exports.Tab = Tab;\n  exports.TabPanel = TabPanel;\n  exports.MegaFooter = MegaFooter;\n  exports.MegaFooterMiddleSection = MegaFooterMiddleSection;\n  exports.MegaFooterDropDownSection = MegaFooterDropDownSection;\n  exports.MegaFooterHeading = MegaFooterHeading;\n  exports.MegaFooterLinkList = MegaFooterLinkList;\n  exports.MegaFooterBottomSection = MegaFooterBottomSection;\n  exports.MiniFooter = MiniFooter;\n  exports.MiniFooterLeftSection = MiniFooterLeftSection;\n  exports.MiniFooterLinkList = MiniFooterLinkList;\n  exports.Grid = Grid;\n  exports.Cell = Cell;\n  exports.Progress = Progress;\n  exports.Spinner = Spinner;\n  exports.Menu = Menu;\n  exports.MenuItem = MenuItem;\n  exports.Slider = Slider;\n  exports.Snackbar = Snackbar;\n  exports.CheckBox = CheckBox;\n  exports.Radio = Radio;\n  exports.IconToggle = IconToggle;\n  exports.Switch = Switch;\n  exports.Table = Table;\n  exports.TableCell = TableCell;\n  exports.List = List;\n  exports.ListItem = ListItem;\n  exports.TextField = TextField;\n  exports.Tooltip = Tooltip;\n  exports['default'] = index;\n\n}));\n//# sourceMappingURL=preact-mdl.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-mdl/dist/preact-mdl.js","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/string/#/contains/shim.js","\"use strict\";\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Deferred = function () {\n    function Deferred() {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Deferred);\n\n        this._promise = new _promise2.default(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n    }\n\n    (0, _createClass3.default)(Deferred, [{\n        key: \"update\",\n        value: function update(value) {\n            this._resolve(value);\n        }\n    }, {\n        key: \"set\",\n        value: function set(value) {\n            this.current = value;\n            this._resolve(value);\n        }\n    }, {\n        key: \"fail\",\n        value: function fail(e) {\n            this._reject(e);\n        }\n    }, {\n        key: \"promise\",\n        get: function get() {\n            return this._promise;\n        }\n    }]);\n    return Deferred;\n}();\n\nexports.Deferred = Deferred;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/utils/deferred.js","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(isValue(object) ? Object(object) : object);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/keys/shim.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/define-property.js","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_ctx.js","\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar logger_1 = require(\"./logger\");\nvar entity_1 = require(\"./entity\");\nvar retryingqueue_1 = require(\"./retryingqueue\");\nvar listitem_1 = require(\"./listitem\");\nvar paginator_1 = require(\"./paginator\");\nvar cache_1 = require(\"./cache\");\n/**\n * @alias List\n * @classdesc List collection to store an ordered list of values\n * @property {String} sid - List unique id\n * @property {String} uniqueName - List unique name\n *\n * @fires List#itemAdded\n * @fires List#itemAddedRemotely\n * @fires List#itemUpdated\n * @fires List#itemUpdatedRemotely\n * @fires List#itemRemoved\n * @fires List#itemRemovedRemotely\n * @fires List#collectionRemoved\n * @fires List#collectionRemovedRemotely\n */\n\nvar SyncList = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncList, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncList(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncList);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncList.__proto__ || (0, _getPrototypeOf2.default)(SyncList)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.cache = new cache_1.Cache();\n        _this.descriptor = descriptor;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncList, [{\n        key: \"__set\",\n        value: function __set(location, param) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var response;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.services.network.post(location, { data: param.data }, param.revision);\n\n                            case 2:\n                                response = _context.sent;\n\n                                response.body.data = param.data;\n                                return _context.abrupt(\"return\", response.body);\n\n                            case 5:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Add element to the List\n         * @param {Object} value - value to add\n         * @returns {Promise<Item>} A new item\n         */\n\n    }, {\n        key: \"push\",\n        value: function push(value) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var response, index, item;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return this.services.network.post(this.links.items, { data: value });\n\n                            case 2:\n                                response = _context2.sent;\n                                index = Number(response.body.index);\n                                item = this.cache.store(index, new listitem_1.ListItem({ index: index,\n                                    revision: response.body.revision,\n                                    lastEventId: response.body.last_event_id,\n                                    uri: response.body.url,\n                                    value: value }), response.body.last_event_id);\n\n                                this.emit('itemAdded', item, true);\n                                return _context2.abrupt(\"return\", item);\n\n                            case 7:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Update existing item in a List\n         * @param {Number} index - index in the List\n         * @param {Object} value - value to set\n         * If true, promise will be rejected if value was remotely modified\n         * @returns {Promise<Item>} - A new element\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(index, value) {\n            return this._actualSet(index, value);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(index, value, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                var _this2 = this;\n\n                var item, updatedItemDescriptor, _resolver;\n\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context4.sent;\n                                updatedItemDescriptor = void 0;\n\n                                if (resolver) {\n                                    _context4.next = 10;\n                                    break;\n                                }\n\n                                _context4.next = 7;\n                                return this.__set(item.uri, { data: value, revision: undefined });\n\n                            case 7:\n                                updatedItemDescriptor = _context4.sent;\n                                _context4.next = 14;\n                                break;\n\n                            case 10:\n                                _resolver = function _resolver(err) {\n                                    return __awaiter(_this2, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                                        var refreshedItem;\n                                        return _regenerator2.default.wrap(function _callee3$(_context3) {\n                                            while (1) {\n                                                switch (_context3.prev = _context3.next) {\n                                                    case 0:\n                                                        if (!(err.status === 412)) {\n                                                            _context3.next = 5;\n                                                            break;\n                                                        }\n\n                                                        _context3.next = 3;\n                                                        return this._get(item.index);\n\n                                                    case 3:\n                                                        refreshedItem = _context3.sent;\n                                                        return _context3.abrupt(\"return\", {\n                                                            revision: refreshedItem.revision,\n                                                            data: resolver(utils_1.deepClone(refreshedItem.value))\n                                                        });\n\n                                                    case 5:\n                                                        throw err;\n\n                                                    case 6:\n                                                    case \"end\":\n                                                        return _context3.stop();\n                                                }\n                                            }\n                                        }, _callee3, this);\n                                    }));\n                                };\n\n                                _context4.next = 13;\n                                return this.actionQueue.add(this.__set.bind(this), item.uri, { revision: item.revision, data: value }, _resolver);\n\n                            case 13:\n                                updatedItemDescriptor = _context4.sent;\n\n                            case 14:\n                                item = this.cache.get(item.index);\n                                if (item && updatedItemDescriptor.last_event_id > item.lastEventId) {\n                                    item.update(updatedItemDescriptor.last_event_id, updatedItemDescriptor.revision, updatedItemDescriptor.data);\n                                    this.emit('itemUpdated', item, true);\n                                }\n                                return _context4.abrupt(\"return\", item);\n\n                            case 17:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n        /**\n         * Updates the existing item value\n         *\n         * @param {Number} Index Item key\n         * @param {List~Mutator} Mutator Function performing value mutation\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(index, mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                var item;\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                _context5.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context5.sent;\n                                return _context5.abrupt(\"return\", this._actualSet(index, mutator(utils_1.deepClone(item.value)), mutator));\n\n                            case 4:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n        /**\n         * @param {Number} Index Item key\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Item>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(index, obj) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                return _context6.abrupt(\"return\", this.mutate(index, function (remote) {\n                                    return (0, _extends3.default)(remote, obj);\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this);\n            }));\n        }\n        /**\n         * Remove List item by index\n         * @param {Number} index - item index\n         * @returns Promise to remove, which may fail\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var item, response;\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                _context7.next = 2;\n                                return this.get(index);\n\n                            case 2:\n                                item = _context7.sent;\n                                _context7.next = 5;\n                                return this.services.network.delete(item.uri);\n\n                            case 5:\n                                response = _context7.sent;\n\n                                this.cache.delete(index, response.body.last_event_id);\n                                this.emit('itemRemoved', index, true);\n\n                            case 8:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n        }\n        /**\n         * Retrieve item by index\n         * @param {Number} index - item index\n         * @returns {Promise<Item>}\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var cachedItem;\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                cachedItem = this.cache.get(index);\n\n                                if (!cachedItem) {\n                                    _context8.next = 3;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", cachedItem);\n\n                            case 3:\n                                return _context8.abrupt(\"return\", this._get(index));\n\n                            case 4:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n        }\n    }, {\n        key: \"_get\",\n        value: function _get(index) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                var result;\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                _context9.next = 2;\n                                return this.queryItems({ index: index });\n\n                            case 2:\n                                result = _context9.sent;\n\n                                if (!(result.items.length < 1)) {\n                                    _context9.next = 5;\n                                    break;\n                                }\n\n                                throw new Error('No item with index ' + index + ' found');\n\n                            case 5:\n                                return _context9.abrupt(\"return\", result.items[0]);\n\n                            case 6:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Query items from the List\n         * @private\n         */\n\n    }, {\n        key: \"queryItems\",\n        value: function queryItems(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var _this3 = this;\n\n                var url, response, items, meta;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                arg = arg || {};\n                                url = new utils_1.UriBuilder(this.links.items).queryParam('From', arg.from).queryParam('PageSize', arg.limit).queryParam('Index', arg.index).queryParam('PageToken', arg.pageToken).queryParam('Order', arg.order).build();\n                                _context10.next = 4;\n                                return this.services.network.get(url);\n\n                            case 4:\n                                response = _context10.sent;\n                                items = response.body.items.map(function (el) {\n                                    var itemInCache = _this3.cache.get(el.index);\n                                    if (itemInCache) {\n                                        _this3._handleItemUpdated(el.index, el.url, el.last_event_id, el.revision, el.data);\n                                    } else {\n                                        _this3.cache.store(Number(el.index), new listitem_1.ListItem({ index: Number(el.index),\n                                            uri: el.url,\n                                            revision: el.revision,\n                                            lastEventId: el.last_event_id,\n                                            value: el.data }), el.last_event_id);\n                                    }\n                                    return _this3.cache.get(el.index);\n                                });\n                                meta = response.body.meta;\n                                return _context10.abrupt(\"return\", new paginator_1.Paginator(items, function (pageToken) {\n                                    return _this3.queryItems({ pageToken: pageToken });\n                                }, meta.previous_token, meta.next_token));\n\n                            case 8:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n        /**\n         * Query items from List\n         * @param {Object} args Arguments for items query\n         * @param {String} args.from Item, which should be used as an anchor. If undefined, starts from the beginning or end depending on args.order\n         * @param {Number} args.pageSize Results page size\n         * @param {String} args.order Order of results, should be 'asc' or 'desc'\n         * @returns {Promise<Paginator>}\n         * @public\n         */\n\n    }, {\n        key: \"getItems\",\n        value: function getItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee11() {\n                return _regenerator2.default.wrap(function _callee11$(_context11) {\n                    while (1) {\n                        switch (_context11.prev = _context11.next) {\n                            case 0:\n                                args = args || {};\n                                args.limit = args.pageSize || args.limit || 50;\n                                args.order = args.order || 'asc';\n                                return _context11.abrupt(\"return\", this.queryItems(args));\n\n                            case 4:\n                            case \"end\":\n                                return _context11.stop();\n                        }\n                    }\n                }, _callee11, this);\n            }));\n        }\n        /**\n         * @return {Promise<Object>} Context of List\n         * @private\n         */\n\n    }, {\n        key: \"getContext\",\n        value: function getContext() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee12() {\n                var response;\n                return _regenerator2.default.wrap(function _callee12$(_context12) {\n                    while (1) {\n                        switch (_context12.prev = _context12.next) {\n                            case 0:\n                                if (!this.context) {\n                                    _context12.next = 2;\n                                    break;\n                                }\n\n                                return _context12.abrupt(\"return\", this.context);\n\n                            case 2:\n                                _context12.next = 4;\n                                return this.services.network.get(this.links.context);\n\n                            case 4:\n                                response = _context12.sent;\n\n                                this.context = response.body.data;\n                                return _context12.abrupt(\"return\", this.context);\n\n                            case 7:\n                            case \"end\":\n                                return _context12.stop();\n                        }\n                    }\n                }, _callee12, this);\n            }));\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"updateContext\",\n        value: function updateContext(context) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee13() {\n                return _regenerator2.default.wrap(function _callee13$(_context13) {\n                    while (1) {\n                        switch (_context13.prev = _context13.next) {\n                            case 0:\n                                _context13.prev = 0;\n                                _context13.next = 3;\n                                return this.services.network.post(this.links.context, { data: context });\n\n                            case 3:\n                                this.context = context;\n                                this.emit('contextUpdated', context, true);\n                                return _context13.abrupt(\"return\", this);\n\n                            case 8:\n                                _context13.prev = 8;\n                                _context13.t0 = _context13[\"catch\"](0);\n\n                                logger_1.default.error('Failed to update context', _context13.t0);\n                                throw _context13.t0;\n\n                            case 12:\n                            case \"end\":\n                                return _context13.stop();\n                        }\n                    }\n                }, _callee13, this, [[0, 8]]);\n            }));\n        }\n        /**\n         * Remove list from service. It will be impossible to restore it.\n         * @return {Promise} Promise to delete the collection\n         * @public\n         */\n\n    }, {\n        key: \"removeList\",\n        value: function removeList() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee14() {\n                return _regenerator2.default.wrap(function _callee14$(_context14) {\n                    while (1) {\n                        switch (_context14.prev = _context14.next) {\n                            case 0:\n                                _context14.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context14.stop();\n                        }\n                    }\n                }, _callee14, this);\n            }));\n        }\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            // Should also do some cleanup here\n            this.emit('collectionRemoved', locally);\n            if (!locally) {\n                this.emit('collectionRemovedRemotely');\n            }\n        }\n    }, {\n        key: \"shouldIgnoreEvent\",\n        value: function shouldIgnoreEvent(key, eventId) {\n            return this.cache.isKnown(key, eventId);\n        }\n        /**\n         * Handle update, which came from the server\n         * @private\n         */\n\n    }, {\n        key: \"_update\",\n        value: function _update(update, isStrictlyOrdered) {\n            var itemIndex = Number(update.item_index);\n            switch (update.type) {\n                case 'list_item_added':\n                    {\n                        this._handleItemAdded(itemIndex, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'list_item_updated':\n                    {\n                        this._handleItemUpdated(itemIndex, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'list_item_removed':\n                    {\n                        this._handleItemRemoved(itemIndex, update.id);\n                    }\n                    break;\n                case 'list_context_updated':\n                    {\n                        this._handleContextUpdate(update.context_data, update.id);\n                    }\n                    break;\n                case 'list_removed':\n                    {\n                        this.onRemoved(false);\n                    }\n                    break;\n            }\n            if (isStrictlyOrdered) {\n                this._advanceLastEventId(update.id, update.list_revision);\n            }\n        }\n    }, {\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {\n            if (this.lastEventId < eventId) {\n                this.descriptor.last_event_id = eventId;\n                if (revision) {\n                    this.descriptor.revision = revision;\n                }\n            }\n        }\n        /**\n         * Handle item insertion event, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemAdded\",\n        value: function _handleItemAdded(index, uri, eventId, revision, value) {\n            if (!this.cache.isKnown(index, eventId)) {\n                var item = new listitem_1.ListItem({ index: index, uri: uri, lastEventId: eventId, revision: revision, value: value });\n                this.cache.store(index, item, eventId);\n                this.emit('itemAdded', item, false);\n                this.emit('itemAddedRemotely', item);\n            }\n        }\n        /**\n         * Handle new value of item, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemUpdated\",\n        value: function _handleItemUpdated(index, uri, eventId, revision, value) {\n            var item = this.cache.get(index);\n            if (!item && !this.shouldIgnoreEvent(index, eventId)) {\n                item = this.cache.store(index, new listitem_1.ListItem({ index: index, uri: uri, lastEventId: eventId, revision: revision, value: value }), eventId);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            } else if (item && eventId > item.lastEventId) {\n                item.update(eventId, revision, value);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            }\n        }\n    }, {\n        key: \"_handleItemRemoved\",\n        value: function _handleItemRemoved(index, eventId) {\n            this.cache.delete(index, eventId);\n            this.emit('itemRemoved', index, false);\n            this.emit('itemRemovedRemotely', index);\n        }\n    }, {\n        key: \"_handleContextUpdate\",\n        value: function _handleContextUpdate(data, eventId) {\n            if (this.lastEventId < eventId) {\n                this.context = data;\n                this.emit('contextUpdated', data, false);\n                this.emit('contextUpdatedRemotely', data);\n            }\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"links\",\n        get: function get() {\n            return this.descriptor.links;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'list';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'list';\n        }\n    }]);\n    return SyncList;\n}(entity_1.SyncEntity);\n\nexports.SyncList = SyncList;\nexports.default = SyncList;\n/**\n * Applies a transformation to the item value\n * @callback List~Mutator\n * @param {Object} data current value of an item\n * @return {Object} Modified data for an item\n */\n/**\n * Fired when item is added to the List\n * @event List#itemAdded\n * @type {Item} Added item\n */\n/**\n * Fired when item is added to List by remote actor\n * @event List#itemAddedRemotely\n * @type {Item} Added item\n */\n/**\n * Fired when item is updated\n * @event List#itemUpdated\n * @type {Item} Updated item\n */\n/**\n * Fired when item is updated by remote actor\n * @event List#itemUpdatedRemotely\n * @type {Item} Updated item\n */\n/**\n * Fired when item is removed from the List\n * @event List#itemRemoved\n * @type {String} item key\n */\n/**\n * Fired when item is removed from the List by remote actor\n * @event List#itemRemovedRemotely\n * @type {String} item key\n */\n/**\n * Fired when List is removed from server\n * @event List#collectionRemoved\n */\n/**\n * Fired when List is removed from server by remote actor\n * @event List#collectionRemovedRemotely\n */\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/synclist.js","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_descriptors.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/symbol/iterator.js","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn (str.contains(\"dwa\") === true) && (str.contains(\"foo\") === false);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/string/#/contains/is-implemented.js","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/core.get-iterator-method.js","'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (req) {\n\tfunction Async() {\n\t\t_preact.Component.call(this);\n\n\t\tlet b, old;\n\t\tthis.componentWillMount = () => {\n\t\t\tb = this.base = this.nextBase || this.__b;\n\t\t\treq(m => {\n\t\t\t\tthis.setState({ child: m.default || m });\n\t\t\t});\n\t\t};\n\n\t\tthis.shouldComponentUpdate = (_, nxt) => {\n\t\t\tnxt = nxt.child === void 0;\n\t\t\tif (nxt && old === void 0 && !!b) {\n\t\t\t\told = (0, _preact.h)(b.nodeName, { dangerouslySetInnerHTML: { __html: b.innerHTML } });\n\t\t\t} else {\n\t\t\t\told = '';\n\t\t\t}\n\t\t\treturn !nxt;\n\t\t};\n\n\t\tthis.render = (p, s) => s.child ? (0, _preact.h)(s.child, p) : old;\n\t}\n\t(Async.prototype = new _preact.Component()).constructor = Async;\n\treturn Async;\n};\n\nvar _preact = require('preact');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-cli/lib/components/async.js","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/set.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TWILSOCK_URI = 'wss://tsock.twilio.com';\nvar TWILSOCK_PATH = '/v3/wsconnect';\n\n/**\n * @param {String} token - authentication token\n * @param {Object} options - options to override defaults\n *\n * @class TwilsockConfig\n * @classdesc Settings container for the Twilsock client library\n */\n\nvar TwilsockConfig = function () {\n  function TwilsockConfig(token, options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, TwilsockConfig);\n\n    options = options || {};\n    var _options = options.Twilsock || {};\n    var twilsockUri = _options.uri || options.wsServer || TWILSOCK_URI;\n\n    (0, _defineProperties2.default)(this, {\n      _twilsockWsHost: { value: twilsockUri + TWILSOCK_PATH },\n      _token: { value: token, writable: true },\n\n      twilsockUri: { get: function get() {\n          return _this._twilsockWsHost;\n        } },\n      token: { get: function get() {\n          return _this._token;\n        } }\n    });\n  }\n\n  (0, _createClass3.default)(TwilsockConfig, [{\n    key: 'updateToken',\n    value: function updateToken(token) {\n      this._token = token;\n    }\n  }]);\n  return TwilsockConfig;\n}();\n\nexports.default = TwilsockConfig;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/configuration.js","var isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_array-species-constructor.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = require('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _set = require('babel-runtime/core-js/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _configuration = require('./configuration');\n\nvar _configuration2 = _interopRequireDefault(_configuration);\n\nvar _twilsock = require('./twilsock');\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nvar _packetinterface = require('./packetinterface');\n\nvar _packetinterface2 = _interopRequireDefault(_packetinterface);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @class\n * @alias Twilsock\n * @classdesc Client library for the Twilsock protocol\n * @property {Boolean} connected Indicates the twilsock connection state\n *\n * @constructor\n * @param {string} Token Twilio access token\n */\nvar TwilsockClient = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockClient, _EventEmitter);\n\n  function TwilsockClient(token, options) {\n    (0, _classCallCheck3.default)(this, TwilsockClient);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockClient.__proto__ || (0, _getPrototypeOf2.default)(TwilsockClient)).call(this));\n\n    options = options || {};\n    options.logLevel = options.logLevel || 'error';\n    _logger2.default.setLevel(options.logLevel);\n\n    var config = new _configuration2.default(token, options);\n    var twilsock = new _twilsock2.default(config);\n    var packetInterface = new _packetinterface2.default(twilsock);\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _socket: { value: twilsock },\n      _packet: { value: packetInterface },\n      _registrations: { value: new _map2.default() },\n      _registrationsInProgress: { value: new _map2.default() },\n\n      isConnected: { get: function get() {\n          return _this._socket.isConnected;\n        } },\n      connected: { get: function get() {\n          return _this._socket.isConnected;\n        } },\n      state: { get: function get() {\n          return _this._socket.state;\n        } }\n    });\n\n    _this._socket.on('message', function (type, message) {\n      return setTimeout(function () {\n        _this.emit('message', type, message);\n      }, 0);\n    });\n    _this._socket.on('connected', function () {\n      return _this._updateRegistrations();\n    });\n    _this._socket.on('connected', function () {\n      return _this.emit('connected');\n    });\n    _this._socket.on('disconnected', function () {\n      return _this.emit('disconnected');\n    });\n    _this._socket.on('stateChanged', function (state) {\n      return _this.emit('stateChanged', state);\n    });\n    return _this;\n  }\n\n  /**\n   * Send a message\n   * @param {Twilsock#Message} message Message structure with header, body and remote address\n   * @public\n   * @returns {Promise<Result>} Result from remote side\n   */\n\n\n  (0, _createClass3.default)(TwilsockClient, [{\n    key: 'send',\n    value: function send(message) {\n      return this._packet.send(message.to, message.headers, message.body);\n    }\n\n    /**\n     * Update token\n     * @param {String} token\n     * @public\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken(token) {\n      _logger2.default.info('updateToken');\n      if (this._config.token === token) {\n        return _promise2.default.resolve();\n      }\n\n      this._config.updateToken(token);\n      this._socket.updateToken();\n\n      return _promise2.default.resolve();\n    }\n  }, {\n    key: '_updateRegistration',\n    value: function _updateRegistration(contextId, context) {\n      var _this2 = this;\n\n      _logger2.default.info('update registration for context', contextId);\n      var registrationAttempts = this._registrationsInProgress.get(contextId);\n      if (!registrationAttempts) {\n        registrationAttempts = new _set2.default();\n        this._registrationsInProgress.set(contextId, registrationAttempts);\n      }\n\n      var attemptId = _uuid2.default.v4();\n      registrationAttempts.add(attemptId);\n\n      return this._packet.putNotificationContext(contextId, context).then(function () {\n        _logger2.default.info('registration attempt succeeded for context', context);\n        registrationAttempts.delete(attemptId);\n\n        // Hack for broken react-native polyfill\n        // Remove when not needed anymore\n        var attemptsSize = typeof registrationAttempts.size !== 'undefined' ? registrationAttempts.size : (registrationAttempts._c || {}).size;\n        if (attemptsSize === 0) {\n          _this2._registrationsInProgress.delete(contextId);\n          _this2.emit('registered', contextId);\n        }\n      }).catch(function (err) {\n        _logger2.default.info('registration attempt failed for context', context);\n        _logger2.default.debug(err);\n\n        registrationAttempts.delete(attemptId);\n\n        // Hack for broken react-native polyfill\n        // Remove when not needed anymore\n        var attemptsSize = typeof registrationAttempts.size !== 'undefined' ? registrationAttempts.size : (registrationAttempts._c || {}).size;\n        if (attemptsSize === 0) {\n          _this2._registrationsInProgress.delete(contextId);\n          _this2.emit('registrationFailed', contextId, err);\n        }\n      });\n    }\n  }, {\n    key: '_updateRegistrations',\n    value: function _updateRegistrations() {\n      var _this3 = this;\n\n      _logger2.default.info('refreshing all registrations');\n      this._registrations.forEach(function (context, id) {\n        _this3._updateRegistration(id, context);\n      });\n    }\n  }, {\n    key: 'setNotificationsContext',\n    value: function setNotificationsContext(contextId, context) {\n      if (!contextId || !context) {\n        throw new Error('Invalid arguments provided');\n      }\n\n      this._registrations.set(contextId, context);\n      if (this._socket.isConnected) {\n        this._updateRegistration(contextId, context);\n      }\n    }\n  }, {\n    key: 'removeNotificationsContext',\n    value: function removeNotificationsContext(contextId) {\n      if (!this._registrations.has(contextId)) {\n        return;\n      }\n\n      this._registrations.delete(contextId);\n      if (this._socket.isConnected) {\n        this._packet.deleteNotificationContext(contextId);\n      }\n    }\n\n    /**\n     * Connect to the server\n     * @fires TwilsockClient#connected\n     * @public\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect() {\n      return this._socket.connect();\n    }\n\n    /**\n     * Connect to the server\n     * @fires TwilsockClient#disconnected\n     * @public\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      return this._socket.disconnect();\n    }\n  }]);\n  return TwilsockClient;\n}(_events2.default);\n\nexports.default = TwilsockClient;\n\n(0, _freeze2.default)(TwilsockClient);\n\n/**\n * Twilsock destination address descriptor\n * @typedef {Object} Twilsock#Address\n * @property {String} method - HTTP method. (POST, PUT, etc)\n * @property {String} host - host name without path. (e.g. my.company.com)\n * @property {String} path - path on the host (e.g. /my/app/to/call.php)\n */\n\n/**\n * Twilsock upstream message\n * @typedef {Object} Twilsock#Message\n * @property {Twilsock#Address} to - destination address\n * @property {Object} headers - HTTP headers\n * @property {Object} body - Body\n */\n\n/**\n * Fired when new message received\n * @param {Object} message\n * @event TwilsockClient#message\n */\n\n/**\n * Fired when socket connected\n * @param {String} URI of endpoint\n * @event TwilsockClient#connected\n */\n\n/**\n * Fired when socket disconnected\n * @event TwilsockClient#disconnected\n */\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/client.js","'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.promise.js","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_dom-create.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/promise.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = require(\"./logger\");\nvar TWILIO_INSTANCE_ID = 'Twilio::RTD::EmsClient::InstanceId';\nvar TWILIO_ENDPOINT_ID = 'Twilio::RTD::EndpointId';\n\nvar PersistentState = function () {\n    function PersistentState() {\n        (0, _classCallCheck3.default)(this, PersistentState);\n\n        this.cachedContinuationToken = null;\n        this.myInstanceNumber = this.initializeInstanceId();\n    }\n\n    (0, _createClass3.default)(PersistentState, [{\n        key: \"initializeInstanceId\",\n        value: function initializeInstanceId() {\n            // This method reads session storage in order to detect situation\n            // when Chrome's tab clone feature copies session storage\n            var cachedInstancesCount = function () {\n                try {\n                    if (sessionStorage) {\n                        return parseInt(sessionStorage.getItem(TWILIO_INSTANCE_ID)) || 0;\n                    }\n                } catch (e) {\n                    return 0;\n                }\n            }();\n            if (cachedInstancesCount > PersistentState.instancesCounter) {\n                PersistentState.instancesCounter = cachedInstancesCount;\n            }\n            var id = PersistentState.instancesCounter++;\n            try {\n                if (sessionStorage) {\n                    sessionStorage.setItem(TWILIO_INSTANCE_ID, PersistentState.instancesCounter.toString());\n                    if (window) {\n                        window.addEventListener('beforeunload', function () {\n                            sessionStorage.removeItem(TWILIO_INSTANCE_ID);\n                        });\n                    }\n                }\n            } catch (e) {}\n            return id;\n        }\n    }, {\n        key: \"shouldUsePersistentToken\",\n        get: function get() {\n            return this.myInstanceNumber === 0;\n        }\n    }, {\n        key: \"continuationToken\",\n        get: function get() {\n            if (this.cachedContinuationToken) {\n                return this.cachedContinuationToken;\n            }\n            try {\n                if (this.shouldUsePersistentToken && sessionStorage) {\n                    this.cachedContinuationToken = sessionStorage.getItem(TWILIO_ENDPOINT_ID);\n                    return this.cachedContinuationToken;\n                }\n            } catch (e) {\n                logger_1.default.info('Can\\'t access persistent storage', e.message);\n            }\n            return null;\n        },\n        set: function set(continuationToken) {\n            this.cachedContinuationToken = continuationToken;\n            try {\n                if (this.shouldUsePersistentToken && sessionStorage) {\n                    sessionStorage.setItem(TWILIO_ENDPOINT_ID, continuationToken);\n                }\n            } catch (e) {\n                logger_1.default.info('Can\\'t access persistent storage', e.message);\n            }\n        }\n    }]);\n    return PersistentState;\n}();\n\nPersistentState.instancesCounter = 0;\nexports.PersistentState = PersistentState;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-ems-client/browser/persistentState.js","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.symbol.js","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_collection-strong.js","/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nvar util = require('util');\n\nfunction IllegalArgumentError(message) {\n    Error.call(this, message);\n    this.message = message;\n}\nutil.inherits(IllegalArgumentError, Error);\n\nIllegalArgumentError.prototype.name = 'IllegalArgumentError';\n\nfunction IllegalStateError(message) {\n    Error.call(this, message);\n    this.message = message;\n}\nutil.inherits(IllegalStateError, Error);\n\nIllegalStateError.prototype.name = 'IllegalStateError';\n\nmodule.exports.IllegalStateError = IllegalStateError;\nmodule.exports.IllegalArgumentError = IllegalArgumentError;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/precond/lib/errors.js","// Generated by CoffeeScript 1.11.0\n(function() {\n  var Bottleneck, MIDDLE_PRIORITY, NB_PRIORITIES,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    slice = [].slice;\n\n  NB_PRIORITIES = 10;\n\n  MIDDLE_PRIORITY = 5;\n\n  Bottleneck = (function() {\n    var e;\n\n    Bottleneck[\"default\"] = Bottleneck;\n\n    Bottleneck.strategy = Bottleneck.prototype.strategy = {\n      LEAK: 1,\n      OVERFLOW: 2,\n      OVERFLOW_PRIORITY: 4,\n      BLOCK: 3\n    };\n\n    Bottleneck.Cluster = Bottleneck.prototype.Cluster = require(\"./Cluster\");\n\n    Bottleneck.DLList = Bottleneck.prototype.DLList = require(\"./DLList\");\n\n    Bottleneck.Promise = Bottleneck.prototype.Promise = (function() {\n      try {\n        return require(\"bluebird\");\n      } catch (error) {\n        e = error;\n        return typeof Promise !== \"undefined\" && Promise !== null ? Promise : function() {\n          throw new Error(\"Bottleneck: install 'bluebird' or use Node 0.12 or higher for Promise support\");\n        };\n      }\n    })();\n\n    function Bottleneck(maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb != null ? maxNb : 0;\n      this.minTime = minTime != null ? minTime : 0;\n      this.highWater = highWater != null ? highWater : -1;\n      this.strategy = strategy != null ? strategy : Bottleneck.prototype.strategy.LEAK;\n      this.rejectOnDrop = rejectOnDrop != null ? rejectOnDrop : false;\n      this.schedulePriority = bind(this.schedulePriority, this);\n      this.submitPriority = bind(this.submitPriority, this);\n      this.submit = bind(this.submit, this);\n      this._nextRequest = Date.now();\n      this._nbRunning = 0;\n      this._queues = this._makeQueues();\n      this._running = {};\n      this._nextIndex = 0;\n      this._unblockTime = 0;\n      this.penalty = (15 * this.minTime) || 5000;\n      this.interrupt = false;\n      this.reservoir = null;\n      this.limiter = null;\n      this.events = {};\n    }\n\n    Bottleneck.prototype._trigger = function(name, args) {\n      if (this.rejectOnDrop && name === \"dropped\") {\n        args[0].cb.apply({}, [new Error(\"This job has been dropped by Bottleneck\")]);\n      }\n      return setTimeout(((function(_this) {\n        return function() {\n          var ref;\n          return (ref = _this.events[name]) != null ? ref.forEach(function(e) {\n            return e.apply({}, args);\n          }) : void 0;\n        };\n      })(this)), 0);\n    };\n\n    Bottleneck.prototype._makeQueues = function() {\n      var i, j, ref, results;\n      results = [];\n      for (i = j = 1, ref = NB_PRIORITIES; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {\n        results.push(new Bottleneck.prototype.DLList());\n      }\n      return results;\n    };\n\n    Bottleneck.prototype.chain = function(limiter) {\n      this.limiter = limiter;\n      return this;\n    };\n\n    Bottleneck.prototype.isBlocked = function() {\n      return this._unblockTime >= Date.now();\n    };\n\n    Bottleneck.prototype._sanitizePriority = function(priority) {\n      var sProperty;\n      sProperty = ~~priority !== priority ? MIDDLE_PRIORITY : priority;\n      if (sProperty < 0) {\n        return 0;\n      } else if (sProperty > NB_PRIORITIES - 1) {\n        return NB_PRIORITIES - 1;\n      } else {\n        return sProperty;\n      }\n    };\n\n    Bottleneck.prototype._find = function(arr, fn) {\n      var i, j, len, x;\n      for (i = j = 0, len = arr.length; j < len; i = ++j) {\n        x = arr[i];\n        if (fn(x)) {\n          return x;\n        }\n      }\n      return [];\n    };\n\n    Bottleneck.prototype.nbQueued = function(priority) {\n      if (priority != null) {\n        return this._queues[this._sanitizePriority(priority)].length;\n      } else {\n        return this._queues.reduce((function(a, b) {\n          return a + b.length;\n        }), 0);\n      }\n    };\n\n    Bottleneck.prototype.nbRunning = function() {\n      return this._nbRunning;\n    };\n\n    Bottleneck.prototype._getFirst = function(arr) {\n      return this._find(arr, function(x) {\n        return x.length > 0;\n      });\n    };\n\n    Bottleneck.prototype._conditionsCheck = function() {\n      return (this.nbRunning() < this.maxNb || this.maxNb <= 0) && ((this.reservoir == null) || this.reservoir > 0);\n    };\n\n    Bottleneck.prototype.check = function() {\n      return this._conditionsCheck() && (this._nextRequest - Date.now()) <= 0;\n    };\n\n    Bottleneck.prototype._tryToRun = function() {\n      var done, index, next, queued, wait;\n      if (this._conditionsCheck() && (queued = this.nbQueued()) > 0) {\n        this._nbRunning++;\n        if (this.reservoir != null) {\n          this.reservoir--;\n        }\n        wait = Math.max(this._nextRequest - Date.now(), 0);\n        this._nextRequest = Date.now() + wait + this.minTime;\n        next = (this._getFirst(this._queues)).shift();\n        if (queued === 1) {\n          this._trigger(\"empty\", []);\n        }\n        done = false;\n        index = this._nextIndex++;\n        this._running[index] = {\n          timeout: setTimeout((function(_this) {\n            return function() {\n              var completed;\n              completed = function() {\n                var ref;\n                if (!done) {\n                  done = true;\n                  delete _this._running[index];\n                  _this._nbRunning--;\n                  _this._tryToRun();\n                  if (_this.nbRunning() === 0 && _this.nbQueued() === 0) {\n                    _this._trigger(\"idle\", []);\n                  }\n                  if (!_this.interrupt) {\n                    return (ref = next.cb) != null ? ref.apply({}, Array.prototype.slice.call(arguments, 0)) : void 0;\n                  }\n                }\n              };\n              if (_this.limiter != null) {\n                return _this.limiter.submit.apply(_this.limiter, Array.prototype.concat(next.task, next.args, completed));\n              } else {\n                return next.task.apply({}, next.args.concat(completed));\n              }\n            };\n          })(this), wait),\n          job: next\n        };\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Bottleneck.prototype.submit = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this.submitPriority.apply({}, Array.prototype.concat(MIDDLE_PRIORITY, args));\n    };\n\n    Bottleneck.prototype.submitPriority = function() {\n      var args, cb, j, job, priority, reachedHighWaterMark, shifted, task;\n      priority = arguments[0], task = arguments[1], args = 4 <= arguments.length ? slice.call(arguments, 2, j = arguments.length - 1) : (j = 2, []), cb = arguments[j++];\n      job = {\n        task: task,\n        args: args,\n        cb: cb\n      };\n      priority = this._sanitizePriority(priority);\n      reachedHighWaterMark = this.highWater >= 0 && this.nbQueued() === this.highWater && !this.check();\n      if (this.strategy === Bottleneck.prototype.strategy.BLOCK && (reachedHighWaterMark || this.isBlocked())) {\n        this._unblockTime = Date.now() + this.penalty;\n        this._nextRequest = this._unblockTime + this.minTime;\n        this._queues = this._makeQueues();\n        this._trigger(\"dropped\", [job]);\n        return true;\n      } else if (reachedHighWaterMark) {\n        shifted = this.strategy === Bottleneck.prototype.strategy.LEAK ? (this._getFirst(this._queues.slice(priority).reverse())).shift() : this.strategy === Bottleneck.prototype.strategy.OVERFLOW_PRIORITY ? (this._getFirst(this._queues.slice(priority + 1).reverse())).shift() : this.strategy === Bottleneck.prototype.strategy.OVERFLOW ? job : void 0;\n        if (shifted != null) {\n          this._trigger(\"dropped\", [shifted]);\n        }\n        if ((shifted == null) || this.strategy === Bottleneck.prototype.strategy.OVERFLOW) {\n          return reachedHighWaterMark;\n        }\n      }\n      this._queues[priority].push(job);\n      this._tryToRun();\n      return reachedHighWaterMark;\n    };\n\n    Bottleneck.prototype.schedule = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return this.schedulePriority.apply({}, Array.prototype.concat(MIDDLE_PRIORITY, args));\n    };\n\n    Bottleneck.prototype.schedulePriority = function() {\n      var args, priority, task, wrapped;\n      priority = arguments[0], task = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n      wrapped = function() {\n        var args, cb, j;\n        args = 2 <= arguments.length ? slice.call(arguments, 0, j = arguments.length - 1) : (j = 0, []), cb = arguments[j++];\n        return (task.apply({}, args)).then(function() {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return cb.apply({}, Array.prototype.concat(null, args));\n        })[\"catch\"](function() {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return cb.apply({}, args);\n        });\n      };\n      return new Bottleneck.prototype.Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.submitPriority.apply({}, Array.prototype.concat(priority, wrapped, args, function() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return (args[0] != null ? reject : (args.shift(), resolve)).apply({}, args);\n          }));\n        };\n      })(this));\n    };\n\n    Bottleneck.prototype.changeSettings = function(maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb != null ? maxNb : this.maxNb;\n      this.minTime = minTime != null ? minTime : this.minTime;\n      this.highWater = highWater != null ? highWater : this.highWater;\n      this.strategy = strategy != null ? strategy : this.strategy;\n      this.rejectOnDrop = rejectOnDrop != null ? rejectOnDrop : this.rejectOnDrop;\n      while (this._tryToRun()) {}\n      return this;\n    };\n\n    Bottleneck.prototype.changePenalty = function(penalty) {\n      this.penalty = penalty != null ? penalty : this.penalty;\n      return this;\n    };\n\n    Bottleneck.prototype.changeReservoir = function(reservoir) {\n      this.reservoir = reservoir;\n      while (this._tryToRun()) {}\n      return this;\n    };\n\n    Bottleneck.prototype.incrementReservoir = function(incr) {\n      if (incr == null) {\n        incr = 0;\n      }\n      this.changeReservoir(this.reservoir + incr);\n      return this;\n    };\n\n    Bottleneck.prototype.on = function(name, cb) {\n      if (this.events[name] != null) {\n        this.events[name].push(cb);\n      } else {\n        this.events[name] = [cb];\n      }\n      return this;\n    };\n\n    Bottleneck.prototype.removeAllListeners = function(name) {\n      if (name == null) {\n        name = null;\n      }\n      if (name != null) {\n        delete this.events[name];\n      } else {\n        this.events = {};\n      }\n      return this;\n    };\n\n    Bottleneck.prototype.stopAll = function(interrupt) {\n      var j, job, k, keys, l, len, len1;\n      this.interrupt = interrupt != null ? interrupt : this.interrupt;\n      keys = Object.keys(this._running);\n      for (j = 0, len = keys.length; j < len; j++) {\n        k = keys[j];\n        clearTimeout(this._running[k].timeout);\n      }\n      this._tryToRun = function() {};\n      this.check = function() {\n        return false;\n      };\n      this.submit = this.submitPriority = function() {\n        var args, cb, l;\n        args = 2 <= arguments.length ? slice.call(arguments, 0, l = arguments.length - 1) : (l = 0, []), cb = arguments[l++];\n        return cb(new Error(\"This limiter is stopped\"));\n      };\n      this.schedule = this.schedulePriority = function() {\n        return Promise.reject(new Error(\"This limiter is stopped\"));\n      };\n      if (this.interrupt) {\n        for (l = 0, len1 = keys.length; l < len1; l++) {\n          k = keys[l];\n          this._trigger(\"dropped\", [this._running[k].job]);\n        }\n      }\n      while (job = (this._getFirst(this._queues)).shift()) {\n        this._trigger(\"dropped\", [job]);\n      }\n      this._trigger(\"empty\", []);\n      if (this.nbRunning() === 0) {\n        this._trigger(\"idle\", []);\n      }\n      return this;\n    };\n\n    return Bottleneck;\n\n  })();\n\n  module.exports = Bottleneck;\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bottleneck/lib/Bottleneck.js","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/set-prototype-of.js","\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar SessionStorage = function () {\n    function SessionStorage(config, storage) {\n        (0, _classCallCheck3.default)(this, SessionStorage);\n\n        this.config = config;\n        this.storageId = null;\n        try {\n            this.storage = storage || sessionStorage;\n        } catch (e) {}\n    }\n\n    (0, _createClass3.default)(SessionStorage, [{\n        key: \"storageKey\",\n        value: function storageKey(type, key) {\n            return this.storageId + \"::\" + type + \"::\" + key;\n        }\n    }, {\n        key: \"updateStorageId\",\n        value: function updateStorageId(storageId) {\n            this.storageId = storageId;\n        }\n    }, {\n        key: \"store\",\n        value: function store(type, id, value) {\n            if (!this.isReady) {\n                return null;\n            }\n            return this._store(this.storageKey(type, id), value);\n        }\n    }, {\n        key: \"read\",\n        value: function read(type, id) {\n            if (!this.isReady) {\n                return null;\n            }\n            return this._read(this.storageKey(type, id));\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(type, sid, uniqueName) {\n            if (!this.isReady) {\n                return null;\n            }\n            try {\n                this.storage.removeItem(this.storageKey(type, sid));\n                if (uniqueName) {\n                    this.storage.removeItem(this.storageKey(type, uniqueName));\n                }\n            } catch (e) {}\n        }\n    }, {\n        key: \"update\",\n        value: function update(type, sid, uniqueName, patch) {\n            if (!this.isReady) {\n                return null;\n            }\n            // Currently cache may have root stored twice - by sid and by uniqueName\n            // Maybe need to create some index if needed\n            this._apply(this.storageKey(type, sid), patch);\n            if (uniqueName) {\n                this._apply(this.storageKey(type, uniqueName), patch);\n            }\n        }\n    }, {\n        key: \"_store\",\n        value: function _store(key, value) {\n            try {\n                this.storage.setItem(key, (0, _stringify2.default)(value));\n            } catch (e) {}\n        }\n    }, {\n        key: \"_read\",\n        value: function _read(key) {\n            try {\n                var storedData = this.storage.getItem(key);\n                if (storedData) {\n                    return JSON.parse(storedData);\n                }\n            } catch (e) {}\n            return null;\n        }\n    }, {\n        key: \"_apply\",\n        value: function _apply(key, patch) {\n            var value = this._read(key);\n            if (!value) {\n                return false;\n            }\n            this._store(key, (0, _extends3.default)(value, patch));\n        }\n    }, {\n        key: \"isReady\",\n        get: function get() {\n            return this.config.sessionStorageEnabled && !!this.storageId;\n        }\n    }]);\n    return SessionStorage;\n}();\n\nexports.SessionStorage = SessionStorage;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/services/storage.js","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_species-constructor.js","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-keys-internal.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/get-prototype-of.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = require('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _set2 = require('babel-runtime/core-js/set');\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DEFAULT_TTL = 60 * 60 * 48;\n\nfunction toArray(_set) {\n  var arr = [];\n  _set.forEach(function (v) {\n    return arr.push(v);\n  });\n  return arr;\n}\n\n/**\n * @class\n * @classdesc Registrar connector implementation for twilsock\n *\n * @constructor\n */\n\nvar TwilsockConnector = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockConnector, _EventEmitter);\n\n  function TwilsockConnector(context, twilsock, config) {\n    (0, _classCallCheck3.default)(this, TwilsockConnector);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockConnector.__proto__ || (0, _getPrototypeOf2.default)(TwilsockConnector)).call(this));\n\n    context.id = _uuid2.default.v4();\n\n    (0, _defineProperties2.default)(_this, {\n      _twilsock: { value: twilsock },\n      _messageTypes: { value: new _set3.default() },\n\n      config: { value: config },\n      context: { value: context }\n    });\n\n    twilsock.on('stateChanged', function (state) {\n      if (state !== 'connected') {\n        _this.emit('transportReady', false);\n      }\n    });\n\n    twilsock.on('registered', function (id) {\n      if (context && id === context.id && twilsock.state === 'connected') {\n        _this.emit('transportReady', true);\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * @public\n   */\n\n\n  (0, _createClass3.default)(TwilsockConnector, [{\n    key: 'setNotificationId',\n    value: function setNotificationId() {\n      return false;\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      this._twilsock.removeNotificationsContext(this.context.id);\n      this.context.id = _uuid2.default.v4();\n      this._updateContext();\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'has',\n    value: function has(messageType) {\n      return this._messageTypes.has(messageType);\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType) {\n      if (this._messageTypes.has(messageType)) {\n        _logger2.default.trace('Message type already registered ', messageType);\n        return false;\n      }\n\n      this._messageTypes.add(messageType);\n      this._updateContext();\n      return true;\n    }\n\n    /**\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType) {\n      if (!this._messageTypes.has(messageType)) {\n        return false;\n      }\n\n      this._messageTypes.delete(messageType);\n\n      if (this._messageTypes.size > 0) {\n        this._updateContext();\n      } else {\n        this._twilsock.removeNotificationsContext(this.context.id);\n      }\n\n      return true;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_updateContext',\n    value: function _updateContext() {\n      if (!this.config.token) {\n        // no token, can't do anything, ignore\n        return;\n      }\n\n      var messageTypes = toArray(this._messageTypes);\n\n      /* eslint-disable camelcase */\n      var context = {\n        product_id: this.context.productId,\n        notification_protocol_version: 4,\n        endpoint_platform: this.context.platform,\n        ttl: DEFAULT_TTL,\n        token: this.config.token,\n        message_types: messageTypes\n      };\n      /* eslint-enable camelcase */\n\n      this.emit('transportReady', false);\n      this._twilsock.setNotificationsContext(this.context.id, context);\n    }\n  }]);\n  return TwilsockConnector;\n}(_events2.default);\n\nexports.default = TwilsockConnector;\n\n\n(0, _freeze2.default)(TwilsockConnector);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/twilsock.connector.js","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.freeze.js","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_is-object.js","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/core.is-iterable.js","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = require('events');\nvar util = require('util');\n\nfunction isDef(value) {\n    return value !== undefined && value !== null;\n}\n\n// Abstract class defining the skeleton for the backoff strategies. Accepts an\n// object holding the options for the backoff strategy:\n//\n//  * `randomisationFactor`: The randomisation factor which must be between 0\n//     and 1 where 1 equates to a randomization factor of 100% and 0 to no\n//     randomization.\n//  * `initialDelay`: The backoff initial delay in milliseconds.\n//  * `maxDelay`: The backoff maximal delay in milliseconds.\nfunction BackoffStrategy(options) {\n    options = options || {};\n\n    if (isDef(options.initialDelay) && options.initialDelay < 1) {\n        throw new Error('The initial timeout must be greater than 0.');\n    } else if (isDef(options.maxDelay) && options.maxDelay < 1) {\n        throw new Error('The maximal timeout must be greater than 0.');\n    }\n\n    this.initialDelay_ = options.initialDelay || 100;\n    this.maxDelay_ = options.maxDelay || 10000;\n\n    if (this.maxDelay_ <= this.initialDelay_) {\n        throw new Error('The maximal backoff delay must be ' +\n                        'greater than the initial backoff delay.');\n    }\n\n    if (isDef(options.randomisationFactor) &&\n        (options.randomisationFactor < 0 || options.randomisationFactor > 1)) {\n        throw new Error('The randomisation factor must be between 0 and 1.');\n    }\n\n    this.randomisationFactor_ = options.randomisationFactor || 0;\n}\n\n// Gets the maximal backoff delay.\nBackoffStrategy.prototype.getMaxDelay = function() {\n    return this.maxDelay_;\n};\n\n// Gets the initial backoff delay.\nBackoffStrategy.prototype.getInitialDelay = function() {\n    return this.initialDelay_;\n};\n\n// Template method that computes and returns the next backoff delay in\n// milliseconds.\nBackoffStrategy.prototype.next = function() {\n    var backoffDelay = this.next_();\n    var randomisationMultiple = 1 + Math.random() * this.randomisationFactor_;\n    var randomizedDelay = Math.round(backoffDelay * randomisationMultiple);\n    return randomizedDelay;\n};\n\n// Computes and returns the next backoff delay. Intended to be overridden by\n// subclasses.\nBackoffStrategy.prototype.next_ = function() {\n    throw new Error('BackoffStrategy.next_() unimplemented.');\n};\n\n// Template method that resets the backoff delay to its initial value.\nBackoffStrategy.prototype.reset = function() {\n    this.reset_();\n};\n\n// Resets the backoff delay to its initial value. Intended to be overridden by\n// subclasses.\nBackoffStrategy.prototype.reset_ = function() {\n    throw new Error('BackoffStrategy.reset_() unimplemented.');\n};\n\nmodule.exports = BackoffStrategy;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/lib/strategy/strategy.js","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/web.dom.iterable.js","// Generated by CoffeeScript 1.11.0\n(function() {\n  var DLList;\n\n  DLList = (function() {\n    function DLList() {\n      this._first = null;\n      this._last = null;\n      this.length = 0;\n    }\n\n    DLList.prototype.push = function(value) {\n      var node;\n      this.length++;\n      node = {\n        value: value,\n        next: null\n      };\n      if (this._last != null) {\n        this._last.next = node;\n        this._last = node;\n      } else {\n        this._first = this._last = node;\n      }\n      return void 0;\n    };\n\n    DLList.prototype.shift = function() {\n      var ref1, value;\n      if (this._first == null) {\n        return void 0;\n      } else {\n        this.length--;\n      }\n      value = this._first.value;\n      this._first = (ref1 = this._first.next) != null ? ref1 : (this._last = null);\n      return value;\n    };\n\n    DLList.prototype.getArray = function() {\n      var node, ref, results;\n      node = this._first;\n      results = [];\n      while (node != null) {\n        results.push((ref = node, node = node.next, ref.value));\n      }\n      return results;\n    };\n\n    return DLList;\n\n  })();\n\n  module.exports = DLList;\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bottleneck/lib/DLList.js","// Generated by CoffeeScript 1.11.0\n(function() {\n  var Cluster,\n    hasProp = {}.hasOwnProperty;\n\n  Cluster = (function() {\n    function Cluster(maxNb, minTime, highWater, strategy, rejectOnDrop) {\n      this.maxNb = maxNb;\n      this.minTime = minTime;\n      this.highWater = highWater;\n      this.strategy = strategy;\n      this.rejectOnDrop = rejectOnDrop;\n      this.limiters = {};\n      this.Bottleneck = require(\"./Bottleneck\");\n      this.timeout = 1000 * 60 * 5;\n      this.startAutoCleanup();\n    }\n\n    Cluster.prototype.key = function(key) {\n      var ref;\n      if (key == null) {\n        key = \"\";\n      }\n      return (ref = this.limiters[key]) != null ? ref : (this.limiters[key] = new this.Bottleneck(this.maxNb, this.minTime, this.highWater, this.strategy, this.rejectOnDrop));\n    };\n\n    Cluster.prototype.deleteKey = function(key) {\n      if (key == null) {\n        key = \"\";\n      }\n      return delete this.limiters[key];\n    };\n\n    Cluster.prototype.all = function(cb) {\n      var k, ref, results, v;\n      ref = this.limiters;\n      results = [];\n      for (k in ref) {\n        if (!hasProp.call(ref, k)) continue;\n        v = ref[k];\n        results.push(cb(v));\n      }\n      return results;\n    };\n\n    Cluster.prototype.keys = function() {\n      return Object.keys(this.limiters);\n    };\n\n    Cluster.prototype.startAutoCleanup = function() {\n      var base;\n      this.stopAutoCleanup();\n      return typeof (base = (this.interval = setInterval((function(_this) {\n        return function() {\n          var k, ref, results, time, v;\n          time = Date.now();\n          ref = _this.limiters;\n          results = [];\n          for (k in ref) {\n            v = ref[k];\n            if ((v._nextRequest + _this.timeout) < time) {\n              results.push(_this.deleteKey(k));\n            } else {\n              results.push(void 0);\n            }\n          }\n          return results;\n        };\n      })(this), this.timeout / 10))).unref === \"function\" ? base.unref() : void 0;\n    };\n\n    Cluster.prototype.stopAutoCleanup = function() {\n      return clearInterval(this.interval);\n    };\n\n    Cluster.prototype.changeTimeout = function(timeout) {\n      this.timeout = timeout;\n      return this.startAutoCleanup();\n    };\n\n    return Cluster;\n\n  })();\n\n  module.exports = Cluster;\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bottleneck/lib/Cluster.js","/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nmodule.exports = require('./lib/checks');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/precond/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = require('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _registrar = require('./registrar.connector');\n\nvar _registrar2 = _interopRequireDefault(_registrar);\n\nvar _twilsock = require('./twilsock.connector');\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates the new instance of ERS registrar client\n *\n * @class Registrar\n * @classdesc Provides an interface to the ERS registrar\n */\nvar Registrar = function (_EventEmitter) {\n  (0, _inherits3.default)(Registrar, _EventEmitter);\n\n  function Registrar(productId, transport, twilsock, config) {\n    (0, _classCallCheck3.default)(this, Registrar);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Registrar.__proto__ || (0, _getPrototypeOf2.default)(Registrar)).call(this));\n\n    (0, _defineProperties2.default)(_this, {\n      _conf: { value: config },\n      _connectors: { value: new _map2.default() }\n    });\n\n    var platform = _this._detectPlatform();\n\n    _this._connectors.set('twilsock', new _twilsock2.default({ productId: productId, platform: platform }, twilsock, config));\n    _this._connectors.set('gcm', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'gcm'));\n    _this._connectors.set('fcm', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'fcm'));\n    _this._connectors.set('apn', new _registrar2.default({ productId: productId, platform: platform }, transport, config, 'apn'));\n\n    _this._connectors.get('twilsock').on('transportReady', function (state) {\n      return _this.emit('transportReady', state);\n    });\n\n    return _this;\n  }\n\n  /**\n   *  Sets notification ID.\n   *  If new URI is different from previous, it triggers updating of registration for given channel\n   *\n   *  @param {string} channelType channel type (apn|gcm|fcm|twilsock)\n   *  @param {string} notificationId The notification ID\n   */\n\n\n  (0, _createClass3.default)(Registrar, [{\n    key: 'setNotificationId',\n    value: function setNotificationId(channelType, notificationId) {\n      this._connector(channelType).setNotificationId(notificationId);\n    }\n\n    /**\n     * Checks if subscription for given message and channel already exists\n     */\n\n  }, {\n    key: 'hasSubscription',\n    value: function hasSubscription(messageType, channelType) {\n      this._connector(channelType).has(messageType);\n    }\n\n    /**\n     * Subscribe for given type of message\n     *\n     * @param {String} messageType Message type identifier\n     * @param {String} channelType Channel type, can be 'twilsock', 'gcm' or 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType, channelType) {\n      this._connector(channelType).subscribe(messageType);\n    }\n\n    /**\n     * Remove subscription\n     * @param {String} messageType Message type\n     * @param {String} channelType Channel type (twilsock or gcm/fcm)\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType, channelType) {\n      this._connector(channelType).unsubscribe(messageType);\n    }\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      this._connectors.forEach(function (connector) {\n        return connector.updateToken();\n      });\n    }\n\n    /**\n     * @param {String} type Channel type\n     * @throws {Error} Error with description\n     * @private\n     */\n\n  }, {\n    key: '_connector',\n    value: function _connector(type) {\n      var connector = this._connectors.get(type);\n      if (!connector) {\n        throw new Error('Unknown channel type: ' + type);\n      }\n      return connector;\n    }\n\n    /**\n     * Returns platform string limited to max 128 chars\n     * @private\n     */\n\n  }, {\n    key: '_detectPlatform',\n    value: function _detectPlatform() {\n      var _platform = '';\n      if (typeof navigator !== 'undefined') {\n        _platform = 'unknown';\n        if (typeof navigator.product !== 'undefined') {\n          _platform = navigator.product;\n        }\n        if (typeof navigator.userAgent !== 'undefined') {\n          _platform = navigator.userAgent;\n        }\n      } else {\n        _platform = 'web';\n      }\n\n      return _platform.substring(0, 128);\n    }\n  }]);\n  return Registrar;\n}(_events2.default);\n\nexports.default = Registrar;\n\n\n(0, _freeze2.default)(Registrar);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/registrar.js","function createBooleanMapOfArray(array) {\n  return array.reduce((map, entry) => ({ ...map, [entry]: true }), {});\n}\n\nconst SYNC_NAMES = {\n  ORDER_QUEUE: 'orderQueue_',\n  CONFIGURATION: 'configuration',\n  EVENT_CONFIG: 'event_',\n  CUSTOMERS: 'customers',\n  ALL_ORDERS: 'allOrders_',\n  METRICS: 'metrics'\n};\n\nconst DEFAULT_JSON_ENTRY_KEY = 'CHOOSE_KEY';\n\nconst TAGS = {\n  INTERACTED: 'interacted',\n  ALL: 'all',\n  OPEN_ORDER: 'open-order',\n  PREFIX_EVENT: 'event_',\n};\n\nconst INTENTS = {\n  HELP: 'help',\n  QUEUE: 'queue',\n  ORDER: 'order',\n  CANCEL: 'cancel',\n  INVALID: 'invalid',\n  UNREGISTER: 'unregister',\n  REGISTER: 'register',\n  GET_EVENT: 'getEvent',\n};\n\nconst COOKIES = {\n  CUSTOMER_STATE: 'CustomerState',\n  EVENT_MAPPING: 'EventMapping',\n  ORIGINAL_MESSAGE: 'PreviousMessage',\n};\n\nconst CUSTOMER_STATES = {\n  SET: 'set-eventId',\n};\n\n/**\n * These are all coffee options that can actually be ordered\n */\nconst AVAILABLE_DEFAULT_OPTIONS = [\n  'Espresso',\n  'Cappuccino',\n  'Latte',\n  'Americano',\n  'Flat White',\n  'Filter Coffee',\n  'Hot Chocolate',\n];\n\n/**\n * This is a rudamentary solution to solve typos. All these\n * wrong spellings will map to an actual available coffee.\n */\nconst SPELLING_MISTAKES = {\n  expreso: 'Espresso',\n  expresso: 'Espresso',\n  espresso: 'Espresso',\n  cappacino: 'Cappuccino',\n  capacino: 'Cappuccino',\n  cappocino: 'Cappuccino',\n  capocino: 'Cappuccino',\n  cappucino: 'Cappuccino',\n  cappuccino: 'Cappuccino',\n  capuccino: 'Cappuccino',\n  capochino: 'Cappuccino',\n  late: 'Latte',\n  lattey: 'Latte',\n  larte: 'Latte',\n  lattee: 'Latte',\n  latte: 'Latte',\n  'cafe late': 'Latte',\n  'caffeé latte': 'Latte',\n  'caffe latte': 'Latte',\n  americano: 'Americano',\n  'white americano': 'Americano',\n  caffeé: 'Americano',\n  'flat white': 'Flat White',\n  flatwhite: 'Flat White',\n  'flat-white': 'Flat White',\n  'flatt white': 'Flat White',\n  'filter coffee': 'Filter Coffee',\n  coffee: 'Filter Coffee',\n  'fliter coffee': 'Filter Coffee',\n  'hot chocolate': 'Hot Chocolate',\n  chocolate: 'Hot Chocolate',\n  cocolate: 'Hot Chocolate',\n};\n\nconst DEFAULT_CONFIGURATION = {\n  connectedPhoneNumbers: [],\n  spellingMap: SPELLING_MISTAKES,\n};\n\nconst DEFAULT_EVENT_CONFIGURATION = {\n  isOn: true,\n  isVisible: false,\n  mode: 'barista',\n  offlineMessage: 'We are sorry but there is currently no coffee.',\n  availableCoffees: createBooleanMapOfArray(AVAILABLE_DEFAULT_OPTIONS),\n  repoUrl: 'bit.ly/twilio-barista',\n  expectedOrders: 300,\n  visibleNumbers: [],\n};\n\nmodule.exports = {\n  AVAILABLE_DEFAULT_OPTIONS,\n  DEFAULT_CONFIGURATION,\n  DEFAULT_EVENT_CONFIGURATION,\n  DEFAULT_JSON_ENTRY_KEY,\n  INTENTS,\n  SPELLING_MISTAKES,\n  SYNC_NAMES,\n  TAGS,\n  COOKIES,\n  CUSTOMER_STATES,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../shared/consts.js","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = require('events');\nvar precond = require('precond');\nvar util = require('util');\n\n// A class to hold the state of a backoff operation. Accepts a backoff strategy\n// to generate the backoff delays.\nfunction Backoff(backoffStrategy) {\n    events.EventEmitter.call(this);\n\n    this.backoffStrategy_ = backoffStrategy;\n    this.maxNumberOfRetry_ = -1;\n    this.backoffNumber_ = 0;\n    this.backoffDelay_ = 0;\n    this.timeoutID_ = -1;\n\n    this.handlers = {\n        backoff: this.onBackoff_.bind(this)\n    };\n}\nutil.inherits(Backoff, events.EventEmitter);\n\n// Sets a limit, greater than 0, on the maximum number of backoffs. A 'fail'\n// event will be emitted when the limit is reached.\nBackoff.prototype.failAfter = function(maxNumberOfRetry) {\n    precond.checkArgument(maxNumberOfRetry > 0,\n        'Expected a maximum number of retry greater than 0 but got %s.',\n        maxNumberOfRetry);\n\n    this.maxNumberOfRetry_ = maxNumberOfRetry;\n};\n\n// Starts a backoff operation. Accepts an optional parameter to let the\n// listeners know why the backoff operation was started.\nBackoff.prototype.backoff = function(err) {\n    precond.checkState(this.timeoutID_ === -1, 'Backoff in progress.');\n\n    if (this.backoffNumber_ === this.maxNumberOfRetry_) {\n        this.emit('fail', err);\n        this.reset();\n    } else {\n        this.backoffDelay_ = this.backoffStrategy_.next();\n        this.timeoutID_ = setTimeout(this.handlers.backoff, this.backoffDelay_);\n        this.emit('backoff', this.backoffNumber_, this.backoffDelay_, err);\n    }\n};\n\n// Handles the backoff timeout completion.\nBackoff.prototype.onBackoff_ = function() {\n    this.timeoutID_ = -1;\n    this.emit('ready', this.backoffNumber_, this.backoffDelay_);\n    this.backoffNumber_++;\n};\n\n// Stops any backoff operation and resets the backoff delay to its inital value.\nBackoff.prototype.reset = function() {\n    this.backoffNumber_ = 0;\n    this.backoffStrategy_.reset();\n    clearTimeout(this.timeoutID_);\n    this.timeoutID_ = -1;\n};\n\nmodule.exports = Backoff;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/lib/backoff.js","\"use strict\";\n\nvar _from = require(\"babel-runtime/core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar log = require(\"loglevel\");\nfunction prepareLine(prefix, args) {\n    return [prefix].concat((0, _from2.default)(args));\n}\nexports.default = {\n    setLevel: function setLevel(level) {\n        log.setLevel(level);\n    },\n    trace: function trace() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        log.trace.apply(null, prepareLine('Sync T:', args));\n    },\n    debug: function debug() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        log.debug.apply(null, prepareLine('Sync D:', args));\n    },\n    info: function info() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        log.info.apply(null, prepareLine('Sync I:', args));\n    },\n    warn: function warn() {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n        }\n\n        log.warn.apply(null, prepareLine('Sync W:', args));\n    },\n    error: function error() {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n        }\n\n        log.error.apply(null, prepareLine('Sync E:', args));\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/logger.js","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iobject.js","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-primitive.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _from = require('babel-runtime/core-js/array/from');\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _loglevel = require('loglevel');\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction prepareLine(prefix, args) {\n  return [prefix].concat((0, _from2.default)(args));\n}\n\nexports.default = {\n  setLevel: function setLevel(level) {\n    _loglevel2.default.setLevel(level);\n  },\n\n  trace: function trace() {\n    _loglevel2.default.trace.apply(null, prepareLine('Notify T:', arguments));\n  },\n  debug: function debug() {\n    _loglevel2.default.debug.apply(null, prepareLine('Notify D:', arguments));\n  },\n  info: function info() {\n    _loglevel2.default.info.apply(null, prepareLine('Notify I:', arguments));\n  },\n  warn: function warn() {\n    _loglevel2.default.warn.apply(null, prepareLine('Notify W:', arguments));\n  },\n  error: function error() {\n    _loglevel2.default.error.apply(null, prepareLine('Notify E:', arguments));\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/logger.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/define-property.js","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_set-species.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/events/events.js","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperties: require('./_object-dps')});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.define-properties.js","\"use strict\";\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\n\nvar SyncEntity = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(SyncEntity, _events_1$EventEmitte);\n\n    function SyncEntity(services, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncEntity);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncEntity.__proto__ || (0, _getPrototypeOf2.default)(SyncEntity)).call(this));\n\n        _this.services = services;\n        _this.removalHandler = removalHandler;\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncEntity, [{\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {}\n    }, {\n        key: \"reportFailure\",\n        value: function reportFailure(err) {\n            if (err.status === 404) {\n                // assume that 404 means that entity has been removed while we were away\n                this.onRemoved(false);\n            } else {\n                this.emit('failure', err);\n            }\n        }\n        /**\n         * Subscribe to changes of data entity\n         * @private\n         */\n\n    }, {\n        key: \"_subscribe\",\n        value: function _subscribe() {\n            this.services.router.subscribe(this.sid, this);\n            return this;\n        }\n        /**\n         * Unsubscribe from changes of current data entity\n         * @private\n         */\n\n    }, {\n        key: \"_unsubscribe\",\n        value: function _unsubscribe() {\n            this.services.router.unsubscribe(this.sid, this);\n            return this;\n        }\n        /**\n         * @public\n         */\n\n    }, {\n        key: \"close\",\n        value: function close() {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n        }\n    }]);\n    return SyncEntity;\n}(events_1.EventEmitter);\n\nexports.SyncEntity = SyncEntity;\nexports.default = SyncEntity;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/entity.js","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-dp.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/typeof.js","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_microtask.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _client = require('./client');\n\nvar _client2 = _interopRequireDefault(_client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _client2.default;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/index.js","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-gpo.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/json/stringify.js","module.exports = function(){ /* empty */ };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_add-to-unscopables.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TwilsockUnavailableError = exports.Transport = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _httprequest = require('./httprequest');\n\nvar _httprequest2 = _interopRequireDefault(_httprequest);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction parseUri(uri) {\n  var match = uri.match(/^(https?\\:)\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)(\\/[^?#]*)(\\?[^#]*|)(#.*|)$/);\n  if (match) {\n    var uriStruct = {\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    };\n\n    if (uriStruct.search.length > 0) {\n      var paramsString = uriStruct.search.substring(1);\n      uriStruct.params = paramsString.split('&').map(function (el) {\n        return el.split('=');\n      }).reduce(function (prev, curr) {\n        if (!prev.hasOwnProperty(curr[0])) {\n          prev[curr[0]] = curr[1];\n        } else if (Array.isArray(prev[curr[0]])) {\n          prev[curr[0]].push(curr[1]);\n        } else {\n          prev[curr[0]] = [prev[curr[0]], curr[1]];\n        }\n        return prev;\n      }, {});\n    }\n    return uriStruct;\n  }\n  throw new Error('Incorrect URI: ' + uri);\n}\n\nfunction twilsockAddress(method, uri) {\n  var parsedUri = parseUri(uri);\n  var to = {\n    method: method,\n    host: parsedUri.host,\n    path: parsedUri.pathname\n  };\n  if (parsedUri.params) {\n    to.params = parsedUri.params;\n  }\n  return to;\n}\n\nfunction twilsockParams(type, uri, headers, body) {\n  return {\n    to: twilsockAddress(type, uri),\n    headers: headers,\n    body: body\n  };\n}\n\nfunction adaptTwilsockResponse(response) {\n  return { status: response.status,\n    headers: response.header.http_headers,\n    body: response.body };\n}\n\nfunction httpParams(uri, headers, body) {\n  return {\n    url: uri,\n    headers: headers,\n    body: body\n  };\n}\n\nfunction adaptHttpResponse(response) {\n  try {\n    response.body = JSON.parse(response.body);\n  } catch (e) {} // eslint-disable-line no-empty\n  return response;\n}\n\n/**\n * By RFC header names are case-insensitive\n * though it is much easier to work with them in code\n * when they have any specific case.\n * So we forcefully lowercase all headers\n */\nfunction lowercaseHeaders(response) {\n  var keys = Object.keys(response.headers);\n  var n = keys.length;\n  var headers = {};\n  while (n--) {\n    var key = keys[n];\n    headers[key.toLowerCase()] = response.headers[key];\n  }\n  response.headers = headers;\n  return response;\n}\n\n/**\n * Transport specific error.\n * Being fired when twilsock-only transmission requested but not available\n * @inherits Error\n */\n\nvar TwilsockUnavailableError = function (_extendableBuiltin2) {\n  _inherits(TwilsockUnavailableError, _extendableBuiltin2);\n\n  function TwilsockUnavailableError() {\n    _classCallCheck(this, TwilsockUnavailableError);\n\n    return _possibleConstructorReturn(this, (TwilsockUnavailableError.__proto__ || Object.getPrototypeOf(TwilsockUnavailableError)).call(this));\n  }\n\n  return TwilsockUnavailableError;\n}(_extendableBuiltin(Error));\n\n/**\n * Provides generic network interface\n */\n\n\nvar Transport = function () {\n  function Transport(twilsock) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Transport);\n\n    Object.defineProperties(this, {\n      _activeGetRequests: { value: new Map() },\n      _twilsock: { value: twilsock },\n      _http: { value: _httprequest2.default },\n      _twilsockIsAvailable: { get: function get() {\n          return _this2._twilsock && _this2._twilsock.isConnected;\n        } },\n\n      _concurrentHttpRequestLimit: { value: options.concurrentHttpRequestLimit || Infinity },\n      _concurrentHttpRequestCount: { value: 0, writable: true },\n      _requestQueue: { value: [] }\n    });\n\n    if (twilsock) {\n      twilsock.connect();\n      twilsock.on('connected', function () {\n        return _this2._processQueuedRequests();\n      });\n    }\n  }\n\n  /**\n   * Make a GET request by given URI\n   *\n   * This function applies \"multiplexing\" optimization.\n   * If several requests for the same URI happen on the same time,\n   * only one will really happen, but all clients will see th result.\n   *\n   * @Returns Promise<Response> Result of successful get request\n   */\n\n\n  _createClass(Transport, [{\n    key: 'get',\n    value: function get(uri, headers, forceTwilsock) {\n      var _this3 = this;\n\n      if (this._activeGetRequests.has(uri)) {\n        return this._activeGetRequests.get(uri);\n      }\n\n      var promise = this._get(uri, headers, forceTwilsock).then(function (response) {\n        _this3._activeGetRequests.delete(uri);\n        return response;\n      }).catch(function (error) {\n        _this3._activeGetRequests.delete(uri);\n        throw error;\n      });\n\n      this._activeGetRequests.set(uri, promise);\n      return promise;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_oneOfBasedOnChannelAvailability',\n    value: function _oneOfBasedOnChannelAvailability(sendingOptions, forceTwilsock) {\n      var _this4 = this;\n\n      var requestVia = function requestVia(paths) {\n        var sendViaTwilsock = paths.sendViaTwilsock,\n            sendDirectHttp = paths.sendDirectHttp;\n\n        if (_this4._twilsockIsAvailable) {\n          return sendViaTwilsock();\n        } else if (forceTwilsock) {\n          return Promise.reject(new TwilsockUnavailableError());\n        } else if (_this4._concurrentHttpRequestCount >= _this4._concurrentHttpRequestLimit) {\n          return new Promise(function (resolve, reject) {\n            return _this4._requestQueue.push({ sendingOptions: sendingOptions, resolve: resolve, reject: reject });\n          });\n        }\n\n        _this4._concurrentHttpRequestCount++;\n        return sendDirectHttp().then(function (r) {\n          _this4._concurrentHttpRequestCount--;\n          _this4._processQueuedRequests();\n          return r;\n        }).catch(function (err) {\n          _this4._concurrentHttpRequestCount--;\n          _this4._processQueuedRequests();\n          throw err;\n        });\n      };\n\n      return requestVia(sendingOptions).then(lowercaseHeaders);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_processQueuedRequests',\n    value: function _processQueuedRequests() {\n      while (this._requestQueue.length > 0 && (this._twilsockIsAvailable || this._concurrentHttpRequestCount < this._concurrentHttpRequestLimit)) {\n\n        var r = this._requestQueue.shift();\n        this._oneOfBasedOnChannelAvailability(r.sendingOptions, false).then(r.resolve).catch(r.reject);\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_get',\n    value: function _get(uri, headers, forceTwilsock) {\n      var _this5 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this5._twilsock.send(twilsockParams('GET', uri, headers)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this5._http.get(httpParams(uri, headers)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a POST request by given URI\n     * @returns {Promise<Response>} Result of successful request\n     */\n\n  }, {\n    key: 'post',\n    value: function post(uri, headers, body, forceTwilsock) {\n      var _this6 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this6._twilsock.send(twilsockParams('POST', uri, headers, body)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this6._http.post(httpParams(uri, headers, body)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a PUT request by given URI\n     * @returns Promise<Response> Result of successful request\n     */\n\n  }, {\n    key: 'put',\n    value: function put(uri, headers, body, forceTwilsock) {\n      var _this7 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this7._twilsock.send(twilsockParams('PUT', uri, headers, body)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this7._http.put(httpParams(uri, headers, body)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n\n    /**\n     * Make a DELETE request by given URI\n     * @returns {Promise<Response>} Result of successful request\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(uri, headers, forceTwilsock) {\n      var _this8 = this;\n\n      return this._oneOfBasedOnChannelAvailability({\n        sendViaTwilsock: function sendViaTwilsock() {\n          return _this8._twilsock.send(twilsockParams('DELETE', uri, headers)).then(adaptTwilsockResponse);\n        },\n        sendDirectHttp: function sendDirectHttp() {\n          return _this8._http.delete(httpParams(uri, headers)).then(adaptHttpResponse);\n        }\n      }, forceTwilsock);\n    }\n  }]);\n\n  return Transport;\n}();\n\nexports.default = Transport;\nexports.Transport = Transport;\nexports.TwilsockUnavailableError = TwilsockUnavailableError;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-transport/lib/transport.js","/**\n\tC-like unsigned 64 bits integers in Javascript\n\tCopyright (C) 2013, Pierre Curto\n\tMIT license\n */\n;(function (root) {\n\n\t// Local cache for typical radices\n\tvar radixPowerCache = {\n\t\t16: UINT64( Math.pow(16, 5) )\n\t,\t10: UINT64( Math.pow(10, 5) )\n\t,\t2:  UINT64( Math.pow(2, 5) )\n\t}\n\tvar radixCache = {\n\t\t16: UINT64(16)\n\t,\t10: UINT64(10)\n\t,\t2:  UINT64(2)\n\t}\n\n\t/**\n\t *\tRepresents an unsigned 64 bits integer\n\t * @constructor\n\t * @param {Number} first low bits (8)\n\t * @param {Number} second low bits (8)\n\t * @param {Number} first high bits (8)\n\t * @param {Number} second high bits (8)\n\t * or\n\t * @param {Number} low bits (32)\n\t * @param {Number} high bits (32)\n\t * or\n\t * @param {String|Number} integer as a string \t\t | integer as a number\n\t * @param {Number|Undefined} radix (optional, default=10)\n\t * @return \n\t */\n\tfunction UINT64 (a00, a16, a32, a48) {\n\t\tif ( !(this instanceof UINT64) )\n\t\t\treturn new UINT64(a00, a16, a32, a48)\n\n\t\tthis.remainder = null\n\t\tif (typeof a00 == 'string')\n\t\t\treturn fromString.call(this, a00, a16)\n\n\t\tif (typeof a16 == 'undefined')\n\t\t\treturn fromNumber.call(this, a00)\n\n\t\tfromBits.apply(this, arguments)\n\t}\n\n\t/**\n\t * Set the current _UINT64_ object with its low and high bits\n\t * @method fromBits\n\t * @param {Number} first low bits (8)\n\t * @param {Number} second low bits (8)\n\t * @param {Number} first high bits (8)\n\t * @param {Number} second high bits (8)\n\t * or\n\t * @param {Number} low bits (32)\n\t * @param {Number} high bits (32)\n\t * @return ThisExpression\n\t */\n\tfunction fromBits (a00, a16, a32, a48) {\n\t\tif (typeof a32 == 'undefined') {\n\t\t\tthis._a00 = a00 & 0xFFFF\n\t\t\tthis._a16 = a00 >>> 16\n\t\t\tthis._a32 = a16 & 0xFFFF\n\t\t\tthis._a48 = a16 >>> 16\n\t\t\treturn this\n\t\t}\n\n\t\tthis._a00 = a00 | 0\n\t\tthis._a16 = a16 | 0\n\t\tthis._a32 = a32 | 0\n\t\tthis._a48 = a48 | 0\n\n\t\treturn this\n\t}\n\tUINT64.prototype.fromBits = fromBits\n\n\t/**\n\t * Set the current _UINT64_ object from a number\n\t * @method fromNumber\n\t * @param {Number} number\n\t * @return ThisExpression\n\t */\n\tfunction fromNumber (value) {\n\t\tthis._a00 = value & 0xFFFF\n\t\tthis._a16 = value >>> 16\n\t\tthis._a32 = 0\n\t\tthis._a48 = 0\n\n\t\treturn this\n\t}\n\tUINT64.prototype.fromNumber = fromNumber\n\n\t/**\n\t * Set the current _UINT64_ object from a string\n\t * @method fromString\n\t * @param {String} integer as a string\n\t * @param {Number} radix (optional, default=10)\n\t * @return ThisExpression\n\t */\n\tfunction fromString (s, radix) {\n\t\tradix = radix || 10\n\n\t\tthis._a00 = 0\n\t\tthis._a16 = 0\n\t\tthis._a32 = 0\n\t\tthis._a48 = 0\n\n\t\t/*\n\t\t\tIn Javascript, bitwise operators only operate on the first 32 bits \n\t\t\tof a number, even though parseInt() encodes numbers with a 53 bits \n\t\t\tmantissa.\n\t\t\tTherefore UINT64(<Number>) can only work on 32 bits.\n\t\t\tThe radix maximum value is 36 (as per ECMA specs) (26 letters + 10 digits)\n\t\t\tmaximum input value is m = 32bits as 1 = 2^32 - 1\n\t\t\tSo the maximum substring length n is:\n\t\t\t36^(n+1) - 1 = 2^32 - 1\n\t\t\t36^(n+1) = 2^32\n\t\t\t(n+1)ln(36) = 32ln(2)\n\t\t\tn = 32ln(2)/ln(36) - 1\n\t\t\tn = 5.189644915687692\n\t\t\tn = 5\n\t\t */\n\t\tvar radixUint = radixPowerCache[radix] || new UINT64( Math.pow(radix, 5) )\n\n\t\tfor (var i = 0, len = s.length; i < len; i += 5) {\n\t\t\tvar size = Math.min(5, len - i)\n\t\t\tvar value = parseInt( s.slice(i, i + size), radix )\n\t\t\tthis.multiply(\n\t\t\t\t\tsize < 5\n\t\t\t\t\t\t? new UINT64( Math.pow(radix, size) )\n\t\t\t\t\t\t: radixUint\n\t\t\t\t)\n\t\t\t\t.add( new UINT64(value) )\n\t\t}\n\n\t\treturn this\n\t}\n\tUINT64.prototype.fromString = fromString\n\n\t/**\n\t * Convert this _UINT64_ to a number (last 32 bits are dropped)\n\t * @method toNumber\n\t * @return {Number} the converted UINT64\n\t */\n\tUINT64.prototype.toNumber = function () {\n\t\treturn (this._a16 * 65536) + this._a00\n\t}\n\n\t/**\n\t * Convert this _UINT64_ to a string\n\t * @method toString\n\t * @param {Number} radix (optional, default=10)\n\t * @return {String} the converted UINT64\n\t */\n\tUINT64.prototype.toString = function (radix) {\n\t\tradix = radix || 10\n\t\tvar radixUint = radixCache[radix] || new UINT64(radix)\n\n\t\tif ( !this.gt(radixUint) ) return this.toNumber().toString(radix)\n\n\t\tvar self = this.clone()\n\t\tvar res = new Array(64)\n\t\tfor (var i = 63; i >= 0; i--) {\n\t\t\tself.div(radixUint)\n\t\t\tres[i] = self.remainder.toNumber().toString(radix)\n\t\t\tif ( !self.gt(radixUint) ) break\n\t\t}\n\t\tres[i-1] = self.toNumber().toString(radix)\n\n\t\treturn res.join('')\n\t}\n\n\t/**\n\t * Add two _UINT64_. The current _UINT64_ stores the result\n\t * @method add\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.add = function (other) {\n\t\tvar a00 = this._a00 + other._a00\n\n\t\tvar a16 = a00 >>> 16\n\t\ta16 += this._a16 + other._a16\n\n\t\tvar a32 = a16 >>> 16\n\t\ta32 += this._a32 + other._a32\n\n\t\tvar a48 = a32 >>> 16\n\t\ta48 += this._a48 + other._a48\n\n\t\tthis._a00 = a00 & 0xFFFF\n\t\tthis._a16 = a16 & 0xFFFF\n\t\tthis._a32 = a32 & 0xFFFF\n\t\tthis._a48 = a48 & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Subtract two _UINT64_. The current _UINT64_ stores the result\n\t * @method subtract\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.subtract = function (other) {\n\t\treturn this.add( other.clone().negate() )\n\t}\n\n\t/**\n\t * Multiply two _UINT64_. The current _UINT64_ stores the result\n\t * @method multiply\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.multiply = function (other) {\n\t\t/*\n\t\t\ta = a00 + a16 + a32 + a48\n\t\t\tb = b00 + b16 + b32 + b48\n\t\t\ta*b = (a00 + a16 + a32 + a48)(b00 + b16 + b32 + b48)\n\t\t\t\t= a00b00 + a00b16 + a00b32 + a00b48\n\t\t\t\t+ a16b00 + a16b16 + a16b32 + a16b48\n\t\t\t\t+ a32b00 + a32b16 + a32b32 + a32b48\n\t\t\t\t+ a48b00 + a48b16 + a48b32 + a48b48\n\n\t\t\ta16b48, a32b32, a48b16, a48b32 and a48b48 overflow the 64 bits\n\t\t\tso it comes down to:\n\t\t\ta*b\t= a00b00 + a00b16 + a00b32 + a00b48\n\t\t\t\t+ a16b00 + a16b16 + a16b32\n\t\t\t\t+ a32b00 + a32b16\n\t\t\t\t+ a48b00\n\t\t\t\t= a00b00\n\t\t\t\t+ a00b16 + a16b00\n\t\t\t\t+ a00b32 + a16b16 + a32b00\n\t\t\t\t+ a00b48 + a16b32 + a32b16 + a48b00\n\t\t */\n\t\tvar a00 = this._a00\n\t\tvar a16 = this._a16\n\t\tvar a32 = this._a32\n\t\tvar a48 = this._a48\n\t\tvar b00 = other._a00\n\t\tvar b16 = other._a16\n\t\tvar b32 = other._a32\n\t\tvar b48 = other._a48\n\n\t\tvar c00 = a00 * b00\n\n\t\tvar c16 = c00 >>> 16\n\t\tc16 += a00 * b16\n\t\tvar c32 = c16 >>> 16\n\t\tc16 &= 0xFFFF\n\t\tc16 += a16 * b00\n\n\t\tc32 += c16 >>> 16\n\t\tc32 += a00 * b32\n\t\tvar c48 = c32 >>> 16\n\t\tc32 &= 0xFFFF\n\t\tc32 += a16 * b16\n\t\tc48 += c32 >>> 16\n\t\tc32 &= 0xFFFF\n\t\tc32 += a32 * b00\n\n\t\tc48 += c32 >>> 16\n\t\tc48 += a00 * b48\n\t\tc48 &= 0xFFFF\n\t\tc48 += a16 * b32\n\t\tc48 &= 0xFFFF\n\t\tc48 += a32 * b16\n\t\tc48 &= 0xFFFF\n\t\tc48 += a48 * b00\n\n\t\tthis._a00 = c00 & 0xFFFF\n\t\tthis._a16 = c16 & 0xFFFF\n\t\tthis._a32 = c32 & 0xFFFF\n\t\tthis._a48 = c48 & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Divide two _UINT64_. The current _UINT64_ stores the result.\n\t * The remainder is made available as the _remainder_ property on\n\t * the _UINT64_ object. It can be null, meaning there are no remainder.\n\t * @method div\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.div = function (other) {\n\t\tif ( (other._a16 == 0) && (other._a32 == 0) && (other._a48 == 0) ) {\n\t\t\tif (other._a00 == 0) throw Error('division by zero')\n\n\t\t\t// other == 1: this\n\t\t\tif (other._a00 == 1) {\n\t\t\t\tthis.remainder = new UINT64(0)\n\t\t\t\treturn this\n\t\t\t}\n\t\t}\n\n\t\t// other > this: 0\n\t\tif ( other.gt(this) ) {\n\t\t\tthis.remainder = this.clone()\n\t\t\tthis._a00 = 0\n\t\t\tthis._a16 = 0\n\t\t\tthis._a32 = 0\n\t\t\tthis._a48 = 0\n\t\t\treturn this\n\t\t}\n\t\t// other == this: 1\n\t\tif ( this.eq(other) ) {\n\t\t\tthis.remainder = new UINT64(0)\n\t\t\tthis._a00 = 1\n\t\t\tthis._a16 = 0\n\t\t\tthis._a32 = 0\n\t\t\tthis._a48 = 0\n\t\t\treturn this\n\t\t}\n\n\t\t// Shift the divisor left until it is higher than the dividend\n\t\tvar _other = other.clone()\n\t\tvar i = -1\n\t\twhile ( !this.lt(_other) ) {\n\t\t\t// High bit can overflow the default 16bits\n\t\t\t// Its ok since we right shift after this loop\n\t\t\t// The overflown bit must be kept though\n\t\t\t_other.shiftLeft(1, true)\n\t\t\ti++\n\t\t}\n\n\t\t// Set the remainder\n\t\tthis.remainder = this.clone()\n\t\t// Initialize the current result to 0\n\t\tthis._a00 = 0\n\t\tthis._a16 = 0\n\t\tthis._a32 = 0\n\t\tthis._a48 = 0\n\t\tfor (; i >= 0; i--) {\n\t\t\t_other.shiftRight(1)\n\t\t\t// If shifted divisor is smaller than the dividend\n\t\t\t// then subtract it from the dividend\n\t\t\tif ( !this.remainder.lt(_other) ) {\n\t\t\t\tthis.remainder.subtract(_other)\n\t\t\t\t// Update the current result\n\t\t\t\tif (i >= 48) {\n\t\t\t\t\tthis._a48 |= 1 << (i - 48)\n\t\t\t\t} else if (i >= 32) {\n\t\t\t\t\tthis._a32 |= 1 << (i - 32)\n\t\t\t\t} else if (i >= 16) {\n\t\t\t\t\tthis._a16 |= 1 << (i - 16)\n\t\t\t\t} else {\n\t\t\t\t\tthis._a00 |= 1 << i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Negate the current _UINT64_\n\t * @method negate\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.negate = function () {\n\t\tvar v = ( ~this._a00 & 0xFFFF ) + 1\n\t\tthis._a00 = v & 0xFFFF\n\t\tv = (~this._a16 & 0xFFFF) + (v >>> 16)\n\t\tthis._a16 = v & 0xFFFF\n\t\tv = (~this._a32 & 0xFFFF) + (v >>> 16)\n\t\tthis._a32 = v & 0xFFFF\n\t\tthis._a48 = (~this._a48 + (v >>> 16)) & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\n\t * @method eq\n\t * @param {Object} other UINT64\n\t * @return {Boolean}\n\t */\n\tUINT64.prototype.equals = UINT64.prototype.eq = function (other) {\n\t\treturn (this._a48 == other._a48) && (this._a00 == other._a00)\n\t\t\t && (this._a32 == other._a32) && (this._a16 == other._a16)\n\t}\n\n\t/**\n\t * Greater than (strict)\n\t * @method gt\n\t * @param {Object} other UINT64\n\t * @return {Boolean}\n\t */\n\tUINT64.prototype.greaterThan = UINT64.prototype.gt = function (other) {\n\t\tif (this._a48 > other._a48) return true\n\t\tif (this._a48 < other._a48) return false\n\t\tif (this._a32 > other._a32) return true\n\t\tif (this._a32 < other._a32) return false\n\t\tif (this._a16 > other._a16) return true\n\t\tif (this._a16 < other._a16) return false\n\t\treturn this._a00 > other._a00\n\t}\n\n\t/**\n\t * Less than (strict)\n\t * @method lt\n\t * @param {Object} other UINT64\n\t * @return {Boolean}\n\t */\n\tUINT64.prototype.lessThan = UINT64.prototype.lt = function (other) {\n\t\tif (this._a48 < other._a48) return true\n\t\tif (this._a48 > other._a48) return false\n\t\tif (this._a32 < other._a32) return true\n\t\tif (this._a32 > other._a32) return false\n\t\tif (this._a16 < other._a16) return true\n\t\tif (this._a16 > other._a16) return false\n\t\treturn this._a00 < other._a00\n\t}\n\n\t/**\n\t * Bitwise OR\n\t * @method or\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.or = function (other) {\n\t\tthis._a00 |= other._a00\n\t\tthis._a16 |= other._a16\n\t\tthis._a32 |= other._a32\n\t\tthis._a48 |= other._a48\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise AND\n\t * @method and\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.and = function (other) {\n\t\tthis._a00 &= other._a00\n\t\tthis._a16 &= other._a16\n\t\tthis._a32 &= other._a32\n\t\tthis._a48 &= other._a48\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise XOR\n\t * @method xor\n\t * @param {Object} other UINT64\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.xor = function (other) {\n\t\tthis._a00 ^= other._a00\n\t\tthis._a16 ^= other._a16\n\t\tthis._a32 ^= other._a32\n\t\tthis._a48 ^= other._a48\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise NOT\n\t * @method not\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.not = function() {\n\t\tthis._a00 = ~this._a00 & 0xFFFF\n\t\tthis._a16 = ~this._a16 & 0xFFFF\n\t\tthis._a32 = ~this._a32 & 0xFFFF\n\t\tthis._a48 = ~this._a48 & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise shift right\n\t * @method shiftRight\n\t * @param {Number} number of bits to shift\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.shiftRight = UINT64.prototype.shiftr = function (n) {\n\t\tn %= 64\n\t\tif (n >= 48) {\n\t\t\tthis._a00 = this._a48 >> (n - 48)\n\t\t\tthis._a16 = 0\n\t\t\tthis._a32 = 0\n\t\t\tthis._a48 = 0\n\t\t} else if (n >= 32) {\n\t\t\tn -= 32\n\t\t\tthis._a00 = ( (this._a32 >> n) | (this._a48 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a16 = (this._a48 >> n) & 0xFFFF\n\t\t\tthis._a32 = 0\n\t\t\tthis._a48 = 0\n\t\t} else if (n >= 16) {\n\t\t\tn -= 16\n\t\t\tthis._a00 = ( (this._a16 >> n) | (this._a32 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a16 = ( (this._a32 >> n) | (this._a48 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a32 = (this._a48 >> n) & 0xFFFF\n\t\t\tthis._a48 = 0\n\t\t} else {\n\t\t\tthis._a00 = ( (this._a00 >> n) | (this._a16 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a16 = ( (this._a16 >> n) | (this._a32 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a32 = ( (this._a32 >> n) | (this._a48 << (16-n)) ) & 0xFFFF\n\t\t\tthis._a48 = (this._a48 >> n) & 0xFFFF\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise shift left\n\t * @method shiftLeft\n\t * @param {Number} number of bits to shift\n\t * @param {Boolean} allow overflow\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.shiftLeft = UINT64.prototype.shiftl = function (n, allowOverflow) {\n\t\tn %= 64\n\t\tif (n >= 48) {\n\t\t\tthis._a48 = this._a00 << (n - 48)\n\t\t\tthis._a32 = 0\n\t\t\tthis._a16 = 0\n\t\t\tthis._a00 = 0\n\t\t} else if (n >= 32) {\n\t\t\tn -= 32\n\t\t\tthis._a48 = (this._a16 << n) | (this._a00 >> (16-n))\n\t\t\tthis._a32 = (this._a00 << n) & 0xFFFF\n\t\t\tthis._a16 = 0\n\t\t\tthis._a00 = 0\n\t\t} else if (n >= 16) {\n\t\t\tn -= 16\n\t\t\tthis._a48 = (this._a32 << n) | (this._a16 >> (16-n))\n\t\t\tthis._a32 = ( (this._a16 << n) | (this._a00 >> (16-n)) ) & 0xFFFF\n\t\t\tthis._a16 = (this._a00 << n) & 0xFFFF\n\t\t\tthis._a00 = 0\n\t\t} else {\n\t\t\tthis._a48 = (this._a48 << n) | (this._a32 >> (16-n))\n\t\t\tthis._a32 = ( (this._a32 << n) | (this._a16 >> (16-n)) ) & 0xFFFF\n\t\t\tthis._a16 = ( (this._a16 << n) | (this._a00 >> (16-n)) ) & 0xFFFF\n\t\t\tthis._a00 = (this._a00 << n) & 0xFFFF\n\t\t}\n\t\tif (!allowOverflow) {\n\t\t\tthis._a48 &= 0xFFFF\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise rotate left\n\t * @method rotl\n\t * @param {Number} number of bits to rotate\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.rotateLeft = UINT64.prototype.rotl = function (n) {\n\t\tn %= 64\n\t\tif (n == 0) return this\n\t\tif (n >= 32) {\n\t\t\t// A.B.C.D\n\t\t\t// B.C.D.A rotl(16)\n\t\t\t// C.D.A.B rotl(32)\n\t\t\tvar v = this._a00\n\t\t\tthis._a00 = this._a32\n\t\t\tthis._a32 = v\n\t\t\tv = this._a48\n\t\t\tthis._a48 = this._a16\n\t\t\tthis._a16 = v\n\t\t\tif (n == 32) return this\n\t\t\tn -= 32\n\t\t}\n\n\t\tvar high = (this._a48 << 16) | this._a32\n\t\tvar low = (this._a16 << 16) | this._a00\n\n\t\tvar _high = (high << n) | (low >>> (32 - n))\n\t\tvar _low = (low << n) | (high >>> (32 - n))\n\n\t\tthis._a00 = _low & 0xFFFF\n\t\tthis._a16 = _low >>> 16\n\t\tthis._a32 = _high & 0xFFFF\n\t\tthis._a48 = _high >>> 16\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise rotate right\n\t * @method rotr\n\t * @param {Number} number of bits to rotate\n\t * @return ThisExpression\n\t */\n\tUINT64.prototype.rotateRight = UINT64.prototype.rotr = function (n) {\n\t\tn %= 64\n\t\tif (n == 0) return this\n\t\tif (n >= 32) {\n\t\t\t// A.B.C.D\n\t\t\t// D.A.B.C rotr(16)\n\t\t\t// C.D.A.B rotr(32)\n\t\t\tvar v = this._a00\n\t\t\tthis._a00 = this._a32\n\t\t\tthis._a32 = v\n\t\t\tv = this._a48\n\t\t\tthis._a48 = this._a16\n\t\t\tthis._a16 = v\n\t\t\tif (n == 32) return this\n\t\t\tn -= 32\n\t\t}\n\n\t\tvar high = (this._a48 << 16) | this._a32\n\t\tvar low = (this._a16 << 16) | this._a00\n\n\t\tvar _high = (high >>> n) | (low << (32 - n))\n\t\tvar _low = (low >>> n) | (high << (32 - n))\n\n\t\tthis._a00 = _low & 0xFFFF\n\t\tthis._a16 = _low >>> 16\n\t\tthis._a32 = _high & 0xFFFF\n\t\tthis._a48 = _high >>> 16\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Clone the current _UINT64_\n\t * @method clone\n\t * @return {Object} cloned UINT64\n\t */\n\tUINT64.prototype.clone = function () {\n\t\treturn new UINT64(this._a00, this._a16, this._a32, this._a48)\n\t}\n\n\tif (typeof define != 'undefined' && define.amd) {\n\t\t// AMD / RequireJS\n\t\tdefine([], function () {\n\t\t\treturn UINT64\n\t\t})\n\t} else if (typeof module != 'undefined' && module.exports) {\n\t\t// Node.js\n\t\tmodule.exports = UINT64\n\t} else {\n\t\t// Browser\n\t\troot['UINT64'] = UINT64\n\t}\n\n})(this)\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/cuint/lib/uint64.js","\"use strict\";\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Container for entities which are known by the client\n * It's needed for deduplication when client obtain the same object several times\n */\n\nvar EntitiesCache = function () {\n    function EntitiesCache() {\n        (0, _classCallCheck3.default)(this, EntitiesCache);\n\n        this.names = new _map2.default();\n        this.entities = new _map2.default();\n    }\n\n    (0, _createClass3.default)(EntitiesCache, [{\n        key: \"store\",\n        value: function store(entity) {\n            var stored = this.entities.get(entity.sid);\n            if (stored) {\n                return stored;\n            }\n            this.entities.set(entity.sid, entity);\n            if (entity.uniqueName) {\n                this.names.set(entity.type + '::' + entity.uniqueName, entity.sid);\n            }\n            return entity;\n        }\n    }, {\n        key: \"getResolved\",\n        value: function getResolved(id, type) {\n            var resolvedSid = this.names.get(type + '::' + id);\n            return resolvedSid ? this.entities.get(resolvedSid) : null;\n        }\n    }, {\n        key: \"get\",\n        value: function get(id, type) {\n            return this.entities.get(id) || this.getResolved(id, type) || null;\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(sid) {\n            var cached = this.entities.get(sid);\n            if (cached) {\n                this.entities.delete(sid);\n                if (cached.uniqueName) {\n                    this.names.delete(cached.type + '::' + cached.uniqueName);\n                }\n            }\n        }\n    }]);\n    return EntitiesCache;\n}();\n\nexports.EntitiesCache = EntitiesCache;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/entitiesCache.js","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/ieee754/index.js","\n\t\timport Async from 'preact-cli/async-component';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--0!./index.js\") );\n\t\t\t}, \"route-admin\");\n\t\t}\n\n\t\texport default Async(load);\n\t\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/admin/index.js\n// module id = null\n// module chunks = ","\n\t\timport Async from 'preact-cli/async-component';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--0!./index.js\") );\n\t\t\t}, \"route-dashboard\");\n\t\t}\n\n\t\texport default Async(load);\n\t\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/dashboard/index.js\n// module id = null\n// module chunks = ","\n\t\timport Async from 'preact-cli/async-component';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--0!./index.js\") );\n\t\t\t}, \"route-home\");\n\t\t}\n\n\t\texport default Async(load);\n\t\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/index.js\n// module id = null\n// module chunks = ","\n\t\timport Async from 'preact-cli/async-component';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--0!./index.js\") );\n\t\t\t}, \"route-kiosk\");\n\t\t}\n\n\t\texport default Async(load);\n\t\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/kiosk/index.js\n// module id = null\n// module chunks = ","\n\t\timport Async from 'preact-cli/async-component';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--0!./index.js\") );\n\t\t\t}, \"route-orders\");\n\t\t}\n\n\t\texport default Async(load);\n\t\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/orders/index.js\n// module id = null\n// module chunks = ","import { h, Component } from 'preact';\nimport { Link } from 'preact-router/match';\nimport style from './style';\n\nexport default class Header extends Component {\n  render() {\n    const adminLink = this.props.isAdmin && (\n      <Link activeClassName={style.active} href=\"/admin\">\n        Admin\n      </Link>\n    );\n    // const ordersLink =\n    //   this.props.isLoggedIn &&\n    //   <Link activeClassName={style.active} href=\"/orders\">\n    //     Orders\n    //   </Link>;\n    return (\n      <header class={style.header}>\n        <h1>Twilio Barista</h1>\n        <nav>\n          <Link activeClassName={style.active} href=\"/\">\n            Home\n          </Link>\n          {/* {ordersLink} */}\n          {adminLink}\n        </nav>\n      </header>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/header/index.js","import { Component } from 'preact';\nimport { Router } from 'preact-router';\nimport { Match } from 'preact-router/match';\nimport TwilioClient from '../lib/sync-client';\nimport Admin from '../routes/admin';\nimport Dashboard from '../routes/dashboard';\nimport Home from '../routes/home';\nimport Kiosk from '../routes/kiosk';\nimport Orders from '../routes/orders';\nimport Header from './header';\n\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state.isLoggedIn = false;\n    this.state.isAdmin = false;\n    this.syncClient = TwilioClient.shared();\n  }\n\n  componentWillMount() {\n    this.syncClient.on('disconnected', () => {\n      this.setState({ isAdmin: false, isLoggedIn: false });\n    });\n    const isDashboard = location.pathname.endsWith('/dashboard');\n    this.syncClient\n      .init(isDashboard)\n      .then(() => {\n        const isAdmin = this.syncClient.role === 'admin';\n        const isLoggedIn = true;\n        this.setState({ isAdmin, isLoggedIn });\n      })\n      .catch(err => {\n        const isAdmin = false;\n        const isLoggedIn = false;\n        this.setState({ isAdmin, isLoggedIn });\n      });\n  }\n\n  /** Gets fired when the route changes.\n   *\t@param {Object} event\t\t\"change\" event from [preact-router](http://git.io/preact-router)\n   *\t@param {string} event.url\tThe newly routed URL\n   */\n  handleRoute = e => {\n    this.currentUrl = e.url;\n  };\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Match path=\"/:eventId/kiosk\">\n          {({ matches, path }) =>\n            this.isPathWithHeader(path) && (\n              <Header\n                isLoggedIn={this.state.isLoggedIn}\n                isAdmin={this.state.isAdmin}\n              />\n            )\n          }\n        </Match>\n        <Router onChange={this.handleRoute}>\n          <Home path=\"/\" />\n          <Orders path=\"/:eventId/orders\" />\n          <Admin isAdmin={this.state.isAdmin} path=\"/admin\" />\n          <Kiosk path=\"/:eventId/kiosk\" />\n          <Dashboard path=\"/:eventId/dashboard\" />\n        </Router>\n      </div>\n    );\n  }\n\n  isPathWithHeader(path) {\n    return !path.endsWith('/kiosk') && !path.endsWith('/dashboard');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/app.js","import 'material-design-lite/dist/material.indigo-red.min.css';\nimport '@material/select/dist/mdc.select.css';\nimport './style';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nmodule.exports = require('../modules/_core').Map;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/map.js","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\\:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact/dist/preact.min.js","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_an-instance.js","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_enum-bug-keys.js","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/symbol/index.js","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/promise.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = require('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _set2 = require('babel-runtime/core-js/set');\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _javascriptStateMachine = require('javascript-state-machine');\n\nvar _javascriptStateMachine2 = _interopRequireDefault(_javascriptStateMachine);\n\nvar _backoff = require('backoff');\n\nvar _backoff2 = _interopRequireDefault(_backoff);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toArray(_set) {\n  var arr = [];\n  _set.forEach(function (v) {\n    return arr.push(v);\n  });\n  return arr;\n}\n\n/**\n * Creates new instance of the ERS registrar\n *\n * @class RegistrarConnector\n * @classdesc Manages the registrations on ERS service.\n * It deduplicates registrations and manages them automatically\n *\n * @param Object configuration\n * @param string notificationId\n * @param string channelType\n * @param Array messageTypes\n */\n\nvar RegistrarConnector = function (_EventEmitter) {\n  (0, _inherits3.default)(RegistrarConnector, _EventEmitter);\n\n  function RegistrarConnector(context, transport, config, channelType) {\n    (0, _classCallCheck3.default)(this, RegistrarConnector);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (RegistrarConnector.__proto__ || (0, _getPrototypeOf2.default)(RegistrarConnector)).call(this));\n\n    var fsm = _javascriptStateMachine2.default.create({\n      initial: { state: 'unregistered', event: 'init', defer: true },\n      events: [{ name: 'userUpdate', from: ['unregistered'], to: 'registering' }, { name: 'userUpdate', from: ['registered'], to: 'unregistering' }, { name: 'registered', from: ['registering', 'retrying'], to: 'registered' }, { name: 'unregistered', from: ['unregistering'], to: 'unregistered' }, { name: 'retry', from: ['retrying'], to: 'retrying' }, { name: 'failure', from: ['registering'], to: 'retrying' }, { name: 'failure', from: ['retrying'], to: 'retrying' }, { name: 'failure', from: ['unregistering'], to: 'unregistered' }],\n      callbacks: {\n        onregistering: function onregistering(event, from, to, arg) {\n          return _this._register(arg);\n        },\n        onunregistering: function onunregistering() {\n          return _this._unregister();\n        },\n        onregistered: function onregistered() {\n          return _this._onRegistered();\n        },\n        onunregistered: function onunregistered() {\n          return _this._onUnregistered();\n        },\n        onretrying: function onretrying(event, from, to, arg) {\n          return _this._initRetry(arg);\n        },\n        onfailure: function onfailure(event, from, to, arg) {\n          if (from === 'retrying') {\n            _this._initRetry(arg);\n          }\n        }\n      }\n    });\n\n    var backoff = _backoff2.default.exponential({\n      randomisationFactor: 0.2,\n      initialDelay: 2 * 1000,\n      maxDelay: 2 * 60 * 1000\n    });\n\n    backoff.on('ready', function () {\n      _this._retry();\n    });\n\n    (0, _defineProperties2.default)(_this, {\n      _transport: { value: transport },\n      _context: { value: context },\n      _url: { value: config.registrarUri, writable: false },\n      _config: { value: config },\n      _fsm: { value: fsm },\n      _backoff: { value: backoff },\n      _channelType: { value: channelType },\n      _registrationId: { value: false, writable: true },\n      _notificationId: { value: false, writable: true },\n      _messageTypes: { value: new _set3.default(), writable: true },\n      _pendingUpdate: { value: null, writable: true }\n    });\n\n    fsm.init();\n    return _this;\n  }\n\n  (0, _createClass3.default)(RegistrarConnector, [{\n    key: 'setNotificationId',\n    value: function setNotificationId(notificationId) {\n      if (this._notificationId === notificationId) {\n        return;\n      }\n\n      this._notificationId = notificationId;\n      this._updateRegistration();\n    }\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      return this._updateRegistration();\n    }\n  }, {\n    key: 'has',\n    value: function has(messageType) {\n      return this._messageTypes.has(messageType);\n    }\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType) {\n      if (this._messageTypes.has(messageType)) {\n        _logger2.default.debug('Message type already registered ', messageType);\n        return false;\n      }\n\n      this._messageTypes.add(messageType);\n      this._updateRegistration();\n      return true;\n    }\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType) {\n      if (!this._messageTypes.has(messageType)) {\n        return false;\n      }\n\n      this._messageTypes.delete(messageType);\n\n      if (this._messageTypes.size > 0) {\n        this._updateRegistration();\n      } else {\n        this._removeRegistration();\n      }\n      return true;\n    }\n  }, {\n    key: '_updateRegistration',\n    value: function _updateRegistration() {\n      if (this._notificationId) {\n        this._update(this._notificationId, toArray(this._messageTypes));\n      }\n    }\n  }, {\n    key: '_removeRegistration',\n    value: function _removeRegistration() {\n      if (this._notificationId) {\n        this._update(this._notificationId, toArray(this._messageTypes));\n      }\n    }\n\n    /**\n     * Update service registration\n     * @param {Array} messageTypes Array of message type names\n     * @private\n     */\n\n  }, {\n    key: '_update',\n    value: function _update(notificationId, messageTypes) {\n      var regData = { notificationId: notificationId, messageTypes: messageTypes };\n\n      if (this._fsm.is('unregistered')) {\n        if (regData.notificationId && regData.messageTypes.length > 0) {\n          this._fsm.userUpdate(regData);\n        }\n      } else if (this._fsm.is('registered')) {\n        this._fsm.userUpdate(regData);\n        this._setPendingUpdate(regData);\n      } else {\n        this._setPendingUpdate(regData);\n      }\n    }\n  }, {\n    key: '_setPendingUpdate',\n    value: function _setPendingUpdate(regData) {\n      this._pendingUpdate = regData;\n    }\n  }, {\n    key: '_checkPendingUpdate',\n    value: function _checkPendingUpdate() {\n      if (!this._pendingUpdate) {\n        return;\n      }\n\n      var pendingUpdate = this._pendingUpdate;\n      this._pendingUpdate = null;\n\n      this._updateRegistration(pendingUpdate.notificationId, pendingUpdate.messageTypes);\n    }\n  }, {\n    key: '_initRetry',\n    value: function _initRetry(regData) {\n      if (!this._pendingUpdate) {\n        this._setPendingUpdate(regData);\n      }\n\n      this._backoff.backoff();\n    }\n  }, {\n    key: '_retry',\n    value: function _retry() {\n      if (!this._pendingUpdate) {\n        return;\n      }\n\n      var pendingUpdate = this._pendingUpdate;\n      this._pendingUpdate = null;\n\n      this._register(pendingUpdate);\n    }\n  }, {\n    key: '_onRegistered',\n    value: function _onRegistered() {\n      this._backoff.reset();\n      this.emit('stateChanged', 'registered');\n      this._checkPendingUpdate();\n    }\n  }, {\n    key: '_onUnregistered',\n    value: function _onUnregistered() {\n      this._backoff.reset();\n      this.emit('stateChanged', 'unregistered');\n      this._checkPendingUpdate();\n    }\n  }, {\n    key: '_register',\n    value: function _register(regData) {\n      var _this2 = this;\n\n      /* eslint-disable camelcase */\n      var registrarRequest = {\n        endpoint_platform: this._context.platform,\n        channel_type: this._channelType,\n        version: '2',\n        message_types: regData.messageTypes,\n        data: {},\n        ttl: 'PT24H'\n      };\n\n      if (this._channelType === 'twilsock') {\n        registrarRequest.data.url = regData.notificationId;\n      } else {\n        registrarRequest.data.registration_id = regData.notificationId;\n      }\n\n      var uri = this._url + '?productId=' + this._context.productId;\n      var headers = {\n        'Content-Type': 'application/json',\n        'X-Twilio-Token': this._config.token\n      };\n      /* eslint-enable camelcase */\n\n      _logger2.default.trace('Creating registration for channel ', this._channelType);\n      return this._transport.post(uri, headers, registrarRequest).then(function (response) {\n        _this2._registrationId = response.body.id;\n        _this2._registrationData = regData;\n\n        _logger2.default.debug('Registration created: ', response);\n        _this2._fsm.registered();\n      }).catch(function (error) {\n        _logger2.default.error('Registration failed: ', error);\n        _this2._fsm.failure(regData);\n        return error;\n      });\n    }\n  }, {\n    key: '_unregister',\n    value: function _unregister() {\n      var _this3 = this;\n\n      if (!this._registrationId) {\n        return _promise2.default.resolve();\n      }\n\n      var uri = this._url + '/' + this._registrationId + '?productId=' + this._context.productId;\n      var headers = {\n        'Content-Type': 'application/json',\n        'X-Twilio-Token': this._config.token\n      };\n\n      _logger2.default.trace('Removing registration for ', this._channelType);\n      return this._transport.delete(uri, headers).then(function () {\n        _logger2.default.debug('Registration removed for ', _this3._channelType);\n        _this3._registrationId = false;\n        _this3._fsm.unregistered();\n      }).catch(function (reason) {\n        // failure to remove registration since being treated as \"unregistered\" state\n        // because it is indicates that something wrong with server/connection\n        _logger2.default.error('Failed to remove of registration ', _this3.channelType, reason);\n        _this3._fsm.failure();\n        return reason;\n      });\n    }\n  }]);\n  return RegistrarConnector;\n}(_events2.default);\n\nexports.default = RegistrarConnector;\n\n\n(0, _freeze2.default)(RegistrarConnector);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/registrar.connector.js","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_array-includes.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\nvar operation_retrier_1 = require(\"operation-retrier\");\nvar configuration_1 = require(\"./configuration\");\nvar logger_1 = require(\"./logger\");\nvar persistentState_1 = require(\"./persistentState\");\nvar twilio_transport_1 = require(\"twilio-transport\");\nfunction createPromise() {\n    var pd = { promise: null, resolve: null, reject: null };\n    pd.promise = new _promise2.default(function (resolve, reject) {\n        pd.resolve = resolve;\n        pd.reject = reject;\n    });\n    return pd;\n}\n\nvar TokenRequest = function TokenRequest() {\n    (0, _classCallCheck3.default)(this, TokenRequest);\n};\n/**\n * Client for Twilio Endpoint Management service (EMS).\n */\n\n\nvar EmsClient = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(EmsClient, _events_1$EventEmitte);\n\n    /**\n     * @param config Configuration structure\n     */\n    function EmsClient(config) {\n        (0, _classCallCheck3.default)(this, EmsClient);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (EmsClient.__proto__ || (0, _getPrototypeOf2.default)(EmsClient)).call(this));\n\n        config = config || {};\n        config.transport = config.transport || new twilio_transport_1.Transport(config.twilsockClient || null);\n        _this.state = new persistentState_1.PersistentState();\n        _this.config = new configuration_1.default(config);\n        _this.twilsock = config.twilsockClient;\n        _this.transport = config.transport;\n        return _this;\n    }\n    /**\n     * Set new FPA token\n     * @param fpaToken <String> new FPA token to use\n     * @return Promise<EMSClient#TokenInfo>\n     */\n\n\n    (0, _createClass3.default)(EmsClient, [{\n        key: \"setToken\",\n        value: function setToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var oldTokenRequest;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.currentFpaToken !== fpaToken) {\n                                    this.currentFpaToken = fpaToken;\n                                    oldTokenRequest = this.currentTokenRequest;\n\n                                    this.currentTokenRequest = this.establishToken(fpaToken);\n                                    this.notifyRejected(oldTokenRequest);\n                                }\n                                return _context.abrupt(\"return\", this.currentTokenRequest.promise);\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"notifyRejected\",\n        value: function notifyRejected(request) {\n            if (request) {\n                setTimeout(function () {\n                    return request.reject(new Error('Operation has been cancelled by next token'));\n                }, 0);\n            }\n        }\n    }, {\n        key: \"establishToken\",\n        value: function establishToken(fpaToken) {\n            var _this2 = this;\n\n            var tokenRequest = new TokenRequest();\n            var promise = new _promise2.default(function (resolve, reject) {\n                _this2.establishTokenImpl(fpaToken).then(resolve).catch(reject);\n                tokenRequest.resolve = resolve;\n                tokenRequest.reject = reject;\n            });\n            tokenRequest.promise = promise;\n            return tokenRequest;\n        }\n    }, {\n        key: \"establishTokenImpl\",\n        value: function establishTokenImpl(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var _this3 = this;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                return _context2.abrupt(\"return\", new operation_retrier_1.default({ min: 500, max: 2000 }).run(function () {\n                                    return _this3.requestRtdToken(fpaToken);\n                                }).then(function (res) {\n                                    if (res.status != 'ok') {\n                                        throw res.exception;\n                                    }\n                                    if (_this3.currentFpaToken !== fpaToken) {\n                                        // user has already set new token. ignoring\n                                        return;\n                                    }\n                                    _this3.state.continuationToken = res.response.continuation_token;\n                                    var rtdToken = res.response.twilio_rtd_token;\n                                    if (res.response.status.status === 'NEW') {\n                                        _this3.emit('tokenCreated', rtdToken);\n                                    } else {\n                                        _this3.emit('tokenUpdated', rtdToken);\n                                    }\n                                    _this3.emit('token', rtdToken);\n                                    var response = {\n                                        token: res.response.twilio_rtd_token,\n                                        ttl: res.response.ttl,\n                                        status: res.response.status.status,\n                                        reason: res.response.status.reason || null,\n                                        identity: res.response.identity || null,\n                                        accountSid: res.response.account_sid,\n                                        serviceSids: res.response.instance_sids\n                                    };\n                                    _this3.emit('response', response);\n                                    return response;\n                                }).catch(function (e) {\n                                    logger_1.default.error(e);\n                                    throw e;\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"requestRtdToken\",\n        value: function requestRtdToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var headers, body, response;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                headers = { 'Content-Type': 'application/json' };\n                                body = {\n                                    fpa_token: fpaToken,\n                                    continuation_token: this.state.continuationToken\n                                };\n\n                                logger_1.default.debug('Token request', body);\n                                _context3.prev = 3;\n                                _context3.next = 6;\n                                return this.transport.post(this.config.url, headers, body);\n\n                            case 6:\n                                response = _context3.sent;\n\n                                logger_1.default.debug('Token response:', response);\n                                return _context3.abrupt(\"return\", { status: 'ok', token: fpaToken, response: response.body });\n\n                            case 11:\n                                _context3.prev = 11;\n                                _context3.t0 = _context3[\"catch\"](3);\n\n                                if (!(_context3.t0.status === 401 || _context3.t0.status === 403)) {\n                                    _context3.next = 16;\n                                    break;\n                                }\n\n                                // map transport error\n                                // TODO: remove me when transport fixed\n                                if (!(_context3.t0 instanceof Error)) {\n                                    if (_context3.t0.body) {\n                                        _context3.t0 = new Error(_context3.t0.body.message);\n                                    } else if (_context3.t0.description) {\n                                        _context3.t0 = new Error(_context3.t0.description);\n                                    }\n                                }\n                                return _context3.abrupt(\"return\", { status: 'denied', exception: _context3.t0, token: null, response: null });\n\n                            case 16:\n                                throw _context3.t0;\n\n                            case 17:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[3, 11]]);\n            }));\n        }\n    }]);\n    return EmsClient;\n}(events_1.EventEmitter);\n\nexports.EmsClient = EmsClient;\n/**\n * This structure describes an RTD token\n * @typedef {Object} EMSClient#TokenInfo\n * @property {String} token - RTD token generated for given FPA token\n * @property {Number} ttl - ttl to calculate expiration token time\n * @property {String} status - Indicates did server generated new token or extended existing. Valid values are ['NEW', 'UPDATED'].\n * @property {String} reason - If service issued a new RTD token, this field describes a reason\n */\n// for backward compatibility\nvar EMSClient = EmsClient;\nexports.EMSClient = EMSClient;\nexports.default = EMSClient;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-ems-client/browser/client.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-properties\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/define-properties.js","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iter-detect.js","import * as EventEmitter from 'event-emitter';\nimport { AccessManager } from 'twilio-common';\nimport { SyncClient } from 'twilio-sync';\n\nlet instance;\nexport default class TwilioClient /* extends EventEmitter */ {\n  static shared() {\n    instance = instance || new TwilioClient();\n    return instance;\n  }\n\n  constructor() {\n    this.accessManager = undefined;\n    this.client = undefined;\n    this.role = undefined;\n    this.isDashboard = false;\n  }\n\n  init(isDashboard) {\n    this.isDashboard = isDashboard;\n\n    if (this.client) {\n      return Promise.resolve(this.client);\n    }\n\n    return this.fetchToken().then(({ token, identity }) => {\n      this.role = identity;\n      this.accessManager = this.createAccessManager(token);\n      this.client = this.createClient(token);\n      return this.client;\n    });\n  }\n\n  createClient(token) {\n    const client = new SyncClient(token);\n    client.on('connectionStateChanged', ({ connectionState }) => {\n      if (\n        connectionState === 'disconnected' ||\n        connectionState === 'error' ||\n        connectionState === 'denied'\n      ) {\n        console.error('lost connection...');\n        this.emit('disconnected');\n        this.client = undefined;\n      }\n    });\n    return client;\n  }\n\n  createAccessManager(token) {\n    const accessManager = new AccessManager(token);\n    accessManager.on('tokenExpired', () => {\n      this.fetchToken().then(({ token }) => {\n        accessManager.updateToken(token);\n      });\n    });\n    accessManager.on('tokenUpdated', () => {\n      this.client.updateToken(this.accessManager.token);\n    });\n    return accessManager;\n  }\n\n  fetchToken() {\n    const url = this.isDashboard ? '/api/dashboard-token' : '/api/token';\n    return fetch(url, { credentials: 'include' }).then(resp => resp.json());\n  }\n}\n\nEventEmitter(TwilioClient.prototype);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sync-client.js","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/get-iterator.js","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-integer.js","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-index.js","'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.array.from.js","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/valid-callable.js","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_shared.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class Paginator\n * @classdesc Pagination helper class\n *\n * @property {Array} items Array of elements on current page\n * @property {boolean} hasNextPage Indicates the existence of next page\n * @property {boolean} hasPrevPage Indicates the existence of previous page\n */\n\nvar Paginator = function () {\n    /*\n    * @constructor\n    * @param {Array} items Array of element for current page\n    * @param {Object} params\n    * @private\n    */\n    function Paginator(items, source, prevToken, nextToken) {\n        (0, _classCallCheck3.default)(this, Paginator);\n\n        this.prevToken = prevToken;\n        this.nextToken = nextToken;\n        this.items = items;\n        this.source = source;\n    }\n\n    (0, _createClass3.default)(Paginator, [{\n        key: \"nextPage\",\n\n        /**\n         * Request next page.\n         * Does not modify existing object\n         * @return {Promise<Paginator>}\n         */\n        value: function nextPage() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.hasNextPage) {\n                                    _context.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('No next page');\n\n                            case 2:\n                                return _context.abrupt(\"return\", this.source(this.nextToken));\n\n                            case 3:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Request previous page.\n         * Does not modify existing object\n         * @return {Promise<Paginator>}\n         */\n\n    }, {\n        key: \"prevPage\",\n        value: function prevPage() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (this.hasPrevPage) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('No previous page');\n\n                            case 2:\n                                return _context2.abrupt(\"return\", this.source(this.prevToken));\n\n                            case 3:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"hasNextPage\",\n        get: function get() {\n            return !!this.nextToken;\n        }\n    }, {\n        key: \"hasPrevPage\",\n        get: function get() {\n            return !!this.prevToken;\n        }\n    }]);\n    return Paginator;\n}();\n\nexports.Paginator = Paginator;\nexports.default = Paginator;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/paginator.js","/**\nxxHash implementation in pure Javascript\n\nCopyright (C) 2013, Pierre Curto\nMIT license\n*/\nvar UINT32 = require('cuint').UINT32\n\n/*\n\tMerged this sequence of method calls as it speeds up\n\tthe calculations by a factor of 2\n */\n// this.v1.add( other.multiply(PRIME32_2) ).rotl(13).multiply(PRIME32_1);\nUINT32.prototype.xxh_update = function (low, high) {\n\tvar b00 = PRIME32_2._low\n\tvar b16 = PRIME32_2._high\n\n\tvar c16, c00\n\tc00 = low * b00\n\tc16 = c00 >>> 16\n\n\tc16 += high * b00\n\tc16 &= 0xFFFF\t\t// Not required but improves performance\n\tc16 += low * b16\n\n\tvar a00 = this._low + (c00 & 0xFFFF)\n\tvar a16 = a00 >>> 16\n\n\ta16 += this._high + (c16 & 0xFFFF)\n\n\tvar v = (a16 << 16) | (a00 & 0xFFFF)\n\tv = (v << 13) | (v >>> 19)\n\n\ta00 = v & 0xFFFF\n\ta16 = v >>> 16\n\n\tb00 = PRIME32_1._low\n\tb16 = PRIME32_1._high\n\n\tc00 = a00 * b00\n\tc16 = c00 >>> 16\n\n\tc16 += a16 * b00\n\tc16 &= 0xFFFF\t\t// Not required but improves performance\n\tc16 += a00 * b16\n\n\tthis._low = c00 & 0xFFFF\n\tthis._high = c16 & 0xFFFF\n}\n\n/*\n * Constants\n */\nvar PRIME32_1 = UINT32( '2654435761' )\nvar PRIME32_2 = UINT32( '2246822519' )\nvar PRIME32_3 = UINT32( '3266489917' )\nvar PRIME32_4 = UINT32(  '668265263' )\nvar PRIME32_5 = UINT32(  '374761393' )\n\n/**\n* Convert string to proper UTF-8 array\n* @param str Input string\n* @returns {Uint8Array} UTF8 array is returned as uint8 array\n*/\nfunction toUTF8Array (str) {\n\tvar utf8 = []\n\tfor (var i=0, n=str.length; i < n; i++) {\n\t\tvar charcode = str.charCodeAt(i)\n\t\tif (charcode < 0x80) utf8.push(charcode)\n\t\telse if (charcode < 0x800) {\n\t\t\tutf8.push(0xc0 | (charcode >> 6),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t\telse if (charcode < 0xd800 || charcode >= 0xe000) {\n\t\t\tutf8.push(0xe0 | (charcode >> 12),\n\t\t\t0x80 | ((charcode>>6) & 0x3f),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t\t// surrogate pair\n\t\telse {\n\t\t\ti++;\n\t\t\t// UTF-16 encodes 0x10000-0x10FFFF by\n\t\t\t// subtracting 0x10000 and splitting the\n\t\t\t// 20 bits of 0x0-0xFFFFF into two halves\n\t\t\tcharcode = 0x10000 + (((charcode & 0x3ff)<<10)\n\t\t\t| (str.charCodeAt(i) & 0x3ff))\n\t\t\tutf8.push(0xf0 | (charcode >>18),\n\t\t\t0x80 | ((charcode>>12) & 0x3f),\n\t\t\t0x80 | ((charcode>>6) & 0x3f),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t}\n\n\treturn new Uint8Array(utf8)\n}\n\n/**\n * XXH object used as a constructor or a function\n * @constructor\n * or\n * @param {Object|String} input data\n * @param {Number|UINT32} seed\n * @return ThisExpression\n * or\n * @return {UINT32} xxHash\n */\nfunction XXH () {\n\tif (arguments.length == 2)\n\t\treturn new XXH( arguments[1] ).update( arguments[0] ).digest()\n\n\tif (!(this instanceof XXH))\n\t\treturn new XXH( arguments[0] )\n\n\tinit.call(this, arguments[0])\n}\n\n/**\n * Initialize the XXH instance with the given seed\n * @method init\n * @param {Number|Object} seed as a number or an unsigned 32 bits integer\n * @return ThisExpression\n */\n function init (seed) {\n\tthis.seed = seed instanceof UINT32 ? seed.clone() : UINT32(seed)\n\tthis.v1 = this.seed.clone().add(PRIME32_1).add(PRIME32_2)\n\tthis.v2 = this.seed.clone().add(PRIME32_2)\n\tthis.v3 = this.seed.clone()\n\tthis.v4 = this.seed.clone().subtract(PRIME32_1)\n\tthis.total_len = 0\n\tthis.memsize = 0\n\tthis.memory = null\n\n\treturn this\n}\nXXH.prototype.init = init\n\n/**\n * Add data to be computed for the XXH hash\n * @method update\n * @param {String|Buffer|ArrayBuffer} input as a string or nodejs Buffer or ArrayBuffer\n * @return ThisExpression\n */\nXXH.prototype.update = function (input) {\n\tvar isString = typeof input == 'string'\n\tvar isArrayBuffer\n\n\t// Convert all strings to utf-8 first (issue #5)\n\tif (isString) {\n\t\tinput = toUTF8Array(input)\n\t\tisString = false\n\t\tisArrayBuffer = true\n\t}\n\n\tif (typeof ArrayBuffer !== \"undefined\" && input instanceof ArrayBuffer)\n\t{\n\t\tisArrayBuffer = true\n\t\tinput = new Uint8Array(input);\n\t}\n\n\tvar p = 0\n\tvar len = input.length\n\tvar bEnd = p + len\n\n\tif (len == 0) return this\n\n\tthis.total_len += len\n\n\tif (this.memsize == 0)\n\t{\n\t\tif (isString) {\n\t\t\tthis.memory = ''\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory = new Uint8Array(16)\n\t\t} else {\n\t\t\tthis.memory = new Buffer(16)\n\t\t}\n\t}\n\n\tif (this.memsize + len < 16)   // fill in tmp buffer\n\t{\n\t\t// XXH_memcpy(this.memory + this.memsize, input, len)\n\t\tif (isString) {\n\t\t\tthis.memory += input\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(0, len), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, 0, len )\n\t\t}\n\n\t\tthis.memsize += len\n\t\treturn this\n\t}\n\n\tif (this.memsize > 0)   // some data left from previous update\n\t{\n\t\t// XXH_memcpy(this.memory + this.memsize, input, 16-this.memsize);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(0, 16 - this.memsize)\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(0, 16 - this.memsize), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, 0, 16 - this.memsize )\n\t\t}\n\n\t\tvar p32 = 0\n\t\tif (isString) {\n\t\t\tthis.v1.xxh_update(\n\t\t\t\t(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)\n\t\t\t,\t(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v2.xxh_update(\n\t\t\t\t(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)\n\t\t\t,\t(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v3.xxh_update(\n\t\t\t\t(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)\n\t\t\t,\t(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v4.xxh_update(\n\t\t\t\t(this.memory.charCodeAt(p32+1) << 8) | this.memory.charCodeAt(p32)\n\t\t\t,\t(this.memory.charCodeAt(p32+3) << 8) | this.memory.charCodeAt(p32+2)\n\t\t\t)\n\t\t} else {\n\t\t\tthis.v1.xxh_update(\n\t\t\t\t(this.memory[p32+1] << 8) | this.memory[p32]\n\t\t\t,\t(this.memory[p32+3] << 8) | this.memory[p32+2]\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v2.xxh_update(\n\t\t\t\t(this.memory[p32+1] << 8) | this.memory[p32]\n\t\t\t,\t(this.memory[p32+3] << 8) | this.memory[p32+2]\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v3.xxh_update(\n\t\t\t\t(this.memory[p32+1] << 8) | this.memory[p32]\n\t\t\t,\t(this.memory[p32+3] << 8) | this.memory[p32+2]\n\t\t\t)\n\t\t\tp32 += 4\n\t\t\tthis.v4.xxh_update(\n\t\t\t\t(this.memory[p32+1] << 8) | this.memory[p32]\n\t\t\t,\t(this.memory[p32+3] << 8) | this.memory[p32+2]\n\t\t\t)\n\t\t}\n\n\t\tp += 16 - this.memsize\n\t\tthis.memsize = 0\n\t\tif (isString) this.memory = ''\n\t}\n\n\tif (p <= bEnd - 16)\n\t{\n\t\tvar limit = bEnd - 16\n\n\t\tdo\n\t\t{\n\t\t\tif (isString) {\n\t\t\t\tthis.v1.xxh_update(\n\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v2.xxh_update(\n\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v3.xxh_update(\n\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v4.xxh_update(\n\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tthis.v1.xxh_update(\n\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v2.xxh_update(\n\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v3.xxh_update(\n\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t)\n\t\t\t\tp += 4\n\t\t\t\tthis.v4.xxh_update(\n\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t)\n\t\t\t}\n\t\t\tp += 4\n\t\t} while (p <= limit)\n\t}\n\n\tif (p < bEnd)\n\t{\n\t\t// XXH_memcpy(this.memory, p, bEnd-p);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(p)\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(p, bEnd), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, p, bEnd )\n\t\t}\n\n\t\tthis.memsize = bEnd - p\n\t}\n\n\treturn this\n}\n\n/**\n * Finalize the XXH computation. The XXH instance is ready for reuse for the given seed\n * @method digest\n * @return {UINT32} xxHash\n */\nXXH.prototype.digest = function () {\n\tvar input = this.memory\n\tvar isString = typeof input == 'string'\n\tvar p = 0\n\tvar bEnd = this.memsize\n\tvar h32, h\n\tvar u = new UINT32\n\n\tif (this.total_len >= 16)\n\t{\n\t\th32 = this.v1.rotl(1).add( this.v2.rotl(7).add( this.v3.rotl(12).add( this.v4.rotl(18) ) ) )\n\t}\n\telse\n\t{\n\t\th32  = this.seed.clone().add( PRIME32_5 )\n\t}\n\n\th32.add( u.fromNumber(this.total_len) )\n\n\twhile (p <= bEnd - 4)\n\t{\n\t\tif (isString) {\n\t\t\tu.fromBits(\n\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t)\n\t\t} else {\n\t\t\tu.fromBits(\n\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t)\n\t\t}\n\t\th32\n\t\t\t.add( u.multiply(PRIME32_3) )\n\t\t\t.rotl(17)\n\t\t\t.multiply( PRIME32_4 )\n\t\tp += 4\n\t}\n\n\twhile (p < bEnd)\n\t{\n\t\tu.fromBits( isString ? input.charCodeAt(p++) : input[p++], 0 )\n\t\th32\n\t\t\t.add( u.multiply(PRIME32_5) )\n\t\t\t.rotl(11)\n\t\t\t.multiply(PRIME32_1)\n\t}\n\n\th = h32.clone().shiftRight(15)\n\th32.xor(h).multiply(PRIME32_2)\n\n\th = h32.clone().shiftRight(13)\n\th32.xor(h).multiply(PRIME32_3)\n\n\th = h32.clone().shiftRight(16)\n\th32.xor(h)\n\n\t// Reset the state\n\tthis.init( this.seed )\n\n\treturn h32\n}\n\nmodule.exports = XXH\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/xxhashjs/lib/xxhash.js","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-gopn.js","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/array/from.js","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_redefine-all.js","/**\nxxHash64 implementation in pure Javascript\n\nCopyright (C) 2016, Pierre Curto\nMIT license\n*/\nvar UINT64 = require('cuint').UINT64\n\n/*\n * Constants\n */\nvar PRIME64_1 = UINT64( '11400714785074694791' )\nvar PRIME64_2 = UINT64( '14029467366897019727' )\nvar PRIME64_3 = UINT64(  '1609587929392839161' )\nvar PRIME64_4 = UINT64(  '9650029242287828579' )\nvar PRIME64_5 = UINT64(  '2870177450012600261' )\n\n/**\n* Convert string to proper UTF-8 array\n* @param str Input string\n* @returns {Uint8Array} UTF8 array is returned as uint8 array\n*/\nfunction toUTF8Array (str) {\n\tvar utf8 = []\n\tfor (var i=0, n=str.length; i < n; i++) {\n\t\tvar charcode = str.charCodeAt(i)\n\t\tif (charcode < 0x80) utf8.push(charcode)\n\t\telse if (charcode < 0x800) {\n\t\t\tutf8.push(0xc0 | (charcode >> 6),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t\telse if (charcode < 0xd800 || charcode >= 0xe000) {\n\t\t\tutf8.push(0xe0 | (charcode >> 12),\n\t\t\t0x80 | ((charcode>>6) & 0x3f),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t\t// surrogate pair\n\t\telse {\n\t\t\ti++;\n\t\t\t// UTF-16 encodes 0x10000-0x10FFFF by\n\t\t\t// subtracting 0x10000 and splitting the\n\t\t\t// 20 bits of 0x0-0xFFFFF into two halves\n\t\t\tcharcode = 0x10000 + (((charcode & 0x3ff)<<10)\n\t\t\t| (str.charCodeAt(i) & 0x3ff))\n\t\t\tutf8.push(0xf0 | (charcode >>18),\n\t\t\t0x80 | ((charcode>>12) & 0x3f),\n\t\t\t0x80 | ((charcode>>6) & 0x3f),\n\t\t\t0x80 | (charcode & 0x3f))\n\t\t}\n\t}\n\n\treturn new Uint8Array(utf8)\n}\n\n/**\n * XXH64 object used as a constructor or a function\n * @constructor\n * or\n * @param {Object|String} input data\n * @param {Number|UINT64} seed\n * @return ThisExpression\n * or\n * @return {UINT64} xxHash\n */\nfunction XXH64 () {\n\tif (arguments.length == 2)\n\t\treturn new XXH64( arguments[1] ).update( arguments[0] ).digest()\n\n\tif (!(this instanceof XXH64))\n\t\treturn new XXH64( arguments[0] )\n\n\tinit.call(this, arguments[0])\n}\n\n/**\n * Initialize the XXH64 instance with the given seed\n * @method init\n * @param {Number|Object} seed as a number or an unsigned 32 bits integer\n * @return ThisExpression\n */\n function init (seed) {\n\tthis.seed = seed instanceof UINT64 ? seed.clone() : UINT64(seed)\n\tthis.v1 = this.seed.clone().add(PRIME64_1).add(PRIME64_2)\n\tthis.v2 = this.seed.clone().add(PRIME64_2)\n\tthis.v3 = this.seed.clone()\n\tthis.v4 = this.seed.clone().subtract(PRIME64_1)\n\tthis.total_len = 0\n\tthis.memsize = 0\n\tthis.memory = null\n\n\treturn this\n}\nXXH64.prototype.init = init\n\n/**\n * Add data to be computed for the XXH64 hash\n * @method update\n * @param {String|Buffer|ArrayBuffer} input as a string or nodejs Buffer or ArrayBuffer\n * @return ThisExpression\n */\nXXH64.prototype.update = function (input) {\n\tvar isString = typeof input == 'string'\n\tvar isArrayBuffer\n\n\t// Convert all strings to utf-8 first (issue #5)\n\tif (isString) {\n\t\tinput = toUTF8Array(input)\n\t\tisString = false\n\t\tisArrayBuffer = true\n\t}\n\n\tif (typeof ArrayBuffer !== \"undefined\" && input instanceof ArrayBuffer)\n\t{\n\t\tisArrayBuffer = true\n\t\tinput = new Uint8Array(input);\n\t}\n\n\tvar p = 0\n\tvar len = input.length\n\tvar bEnd = p + len\n\n\tif (len == 0) return this\n\n\tthis.total_len += len\n\n\tif (this.memsize == 0)\n\t{\n\t\tif (isString) {\n\t\t\tthis.memory = ''\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory = new Uint8Array(32)\n\t\t} else {\n\t\t\tthis.memory = new Buffer(32)\n\t\t}\n\t}\n\n\tif (this.memsize + len < 32)   // fill in tmp buffer\n\t{\n\t\t// XXH64_memcpy(this.memory + this.memsize, input, len)\n\t\tif (isString) {\n\t\t\tthis.memory += input\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(0, len), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, 0, len )\n\t\t}\n\n\t\tthis.memsize += len\n\t\treturn this\n\t}\n\n\tif (this.memsize > 0)   // some data left from previous update\n\t{\n\t\t// XXH64_memcpy(this.memory + this.memsize, input, 16-this.memsize);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(0, 32 - this.memsize)\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(0, 32 - this.memsize), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, 0, 32 - this.memsize )\n\t\t}\n\n\t\tvar p64 = 0\n\t\tif (isString) {\n\t\t\tvar other\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory.charCodeAt(p64+1) << 8) | this.memory.charCodeAt(p64)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+3) << 8) | this.memory.charCodeAt(p64+2)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+5) << 8) | this.memory.charCodeAt(p64+4)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+7) << 8) | this.memory.charCodeAt(p64+6)\n\t\t\t\t)\n\t\t\tthis.v1.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory.charCodeAt(p64+1) << 8) | this.memory.charCodeAt(p64)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+3) << 8) | this.memory.charCodeAt(p64+2)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+5) << 8) | this.memory.charCodeAt(p64+4)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+7) << 8) | this.memory.charCodeAt(p64+6)\n\t\t\t\t)\n\t\t\tthis.v2.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory.charCodeAt(p64+1) << 8) | this.memory.charCodeAt(p64)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+3) << 8) | this.memory.charCodeAt(p64+2)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+5) << 8) | this.memory.charCodeAt(p64+4)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+7) << 8) | this.memory.charCodeAt(p64+6)\n\t\t\t\t)\n\t\t\tthis.v3.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory.charCodeAt(p64+1) << 8) | this.memory.charCodeAt(p64)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+3) << 8) | this.memory.charCodeAt(p64+2)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+5) << 8) | this.memory.charCodeAt(p64+4)\n\t\t\t\t,\t(this.memory.charCodeAt(p64+7) << 8) | this.memory.charCodeAt(p64+6)\n\t\t\t\t)\n\t\t\tthis.v4.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t} else {\n\t\t\tvar other\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory[p64+1] << 8) | this.memory[p64]\n\t\t\t\t,\t(this.memory[p64+3] << 8) | this.memory[p64+2]\n\t\t\t\t,\t(this.memory[p64+5] << 8) | this.memory[p64+4]\n\t\t\t\t,\t(this.memory[p64+7] << 8) | this.memory[p64+6]\n\t\t\t\t)\n\t\t\tthis.v1.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory[p64+1] << 8) | this.memory[p64]\n\t\t\t\t,\t(this.memory[p64+3] << 8) | this.memory[p64+2]\n\t\t\t\t,\t(this.memory[p64+5] << 8) | this.memory[p64+4]\n\t\t\t\t,\t(this.memory[p64+7] << 8) | this.memory[p64+6]\n\t\t\t\t)\n\t\t\tthis.v2.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory[p64+1] << 8) | this.memory[p64]\n\t\t\t\t,\t(this.memory[p64+3] << 8) | this.memory[p64+2]\n\t\t\t\t,\t(this.memory[p64+5] << 8) | this.memory[p64+4]\n\t\t\t\t,\t(this.memory[p64+7] << 8) | this.memory[p64+6]\n\t\t\t\t)\n\t\t\tthis.v3.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\tp64 += 8\n\t\t\tother = UINT64(\n\t\t\t\t\t(this.memory[p64+1] << 8) | this.memory[p64]\n\t\t\t\t,\t(this.memory[p64+3] << 8) | this.memory[p64+2]\n\t\t\t\t,\t(this.memory[p64+5] << 8) | this.memory[p64+4]\n\t\t\t\t,\t(this.memory[p64+7] << 8) | this.memory[p64+6]\n\t\t\t\t)\n\t\t\tthis.v4.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t}\n\n\t\tp += 32 - this.memsize\n\t\tthis.memsize = 0\n\t\tif (isString) this.memory = ''\n\t}\n\n\tif (p <= bEnd - 32)\n\t{\n\t\tvar limit = bEnd - 32\n\n\t\tdo\n\t\t{\n\t\t\tif (isString) {\n\t\t\t\tvar other\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t\t,\t(input.charCodeAt(p+5) << 8) | input.charCodeAt(p+4)\n\t\t\t\t\t,\t(input.charCodeAt(p+7) << 8) | input.charCodeAt(p+6)\n\t\t\t\t\t)\n\t\t\t\tthis.v1.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t\t,\t(input.charCodeAt(p+5) << 8) | input.charCodeAt(p+4)\n\t\t\t\t\t,\t(input.charCodeAt(p+7) << 8) | input.charCodeAt(p+6)\n\t\t\t\t\t)\n\t\t\t\tthis.v2.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t\t,\t(input.charCodeAt(p+5) << 8) | input.charCodeAt(p+4)\n\t\t\t\t\t,\t(input.charCodeAt(p+7) << 8) | input.charCodeAt(p+6)\n\t\t\t\t\t)\n\t\t\t\tthis.v3.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t\t\t,\t(input.charCodeAt(p+5) << 8) | input.charCodeAt(p+4)\n\t\t\t\t\t,\t(input.charCodeAt(p+7) << 8) | input.charCodeAt(p+6)\n\t\t\t\t\t)\n\t\t\t\tthis.v4.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t} else {\n\t\t\t\tvar other\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t\t,\t(input[p+5] << 8) | input[p+4]\n\t\t\t\t\t,\t(input[p+7] << 8) | input[p+6]\n\t\t\t\t\t)\n\t\t\t\tthis.v1.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t\t,\t(input[p+5] << 8) | input[p+4]\n\t\t\t\t\t,\t(input[p+7] << 8) | input[p+6]\n\t\t\t\t\t)\n\t\t\t\tthis.v2.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t\t,\t(input[p+5] << 8) | input[p+4]\n\t\t\t\t\t,\t(input[p+7] << 8) | input[p+6]\n\t\t\t\t\t)\n\t\t\t\tthis.v3.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t\tp += 8\n\t\t\t\tother = UINT64(\n\t\t\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t\t\t,\t(input[p+5] << 8) | input[p+4]\n\t\t\t\t\t,\t(input[p+7] << 8) | input[p+6]\n\t\t\t\t\t)\n\t\t\t\tthis.v4.add( other.multiply(PRIME64_2) ).rotl(31).multiply(PRIME64_1);\n\t\t\t}\n\t\t\tp += 8\n\t\t} while (p <= limit)\n\t}\n\n\tif (p < bEnd)\n\t{\n\t\t// XXH64_memcpy(this.memory, p, bEnd-p);\n\t\tif (isString) {\n\t\t\tthis.memory += input.slice(p)\n\t\t} else if (isArrayBuffer) {\n\t\t\tthis.memory.set( input.subarray(p, bEnd), this.memsize )\n\t\t} else {\n\t\t\tinput.copy( this.memory, this.memsize, p, bEnd )\n\t\t}\n\n\t\tthis.memsize = bEnd - p\n\t}\n\n\treturn this\n}\n\n/**\n * Finalize the XXH64 computation. The XXH64 instance is ready for reuse for the given seed\n * @method digest\n * @return {UINT64} xxHash\n */\nXXH64.prototype.digest = function () {\n\tvar input = this.memory\n\tvar isString = typeof input == 'string'\n\tvar p = 0\n\tvar bEnd = this.memsize\n\tvar h64, h\n\tvar u = new UINT64\n\n\tif (this.total_len >= 32)\n\t{\n\t\th64 = this.v1.clone().rotl(1)\n\t\th64.add( this.v2.clone().rotl(7) )\n\t\th64.add( this.v3.clone().rotl(12) )\n\t\th64.add( this.v4.clone().rotl(18) )\n\n\t\th64.xor( this.v1.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1) )\n\t\th64.multiply(PRIME64_1).add(PRIME64_4)\n\n\t\th64.xor( this.v2.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1) )\n\t\th64.multiply(PRIME64_1).add(PRIME64_4)\n\n\t\th64.xor( this.v3.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1) )\n\t\th64.multiply(PRIME64_1).add(PRIME64_4)\n\n\t\th64.xor( this.v4.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1) )\n\t\th64.multiply(PRIME64_1).add(PRIME64_4)\n\t}\n\telse\n\t{\n\t\th64  = this.seed.clone().add( PRIME64_5 )\n\t}\n\n\th64.add( u.fromNumber(this.total_len) )\n\n\twhile (p <= bEnd - 8)\n\t{\n\t\tif (isString) {\n\t\t\tu.fromBits(\n\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t,\t(input.charCodeAt(p+5) << 8) | input.charCodeAt(p+4)\n\t\t\t,\t(input.charCodeAt(p+7) << 8) | input.charCodeAt(p+6)\n\t\t\t)\n\t\t} else {\n\t\t\tu.fromBits(\n\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t,\t(input[p+5] << 8) | input[p+4]\n\t\t\t,\t(input[p+7] << 8) | input[p+6]\n\t\t\t)\n\t\t}\n\t\tu.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1)\n\t\th64\n\t\t\t.xor(u)\n\t\t\t.rotl(27)\n\t\t\t.multiply( PRIME64_1 )\n\t\t\t.add( PRIME64_4 )\n\t\tp += 8\n\t}\n\n\tif (p + 4 <= bEnd) {\n\t\tif (isString) {\n\t\t\tu.fromBits(\n\t\t\t\t(input.charCodeAt(p+1) << 8) | input.charCodeAt(p)\n\t\t\t,\t(input.charCodeAt(p+3) << 8) | input.charCodeAt(p+2)\n\t\t\t,\t0\n\t\t\t,\t0\n\t\t\t)\n\t\t} else {\n\t\t\tu.fromBits(\n\t\t\t\t(input[p+1] << 8) | input[p]\n\t\t\t,\t(input[p+3] << 8) | input[p+2]\n\t\t\t,\t0\n\t\t\t,\t0\n\t\t\t)\n\t\t}\n\t\th64\n\t\t\t.xor( u.multiply(PRIME64_1) )\n\t\t\t.rotl(23)\n\t\t\t.multiply( PRIME64_2 )\n\t\t\t.add( PRIME64_3 )\n\t\tp += 4\n\t}\n\n\twhile (p < bEnd)\n\t{\n\t\tu.fromBits( isString ? input.charCodeAt(p++) : input[p++], 0, 0, 0 )\n\t\th64\n\t\t\t.xor( u.multiply(PRIME64_5) )\n\t\t\t.rotl(11)\n\t\t\t.multiply(PRIME64_1)\n\t}\n\n\th = h64.clone().shiftRight(33)\n\th64.xor(h).multiply(PRIME64_2)\n\n\th = h64.clone().shiftRight(29)\n\th64.xor(h).multiply(PRIME64_3)\n\n\th = h64.clone().shiftRight(32)\n\th64.xor(h)\n\n\t// Reset the state\n\tthis.init( this.seed )\n\n\treturn h64\n}\n\nmodule.exports = XXH64\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/xxhashjs/lib/xxhash64.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = require(\"./logger\");\nvar SYNC_DOCUMENT_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.document';\nvar SYNC_LIST_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.list';\nvar SYNC_MAP_NOTIFICATION_TYPE = 'com.twilio.rtd.cds.map';\nvar SYNC_NOTIFICATION_TYPE = 'twilio.sync.event';\n/**\n * @class Router\n * @classdesc Routes all incoming messages to the consumers\n */\n\nvar Router = function () {\n    function Router(params) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Router);\n\n        this.config = params.config;\n        this.subscriptions = params.subscriptions;\n        this.notifications = params.notifications;\n        this.notifications.subscribe(SYNC_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_DOCUMENT_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_LIST_NOTIFICATION_TYPE);\n        this.notifications.subscribe(SYNC_MAP_NOTIFICATION_TYPE);\n        this.notifications.on('message', function (messageType, payload) {\n            return _this.onMessage(messageType, payload);\n        });\n        this.notifications.on('transportReady', function (isConnected) {\n            return _this.onConnectionStateChanged(isConnected);\n        });\n    }\n    /**\n     * Entry point for all incoming messages\n     * @param {String} type - Type of incoming message\n     * @param {Object} message - Message to route\n     */\n\n\n    (0, _createClass3.default)(Router, [{\n        key: \"onMessage\",\n        value: function onMessage(type, message) {\n            logger_1.default.trace('Notification type:', type, 'content:', message);\n            switch (type) {\n                case SYNC_DOCUMENT_NOTIFICATION_TYPE:\n                case SYNC_LIST_NOTIFICATION_TYPE:\n                case SYNC_MAP_NOTIFICATION_TYPE:\n                    this.subscriptions.acceptMessage(message, false);\n                    break;\n                case SYNC_NOTIFICATION_TYPE:\n                    this.subscriptions.acceptMessage(message, true);\n                    break;\n            }\n        }\n        /**\n         * Subscribe for events\n         */\n\n    }, {\n        key: \"subscribe\",\n        value: function subscribe(sid, entity) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.subscriptions.add(sid, entity);\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Unsubscribe from events\n         */\n\n    }, {\n        key: \"unsubscribe\",\n        value: function unsubscribe(sid, entity) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return this.subscriptions.remove(sid);\n\n                            case 2:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Handle transport establishing event\n         * If we have any subscriptions - we should check object for modifications\n         */\n\n    }, {\n        key: \"onConnectionStateChanged\",\n        value: function onConnectionStateChanged(isConnected) {\n            this.subscriptions.onConnectionStateChanged(isConnected);\n        }\n    }]);\n    return Router;\n}();\n\nexports.Router = Router;\nexports.default = Router;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/router.js","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.array.iterator.js","exports.f = Object.getOwnPropertySymbols;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-gops.js","exports.UINT32 = require('./lib/uint32')\nexports.UINT64 = require('./lib/uint64')\n\n\n// WEBPACK FOOTER //\n// ../node_modules/cuint/index.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\nfunction deepClone(obj) {\n    return JSON.parse((0, _stringify2.default)(obj));\n}\nexports.deepClone = deepClone;\n/**\n * Construct URI with query parameters\n */\n\nvar UriBuilder = function () {\n    function UriBuilder(base) {\n        (0, _classCallCheck3.default)(this, UriBuilder);\n\n        this.base = base;\n        this.args = new Array();\n        this.paths = new Array();\n    }\n\n    (0, _createClass3.default)(UriBuilder, [{\n        key: \"pathSegment\",\n        value: function pathSegment(name) {\n            this.paths.push(encodeURIComponent(name));\n            return this;\n        }\n    }, {\n        key: \"queryParam\",\n        value: function queryParam(name, value) {\n            if (typeof value !== 'undefined') {\n                this.args.push(encodeURIComponent(name) + '=' + encodeURIComponent(value));\n            }\n            return this;\n        }\n    }, {\n        key: \"build\",\n        value: function build() {\n            var result = this.base;\n            if (this.paths.length) {\n                result += '/' + this.paths.join('/');\n            }\n            if (this.args.length) {\n                result += '?' + this.args.join('&');\n            }\n            return result;\n        }\n    }]);\n    return UriBuilder;\n}();\n\nexports.UriBuilder = UriBuilder;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/utils.js","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/event-emitter/index.js","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar Backoff = require('./lib/backoff');\nvar ExponentialBackoffStrategy = require('./lib/strategy/exponential');\nvar FibonacciBackoffStrategy = require('./lib/strategy/fibonacci');\nvar FunctionCall = require('./lib/function_call.js');\n\nmodule.exports.Backoff = Backoff;\nmodule.exports.FunctionCall = FunctionCall;\nmodule.exports.FibonacciStrategy = FibonacciBackoffStrategy;\nmodule.exports.ExponentialStrategy = ExponentialBackoffStrategy;\n\n// Constructs a Fibonacci backoff.\nmodule.exports.fibonacci = function(options) {\n    return new Backoff(new FibonacciBackoffStrategy(options));\n};\n\n// Constructs an exponential backoff.\nmodule.exports.exponential = function(options) {\n    return new Backoff(new ExponentialBackoffStrategy(options));\n};\n\n// Constructs a FunctionCall for the given function and arguments.\nmodule.exports.call = function(fn, vargs, callback) {\n    var args = Array.prototype.slice.call(arguments);\n    fn = args[0];\n    vargs = args.slice(1, args.length - 1);\n    callback = args[args.length - 1];\n    return new FunctionCall(fn, vargs, callback);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/index.js","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/json/stringify.js",";(function() {\n\"use strict\";\n\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @author Jason Mayes.\n */\n/* exported componentHandler */\n\n// Pre-defining the componentHandler interface, for closure documentation and\n// static verification.\nvar componentHandler = {\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  upgradeDom: function(optJsClass, optCssClass) {},\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  upgradeElement: function(element, optJsClass) {},\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  upgradeElements: function(elements) {},\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  upgradeAllRegistered: function() {},\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  registerUpgradedCallback: function(jsClass, callback) {},\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n   */\n  register: function(config) {},\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  downgradeElements: function(nodes) {}\n};\n\ncomponentHandler = (function() {\n  'use strict';\n\n  /** @type {!Array<componentHandler.ComponentConfig>} */\n  var registeredComponents_ = [];\n\n  /** @type {!Array<componentHandler.Component>} */\n  var createdComponents_ = [];\n\n  var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n\n  /**\n   * Searches registered components for a class we are interested in using.\n   * Optionally replaces a match with passed object if specified.\n   *\n   * @param {string} name The name of a class we want to use.\n   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n   * @return {!Object|boolean}\n   * @private\n   */\n  function findRegisteredClass_(name, optReplace) {\n    for (var i = 0; i < registeredComponents_.length; i++) {\n      if (registeredComponents_[i].className === name) {\n        if (typeof optReplace !== 'undefined') {\n          registeredComponents_[i] = optReplace;\n        }\n        return registeredComponents_[i];\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of the classNames of the upgraded classes on the element.\n   *\n   * @param {!Element} element The element to fetch data from.\n   * @return {!Array<string>}\n   * @private\n   */\n  function getUpgradedListOfElement_(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded');\n    // Use `['']` as default value to conform the `,name,name...` style.\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n  }\n\n  /**\n   * Returns true if the given element has already been upgraded for the given\n   * class.\n   *\n   * @param {!Element} element The element we want to check.\n   * @param {string} jsClass The class to check for.\n   * @returns {boolean}\n   * @private\n   */\n  function isElementUpgraded_(element, jsClass) {\n    var upgradedList = getUpgradedListOfElement_(element);\n    return upgradedList.indexOf(jsClass) !== -1;\n  }\n\n  /**\n   * Create an event object.\n   *\n   * @param {string} eventType The type name of the event.\n   * @param {boolean} bubbles Whether the event should bubble up the DOM.\n   * @param {boolean} cancelable Whether the event can be canceled.\n   * @returns {!Event}\n   */\n  function createEvent_(eventType, bubbles, cancelable) {\n    if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n      return new CustomEvent(eventType, {\n        bubbles: bubbles,\n        cancelable: cancelable\n      });\n    } else {\n      var ev = document.createEvent('Events');\n      ev.initEvent(eventType, bubbles, cancelable);\n      return ev;\n    }\n  }\n\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  function upgradeDomInternal(optJsClass, optCssClass) {\n    if (typeof optJsClass === 'undefined' &&\n        typeof optCssClass === 'undefined') {\n      for (var i = 0; i < registeredComponents_.length; i++) {\n        upgradeDomInternal(registeredComponents_[i].className,\n            registeredComponents_[i].cssClass);\n      }\n    } else {\n      var jsClass = /** @type {string} */ (optJsClass);\n      if (typeof optCssClass === 'undefined') {\n        var registeredClass = findRegisteredClass_(jsClass);\n        if (registeredClass) {\n          optCssClass = registeredClass.cssClass;\n        }\n      }\n\n      var elements = document.querySelectorAll('.' + optCssClass);\n      for (var n = 0; n < elements.length; n++) {\n        upgradeElementInternal(elements[n], jsClass);\n      }\n    }\n  }\n\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  function upgradeElementInternal(element, optJsClass) {\n    // Verify argument type.\n    if (!(typeof element === 'object' && element instanceof Element)) {\n      throw new Error('Invalid argument provided to upgrade MDL element.');\n    }\n    // Allow upgrade to be canceled by canceling emitted event.\n    var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n    element.dispatchEvent(upgradingEv);\n    if (upgradingEv.defaultPrevented) {\n      return;\n    }\n\n    var upgradedList = getUpgradedListOfElement_(element);\n    var classesToUpgrade = [];\n    // If jsClass is not provided scan the registered components to find the\n    // ones matching the element's CSS classList.\n    if (!optJsClass) {\n      var classList = element.classList;\n      registeredComponents_.forEach(function(component) {\n        // Match CSS & Not to be upgraded & Not upgraded.\n        if (classList.contains(component.cssClass) &&\n            classesToUpgrade.indexOf(component) === -1 &&\n            !isElementUpgraded_(element, component.className)) {\n          classesToUpgrade.push(component);\n        }\n      });\n    } else if (!isElementUpgraded_(element, optJsClass)) {\n      classesToUpgrade.push(findRegisteredClass_(optJsClass));\n    }\n\n    // Upgrade the element for each classes.\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n      registeredClass = classesToUpgrade[i];\n      if (registeredClass) {\n        // Mark element as upgraded.\n        upgradedList.push(registeredClass.className);\n        element.setAttribute('data-upgraded', upgradedList.join(','));\n        var instance = new registeredClass.classConstructor(element);\n        instance[componentConfigProperty_] = registeredClass;\n        createdComponents_.push(instance);\n        // Call any callbacks the user has registered with this component type.\n        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n          registeredClass.callbacks[j](element);\n        }\n\n        if (registeredClass.widget) {\n          // Assign per element instance for control over API\n          element[registeredClass.className] = instance;\n        }\n      } else {\n        throw new Error(\n          'Unable to find a registered component for the given class.');\n      }\n\n      var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n      element.dispatchEvent(upgradedEv);\n    }\n  }\n\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  function upgradeElementsInternal(elements) {\n    if (!Array.isArray(elements)) {\n      if (elements instanceof Element) {\n        elements = [elements];\n      } else {\n        elements = Array.prototype.slice.call(elements);\n      }\n    }\n    for (var i = 0, n = elements.length, element; i < n; i++) {\n      element = elements[i];\n      if (element instanceof HTMLElement) {\n        upgradeElementInternal(element);\n        if (element.children.length > 0) {\n          upgradeElementsInternal(element.children);\n        }\n      }\n    }\n  }\n\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config\n   */\n  function registerInternal(config) {\n    // In order to support both Closure-compiled and uncompiled code accessing\n    // this method, we need to allow for both the dot and array syntax for\n    // property access. You'll therefore see the `foo.bar || foo['bar']`\n    // pattern repeated across this method.\n    var widgetMissing = (typeof config.widget === 'undefined' &&\n        typeof config['widget'] === 'undefined');\n    var widget = true;\n\n    if (!widgetMissing) {\n      widget = config.widget || config['widget'];\n    }\n\n    var newConfig = /** @type {componentHandler.ComponentConfig} */ ({\n      classConstructor: config.constructor || config['constructor'],\n      className: config.classAsString || config['classAsString'],\n      cssClass: config.cssClass || config['cssClass'],\n      widget: widget,\n      callbacks: []\n    });\n\n    registeredComponents_.forEach(function(item) {\n      if (item.cssClass === newConfig.cssClass) {\n        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n      }\n      if (item.className === newConfig.className) {\n        throw new Error('The provided className has already been registered');\n      }\n    });\n\n    if (config.constructor.prototype\n        .hasOwnProperty(componentConfigProperty_)) {\n      throw new Error(\n          'MDL component classes must not have ' + componentConfigProperty_ +\n          ' defined as a property.');\n    }\n\n    var found = findRegisteredClass_(config.classAsString, newConfig);\n\n    if (!found) {\n      registeredComponents_.push(newConfig);\n    }\n  }\n\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  function registerUpgradedCallbackInternal(jsClass, callback) {\n    var regClass = findRegisteredClass_(jsClass);\n    if (regClass) {\n      regClass.callbacks.push(callback);\n    }\n  }\n\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  function upgradeAllRegisteredInternal() {\n    for (var n = 0; n < registeredComponents_.length; n++) {\n      upgradeDomInternal(registeredComponents_[n].className);\n    }\n  }\n\n  /**\n   * Check the component for the downgrade method.\n   * Execute if found.\n   * Remove component from createdComponents list.\n   *\n   * @param {?componentHandler.Component} component\n   */\n  function deconstructComponentInternal(component) {\n    if (component) {\n      var componentIndex = createdComponents_.indexOf(component);\n      createdComponents_.splice(componentIndex, 1);\n\n      var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n      var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n      upgrades.splice(componentPlace, 1);\n      component.element_.setAttribute('data-upgraded', upgrades.join(','));\n\n      var ev = createEvent_('mdl-componentdowngraded', true, false);\n      component.element_.dispatchEvent(ev);\n    }\n  }\n\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  function downgradeNodesInternal(nodes) {\n    /**\n     * Auxiliary function to downgrade a single node.\n     * @param  {!Node} node the node to be downgraded\n     */\n    var downgradeNode = function(node) {\n      createdComponents_.filter(function(item) {\n        return item.element_ === node;\n      }).forEach(deconstructComponentInternal);\n    };\n    if (nodes instanceof Array || nodes instanceof NodeList) {\n      for (var n = 0; n < nodes.length; n++) {\n        downgradeNode(nodes[n]);\n      }\n    } else if (nodes instanceof Node) {\n      downgradeNode(nodes);\n    } else {\n      throw new Error('Invalid argument provided to downgrade MDL nodes.');\n    }\n  }\n\n  // Now return the functions that should be made public with their publicly\n  // facing names...\n  return {\n    upgradeDom: upgradeDomInternal,\n    upgradeElement: upgradeElementInternal,\n    upgradeElements: upgradeElementsInternal,\n    upgradeAllRegistered: upgradeAllRegisteredInternal,\n    registerUpgradedCallback: registerUpgradedCallbackInternal,\n    register: registerInternal,\n    downgradeElements: downgradeNodesInternal\n  };\n})();\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: Function,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: (string|boolean|undefined)\n * }}\n */\ncomponentHandler.ComponentConfigPublic;  // jshint ignore:line\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: !Function,\n *   className: string,\n *   cssClass: string,\n *   widget: (string|boolean),\n *   callbacks: !Array<function(!HTMLElement)>\n * }}\n */\ncomponentHandler.ComponentConfig;  // jshint ignore:line\n\n/**\n * Created component (i.e., upgraded element) type as managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   element_: !HTMLElement,\n *   className: string,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: string\n * }}\n */\ncomponentHandler.Component;  // jshint ignore:line\n\n// Export all symbols, for the benefit of Closure compiler.\n// No effect on uncompiled code.\ncomponentHandler['upgradeDom'] = componentHandler.upgradeDom;\ncomponentHandler['upgradeElement'] = componentHandler.upgradeElement;\ncomponentHandler['upgradeElements'] = componentHandler.upgradeElements;\ncomponentHandler['upgradeAllRegistered'] =\n    componentHandler.upgradeAllRegistered;\ncomponentHandler['registerUpgradedCallback'] =\n    componentHandler.registerUpgradedCallback;\ncomponentHandler['register'] = componentHandler.register;\ncomponentHandler['downgradeElements'] = componentHandler.downgradeElements;\nwindow.componentHandler = componentHandler;\nwindow['componentHandler'] = componentHandler;\n\nwindow.addEventListener('load', function() {\n  'use strict';\n\n  /**\n   * Performs a \"Cutting the mustard\" test. If the browser supports the features\n   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n   * components requiring JavaScript.\n   */\n  if ('classList' in document.createElement('div') &&\n      'querySelector' in document &&\n      'addEventListener' in window && Array.prototype.forEach) {\n    document.documentElement.classList.add('mdl-js');\n    componentHandler.upgradeAllRegistered();\n  } else {\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.upgradeElement = function() {};\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.register = function() {};\n  }\n});\n\n// Source: https://github.com/darius/requestAnimationFrame/blob/master/requestAnimationFrame.js\n// Adapted from https://gist.github.com/paulirish/1579671 which derived from\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n// requestAnimationFrame polyfill by Erik Möller.\n// Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavič, Darius Bacon\n// MIT license\nif (!Date.now) {\n    /**\n     * Date.now polyfill.\n     * @return {number} the current Date\n     */\n    Date.now = function () {\n        return new Date().getTime();\n    };\n    Date['now'] = Date.now;\n}\nvar vendors = [\n    'webkit',\n    'moz'\n];\nfor (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n    var vp = vendors[i];\n    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}\nif (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    /**\n     * requestAnimationFrame polyfill.\n     * @param  {!Function} callback the callback function.\n     */\n    window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n            callback(lastTime = nextTime);\n        }, nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Button MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialButton = function MaterialButton(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialButton'] = MaterialButton;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialButton.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialButton.prototype.CssClasses_ = {\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-button__ripple-container',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle blur of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialButton.prototype.blurHandler_ = function (event) {\n    if (event) {\n        this.element_.blur();\n    }\n};\n// Public methods.\n/**\n   * Disable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialButton.prototype['disable'] = MaterialButton.prototype.disable;\n/**\n   * Enable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialButton.prototype['enable'] = MaterialButton.prototype.enable;\n/**\n   * Initialize element.\n   */\nMaterialButton.prototype.init = function () {\n    if (this.element_) {\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleElement_ = document.createElement('span');\n            this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(this.rippleElement_);\n            this.boundRippleBlurHandler = this.blurHandler_.bind(this);\n            this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.boundButtonBlurHandler = this.blurHandler_.bind(this);\n        this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);\n        this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialButton,\n    classAsString: 'MaterialButton',\n    cssClass: 'mdl-js-button',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialCheckbox = function MaterialCheckbox(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialCheckbox'] = MaterialCheckbox;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialCheckbox.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialCheckbox.prototype.CssClasses_ = {\n    INPUT: 'mdl-checkbox__input',\n    BOX_OUTLINE: 'mdl-checkbox__box-outline',\n    FOCUS_HELPER: 'mdl-checkbox__focus-helper',\n    TICK_OUTLINE: 'mdl-checkbox__tick-outline',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-checkbox__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialCheckbox.prototype['checkToggleState'] = MaterialCheckbox.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialCheckbox.prototype['checkDisabled'] = MaterialCheckbox.prototype.checkDisabled;\n/**\n   * Disable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['disable'] = MaterialCheckbox.prototype.disable;\n/**\n   * Enable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['enable'] = MaterialCheckbox.prototype.enable;\n/**\n   * Check checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['check'] = MaterialCheckbox.prototype.check;\n/**\n   * Uncheck checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['uncheck'] = MaterialCheckbox.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialCheckbox.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var boxOutline = document.createElement('span');\n        boxOutline.classList.add(this.CssClasses_.BOX_OUTLINE);\n        var tickContainer = document.createElement('span');\n        tickContainer.classList.add(this.CssClasses_.FOCUS_HELPER);\n        var tickOutline = document.createElement('span');\n        tickOutline.classList.add(this.CssClasses_.TICK_OUTLINE);\n        boxOutline.appendChild(tickOutline);\n        this.element_.appendChild(tickContainer);\n        this.element_.appendChild(boxOutline);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialCheckbox,\n    classAsString: 'MaterialCheckbox',\n    cssClass: 'mdl-js-checkbox',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for icon toggle MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialIconToggle = function MaterialIconToggle(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialIconToggle'] = MaterialIconToggle;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialIconToggle.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialIconToggle.prototype.CssClasses_ = {\n    INPUT: 'mdl-icon-toggle__input',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-icon-toggle__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialIconToggle.prototype['checkToggleState'] = MaterialIconToggle.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialIconToggle.prototype['checkDisabled'] = MaterialIconToggle.prototype.checkDisabled;\n/**\n   * Disable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['disable'] = MaterialIconToggle.prototype.disable;\n/**\n   * Enable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['enable'] = MaterialIconToggle.prototype.enable;\n/**\n   * Check icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['check'] = MaterialIconToggle.prototype.check;\n/**\n   * Uncheck icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['uncheck'] = MaterialIconToggle.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialIconToggle.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementOnMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementOnMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialIconToggle,\n    classAsString: 'MaterialIconToggle',\n    cssClass: 'mdl-js-icon-toggle',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for dropdown MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialMenu = function MaterialMenu(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialMenu'] = MaterialMenu;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialMenu.prototype.Constant_ = {\n    // Total duration of the menu animation.\n    TRANSITION_DURATION_SECONDS: 0.3,\n    // The fraction of the total duration we want to use for menu item animations.\n    TRANSITION_DURATION_FRACTION: 0.8,\n    // How long the menu stays open after choosing an option (so the user can see\n    // the ripple).\n    CLOSE_TIMEOUT: 150\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialMenu.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32,\n    UP_ARROW: 38,\n    DOWN_ARROW: 40\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialMenu.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-menu__container',\n    OUTLINE: 'mdl-menu__outline',\n    ITEM: 'mdl-menu__item',\n    ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    // Statuses\n    IS_UPGRADED: 'is-upgraded',\n    IS_VISIBLE: 'is-visible',\n    IS_ANIMATING: 'is-animating',\n    // Alignment options\n    BOTTOM_LEFT: 'mdl-menu--bottom-left',\n    // This is the default.\n    BOTTOM_RIGHT: 'mdl-menu--bottom-right',\n    TOP_LEFT: 'mdl-menu--top-left',\n    TOP_RIGHT: 'mdl-menu--top-right',\n    UNALIGNED: 'mdl-menu--unaligned'\n};\n/**\n   * Initialize element.\n   */\nMaterialMenu.prototype.init = function () {\n    if (this.element_) {\n        // Create container for the menu.\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        this.container_ = container;\n        // Create outline for the menu (shadow and background).\n        var outline = document.createElement('div');\n        outline.classList.add(this.CssClasses_.OUTLINE);\n        this.outline_ = outline;\n        container.insertBefore(outline, this.element_);\n        // Find the \"for\" element and bind events to it.\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        var forEl = null;\n        if (forElId) {\n            forEl = document.getElementById(forElId);\n            if (forEl) {\n                this.forElement_ = forEl;\n                forEl.addEventListener('click', this.handleForClick_.bind(this));\n                forEl.addEventListener('keydown', this.handleForKeyboardEvent_.bind(this));\n            }\n        }\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);\n        this.boundItemClick_ = this.handleItemClick_.bind(this);\n        for (var i = 0; i < items.length; i++) {\n            // Add a listener to each menu item.\n            items[i].addEventListener('click', this.boundItemClick_);\n            // Add a tab index to each menu item.\n            items[i].tabIndex = '-1';\n            // Add a keyboard listener to each menu item.\n            items[i].addEventListener('keydown', this.boundItemKeydown_);\n        }\n        // Add ripple classes to each item, if the user has enabled ripples.\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            for (i = 0; i < items.length; i++) {\n                var item = items[i];\n                var rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                rippleContainer.appendChild(ripple);\n                item.appendChild(rippleContainer);\n                item.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            }\n        }\n        // Copy alignment classes to the container, so the outline can use them.\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n            this.outline_.classList.add(this.CssClasses_.UNALIGNED);\n        }\n        container.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Handles a click on the \"for\" element, by positioning the menu and then\n   * toggling it.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForClick_ = function (evt) {\n    if (this.element_ && this.forElement_) {\n        var rect = this.forElement_.getBoundingClientRect();\n        var forRect = this.forElement_.parentElement.getBoundingClientRect();\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            // Position below the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            // Position above the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            // Position above the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else {\n            // Default: position below the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        }\n    }\n    this.toggle(evt);\n};\n/**\n   * Handles a keyboard event on the \"for\" element.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_ && this.forElement_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                items[items.length - 1].focus();\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                items[0].focus();\n            }\n        }\n    }\n};\n/**\n   * Handles a keyboard event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                if (currentIndex > 0) {\n                    items[currentIndex - 1].focus();\n                } else {\n                    items[items.length - 1].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                if (items.length > currentIndex + 1) {\n                    items[currentIndex + 1].focus();\n                } else {\n                    items[0].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n                evt.preventDefault();\n                // Send mousedown and mouseup to trigger ripple.\n                var e = new MouseEvent('mousedown');\n                evt.target.dispatchEvent(e);\n                e = new MouseEvent('mouseup');\n                evt.target.dispatchEvent(e);\n                // Send click.\n                evt.target.click();\n            } else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n                evt.preventDefault();\n                this.hide();\n            }\n        }\n    }\n};\n/**\n   * Handles a click event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemClick_ = function (evt) {\n    if (evt.target.hasAttribute('disabled')) {\n        evt.stopPropagation();\n    } else {\n        // Wait some time before closing menu, so the user can see the ripple.\n        this.closing_ = true;\n        window.setTimeout(function (evt) {\n            this.hide();\n            this.closing_ = false;\n        }.bind(this), this.Constant_.CLOSE_TIMEOUT);\n    }\n};\n/**\n   * Calculates the initial clip (for opening the menu) or final clip (for closing\n   * it), and applies it. This allows us to animate from or to the correct point,\n   * that is, the point it's aligned to in the \"for\" element.\n   *\n   * @param {number} height Height of the clip rectangle\n   * @param {number} width Width of the clip rectangle\n   * @private\n   */\nMaterialMenu.prototype.applyClip_ = function (height, width) {\n    if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        // Do not clip.\n        this.element_.style.clip = '';\n    } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n        // Clip to the top right corner of the menu.\n        this.element_.style.clip = 'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n        // Clip to the bottom left corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px 0 ' + height + 'px 0)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n        // Clip to the bottom right corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' + height + 'px ' + width + 'px)';\n    } else {\n        // Default: do not clip (same as clipping to the top left corner).\n        this.element_.style.clip = '';\n    }\n};\n/**\n   * Cleanup function to remove animation listeners.\n   *\n   * @param {Event} evt\n   * @private\n   */\nMaterialMenu.prototype.removeAnimationEndListener_ = function (evt) {\n    evt.target.classList.remove(MaterialMenu.prototype.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Adds an event listener to clean up after the animation ends.\n   *\n   * @private\n   */\nMaterialMenu.prototype.addAnimationEndListener_ = function () {\n    this.element_.addEventListener('transitionend', this.removeAnimationEndListener_);\n    this.element_.addEventListener('webkitTransitionEnd', this.removeAnimationEndListener_);\n};\n/**\n   * Displays the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.show = function (evt) {\n    if (this.element_ && this.container_ && this.outline_) {\n        // Measure the inner element.\n        var height = this.element_.getBoundingClientRect().height;\n        var width = this.element_.getBoundingClientRect().width;\n        // Apply the inner element's size to the container and outline.\n        this.container_.style.width = width + 'px';\n        this.container_.style.height = height + 'px';\n        this.outline_.style.width = width + 'px';\n        this.outline_.style.height = height + 'px';\n        var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS * this.Constant_.TRANSITION_DURATION_FRACTION;\n        // Calculate transition delays for individual menu items, so that they fade\n        // in one at a time.\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        for (var i = 0; i < items.length; i++) {\n            var itemDelay = null;\n            if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) || this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                itemDelay = (height - items[i].offsetTop - items[i].offsetHeight) / height * transitionDuration + 's';\n            } else {\n                itemDelay = items[i].offsetTop / height * transitionDuration + 's';\n            }\n            items[i].style.transitionDelay = itemDelay;\n        }\n        // Apply the initial clip to the text before we start animating.\n        this.applyClip_(height, width);\n        // Wait for the next frame, turn on animation, and apply the final clip.\n        // Also make it visible. This triggers the transitions.\n        window.requestAnimationFrame(function () {\n            this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n            this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';\n            this.container_.classList.add(this.CssClasses_.IS_VISIBLE);\n        }.bind(this));\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n        // Add a click listener to the document, to close the menu.\n        var callback = function (e) {\n            // Check to see if the document is processing the same event that\n            // displayed the menu in the first place. If so, do nothing.\n            // Also check to see if the menu is in the process of closing itself, and\n            // do nothing in that case.\n            // Also check if the clicked element is a menu item\n            // if so, do nothing.\n            if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {\n                document.removeEventListener('click', callback);\n                this.hide();\n            }\n        }.bind(this);\n        document.addEventListener('click', callback);\n    }\n};\nMaterialMenu.prototype['show'] = MaterialMenu.prototype.show;\n/**\n   * Hides the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.hide = function () {\n    if (this.element_ && this.container_ && this.outline_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        // Remove all transition delays; menu items fade out concurrently.\n        for (var i = 0; i < items.length; i++) {\n            items[i].style.removeProperty('transition-delay');\n        }\n        // Measure the inner element.\n        var rect = this.element_.getBoundingClientRect();\n        var height = rect.height;\n        var width = rect.width;\n        // Turn on animation, and apply the final clip. Also make invisible.\n        // This triggers the transitions.\n        this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n        this.applyClip_(height, width);\n        this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n    }\n};\nMaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;\n/**\n   * Displays or hides the menu, depending on current state.\n   *\n   * @public\n   */\nMaterialMenu.prototype.toggle = function (evt) {\n    if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n        this.hide();\n    } else {\n        this.show(evt);\n    }\n};\nMaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialMenu,\n    classAsString: 'MaterialMenu',\n    cssClass: 'mdl-js-menu',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Progress MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialProgress = function MaterialProgress(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialProgress'] = MaterialProgress;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialProgress.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialProgress.prototype.CssClasses_ = { INDETERMINATE_CLASS: 'mdl-progress__indeterminate' };\n/**\n   * Set the current progress of the progressbar.\n   *\n   * @param {number} p Percentage of the progress (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setProgress = function (p) {\n    if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n        return;\n    }\n    this.progressbar_.style.width = p + '%';\n};\nMaterialProgress.prototype['setProgress'] = MaterialProgress.prototype.setProgress;\n/**\n   * Set the current progress of the buffer.\n   *\n   * @param {number} p Percentage of the buffer (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setBuffer = function (p) {\n    this.bufferbar_.style.width = p + '%';\n    this.auxbar_.style.width = 100 - p + '%';\n};\nMaterialProgress.prototype['setBuffer'] = MaterialProgress.prototype.setBuffer;\n/**\n   * Initialize element.\n   */\nMaterialProgress.prototype.init = function () {\n    if (this.element_) {\n        var el = document.createElement('div');\n        el.className = 'progressbar bar bar1';\n        this.element_.appendChild(el);\n        this.progressbar_ = el;\n        el = document.createElement('div');\n        el.className = 'bufferbar bar bar2';\n        this.element_.appendChild(el);\n        this.bufferbar_ = el;\n        el = document.createElement('div');\n        el.className = 'auxbar bar bar3';\n        this.element_.appendChild(el);\n        this.auxbar_ = el;\n        this.progressbar_.style.width = '0%';\n        this.bufferbar_.style.width = '100%';\n        this.auxbar_.style.width = '0%';\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialProgress,\n    classAsString: 'MaterialProgress',\n    cssClass: 'mdl-js-progress',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Radio MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRadio = function MaterialRadio(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRadio'] = MaterialRadio;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRadio.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRadio.prototype.CssClasses_ = {\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded',\n    JS_RADIO: 'mdl-js-radio',\n    RADIO_BTN: 'mdl-radio__button',\n    RADIO_OUTER_CIRCLE: 'mdl-radio__outer-circle',\n    RADIO_INNER_CIRCLE: 'mdl-radio__inner-circle',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-radio__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onChange_ = function (event) {\n    // Since other radio buttons don't get change events, we need to look for\n    // them to update their classes.\n    var radios = document.getElementsByClassName(this.CssClasses_.JS_RADIO);\n    for (var i = 0; i < radios.length; i++) {\n        var button = radios[i].querySelector('.' + this.CssClasses_.RADIO_BTN);\n        // Different name == different group, so no point updating those.\n        if (button.getAttribute('name') === this.btnElement_.getAttribute('name')) {\n            if (typeof radios[i]['MaterialRadio'] !== 'undefined') {\n                radios[i]['MaterialRadio'].updateClasses_();\n            }\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onMouseup_ = function (event) {\n    this.blur_();\n};\n/**\n   * Update classes.\n   *\n   * @private\n   */\nMaterialRadio.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialRadio.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.btnElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkDisabled = function () {\n    if (this.btnElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialRadio.prototype['checkDisabled'] = MaterialRadio.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkToggleState = function () {\n    if (this.btnElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialRadio.prototype['checkToggleState'] = MaterialRadio.prototype.checkToggleState;\n/**\n   * Disable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.disable = function () {\n    this.btnElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['disable'] = MaterialRadio.prototype.disable;\n/**\n   * Enable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.enable = function () {\n    this.btnElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['enable'] = MaterialRadio.prototype.enable;\n/**\n   * Check radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.check = function () {\n    this.btnElement_.checked = true;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['check'] = MaterialRadio.prototype.check;\n/**\n   * Uncheck radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.uncheck = function () {\n    this.btnElement_.checked = false;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['uncheck'] = MaterialRadio.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialRadio.prototype.init = function () {\n    if (this.element_) {\n        this.btnElement_ = this.element_.querySelector('.' + this.CssClasses_.RADIO_BTN);\n        this.boundChangeHandler_ = this.onChange_.bind(this);\n        this.boundFocusHandler_ = this.onChange_.bind(this);\n        this.boundBlurHandler_ = this.onBlur_.bind(this);\n        this.boundMouseUpHandler_ = this.onMouseup_.bind(this);\n        var outerCircle = document.createElement('span');\n        outerCircle.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);\n        var innerCircle = document.createElement('span');\n        innerCircle.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE);\n        this.element_.appendChild(outerCircle);\n        this.element_.appendChild(innerCircle);\n        var rippleContainer;\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            rippleContainer.addEventListener('mouseup', this.boundMouseUpHandler_);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(ripple);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.btnElement_.addEventListener('change', this.boundChangeHandler_);\n        this.btnElement_.addEventListener('focus', this.boundFocusHandler_);\n        this.btnElement_.addEventListener('blur', this.boundBlurHandler_);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler_);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRadio,\n    classAsString: 'MaterialRadio',\n    cssClass: 'mdl-js-radio',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Slider MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSlider = function MaterialSlider(element) {\n    this.element_ = element;\n    // Browser feature detection.\n    this.isIE_ = window.navigator.msPointerEnabled;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSlider'] = MaterialSlider;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSlider.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSlider.prototype.CssClasses_ = {\n    IE_CONTAINER: 'mdl-slider__ie-container',\n    SLIDER_CONTAINER: 'mdl-slider__container',\n    BACKGROUND_FLEX: 'mdl-slider__background-flex',\n    BACKGROUND_LOWER: 'mdl-slider__background-lower',\n    BACKGROUND_UPPER: 'mdl-slider__background-upper',\n    IS_LOWEST_VALUE: 'is-lowest-value',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle input on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onInput_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle change on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onChange_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle mouseup on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onMouseUp_ = function (event) {\n    event.target.blur();\n};\n/**\n   * Handle mousedown on container element.\n   * This handler is purpose is to not require the use to click\n   * exactly on the 2px slider element, as FireFox seems to be very\n   * strict about this.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   * @suppress {missingProperties}\n   */\nMaterialSlider.prototype.onContainerMouseDown_ = function (event) {\n    // If this click is not on the parent element (but rather some child)\n    // ignore. It may still bubble up.\n    if (event.target !== this.element_.parentElement) {\n        return;\n    }\n    // Discard the original event and create a new event that\n    // is on the slider element.\n    event.preventDefault();\n    var newEvent = new MouseEvent('mousedown', {\n        target: event.target,\n        buttons: event.buttons,\n        clientX: event.clientX,\n        clientY: this.element_.getBoundingClientRect().y\n    });\n    this.element_.dispatchEvent(newEvent);\n};\n/**\n   * Handle updating of values.\n   *\n   * @private\n   */\nMaterialSlider.prototype.updateValueStyles_ = function () {\n    // Calculate and apply percentages to div structure behind slider.\n    var fraction = (this.element_.value - this.element_.min) / (this.element_.max - this.element_.min);\n    if (fraction === 0) {\n        this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE);\n    }\n    if (!this.isIE_) {\n        this.backgroundLower_.style.flex = fraction;\n        this.backgroundLower_.style.webkitFlex = fraction;\n        this.backgroundUpper_.style.flex = 1 - fraction;\n        this.backgroundUpper_.style.webkitFlex = 1 - fraction;\n    }\n};\n// Public methods.\n/**\n   * Disable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialSlider.prototype['disable'] = MaterialSlider.prototype.disable;\n/**\n   * Enable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialSlider.prototype['enable'] = MaterialSlider.prototype.enable;\n/**\n   * Update slider value.\n   *\n   * @param {number} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialSlider.prototype.change = function (value) {\n    if (typeof value !== 'undefined') {\n        this.element_.value = value;\n    }\n    this.updateValueStyles_();\n};\nMaterialSlider.prototype['change'] = MaterialSlider.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialSlider.prototype.init = function () {\n    if (this.element_) {\n        if (this.isIE_) {\n            // Since we need to specify a very large height in IE due to\n            // implementation limitations, we add a parent here that trims it down to\n            // a reasonable size.\n            var containerIE = document.createElement('div');\n            containerIE.classList.add(this.CssClasses_.IE_CONTAINER);\n            this.element_.parentElement.insertBefore(containerIE, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            containerIE.appendChild(this.element_);\n        } else {\n            // For non-IE browsers, we need a div structure that sits behind the\n            // slider and allows us to style the left and right sides of it with\n            // different colors.\n            var container = document.createElement('div');\n            container.classList.add(this.CssClasses_.SLIDER_CONTAINER);\n            this.element_.parentElement.insertBefore(container, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            container.appendChild(this.element_);\n            var backgroundFlex = document.createElement('div');\n            backgroundFlex.classList.add(this.CssClasses_.BACKGROUND_FLEX);\n            container.appendChild(backgroundFlex);\n            this.backgroundLower_ = document.createElement('div');\n            this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER);\n            backgroundFlex.appendChild(this.backgroundLower_);\n            this.backgroundUpper_ = document.createElement('div');\n            this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER);\n            backgroundFlex.appendChild(this.backgroundUpper_);\n        }\n        this.boundInputHandler = this.onInput_.bind(this);\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        this.boundContainerMouseDownHandler = this.onContainerMouseDown_.bind(this);\n        this.element_.addEventListener('input', this.boundInputHandler);\n        this.element_.addEventListener('change', this.boundChangeHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.element_.parentElement.addEventListener('mousedown', this.boundContainerMouseDownHandler);\n        this.updateValueStyles_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSlider,\n    classAsString: 'MaterialSlider',\n    cssClass: 'mdl-js-slider',\n    widget: true\n});\n/**\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Snackbar MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSnackbar = function MaterialSnackbar(element) {\n    this.element_ = element;\n    this.textElement_ = this.element_.querySelector('.' + this.cssClasses_.MESSAGE);\n    this.actionElement_ = this.element_.querySelector('.' + this.cssClasses_.ACTION);\n    if (!this.textElement_) {\n        throw new Error('There must be a message element for a snackbar.');\n    }\n    if (!this.actionElement_) {\n        throw new Error('There must be an action element for a snackbar.');\n    }\n    this.active = false;\n    this.actionHandler_ = undefined;\n    this.message_ = undefined;\n    this.actionText_ = undefined;\n    this.queuedNotifications_ = [];\n    this.setActionHidden_(true);\n};\nwindow['MaterialSnackbar'] = MaterialSnackbar;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSnackbar.prototype.Constant_ = {\n    // The duration of the snackbar show/hide animation, in ms.\n    ANIMATION_LENGTH: 250\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSnackbar.prototype.cssClasses_ = {\n    SNACKBAR: 'mdl-snackbar',\n    MESSAGE: 'mdl-snackbar__text',\n    ACTION: 'mdl-snackbar__action',\n    ACTIVE: 'mdl-snackbar--active'\n};\n/**\n   * Display the snackbar.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.displaySnackbar_ = function () {\n    this.element_.setAttribute('aria-hidden', 'true');\n    if (this.actionHandler_) {\n        this.actionElement_.textContent = this.actionText_;\n        this.actionElement_.addEventListener('click', this.actionHandler_);\n        this.setActionHidden_(false);\n    }\n    this.textElement_.textContent = this.message_;\n    this.element_.classList.add(this.cssClasses_.ACTIVE);\n    this.element_.setAttribute('aria-hidden', 'false');\n    setTimeout(this.cleanup_.bind(this), this.timeout_);\n};\n/**\n   * Show the snackbar.\n   *\n   * @param {Object} data The data for the notification.\n   * @public\n   */\nMaterialSnackbar.prototype.showSnackbar = function (data) {\n    if (data === undefined) {\n        throw new Error('Please provide a data object with at least a message to display.');\n    }\n    if (data['message'] === undefined) {\n        throw new Error('Please provide a message to be displayed.');\n    }\n    if (data['actionHandler'] && !data['actionText']) {\n        throw new Error('Please provide action text with the handler.');\n    }\n    if (this.active) {\n        this.queuedNotifications_.push(data);\n    } else {\n        this.active = true;\n        this.message_ = data['message'];\n        if (data['timeout']) {\n            this.timeout_ = data['timeout'];\n        } else {\n            this.timeout_ = 2750;\n        }\n        if (data['actionHandler']) {\n            this.actionHandler_ = data['actionHandler'];\n        }\n        if (data['actionText']) {\n            this.actionText_ = data['actionText'];\n        }\n        this.displaySnackbar_();\n    }\n};\nMaterialSnackbar.prototype['showSnackbar'] = MaterialSnackbar.prototype.showSnackbar;\n/**\n   * Check if the queue has items within it.\n   * If it does, display the next entry.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.checkQueue_ = function () {\n    if (this.queuedNotifications_.length > 0) {\n        this.showSnackbar(this.queuedNotifications_.shift());\n    }\n};\n/**\n   * Cleanup the snackbar event listeners and accessiblity attributes.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.cleanup_ = function () {\n    this.element_.classList.remove(this.cssClasses_.ACTIVE);\n    setTimeout(function () {\n        this.element_.setAttribute('aria-hidden', 'true');\n        this.textElement_.textContent = '';\n        if (!Boolean(this.actionElement_.getAttribute('aria-hidden'))) {\n            this.setActionHidden_(true);\n            this.actionElement_.textContent = '';\n            this.actionElement_.removeEventListener('click', this.actionHandler_);\n        }\n        this.actionHandler_ = undefined;\n        this.message_ = undefined;\n        this.actionText_ = undefined;\n        this.active = false;\n        this.checkQueue_();\n    }.bind(this), this.Constant_.ANIMATION_LENGTH);\n};\n/**\n   * Set the action handler hidden state.\n   *\n   * @param {boolean} value\n   * @private\n   */\nMaterialSnackbar.prototype.setActionHidden_ = function (value) {\n    if (value) {\n        this.actionElement_.setAttribute('aria-hidden', 'true');\n    } else {\n        this.actionElement_.removeAttribute('aria-hidden');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSnackbar,\n    classAsString: 'MaterialSnackbar',\n    cssClass: 'mdl-js-snackbar',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Spinner MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   * @constructor\n   */\nvar MaterialSpinner = function MaterialSpinner(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSpinner'] = MaterialSpinner;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSpinner.prototype.Constant_ = { MDL_SPINNER_LAYER_COUNT: 4 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSpinner.prototype.CssClasses_ = {\n    MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n    MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n    MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n    MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n    MDL_SPINNER_LEFT: 'mdl-spinner__left',\n    MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n};\n/**\n   * Auxiliary method to create a spinner layer.\n   *\n   * @param {number} index Index of the layer to be created.\n   * @public\n   */\nMaterialSpinner.prototype.createLayer = function (index) {\n    var layer = document.createElement('div');\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n    var leftClipper = document.createElement('div');\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n    var gapPatch = document.createElement('div');\n    gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n    var rightClipper = document.createElement('div');\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n    var circleOwners = [\n        leftClipper,\n        gapPatch,\n        rightClipper\n    ];\n    for (var i = 0; i < circleOwners.length; i++) {\n        var circle = document.createElement('div');\n        circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n        circleOwners[i].appendChild(circle);\n    }\n    layer.appendChild(leftClipper);\n    layer.appendChild(gapPatch);\n    layer.appendChild(rightClipper);\n    this.element_.appendChild(layer);\n};\nMaterialSpinner.prototype['createLayer'] = MaterialSpinner.prototype.createLayer;\n/**\n   * Stops the spinner animation.\n   * Public method for users who need to stop the spinner for any reason.\n   *\n   * @public\n   */\nMaterialSpinner.prototype.stop = function () {\n    this.element_.classList.remove('is-active');\n};\nMaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n/**\n   * Starts the spinner animation.\n   * Public method for users who need to manually start the spinner for any reason\n   * (instead of just adding the 'is-active' class to their markup).\n   *\n   * @public\n   */\nMaterialSpinner.prototype.start = function () {\n    this.element_.classList.add('is-active');\n};\nMaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n/**\n   * Initialize element.\n   */\nMaterialSpinner.prototype.init = function () {\n    if (this.element_) {\n        for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n            this.createLayer(i);\n        }\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSpinner,\n    classAsString: 'MaterialSpinner',\n    cssClass: 'mdl-js-spinner',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSwitch = function MaterialSwitch(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSwitch'] = MaterialSwitch;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSwitch.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSwitch.prototype.CssClasses_ = {\n    INPUT: 'mdl-switch__input',\n    TRACK: 'mdl-switch__track',\n    THUMB: 'mdl-switch__thumb',\n    FOCUS_HELPER: 'mdl-switch__focus-helper',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-switch__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialSwitch.prototype['checkDisabled'] = MaterialSwitch.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialSwitch.prototype['checkToggleState'] = MaterialSwitch.prototype.checkToggleState;\n/**\n   * Disable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['disable'] = MaterialSwitch.prototype.disable;\n/**\n   * Enable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['enable'] = MaterialSwitch.prototype.enable;\n/**\n   * Activate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.on = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['on'] = MaterialSwitch.prototype.on;\n/**\n   * Deactivate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.off = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['off'] = MaterialSwitch.prototype.off;\n/**\n   * Initialize element.\n   */\nMaterialSwitch.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var track = document.createElement('div');\n        track.classList.add(this.CssClasses_.TRACK);\n        var thumb = document.createElement('div');\n        thumb.classList.add(this.CssClasses_.THUMB);\n        var focusHelper = document.createElement('span');\n        focusHelper.classList.add(this.CssClasses_.FOCUS_HELPER);\n        thumb.appendChild(focusHelper);\n        this.element_.appendChild(track);\n        this.element_.appendChild(thumb);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundMouseUpHandler);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundFocusHandler = this.onFocus_.bind(this);\n        this.boundBlurHandler = this.onBlur_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundChangeHandler);\n        this.inputElement_.addEventListener('focus', this.boundFocusHandler);\n        this.inputElement_.addEventListener('blur', this.boundBlurHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSwitch,\n    classAsString: 'MaterialSwitch',\n    cssClass: 'mdl-js-switch',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tabs MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialTabs = function MaterialTabs(element) {\n    // Stores the HTML element.\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTabs'] = MaterialTabs;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.CssClasses_ = {\n    TAB_CLASS: 'mdl-tabs__tab',\n    PANEL_CLASS: 'mdl-tabs__panel',\n    ACTIVE_CLASS: 'is-active',\n    UPGRADED_CLASS: 'is-upgraded',\n    MDL_JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    MDL_RIPPLE_CONTAINER: 'mdl-tabs__ripple-container',\n    MDL_RIPPLE: 'mdl-ripple',\n    MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events'\n};\n/**\n   * Handle clicks to a tabs component\n   *\n   * @private\n   */\nMaterialTabs.prototype.initTabs_ = function () {\n    if (this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n        this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS);\n    }\n    // Select element tabs, document panels\n    this.tabs_ = this.element_.querySelectorAll('.' + this.CssClasses_.TAB_CLASS);\n    this.panels_ = this.element_.querySelectorAll('.' + this.CssClasses_.PANEL_CLASS);\n    // Create new tabs for each tab element\n    for (var i = 0; i < this.tabs_.length; i++) {\n        new MaterialTab(this.tabs_[i], this);\n    }\n    this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS);\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetTabState_ = function () {\n    for (var k = 0; k < this.tabs_.length; k++) {\n        this.tabs_[k].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetPanelState_ = function () {\n    for (var j = 0; j < this.panels_.length; j++) {\n        this.panels_[j].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialTabs.prototype.init = function () {\n    if (this.element_) {\n        this.initTabs_();\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {Element} tab The HTML element for the tab.\n   * @param {MaterialTabs} ctx The MaterialTabs object that owns the tab.\n   */\nfunction MaterialTab(tab, ctx) {\n    if (tab) {\n        if (ctx.element_.classList.contains(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_RIPPLE_CONTAINER);\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT);\n            var ripple = document.createElement('span');\n            ripple.classList.add(ctx.CssClasses_.MDL_RIPPLE);\n            rippleContainer.appendChild(ripple);\n            tab.appendChild(rippleContainer);\n        }\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                var href = tab.href.split('#')[1];\n                var panel = ctx.element_.querySelector('#' + href);\n                ctx.resetTabState_();\n                ctx.resetPanelState_();\n                tab.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n                panel.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n            }\n        });\n    }\n}\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTabs,\n    classAsString: 'MaterialTabs',\n    cssClass: 'mdl-js-tabs'\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Textfield MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTextfield = function MaterialTextfield(element) {\n    this.element_ = element;\n    this.maxRows = this.Constant_.NO_MAX_ROWS;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTextfield'] = MaterialTextfield;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTextfield.prototype.Constant_ = {\n    NO_MAX_ROWS: -1,\n    MAX_ROWS_ATTRIBUTE: 'maxrows'\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTextfield.prototype.CssClasses_ = {\n    LABEL: 'mdl-textfield__label',\n    INPUT: 'mdl-textfield__input',\n    IS_DIRTY: 'is-dirty',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_INVALID: 'is-invalid',\n    IS_UPGRADED: 'is-upgraded',\n    HAS_PLACEHOLDER: 'has-placeholder'\n};\n/**\n   * Handle input being entered.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onKeyDown_ = function (event) {\n    var currentRowCount = event.target.value.split('\\n').length;\n    if (event.keyCode === 13) {\n        if (currentRowCount >= this.maxRows) {\n            event.preventDefault();\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle reset event from out side.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onReset_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialTextfield.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkValidity();\n    this.checkDirty();\n    this.checkFocus();\n};\n// Public methods.\n/**\n   * Check the disabled state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDisabled = function () {\n    if (this.input_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialTextfield.prototype['checkDisabled'] = MaterialTextfield.prototype.checkDisabled;\n/**\n  * Check the focus state and update field accordingly.\n  *\n  * @public\n  */\nMaterialTextfield.prototype.checkFocus = function () {\n    if (Boolean(this.element_.querySelector(':focus'))) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    }\n};\nMaterialTextfield.prototype['checkFocus'] = MaterialTextfield.prototype.checkFocus;\n/**\n   * Check the validity state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkValidity = function () {\n    if (this.input_.validity) {\n        if (this.input_.validity.valid) {\n            this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n        } else {\n            this.element_.classList.add(this.CssClasses_.IS_INVALID);\n        }\n    }\n};\nMaterialTextfield.prototype['checkValidity'] = MaterialTextfield.prototype.checkValidity;\n/**\n   * Check the dirty state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDirty = function () {\n    if (this.input_.value && this.input_.value.length > 0) {\n        this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n    }\n};\nMaterialTextfield.prototype['checkDirty'] = MaterialTextfield.prototype.checkDirty;\n/**\n   * Disable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.disable = function () {\n    this.input_.disabled = true;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n/**\n   * Enable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.enable = function () {\n    this.input_.disabled = false;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n/**\n   * Update text field value.\n   *\n   * @param {string} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialTextfield.prototype.change = function (value) {\n    this.input_.value = value || '';\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialTextfield.prototype.init = function () {\n    if (this.element_) {\n        this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n        this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.input_) {\n            if (this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)) {\n                this.maxRows = parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE), 10);\n                if (isNaN(this.maxRows)) {\n                    this.maxRows = this.Constant_.NO_MAX_ROWS;\n                }\n            }\n            if (this.input_.hasAttribute('placeholder')) {\n                this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER);\n            }\n            this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n            this.boundFocusHandler = this.onFocus_.bind(this);\n            this.boundBlurHandler = this.onBlur_.bind(this);\n            this.boundResetHandler = this.onReset_.bind(this);\n            this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n            this.input_.addEventListener('focus', this.boundFocusHandler);\n            this.input_.addEventListener('blur', this.boundBlurHandler);\n            this.input_.addEventListener('reset', this.boundResetHandler);\n            if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n                // TODO: This should handle pasting multi line text.\n                // Currently doesn't.\n                this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n                this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n            }\n            var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n            this.updateClasses_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n            if (invalid) {\n                this.element_.classList.add(this.CssClasses_.IS_INVALID);\n            }\n            if (this.input_.hasAttribute('autofocus')) {\n                this.element_.focus();\n                this.checkFocus();\n            }\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTextfield,\n    classAsString: 'MaterialTextfield',\n    cssClass: 'mdl-js-textfield',\n    widget: true\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tooltip MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTooltip = function MaterialTooltip(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTooltip'] = MaterialTooltip;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTooltip.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTooltip.prototype.CssClasses_ = {\n    IS_ACTIVE: 'is-active',\n    BOTTOM: 'mdl-tooltip--bottom',\n    LEFT: 'mdl-tooltip--left',\n    RIGHT: 'mdl-tooltip--right',\n    TOP: 'mdl-tooltip--top'\n};\n/**\n   * Handle mouseenter for tooltip.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTooltip.prototype.handleMouseEnter_ = function (event) {\n    var props = event.target.getBoundingClientRect();\n    var left = props.left + props.width / 2;\n    var top = props.top + props.height / 2;\n    var marginLeft = -1 * (this.element_.offsetWidth / 2);\n    var marginTop = -1 * (this.element_.offsetHeight / 2);\n    if (this.element_.classList.contains(this.CssClasses_.LEFT) || this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        left = props.width / 2;\n        if (top + marginTop < 0) {\n            this.element_.style.top = '0';\n            this.element_.style.marginTop = '0';\n        } else {\n            this.element_.style.top = top + 'px';\n            this.element_.style.marginTop = marginTop + 'px';\n        }\n    } else {\n        if (left + marginLeft < 0) {\n            this.element_.style.left = '0';\n            this.element_.style.marginLeft = '0';\n        } else {\n            this.element_.style.left = left + 'px';\n            this.element_.style.marginLeft = marginLeft + 'px';\n        }\n    }\n    if (this.element_.classList.contains(this.CssClasses_.TOP)) {\n        this.element_.style.top = props.top - this.element_.offsetHeight - 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        this.element_.style.left = props.left + props.width + 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.LEFT)) {\n        this.element_.style.left = props.left - this.element_.offsetWidth - 10 + 'px';\n    } else {\n        this.element_.style.top = props.top + props.height + 10 + 'px';\n    }\n    this.element_.classList.add(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Hide tooltip on mouseleave or scroll\n   *\n   * @private\n   */\nMaterialTooltip.prototype.hideTooltip_ = function () {\n    this.element_.classList.remove(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Initialize element.\n   */\nMaterialTooltip.prototype.init = function () {\n    if (this.element_) {\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        if (forElId) {\n            this.forElement_ = document.getElementById(forElId);\n        }\n        if (this.forElement_) {\n            // It's left here because it prevents accidental text selection on Android\n            if (!this.forElement_.hasAttribute('tabindex')) {\n                this.forElement_.setAttribute('tabindex', '0');\n            }\n            this.boundMouseEnterHandler = this.handleMouseEnter_.bind(this);\n            this.boundMouseLeaveAndScrollHandler = this.hideTooltip_.bind(this);\n            this.forElement_.addEventListener('mouseenter', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('touchend', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('mouseleave', this.boundMouseLeaveAndScrollHandler, false);\n            window.addEventListener('scroll', this.boundMouseLeaveAndScrollHandler, true);\n            window.addEventListener('touchstart', this.boundMouseLeaveAndScrollHandler);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTooltip,\n    classAsString: 'MaterialTooltip',\n    cssClass: 'mdl-tooltip'\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Layout MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialLayout = function MaterialLayout(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialLayout'] = MaterialLayout;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialLayout.prototype.Constant_ = {\n    MAX_WIDTH: '(max-width: 1024px)',\n    TAB_SCROLL_PIXELS: 100,\n    RESIZE_TIMEOUT: 100,\n    MENU_ICON: '&#xE5D2;',\n    CHEVRON_LEFT: 'chevron_left',\n    CHEVRON_RIGHT: 'chevron_right'\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32\n};\n/**\n   * Modes.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Mode_ = {\n    STANDARD: 0,\n    SEAMED: 1,\n    WATERFALL: 2,\n    SCROLL: 3\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialLayout.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-layout__container',\n    HEADER: 'mdl-layout__header',\n    DRAWER: 'mdl-layout__drawer',\n    CONTENT: 'mdl-layout__content',\n    DRAWER_BTN: 'mdl-layout__drawer-button',\n    ICON: 'material-icons',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',\n    RIPPLE: 'mdl-ripple',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    HEADER_SEAMED: 'mdl-layout__header--seamed',\n    HEADER_WATERFALL: 'mdl-layout__header--waterfall',\n    HEADER_SCROLL: 'mdl-layout__header--scroll',\n    FIXED_HEADER: 'mdl-layout--fixed-header',\n    OBFUSCATOR: 'mdl-layout__obfuscator',\n    TAB_BAR: 'mdl-layout__tab-bar',\n    TAB_CONTAINER: 'mdl-layout__tab-bar-container',\n    TAB: 'mdl-layout__tab',\n    TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',\n    TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',\n    TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',\n    TAB_MANUAL_SWITCH: 'mdl-layout__tab-manual-switch',\n    PANEL: 'mdl-layout__tab-panel',\n    HAS_DRAWER: 'has-drawer',\n    HAS_TABS: 'has-tabs',\n    HAS_SCROLLING_HEADER: 'has-scrolling-header',\n    CASTING_SHADOW: 'is-casting-shadow',\n    IS_COMPACT: 'is-compact',\n    IS_SMALL_SCREEN: 'is-small-screen',\n    IS_DRAWER_OPEN: 'is-visible',\n    IS_ACTIVE: 'is-active',\n    IS_UPGRADED: 'is-upgraded',\n    IS_ANIMATING: 'is-animating',\n    ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',\n    ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'\n};\n/**\n   * Handles scrolling on the content.\n   *\n   * @private\n   */\nMaterialLayout.prototype.contentScrollHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {\n        return;\n    }\n    var headerVisible = !this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN) || this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);\n    if (this.content_.scrollTop > 0 && !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.add(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    } else if (this.content_.scrollTop <= 0 && this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    }\n};\n/**\n   * Handles a keyboard event on the drawer.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.keyboardEventHandler_ = function (evt) {\n    // Only react when the drawer is open.\n    if (evt.keyCode === this.Keycodes_.ESCAPE && this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.toggleDrawer();\n    }\n};\n/**\n   * Handles changes in screen size.\n   *\n   * @private\n   */\nMaterialLayout.prototype.screenSizeHandler_ = function () {\n    if (this.screenSizeMediaQuery_.matches) {\n        this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);\n        // Collapse drawer (if any) when moving to a large screen size.\n        if (this.drawer_) {\n            this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n            this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n        }\n    }\n};\n/**\n   * Handles events of drawer button.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.drawerToggleHandler_ = function (evt) {\n    if (evt && evt.type === 'keydown') {\n        if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n            // prevent scrolling in drawer nav\n            evt.preventDefault();\n        } else {\n            // prevent other keys\n            return;\n        }\n    }\n    this.toggleDrawer();\n};\n/**\n   * Handles (un)setting the `is-animating` class\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerTransitionEndHandler_ = function () {\n    this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Handles expanding the header on click\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerClickHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n    }\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetTabState_ = function (tabBar) {\n    for (var k = 0; k < tabBar.length; k++) {\n        tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetPanelState_ = function (panels) {\n    for (var j = 0; j < panels.length; j++) {\n        panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n  * Toggle drawer state\n  *\n  * @public\n  */\nMaterialLayout.prototype.toggleDrawer = function () {\n    var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n    this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    // Set accessibility properties.\n    if (this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.drawer_.setAttribute('aria-hidden', 'false');\n        drawerButton.setAttribute('aria-expanded', 'true');\n    } else {\n        this.drawer_.setAttribute('aria-hidden', 'true');\n        drawerButton.setAttribute('aria-expanded', 'false');\n    }\n};\nMaterialLayout.prototype['toggleDrawer'] = MaterialLayout.prototype.toggleDrawer;\n/**\n   * Initialize element.\n   */\nMaterialLayout.prototype.init = function () {\n    if (this.element_) {\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        var focusedElement = this.element_.querySelector(':focus');\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        if (focusedElement) {\n            focusedElement.focus();\n        }\n        var directChildren = this.element_.childNodes;\n        var numChildren = directChildren.length;\n        for (var c = 0; c < numChildren; c++) {\n            var child = directChildren[c];\n            if (child.classList && child.classList.contains(this.CssClasses_.HEADER)) {\n                this.header_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.DRAWER)) {\n                this.drawer_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.CONTENT)) {\n                this.content_ = child;\n            }\n        }\n        window.addEventListener('pageshow', function (e) {\n            if (e.persisted) {\n                // when page is loaded from back/forward cache\n                // trigger repaint to let layout scroll in safari\n                this.element_.style.overflowY = 'hidden';\n                requestAnimationFrame(function () {\n                    this.element_.style.overflowY = '';\n                }.bind(this));\n            }\n        }.bind(this), false);\n        if (this.header_) {\n            this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);\n        }\n        var mode = this.Mode_.STANDARD;\n        if (this.header_) {\n            if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {\n                mode = this.Mode_.SEAMED;\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)) {\n                mode = this.Mode_.WATERFALL;\n                this.header_.addEventListener('transitionend', this.headerTransitionEndHandler_.bind(this));\n                this.header_.addEventListener('click', this.headerClickHandler_.bind(this));\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)) {\n                mode = this.Mode_.SCROLL;\n                container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);\n            }\n            if (mode === this.Mode_.STANDARD) {\n                this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {\n                this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.WATERFALL) {\n                // Add and remove shadows depending on scroll position.\n                // Also add/remove auxiliary class for styling of the compact version of\n                // the header.\n                this.content_.addEventListener('scroll', this.contentScrollHandler_.bind(this));\n                this.contentScrollHandler_();\n            }\n        }\n        // Add drawer toggling button to our layout, if we have an openable drawer.\n        if (this.drawer_) {\n            var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n            if (!drawerButton) {\n                drawerButton = document.createElement('div');\n                drawerButton.setAttribute('aria-expanded', 'false');\n                drawerButton.setAttribute('role', 'button');\n                drawerButton.setAttribute('tabindex', '0');\n                drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);\n                var drawerButtonIcon = document.createElement('i');\n                drawerButtonIcon.classList.add(this.CssClasses_.ICON);\n                drawerButtonIcon.innerHTML = this.Constant_.MENU_ICON;\n                drawerButton.appendChild(drawerButtonIcon);\n            }\n            if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {\n                //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);\n            } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {\n                //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);\n            }\n            drawerButton.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            drawerButton.addEventListener('keydown', this.drawerToggleHandler_.bind(this));\n            // Add a class if the layout has a drawer, for altering the left padding.\n            // Adds the HAS_DRAWER to the elements since this.header_ may or may\n            // not be present.\n            this.element_.classList.add(this.CssClasses_.HAS_DRAWER);\n            // If we have a fixed header, add the button to the header rather than\n            // the layout.\n            if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {\n                this.header_.insertBefore(drawerButton, this.header_.firstChild);\n            } else {\n                this.element_.insertBefore(drawerButton, this.content_);\n            }\n            var obfuscator = document.createElement('div');\n            obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);\n            this.element_.appendChild(obfuscator);\n            obfuscator.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            this.obfuscator_ = obfuscator;\n            this.drawer_.addEventListener('keydown', this.keyboardEventHandler_.bind(this));\n            this.drawer_.setAttribute('aria-hidden', 'true');\n        }\n        // Keep an eye on screen size, and add/remove auxiliary class for styling\n        // of small screens.\n        this.screenSizeMediaQuery_ = window.matchMedia(this.Constant_.MAX_WIDTH);\n        this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));\n        this.screenSizeHandler_();\n        // Initialize tabs, if any.\n        if (this.header_ && this.tabBar_) {\n            this.element_.classList.add(this.CssClasses_.HAS_TABS);\n            var tabContainer = document.createElement('div');\n            tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);\n            this.header_.insertBefore(tabContainer, this.tabBar_);\n            this.header_.removeChild(this.tabBar_);\n            var leftButton = document.createElement('div');\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);\n            var leftButtonIcon = document.createElement('i');\n            leftButtonIcon.classList.add(this.CssClasses_.ICON);\n            leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;\n            leftButton.appendChild(leftButtonIcon);\n            leftButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            var rightButton = document.createElement('div');\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);\n            var rightButtonIcon = document.createElement('i');\n            rightButtonIcon.classList.add(this.CssClasses_.ICON);\n            rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;\n            rightButton.appendChild(rightButtonIcon);\n            rightButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            tabContainer.appendChild(leftButton);\n            tabContainer.appendChild(this.tabBar_);\n            tabContainer.appendChild(rightButton);\n            // Add and remove tab buttons depending on scroll position and total\n            // window size.\n            var tabUpdateHandler = function () {\n                if (this.tabBar_.scrollLeft > 0) {\n                    leftButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n                if (this.tabBar_.scrollLeft < this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {\n                    rightButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n            }.bind(this);\n            this.tabBar_.addEventListener('scroll', tabUpdateHandler);\n            tabUpdateHandler();\n            // Update tabs when the window resizes.\n            var windowResizeHandler = function () {\n                // Use timeouts to make sure it doesn't happen too often.\n                if (this.resizeTimeoutId_) {\n                    clearTimeout(this.resizeTimeoutId_);\n                }\n                this.resizeTimeoutId_ = setTimeout(function () {\n                    tabUpdateHandler();\n                    this.resizeTimeoutId_ = null;\n                }.bind(this), this.Constant_.RESIZE_TIMEOUT);\n            }.bind(this);\n            window.addEventListener('resize', windowResizeHandler);\n            if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n                this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            }\n            // Select element tabs, document panels\n            var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);\n            var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);\n            // Create new tabs for each tab element\n            for (var i = 0; i < tabs.length; i++) {\n                new MaterialLayoutTab(tabs[i], tabs, panels, this);\n            }\n        }\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {HTMLElement} tab The HTML element for the tab.\n   * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.\n   * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.\n   * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.\n   */\nfunction MaterialLayoutTab(tab, tabs, panels, layout) {\n    /**\n     * Auxiliary method to programmatically select a tab in the UI.\n     */\n    function selectTab() {\n        var href = tab.href.split('#')[1];\n        var panel = layout.content_.querySelector('#' + href);\n        layout.resetTabState_(tabs);\n        layout.resetPanelState_(panels);\n        tab.classList.add(layout.CssClasses_.IS_ACTIVE);\n        panel.classList.add(layout.CssClasses_.IS_ACTIVE);\n    }\n    if (layout.tabBar_.classList.contains(layout.CssClasses_.JS_RIPPLE_EFFECT)) {\n        var rippleContainer = document.createElement('span');\n        rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);\n        rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);\n        var ripple = document.createElement('span');\n        ripple.classList.add(layout.CssClasses_.RIPPLE);\n        rippleContainer.appendChild(ripple);\n        tab.appendChild(rippleContainer);\n    }\n    if (!layout.tabBar_.classList.contains(layout.CssClasses_.TAB_MANUAL_SWITCH)) {\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                selectTab();\n            }\n        });\n    }\n    tab.show = selectTab;\n}\nwindow['MaterialLayoutTab'] = MaterialLayoutTab;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialLayout,\n    classAsString: 'MaterialLayout',\n    cssClass: 'mdl-js-layout'\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Data Table Card MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialDataTable = function MaterialDataTable(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialDataTable'] = MaterialDataTable;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialDataTable.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialDataTable.prototype.CssClasses_ = {\n    DATA_TABLE: 'mdl-data-table',\n    SELECTABLE: 'mdl-data-table--selectable',\n    SELECT_ELEMENT: 'mdl-data-table__select',\n    IS_SELECTED: 'is-selected',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Generates and returns a function that toggles the selection state of a\n   * single row (or multiple rows).\n   *\n   * @param {Element} checkbox Checkbox that toggles the selection state.\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.selectRow_ = function (checkbox, row, opt_rows) {\n    if (row) {\n        return function () {\n            if (checkbox.checked) {\n                row.classList.add(this.CssClasses_.IS_SELECTED);\n            } else {\n                row.classList.remove(this.CssClasses_.IS_SELECTED);\n            }\n        }.bind(this);\n    }\n    if (opt_rows) {\n        return function () {\n            var i;\n            var el;\n            if (checkbox.checked) {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].check();\n                    opt_rows[i].classList.add(this.CssClasses_.IS_SELECTED);\n                }\n            } else {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].uncheck();\n                    opt_rows[i].classList.remove(this.CssClasses_.IS_SELECTED);\n                }\n            }\n        }.bind(this);\n    }\n};\n/**\n   * Creates a checkbox for a single or or multiple rows and hooks up the\n   * event handling.\n   *\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.createCheckbox_ = function (row, opt_rows) {\n    var label = document.createElement('label');\n    var labelClasses = [\n        'mdl-checkbox',\n        'mdl-js-checkbox',\n        'mdl-js-ripple-effect',\n        this.CssClasses_.SELECT_ELEMENT\n    ];\n    label.className = labelClasses.join(' ');\n    var checkbox = document.createElement('input');\n    checkbox.type = 'checkbox';\n    checkbox.classList.add('mdl-checkbox__input');\n    if (row) {\n        checkbox.checked = row.classList.contains(this.CssClasses_.IS_SELECTED);\n        checkbox.addEventListener('change', this.selectRow_(checkbox, row));\n    } else if (opt_rows) {\n        checkbox.addEventListener('change', this.selectRow_(checkbox, null, opt_rows));\n    }\n    label.appendChild(checkbox);\n    componentHandler.upgradeElement(label, 'MaterialCheckbox');\n    return label;\n};\n/**\n   * Initialize element.\n   */\nMaterialDataTable.prototype.init = function () {\n    if (this.element_) {\n        var firstHeader = this.element_.querySelector('th');\n        var bodyRows = Array.prototype.slice.call(this.element_.querySelectorAll('tbody tr'));\n        var footRows = Array.prototype.slice.call(this.element_.querySelectorAll('tfoot tr'));\n        var rows = bodyRows.concat(footRows);\n        if (this.element_.classList.contains(this.CssClasses_.SELECTABLE)) {\n            var th = document.createElement('th');\n            var headerCheckbox = this.createCheckbox_(null, rows);\n            th.appendChild(headerCheckbox);\n            firstHeader.parentElement.insertBefore(th, firstHeader);\n            for (var i = 0; i < rows.length; i++) {\n                var firstCell = rows[i].querySelector('td');\n                if (firstCell) {\n                    var td = document.createElement('td');\n                    if (rows[i].parentNode.nodeName.toUpperCase() === 'TBODY') {\n                        var rowCheckbox = this.createCheckbox_(rows[i]);\n                        td.appendChild(rowCheckbox);\n                    }\n                    rows[i].insertBefore(td, firstCell);\n                }\n            }\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialDataTable,\n    classAsString: 'MaterialDataTable',\n    cssClass: 'mdl-js-data-table'\n});\n/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Ripple MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRipple = function MaterialRipple(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRipple'] = MaterialRipple;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRipple.prototype.Constant_ = {\n    INITIAL_SCALE: 'scale(0.0001, 0.0001)',\n    INITIAL_SIZE: '1px',\n    INITIAL_OPACITY: '0.4',\n    FINAL_OPACITY: '0',\n    FINAL_SCALE: ''\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRipple.prototype.CssClasses_ = {\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    IS_ANIMATING: 'is-animating',\n    IS_VISIBLE: 'is-visible'\n};\n/**\n   * Handle mouse / finger down on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.downHandler_ = function (event) {\n    if (!this.rippleElement_.style.width && !this.rippleElement_.style.height) {\n        var rect = this.element_.getBoundingClientRect();\n        this.boundHeight = rect.height;\n        this.boundWidth = rect.width;\n        this.rippleSize_ = Math.sqrt(rect.width * rect.width + rect.height * rect.height) * 2 + 2;\n        this.rippleElement_.style.width = this.rippleSize_ + 'px';\n        this.rippleElement_.style.height = this.rippleSize_ + 'px';\n    }\n    this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);\n    if (event.type === 'mousedown' && this.ignoringMouseDown_) {\n        this.ignoringMouseDown_ = false;\n    } else {\n        if (event.type === 'touchstart') {\n            this.ignoringMouseDown_ = true;\n        }\n        var frameCount = this.getFrameCount();\n        if (frameCount > 0) {\n            return;\n        }\n        this.setFrameCount(1);\n        var bound = event.currentTarget.getBoundingClientRect();\n        var x;\n        var y;\n        // Check if we are handling a keyboard click.\n        if (event.clientX === 0 && event.clientY === 0) {\n            x = Math.round(bound.width / 2);\n            y = Math.round(bound.height / 2);\n        } else {\n            var clientX = event.clientX !== undefined ? event.clientX : event.touches[0].clientX;\n            var clientY = event.clientY !== undefined ? event.clientY : event.touches[0].clientY;\n            x = Math.round(clientX - bound.left);\n            y = Math.round(clientY - bound.top);\n        }\n        this.setRippleXY(x, y);\n        this.setRippleStyles(true);\n        window.requestAnimationFrame(this.animFrameHandler.bind(this));\n    }\n};\n/**\n   * Handle mouse / finger up on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.upHandler_ = function (event) {\n    // Don't fire for the artificial \"mouseup\" generated by a double-click.\n    if (event && event.detail !== 2) {\n        // Allow a repaint to occur before removing this class, so the animation\n        // shows for tap events, which seem to trigger a mouseup too soon after\n        // mousedown.\n        window.setTimeout(function () {\n            this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        }.bind(this), 0);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialRipple.prototype.init = function () {\n    if (this.element_) {\n        var recentering = this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);\n        if (!this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)) {\n            this.rippleElement_ = this.element_.querySelector('.' + this.CssClasses_.RIPPLE);\n            this.frameCount_ = 0;\n            this.rippleSize_ = 0;\n            this.x_ = 0;\n            this.y_ = 0;\n            // Touch start produces a compat mouse down event, which would cause a\n            // second ripples. To avoid that, we use this property to ignore the first\n            // mouse down after a touch start.\n            this.ignoringMouseDown_ = false;\n            this.boundDownHandler = this.downHandler_.bind(this);\n            this.element_.addEventListener('mousedown', this.boundDownHandler);\n            this.element_.addEventListener('touchstart', this.boundDownHandler);\n            this.boundUpHandler = this.upHandler_.bind(this);\n            this.element_.addEventListener('mouseup', this.boundUpHandler);\n            this.element_.addEventListener('mouseleave', this.boundUpHandler);\n            this.element_.addEventListener('touchend', this.boundUpHandler);\n            this.element_.addEventListener('blur', this.boundUpHandler);\n            /**\n         * Getter for frameCount_.\n         * @return {number} the frame count.\n         */\n            this.getFrameCount = function () {\n                return this.frameCount_;\n            };\n            /**\n         * Setter for frameCount_.\n         * @param {number} fC the frame count.\n         */\n            this.setFrameCount = function (fC) {\n                this.frameCount_ = fC;\n            };\n            /**\n         * Getter for rippleElement_.\n         * @return {Element} the ripple element.\n         */\n            this.getRippleElement = function () {\n                return this.rippleElement_;\n            };\n            /**\n         * Sets the ripple X and Y coordinates.\n         * @param  {number} newX the new X coordinate\n         * @param  {number} newY the new Y coordinate\n         */\n            this.setRippleXY = function (newX, newY) {\n                this.x_ = newX;\n                this.y_ = newY;\n            };\n            /**\n         * Sets the ripple styles.\n         * @param  {boolean} start whether or not this is the start frame.\n         */\n            this.setRippleStyles = function (start) {\n                if (this.rippleElement_ !== null) {\n                    var transformString;\n                    var scale;\n                    var size;\n                    var offset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';\n                    if (start) {\n                        scale = this.Constant_.INITIAL_SCALE;\n                        size = this.Constant_.INITIAL_SIZE;\n                    } else {\n                        scale = this.Constant_.FINAL_SCALE;\n                        size = this.rippleSize_ + 'px';\n                        if (recentering) {\n                            offset = 'translate(' + this.boundWidth / 2 + 'px, ' + this.boundHeight / 2 + 'px)';\n                        }\n                    }\n                    transformString = 'translate(-50%, -50%) ' + offset + scale;\n                    this.rippleElement_.style.webkitTransform = transformString;\n                    this.rippleElement_.style.msTransform = transformString;\n                    this.rippleElement_.style.transform = transformString;\n                    if (start) {\n                        this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING);\n                    } else {\n                        this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING);\n                    }\n                }\n            };\n            /**\n         * Handles an animation frame.\n         */\n            this.animFrameHandler = function () {\n                if (this.frameCount_-- > 0) {\n                    window.requestAnimationFrame(this.animFrameHandler.bind(this));\n                } else {\n                    this.setRippleStyles(false);\n                }\n            };\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRipple,\n    classAsString: 'MaterialRipple',\n    cssClass: 'mdl-js-ripple-effect',\n    widget: false\n});\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/material-design-lite/material.js","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/regenerator-runtime/runtime.js","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/regenerator-runtime/runtime-module.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class\n * @classdesc Map item\n * Represents a data for each element in a collection\n * @alias MapItem\n * @property {String} key  - identifier of an item\n * @property {Object} value - value of an item\n */\n\nvar MapItem = function () {\n  /**\n   * @private\n   * @constructor\n   * @param {Object} data Item descriptor\n   * @param {String} data.key Item identifier\n   * @param {String} data.uri Item URI\n   * @param {Object} data.value Item data\n   */\n  function MapItem(descriptor) {\n    (0, _classCallCheck3.default)(this, MapItem);\n\n    this.descriptor = descriptor;\n  }\n\n  (0, _createClass3.default)(MapItem, [{\n    key: \"update\",\n\n    /**\n     * Update item data\n     * @param {Number} EventId Update event id\n     * @param {String} Revision Updated item revision\n     * @param {Object} Value Updated item data\n     * @private\n     */\n    value: function update(eventId, revision, value) {\n      this.descriptor.last_event_id = eventId;\n      this.descriptor.revision = revision;\n      this.descriptor.data = value;\n      return this;\n    }\n  }, {\n    key: \"uri\",\n    get: function get() {\n      return this.descriptor.url;\n    }\n  }, {\n    key: \"revision\",\n    get: function get() {\n      return this.descriptor.revision;\n    }\n  }, {\n    key: \"lastEventId\",\n    get: function get() {\n      return this.descriptor.last_event_id;\n    }\n  }, {\n    key: \"key\",\n    get: function get() {\n      return this.descriptor.key;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.descriptor.data;\n    }\n  }]);\n  return MapItem;\n}();\n\nexports.MapItem = MapItem;\nexports.default = MapItem;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/mapitem.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar platform = require(\"platform\");\n\nvar ClientInfo = function ClientInfo(version) {\n    (0, _classCallCheck3.default)(this, ClientInfo);\n\n    this.sdk = 'js';\n    this.sdkVer = version;\n    this.os = platform.os.family;\n    this.osVer = platform.os.version;\n    this.pl = platform.name;\n    this.plVer = platform.version;\n};\n\nexports.ClientInfo = ClientInfo;\nexports.default = ClientInfo;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/clientInfo.js","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_ie8-dom-define.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/isarray/index.js","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-length.js","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.map.js","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_cof.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/extends.js","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n\n    function realMethod(methodName) {\n        if (typeof console === undefinedType) {\n            return false; // We can't build a real method without a console to log to\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // these private functions always need `this` to be set properly\n\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n    }\n\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = \"loglevel\";\n      if (name) {\n        storageKey += \":\" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public API\n       *\n       */\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Package-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== \"string\" || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    return defaultLogger;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/loglevel/lib/loglevel.js","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_array-species-create.js","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/is-iterable.js","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-create.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _configuration = require('./configuration');\n\nvar _configuration2 = _interopRequireDefault(_configuration);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _bottleneck = require('bottleneck');\n\nvar _bottleneck2 = _interopRequireDefault(_bottleneck);\n\nvar _registrar = require('./registrar');\n\nvar _registrar2 = _interopRequireDefault(_registrar);\n\nvar _twilsock = require('twilsock');\n\nvar _twilsock2 = _interopRequireDefault(_twilsock);\n\nvar _twilioTransport = require('twilio-transport');\n\nvar _twilioTransport2 = _interopRequireDefault(_twilioTransport);\n\nvar _twilioEmsClient = require('twilio-ems-client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction limit(fn, to, per) {\n  // overflow since no token is passed to arguments\n  var limiter = new _bottleneck2.default(to, per, 1, _bottleneck2.default.strategy.LEAK);\n  return function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    args.unshift(fn);\n    return limiter.schedule.apply(limiter, args);\n  };\n}\n\n/**\n * @class\n * @alias Notifications\n * @classdesc The helper library for the notification service.\n * Provides high level api for creating and managing notification subscriptions and receiving messages\n * Creates the instance of Notification helper library\n *\n * @constructor\n * @param {string} token - Twilio access token\n * @param {Notifications#ClientOptions} options - Options to customize client behavior\n */\n\nvar Client = function (_EventEmitter) {\n  (0, _inherits3.default)(Client, _EventEmitter);\n\n  function Client(fpaToken, options) {\n    (0, _classCallCheck3.default)(this, Client);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Client.__proto__ || (0, _getPrototypeOf2.default)(Client)).call(this));\n\n    if (!fpaToken) {\n      throw new Error('Token is required for Notifications client');\n    }\n\n    options = options || {};\n\n    options.logLevel = options.logLevel || 'error';\n    _logger2.default.setLevel(options.logLevel);\n\n    var minTokenRefreshInterval = options.minTokenRefreshInterval || 10000;\n    var productId = options.productId || 'notifications';\n\n    options.twilsockClient = options.twilsockClient || new _twilsock2.default(fpaToken, options);\n    options.transport = options.transport || new _twilioTransport2.default(options.twilsockClient);\n    options.emsClient = options.emsClient || new _twilioEmsClient.EMSClient(options);\n\n    var twilsock = options.twilsockClient;\n    var transport = options.transport;\n\n    var reliableTransportState = {\n      overall: false,\n      transport: false,\n      registration: false,\n      lastEmitted: null\n    };\n\n    var config = new _configuration2.default(null, options);\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _emsClient: { value: options.emsClient },\n      _registrar: { value: new _registrar2.default(productId, transport, twilsock, config) },\n      _twilsock: { value: twilsock },\n      _reliableTransportState: { value: reliableTransportState },\n\n      updateToken: { value: limit(_this._updateToken.bind(_this), 1, minTokenRefreshInterval), enumerable: true },\n      connectionState: {\n        get: function get() {\n          if (_this._twilsock.state === 'disconnected') {\n            return 'disconnected';\n          } else if (_this._twilsock.state === 'disconnecting') {\n            return 'disconnecting';\n          } else if (_this._twilsock.state === 'connected' && _this._reliableTransportState.registration) {\n            return 'connected';\n          } else if (_this._twilsock.state === 'rejected') {\n            return 'denied';\n          }\n\n          return 'connecting';\n        }\n      }\n    });\n\n    _this._emsClient.setToken(fpaToken).then(function (response) {\n      _this._config.updateToken(response.token);\n      _this._registrar.updateToken();\n    }).catch(function (e) {\n      _logger2.default.warn('Failed to set token', e);\n    });\n\n    _this._onTransportStateChange(_this._twilsock.connected);\n\n    _this._registrar.on('transportReady', function (state) {\n      _this._onRegistrationStateChange(state ? 'registered' : '');\n    });\n    _this._registrar.on('stateChanged', function (state) {\n      _this._onRegistrationStateChange(state);\n    });\n    _this._registrar.on('needReliableTransport', _this._onNeedReliableTransport.bind(_this));\n\n    _this._twilsock.on('message', function (type, message) {\n      return _this._routeMessage(type, message);\n    });\n    _this._twilsock.on('connected', function (notificationId) {\n      _this._onTransportStateChange(true);\n      _this._registrar.setNotificationId('twilsock', notificationId);\n    });\n    _this._twilsock.on('disconnected', function () {\n      _this._onTransportStateChange(false);\n    });\n    return _this;\n  }\n\n  /**\n   * Routes messages to the external subscribers\n   * @private\n   */\n\n\n  (0, _createClass3.default)(Client, [{\n    key: '_routeMessage',\n    value: function _routeMessage(type, message) {\n      _logger2.default.trace('Message arrived: ', type, message);\n      this.emit('message', type, message);\n    }\n  }, {\n    key: '_onNeedReliableTransport',\n    value: function _onNeedReliableTransport(isNeeded) {\n      if (isNeeded) {\n        this._twilsock.connect();\n      } else {\n        this._twilsock.disconnect();\n      }\n    }\n  }, {\n    key: '_onRegistrationStateChange',\n    value: function _onRegistrationStateChange(state) {\n      this._reliableTransportState.registration = state === 'registered';\n      this._updateTransportState();\n    }\n  }, {\n    key: '_onTransportStateChange',\n    value: function _onTransportStateChange(connected) {\n      this._reliableTransportState.transport = connected;\n      this._updateTransportState();\n    }\n  }, {\n    key: '_updateTransportState',\n    value: function _updateTransportState() {\n      var overallState = this._reliableTransportState.transport && this._reliableTransportState.registration;\n\n      if (this._reliableTransportState.overall !== overallState) {\n        this._reliableTransportState.overall = overallState;\n\n        _logger2.default.info('Transport ready ' + overallState);\n        this.emit('transportReady', overallState);\n      }\n\n      if (this._reliableTransportState.lastEmitted !== this.connectionState) {\n        this._reliableTransportState.lastEmitted = this.connectionState;\n        this.emit('connectionStateChanged', this.connectionState);\n      }\n    }\n\n    /**\n     * Adds the subscription for the given message type\n     * @param {string} messageType The type of message that you want to receive\n     * @param {string} channelType. Supported are 'twilsock', 'gcm' and 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(messageType, channelType) {\n      channelType = channelType || 'twilsock';\n      _logger2.default.trace('Add subscriptions for message type: ', messageType, channelType);\n\n      return this._registrar.subscribe(messageType, channelType);\n    }\n\n    /**\n     * Remove the subscription for the particular message type\n     * @param {string} messageType The type of message that you don't want to receive anymore\n     * @param {string} channelType. Supported are 'twilsock', 'gcm' and 'fcm'\n     * @public\n     */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(messageType, channelType) {\n      channelType = channelType || 'twilsock';\n      _logger2.default.trace('Remove subscriptions for message type: ', messageType, channelType);\n\n      return this._registrar.unsubscribe(messageType, channelType);\n    }\n\n    /**\n     * Handle incoming push notification.\n     * Client application should call this method when it receives push notifications and pass the received data\n     * @param {Object} msg - push message object\n     * @public\n     */\n\n  }, {\n    key: 'handlePushNotification',\n    value: function handlePushNotification(msg) {\n      _logger2.default.warn('Push message passed, but no functionality implemented yet: ' + msg);\n    }\n\n    /**\n     * Set GCM/FCM token to enable application register for a push messages\n     * @param {string} gcmToken/fcmToken Token received from GCM/FCM system\n     * @public\n     */\n\n  }, {\n    key: 'setPushRegistrationId',\n    value: function setPushRegistrationId(registrationId, type) {\n      this._registrar.setNotificationId(type || 'gcm', registrationId);\n    }\n\n    /**\n     * Updates auth token for registration\n     * @param {string} token Authentication token for registrations\n     * @alias updateToken\n     * @public\n     */\n\n  }, {\n    key: '_updateToken',\n    value: function _updateToken(fpaToken) {\n      var _this2 = this;\n\n      _logger2.default.info('authTokenUpdated');\n      if (this._fpaToken === fpaToken) {\n        return _promise2.default.resolve();\n      }\n\n      this._twilsock.updateToken(fpaToken);\n      return this._emsClient.setToken(fpaToken).then(function (response) {\n        return response.token;\n      }).then(function (token) {\n        _this2._config.updateToken(token);\n        _this2._registrar.updateToken();\n      });\n    }\n  }]);\n  return Client;\n}(_events2.default);\n\n/**\n * Fired when new message arrived.\n * @param {Object} message`\n * @event NotificationsClient#message\n */\n\n/**\n * Fired when transport state has changed\n * @param {boolean} transport state\n * @event NotificationsClient#transportReady\n */\n\n/**\n * Fired when transport state has been changed\n * @param {string} transport state\n * @event NotificationsClient#connectionStateChanged\n */\n\n/**\n * These options can be passed to Client constructor\n * @typedef {Object} Notifications#ClientOptions\n * @property {String} [logLevel='error'] - The level of logging to enable. Valid options\n *   (from strictest to broadest): ['silent', 'error', 'warn', 'info', 'debug', 'trace']\n */\n\n\nexports.default = Client;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/client.js","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_defined.js","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_wks.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"header__3fP58\",\"active\":\"active__2aRKV\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/header/style.less\n// module id = V3m6\n// module chunks = 5","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar events = require('events');\nvar precond = require('precond');\nvar util = require('util');\n\nvar Backoff = require('./backoff');\nvar FibonacciBackoffStrategy = require('./strategy/fibonacci');\n\n// Wraps a function to be called in a backoff loop.\nfunction FunctionCall(fn, args, callback) {\n    events.EventEmitter.call(this);\n\n    precond.checkIsFunction(fn, 'Expected fn to be a function.');\n    precond.checkIsArray(args, 'Expected args to be an array.');\n    precond.checkIsFunction(callback, 'Expected callback to be a function.');\n\n    this.function_ = fn;\n    this.arguments_ = args;\n    this.callback_ = callback;\n    this.lastResult_ = [];\n    this.numRetries_ = 0;\n\n    this.backoff_ = null;\n    this.strategy_ = null;\n    this.failAfter_ = -1;\n    this.retryPredicate_ = FunctionCall.DEFAULT_RETRY_PREDICATE_;\n\n    this.state_ = FunctionCall.State_.PENDING;\n}\nutil.inherits(FunctionCall, events.EventEmitter);\n\n// States in which the call can be.\nFunctionCall.State_ = {\n    // Call isn't started yet.\n    PENDING: 0,\n    // Call is in progress.\n    RUNNING: 1,\n    // Call completed successfully which means that either the wrapped function\n    // returned successfully or the maximal number of backoffs was reached.\n    COMPLETED: 2,\n    // The call was aborted.\n    ABORTED: 3\n};\n\n// The default retry predicate which considers any error as retriable.\nFunctionCall.DEFAULT_RETRY_PREDICATE_ = function(err) {\n  return true;\n};\n\n// Checks whether the call is pending.\nFunctionCall.prototype.isPending = function() {\n    return this.state_ == FunctionCall.State_.PENDING;\n};\n\n// Checks whether the call is in progress.\nFunctionCall.prototype.isRunning = function() {\n    return this.state_ == FunctionCall.State_.RUNNING;\n};\n\n// Checks whether the call is completed.\nFunctionCall.prototype.isCompleted = function() {\n    return this.state_ == FunctionCall.State_.COMPLETED;\n};\n\n// Checks whether the call is aborted.\nFunctionCall.prototype.isAborted = function() {\n    return this.state_ == FunctionCall.State_.ABORTED;\n};\n\n// Sets the backoff strategy to use. Can only be called before the call is\n// started otherwise an exception will be thrown.\nFunctionCall.prototype.setStrategy = function(strategy) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.strategy_ = strategy;\n    return this; // Return this for chaining.\n};\n\n// Sets the predicate which will be used to determine whether the errors\n// returned from the wrapped function should be retried or not, e.g. a\n// network error would be retriable while a type error would stop the\n// function call.\nFunctionCall.prototype.retryIf = function(retryPredicate) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.retryPredicate_ = retryPredicate;\n    return this;\n};\n\n// Returns all intermediary results returned by the wrapped function since\n// the initial call.\nFunctionCall.prototype.getLastResult = function() {\n    return this.lastResult_.concat();\n};\n\n// Returns the number of times the wrapped function call was retried.\nFunctionCall.prototype.getNumRetries = function() {\n    return this.numRetries_;\n};\n\n// Sets the backoff limit.\nFunctionCall.prototype.failAfter = function(maxNumberOfRetry) {\n    precond.checkState(this.isPending(), 'FunctionCall in progress.');\n    this.failAfter_ = maxNumberOfRetry;\n    return this; // Return this for chaining.\n};\n\n// Aborts the call.\nFunctionCall.prototype.abort = function() {\n    if (this.isCompleted() || this.isAborted()) {\n      return;\n    }\n\n    if (this.isRunning()) {\n        this.backoff_.reset();\n    }\n\n    this.state_ = FunctionCall.State_.ABORTED;\n    this.lastResult_ = [new Error('Backoff aborted.')];\n    this.emit('abort');\n    this.doCallback_();\n};\n\n// Initiates the call to the wrapped function. Accepts an optional factory\n// function used to create the backoff instance; used when testing.\nFunctionCall.prototype.start = function(backoffFactory) {\n    precond.checkState(!this.isAborted(), 'FunctionCall is aborted.');\n    precond.checkState(this.isPending(), 'FunctionCall already started.');\n\n    var strategy = this.strategy_ || new FibonacciBackoffStrategy();\n\n    this.backoff_ = backoffFactory ?\n        backoffFactory(strategy) :\n        new Backoff(strategy);\n\n    this.backoff_.on('ready', this.doCall_.bind(this, true /* isRetry */));\n    this.backoff_.on('fail', this.doCallback_.bind(this));\n    this.backoff_.on('backoff', this.handleBackoff_.bind(this));\n\n    if (this.failAfter_ > 0) {\n        this.backoff_.failAfter(this.failAfter_);\n    }\n\n    this.state_ = FunctionCall.State_.RUNNING;\n    this.doCall_(false /* isRetry */);\n};\n\n// Calls the wrapped function.\nFunctionCall.prototype.doCall_ = function(isRetry) {\n    if (isRetry) {\n        this.numRetries_++;\n    }\n    var eventArgs = ['call'].concat(this.arguments_);\n    events.EventEmitter.prototype.emit.apply(this, eventArgs);\n    var callback = this.handleFunctionCallback_.bind(this);\n    this.function_.apply(null, this.arguments_.concat(callback));\n};\n\n// Calls the wrapped function's callback with the last result returned by the\n// wrapped function.\nFunctionCall.prototype.doCallback_ = function() {\n    this.callback_.apply(null, this.lastResult_);\n};\n\n// Handles wrapped function's completion. This method acts as a replacement\n// for the original callback function.\nFunctionCall.prototype.handleFunctionCallback_ = function() {\n    if (this.isAborted()) {\n        return;\n    }\n\n    var args = Array.prototype.slice.call(arguments);\n    this.lastResult_ = args; // Save last callback arguments.\n    events.EventEmitter.prototype.emit.apply(this, ['callback'].concat(args));\n\n    var err = args[0];\n    if (err && this.retryPredicate_(err)) {\n        this.backoff_.backoff(err);\n    } else {\n        this.state_ = FunctionCall.State_.COMPLETED;\n        this.doCallback_();\n    }\n};\n\n// Handles the backoff event by reemitting it.\nFunctionCall.prototype.handleBackoff_ = function(number, delay, err) {\n    this.emit('backoff', number, delay, err);\n};\n\nmodule.exports = FunctionCall;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/lib/function_call.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\nvar xxhashjs_1 = require(\"xxhashjs\");\nvar Twilsock = require(\"twilsock\");\nvar twilio_transport_1 = require(\"twilio-transport\");\nvar twilio_ems_client_1 = require(\"twilio-ems-client\");\nvar Notifications = require(\"twilio-notifications\");\nvar utils_1 = require(\"./utils\");\nvar logger_1 = require(\"./logger\");\nvar configuration_1 = require(\"./configuration\");\nvar subscriptions_1 = require(\"./subscriptions\");\nvar router_1 = require(\"./router\");\nvar network_1 = require(\"./network\");\nvar syncdocument_1 = require(\"./syncdocument\");\nvar synclist_1 = require(\"./synclist\");\nvar syncmap_1 = require(\"./syncmap\");\nvar clientInfo_1 = require(\"./clientInfo\");\nvar entitiesCache_1 = require(\"./entitiesCache\");\nvar storage_1 = require(\"./services/storage\");\nvar utils_2 = require(\"./utils\");\n// TODO: Pick some small library and use it instead\nvar deferred_1 = require(\"./utils/deferred\");\nvar syncerror_1 = require(\"./syncerror\");\nvar SYNC_PRODUCT_ID = 'data_sync';\nvar SDK_VERSION = require('../package.json').version;\nfunction subscribe(subscribable) {\n    subscribable._subscribe();\n    return subscribable;\n}\nfunction createPayload(name, purpose, context, data) {\n    return { unique_name: name,\n        purpose: purpose,\n        context: context,\n        data: data };\n}\nfunction decompose(arg) {\n    if (!arg) {\n        return { id: null, purpose: null, data: null, context: null, mode: null, optimistic: false };\n    }\n    if (typeof arg === 'string') {\n        return { id: arg, purpose: null, data: null, context: null, mode: null, optimistic: false };\n    }\n    return { id: arg.uniqueName || arg.sid || arg.id,\n        purpose: arg.purpose,\n        data: arg.data,\n        context: arg.context,\n        mode: arg.mode,\n        optimistic: !!arg.optimistic };\n}\n/**\n * @class Client\n * @classdesc\n * Client for the Twilio Sync service\n *\n * @property {Client#ConnectionState} connectionState - Contains current service connection state.\n * Valid options are ['connecting', 'connected', 'disconnecting', 'disconnected', 'denied', 'error'].\n */\n\nvar SyncClient = function (_events_1$EventEmitte) {\n    (0, _inherits3.default)(SyncClient, _events_1$EventEmitte);\n\n    /*\n     * @constructor\n     * @param {string} Token Twilio access token\n     * @param {Client#ClientOptions} options - Options to customize the Client\n     */\n    function SyncClient(fpaToken) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        (0, _classCallCheck3.default)(this, SyncClient);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncClient.__proto__ || (0, _getPrototypeOf2.default)(SyncClient)).call(this));\n\n        if (!fpaToken) {\n            throw new Error('Sync library needs a valid Twilio token to be passed');\n        }\n        if (options.hasOwnProperty('logLevel')) {\n            logger_1.default.setLevel(options.logLevel);\n        }\n        _this.productId = options.productId = options.productId || SYNC_PRODUCT_ID;\n        var twilsock = options.twilsockClient = options.twilsockClient || new Twilsock(fpaToken, options);\n        var transport = options.transport = options.transport || new twilio_transport_1.Transport(options.twilsockClient, { concurrentHttpRequestLimit: 20 });\n        var emsClient = options.emsClient = options.emsClient || new twilio_ems_client_1.EmsClient(options);\n        var notifications = options.notificationsClient = options.notificationsClient || new Notifications(fpaToken, options);\n        var config = new configuration_1.Configuration(null, options);\n        var network = new network_1.Network(_this.productId, new clientInfo_1.ClientInfo(SDK_VERSION), config, transport);\n        var storage = new storage_1.SessionStorage(config);\n        _this.localStorageId = null;\n        _this.fpaToken = fpaToken;\n        _this.authData = new deferred_1.Deferred();\n        _this.authData.promise.then(function (response) {\n            return _this.handleEmsResponse(response);\n        });\n        emsClient.once('response', function (response) {\n            return _this.authData.update(response);\n        });\n        emsClient.setToken(fpaToken).catch(function (e) {\n            logger_1.default.warn('Failed to set token', e);\n        });\n        twilsock.connect();\n        _this.services = {\n            config: config,\n            twilsock: twilsock,\n            notifications: notifications,\n            network: network,\n            emsClient: emsClient,\n            storage: storage,\n            router: null,\n            subscriptions: null\n        };\n        var subscriptions = new subscriptions_1.Subscriptions(_this.services);\n        var router = new router_1.Router({ config: config, subscriptions: subscriptions, notifications: notifications });\n        _this.services.router = router;\n        _this.services.subscriptions = subscriptions;\n        _this.entities = new entitiesCache_1.EntitiesCache();\n        notifications.on('connectionStateChanged', function () {\n            _this.emit('connectionStateChanged', _this.services.notifications.connectionState);\n        });\n        return _this;\n    }\n    /**\n     * Current version of Sync client.\n     * @name Client#version\n     * @type String\n     * @readonly\n     */\n\n\n    (0, _createClass3.default)(SyncClient, [{\n        key: \"handleEmsResponse\",\n        value: function handleEmsResponse(response) {\n            this.services.config.updateToken(response.token);\n            try {\n                var identity = response.identity;\n                var serviceSid = response.serviceSids[this.productId];\n                var storageId = xxhashjs_1.h64().update(\"TW::\" + identity + \"::\" + serviceSid).digest().toString(16);\n                this.services.storage.updateStorageId(storageId);\n            } catch (e) {\n                logger_1.default.error('Failed to initialize persistent storage', e);\n            }\n        }\n        /**\n         * Returns promise which resolves when library is correctly initialized\n         * Or throws if initialization is impossible\n         */\n\n    }, {\n        key: \"ensureReady\",\n        value: function ensureReady() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this.authData.promise;\n\n                            case 2:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"storeRootInSessionCache\",\n        value: function storeRootInSessionCache(type, id, value) {\n            // can't store without id\n            if (!this.services.config.sessionStorageEnabled || !id) {\n                return;\n            }\n            var valueToStore = utils_2.deepClone(value);\n            if (type !== syncdocument_1.SyncDocument.type) {\n                valueToStore['last_event_id'] = null;\n                delete valueToStore['items'];\n            }\n            this.services.storage.store(type, id, valueToStore);\n        }\n    }, {\n        key: \"readRootFromSessionCache\",\n        value: function readRootFromSessionCache(type, id) {\n            if (!this.services.config.sessionStorageEnabled || !id) {\n                return null;\n            }\n            return this.services.storage.read(type, id);\n        }\n    }, {\n        key: \"_get\",\n        value: function _get(baseUri, id) {\n            var optimistic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var uri, response;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (id) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", null);\n\n                            case 2:\n                                uri = new utils_1.UriBuilder(baseUri).pathSegment(id).queryParam('Include', optimistic ? 'items' : undefined).build();\n                                _context2.prev = 3;\n                                _context2.next = 6;\n                                return this.services.network.get(uri);\n\n                            case 6:\n                                response = _context2.sent;\n                                return _context2.abrupt(\"return\", response.body);\n\n                            case 10:\n                                _context2.prev = 10;\n                                _context2.t0 = _context2[\"catch\"](3);\n\n                                if (!(_context2.t0.status === 404)) {\n                                    _context2.next = 14;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", null);\n\n                            case 14:\n                                throw _context2.t0;\n\n                            case 15:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this, [[3, 10]]);\n            }));\n        }\n    }, {\n        key: \"_createDocument\",\n        value: function _createDocument(id, data) {\n            var requestBody = {\n                unique_name: id,\n                data: data\n            };\n            return this.services.network.post(this.services.config.documentsUri, requestBody).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getDocument\",\n        value: function _getDocument(id) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                return _context3.abrupt(\"return\", this.readRootFromSessionCache(syncdocument_1.SyncDocument.type, id) || this._get(this.services.config.documentsUri, id));\n\n                            case 1:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n    }, {\n        key: \"_createList\",\n        value: function _createList(id, purpose, context) {\n            var payload = createPayload(id, purpose, context);\n            return this.services.network.post(this.services.config.listsUri, payload).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getList\",\n        value: function _getList(id) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                return _context4.abrupt(\"return\", this.readRootFromSessionCache(synclist_1.SyncList.type, id) || this._get(this.services.config.listsUri, id));\n\n                            case 1:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n    }, {\n        key: \"_createMap\",\n        value: function _createMap(id) {\n            var requestBody = {\n                unique_name: id\n            };\n            return this.services.network.post(this.services.config.mapsUri, requestBody).then(function (response) {\n                return response.body;\n            });\n        }\n    }, {\n        key: \"_getMap\",\n        value: function _getMap(id) {\n            var optimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                return _context5.abrupt(\"return\", this.readRootFromSessionCache(syncmap_1.SyncMap.type, id) || this._get(this.services.config.mapsUri, id, optimistic));\n\n                            case 1:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n    }, {\n        key: \"getCached\",\n        value: function getCached(id, type) {\n            if (id) {\n                return this.entities.get(id, type) || null;\n            }\n            return null;\n        }\n    }, {\n        key: \"removeFromCacheAndSession\",\n        value: function removeFromCacheAndSession(type, sid, uniqueName) {\n            this.entities.remove(sid);\n            if (this.services.config.sessionStorageEnabled) {\n                this.services.storage.remove(type, sid, uniqueName);\n            }\n        }\n        /**\n         * Open a SyncDocument by identifier, or create one if none exists\n         * @param {string} id Document identifier. Unique name or sid.\n         * @return {Promise<Document>}\n         * @public\n         */\n\n    }, {\n        key: \"document\",\n        value: function document(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                var _this2 = this;\n\n                var _decompose, id, data, mode, docFromInMemoryCache, docDescriptor, syncDocument;\n\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                _context6.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose = decompose(arg), id = _decompose.id, data = _decompose.data, mode = _decompose.mode;\n                                docFromInMemoryCache = this.getCached(id, 'document');\n\n                                if (!docFromInMemoryCache) {\n                                    _context6.next = 8;\n                                    break;\n                                }\n\n                                return _context6.abrupt(\"return\", docFromInMemoryCache);\n\n                            case 8:\n                                _context6.next = 10;\n                                return this._getDocument(id);\n\n                            case 10:\n                                docDescriptor = _context6.sent;\n\n                                if (docDescriptor) {\n                                    _context6.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context6.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context6.prev = 16;\n                                _context6.next = 19;\n                                return this._createDocument(id, data);\n\n                            case 19:\n                                docDescriptor = _context6.sent;\n                                _context6.next = 29;\n                                break;\n\n                            case 22:\n                                _context6.prev = 22;\n                                _context6.t0 = _context6[\"catch\"](16);\n\n                                if (!(_context6.t0.status === 409)) {\n                                    _context6.next = 28;\n                                    break;\n                                }\n\n                                return _context6.abrupt(\"return\", this.document(arg));\n\n                            case 28:\n                                throw _context6.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(syncdocument_1.SyncDocument.type, id, docDescriptor);\n                                syncDocument = new syncdocument_1.SyncDocument(this.services, docDescriptor, function (type, sid, uniqueName) {\n                                    return _this2.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncDocument = this.entities.store(syncDocument);\n                                return _context6.abrupt(\"return\", subscribe(syncDocument));\n\n                            case 33:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Open a Map by identifier, or create one if none exists\n         * @param {string} id Map identifier. Unique name or sid.\n         * @return {Promise<Map>}\n         * @public\n         */\n\n    }, {\n        key: \"map\",\n        value: function map(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var _this3 = this;\n\n                var _decompose2, id, mode, optimistic, mapFromInMemoryCache, mapDescriptor, syncMap;\n\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                _context7.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose2 = decompose(arg), id = _decompose2.id, mode = _decompose2.mode, optimistic = _decompose2.optimistic;\n                                mapFromInMemoryCache = this.getCached(id, 'map');\n\n                                if (!mapFromInMemoryCache) {\n                                    _context7.next = 8;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", mapFromInMemoryCache);\n\n                            case 8:\n                                _context7.next = 10;\n                                return this._getMap(id, optimistic);\n\n                            case 10:\n                                mapDescriptor = _context7.sent;\n\n                                if (mapDescriptor) {\n                                    _context7.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context7.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context7.prev = 16;\n                                _context7.next = 19;\n                                return this._createMap(id);\n\n                            case 19:\n                                mapDescriptor = _context7.sent;\n                                _context7.next = 29;\n                                break;\n\n                            case 22:\n                                _context7.prev = 22;\n                                _context7.t0 = _context7[\"catch\"](16);\n\n                                if (!(_context7.t0.status === 409)) {\n                                    _context7.next = 28;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", this.map(arg));\n\n                            case 28:\n                                throw _context7.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(syncmap_1.SyncMap.type, id, mapDescriptor);\n                                syncMap = new syncmap_1.SyncMap(this.services, mapDescriptor, function (type, sid, uniqueName) {\n                                    return _this3.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncMap = this.entities.store(syncMap);\n                                return _context7.abrupt(\"return\", subscribe(syncMap));\n\n                            case 33:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Open a List by identifier, or create one if none exists\n         * @param {string} id List identifier. Unique name or sid.\n         * @return {Promise<List>}\n         * @public\n         */\n\n    }, {\n        key: \"list\",\n        value: function list(arg) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var _this4 = this;\n\n                var _decompose3, id, purpose, context, mode, listFromInMemoryCache, listDescriptor, syncList;\n\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                _context8.next = 2;\n                                return this.ensureReady();\n\n                            case 2:\n                                _decompose3 = decompose(arg), id = _decompose3.id, purpose = _decompose3.purpose, context = _decompose3.context, mode = _decompose3.mode;\n                                listFromInMemoryCache = this.getCached(id, 'list');\n\n                                if (!listFromInMemoryCache) {\n                                    _context8.next = 8;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", listFromInMemoryCache);\n\n                            case 8:\n                                _context8.next = 10;\n                                return this._getList(id);\n\n                            case 10:\n                                listDescriptor = _context8.sent;\n\n                                if (listDescriptor) {\n                                    _context8.next = 29;\n                                    break;\n                                }\n\n                                if (!(mode === 'open')) {\n                                    _context8.next = 16;\n                                    break;\n                                }\n\n                                throw new syncerror_1.default('Not found', 404);\n\n                            case 16:\n                                _context8.prev = 16;\n                                _context8.next = 19;\n                                return this._createList(id, purpose, context);\n\n                            case 19:\n                                listDescriptor = _context8.sent;\n                                _context8.next = 29;\n                                break;\n\n                            case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8[\"catch\"](16);\n\n                                if (!(_context8.t0.status === 409)) {\n                                    _context8.next = 28;\n                                    break;\n                                }\n\n                                return _context8.abrupt(\"return\", this.list(arg));\n\n                            case 28:\n                                throw _context8.t0;\n\n                            case 29:\n                                this.storeRootInSessionCache(synclist_1.SyncList.type, id, listDescriptor);\n                                syncList = new synclist_1.SyncList(this.services, listDescriptor, function (type, sid, uniqueName) {\n                                    return _this4.removeFromCacheAndSession(type, sid, uniqueName);\n                                });\n\n                                syncList = this.entities.store(syncList);\n                                return _context8.abrupt(\"return\", subscribe(syncList));\n\n                            case 33:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this, [[16, 22]]);\n            }));\n        }\n        /**\n         * Gracefully shutdown the libray\n         * Currently it is not properly implemented and being used only in tests\n         * But should be made a part of public API\n         * @private\n         */\n\n    }, {\n        key: \"shutdown\",\n        value: function shutdown() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                _context9.next = 2;\n                                return this.services.subscriptions.shutdown();\n\n                            case 2:\n                                _context9.next = 4;\n                                return this.services.twilsock.disconnect();\n\n                            case 4:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Set new auth token\n         * @param {string} token New token to set\n         * @return {Promise}\n         * @public\n         */\n\n    }, {\n        key: \"updateToken\",\n        value: function updateToken(fpaToken) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var response;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                _context10.next = 2;\n                                return this.services.emsClient.setToken(fpaToken);\n\n                            case 2:\n                                response = _context10.sent;\n                                this.services.config.updateToken(response.token);\n                                _context10.next = 6;\n                                return _promise2.default.all([this.services.notifications.updateToken(fpaToken), this.services.twilsock.updateToken(fpaToken)]);\n\n                            case 6:\n                                this.fpaToken = fpaToken;\n\n                            case 7:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n    }, {\n        key: \"connectionState\",\n        get: function get() {\n            return this.services.notifications.connectionState;\n        }\n    }], [{\n        key: \"version\",\n        get: function get() {\n            return SDK_VERSION;\n        }\n    }]);\n    return SyncClient;\n}(events_1.EventEmitter);\n\nexports.SyncClient = SyncClient;\nexports.Client = SyncClient;\nexports.default = SyncClient;\n/**\n * Indicates current state of connection between the client and Sync service.\n * <p>Valid options are as follows:\n * <li>'connecting' - client is offline and connection attempt is in process.\n * <li>'connected' - client is online and ready.\n * <li>'disconnecting' - client is going offline as disconnection is in process.\n * <li>'disconnected' - client is offline and no connection attempt is in process.\n * <li>'denied' - client connection is denied because of invalid JWT access token. User must refresh token in order to proceed.\n * <li>'error' - client connection is in a permanent erroneous state. Client re-initialization is required.\n * @typedef {String} Client#ConnectionState\n */\n/**\n * These options can be passed to Client constructor\n * @typedef {Object} Client#ClientOptions\n * @property {String} [logLevel='error'] - The level of logging to enable. Valid options\n *   (from strictest to broadest): ['silent', 'error', 'warn', 'info', 'debug', 'trace']\n */\n/**\n * Fired when connection state has been changed.\n * @param {Client#ConnectionState} connectionState Contains current service connection state.\n * @event Client#connectionStateChanged\n */\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/client.js","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/array/from.js","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-iobject.js","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_uid.js","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/get-iterator.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es7.set.to-json.js","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar util = require('util');\n\nvar BackoffStrategy = require('./strategy');\n\n// Fibonacci backoff strategy.\nfunction FibonacciBackoffStrategy(options) {\n    BackoffStrategy.call(this, options);\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n}\nutil.inherits(FibonacciBackoffStrategy, BackoffStrategy);\n\nFibonacciBackoffStrategy.prototype.next_ = function() {\n    var backoffDelay = Math.min(this.nextBackoffDelay_, this.getMaxDelay());\n    this.nextBackoffDelay_ += this.backoffDelay_;\n    this.backoffDelay_ = backoffDelay;\n    return backoffDelay;\n};\n\nFibonacciBackoffStrategy.prototype.reset_ = function() {\n    this.nextBackoffDelay_ = this.getInitialDelay();\n    this.backoffDelay_ = 0;\n};\n\nmodule.exports = FibonacciBackoffStrategy;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/lib/strategy/fibonacci.js","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/valid-value.js","\"use strict\";\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Generic SyncLibrary error class\n */\n\nvar SyncError = function (_Error) {\n    (0, _inherits3.default)(SyncError, _Error);\n\n    function SyncError(message) {\n        var status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        (0, _classCallCheck3.default)(this, SyncError);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncError.__proto__ || (0, _getPrototypeOf2.default)(SyncError)).call(this));\n\n        _this.name = _this.constructor.name;\n        _this.message = message;\n        _this.status = status;\n        _this.code = code;\n        return _this;\n    }\n\n    return SyncError;\n}(Error);\n\nexports.SyncError = SyncError;\nexports.default = SyncError;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/syncerror.js","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.assign.js","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_array-from-iterable.js","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/map.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Configuration = function Configuration(config) {\n    (0, _classCallCheck3.default)(this, Configuration);\n\n    var emsConfig = config.emsClient || {};\n    var realm = config.realm || 'us1';\n    var DEFAULT_EMS_HOST = \"https://ems.\" + realm + \".twilio.com\";\n    var EMS_PATH = '/v1/token';\n    var host = emsConfig.url || emsConfig.emsUri || emsConfig.emsUrl || DEFAULT_EMS_HOST + EMS_PATH;\n    this.url = host;\n};\n\nexports.default = Configuration;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-ems-client/browser/configuration.js","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_classof.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/inherits.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar karibu_1 = require(\"karibu\");\n\nvar Entry = function () {\n    function Entry(value, revision) {\n        (0, _classCallCheck3.default)(this, Entry);\n\n        this.value = value;\n        this.revision = revision || 0;\n    }\n\n    (0, _createClass3.default)(Entry, [{\n        key: \"isValid\",\n        get: function get() {\n            return true;\n        }\n    }]);\n    return Entry;\n}();\n\nvar Tombstone = function () {\n    function Tombstone(revision) {\n        (0, _classCallCheck3.default)(this, Tombstone);\n\n        this.revision = revision;\n    }\n\n    (0, _createClass3.default)(Tombstone, [{\n        key: \"isValid\",\n        get: function get() {\n            return false;\n        }\n    }]);\n    return Tombstone;\n}();\n\nvar Cache = function () {\n    function Cache() {\n        (0, _classCallCheck3.default)(this, Cache);\n\n        this.items = new karibu_1.TreeMap();\n    }\n\n    (0, _createClass3.default)(Cache, [{\n        key: \"store\",\n        value: function store(key, value, revision) {\n            var entry = this.items.get(key);\n            if (entry && entry.revision > revision) {\n                if (entry.isValid) {\n                    return entry.value;\n                }\n                return null;\n            }\n            this.items.set(key, new Entry(value, revision));\n            return value;\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key, revision) {\n            var curr = this.items.get(key);\n            if (!curr || curr.revision < revision) {\n                this.items.set(key, new Tombstone(revision));\n            }\n        }\n    }, {\n        key: \"isKnown\",\n        value: function isKnown(key, revision) {\n            var curr = this.items.get(key);\n            return curr && curr.revision >= revision;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            var entry = this.items.get(key);\n            if (entry && entry.isValid) {\n                return entry.value;\n            }\n            return null;\n        }\n    }, {\n        key: \"has\",\n        value: function has(key) {\n            var entry = this.items.get(key);\n            return entry && entry.isValid;\n        }\n    }]);\n    return Cache;\n}();\n\nexports.Cache = Cache;\nexports.default = Cache;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/cache.js","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_set-proto.js","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   3.3.1\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  return function () {\n    vertxNext(flush);\n  };\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        _resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      _reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      _reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    _reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return _resolve(promise, value);\n    }, function (reason) {\n      return _reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      _reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction _resolve(promise, value) {\n  if (promise === value) {\n    _reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction _reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      _reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      _resolve(promise, value);\n    }, function rejectPromise(reason) {\n      _reject(promise, reason);\n    });\n  } catch (e) {\n    _reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    _reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var _input = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$ = c.resolve;\n\n  if (resolve$$ === resolve) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$) {\n        return resolve$$(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      _reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve;\nPromise.reject = reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nfunction polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}\n\npolyfill();\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\n\nreturn Promise;\n\n})));\n//# sourceMappingURL=es6-promise.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es6-promise/dist/es6-promise.js","exports.f = require('./_wks');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_wks-ext.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/regenerator/index.js","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_is-array-iter.js","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_hide.js","\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar entity_1 = require(\"./entity\");\nvar retryingqueue_1 = require(\"./retryingqueue\");\nvar mapitem_1 = require(\"./mapitem\");\nvar paginator_1 = require(\"./paginator\");\nvar cache_1 = require(\"./cache\");\n/**\n * @class\n * @alias Map\n * @classdesc Map collection to store a set of Key:Value pairs\n * @property {String} sid - Map unique id\n * @property {String} uniqueName - Map unique name\n *\n * @fires Map#itemAdded\n * @fires Map#itemAddedRemotely\n * @fires Map#itemUpdated\n * @fires Map#itemUpdatedRemotely\n * @fires Map#itemRemoved\n * @fires Map#itemRemovedRemotely\n * @fires Map#collectionRemoved\n * @fires Map#collectionRemovedRemotely\n */\n\nvar SyncMap = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncMap, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncMap(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncMap);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncMap.__proto__ || (0, _getPrototypeOf2.default)(SyncMap)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.cache = new cache_1.Cache();\n        _this.descriptor = descriptor;\n        if (descriptor.items) {\n            descriptor.items.forEach(function (itemDescriptor) {\n                _this.cache.store(itemDescriptor.key, new mapitem_1.MapItem(itemDescriptor), itemDescriptor.last_event_id);\n            });\n        }\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncMap, [{\n        key: \"_get\",\n        value: function _get(key) {\n            return this.queryItems({ key: key }).then(function (result) {\n                if (result.items.length < 1) {\n                    throw new Error('No item with key ' + key + ' found');\n                }\n                return result.items[0];\n            });\n        }\n    }, {\n        key: \"__set\",\n        value: function __set(location, param) {\n            return this.services.network.post(location, { data: param.data }, param.revision).then(function (response) {\n                response = response.body;\n                response.data = param.data;\n                return response;\n            });\n        }\n        /**\n         * Update known existing element\n         * @private\n         */\n\n    }, {\n        key: \"_set\",\n        value: function _set(location, keyValue, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                var _this2 = this;\n\n                var _resolver;\n\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (resolver) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", this.__set(location, { data: keyValue.data }));\n\n                            case 2:\n                                _resolver = function _resolver(err) {\n                                    return __awaiter(_this2, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                                        var item;\n                                        return _regenerator2.default.wrap(function _callee$(_context) {\n                                            while (1) {\n                                                switch (_context.prev = _context.next) {\n                                                    case 0:\n                                                        if (!(err.status === 412)) {\n                                                            _context.next = 5;\n                                                            break;\n                                                        }\n\n                                                        _context.next = 3;\n                                                        return this._get(keyValue.key);\n\n                                                    case 3:\n                                                        item = _context.sent;\n                                                        return _context.abrupt(\"return\", {\n                                                            revision: item.revision,\n                                                            data: resolver(utils_1.deepClone(item.value))\n                                                        });\n\n                                                    case 5:\n                                                        throw err;\n\n                                                    case 6:\n                                                    case \"end\":\n                                                        return _context.stop();\n                                                }\n                                            }\n                                        }, _callee, this);\n                                    }));\n                                };\n\n                                return _context2.abrupt(\"return\", this.actionQueue.add(this.__set.bind(this), location, { revision: keyValue.revision, data: keyValue.data }, _resolver));\n\n                            case 4:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * Create element or update if already existing\n         * @private\n         */\n\n    }, {\n        key: \"_tryAddOrUpdate\",\n        value: function _tryAddOrUpdate(uri, keyValue, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var response, existingItemLocation, value, _response, resolvedData, _value;\n\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.prev = 0;\n                                _context3.next = 3;\n                                return this.services.network.post(uri, keyValue);\n\n                            case 3:\n                                response = _context3.sent;\n\n                                response.body.data = keyValue.data;\n                                return _context3.abrupt(\"return\", { added: true, value: response.body });\n\n                            case 8:\n                                _context3.prev = 8;\n                                _context3.t0 = _context3[\"catch\"](0);\n\n                                if (!(_context3.t0.status !== 409)) {\n                                    _context3.next = 12;\n                                    break;\n                                }\n\n                                throw _context3.t0;\n\n                            case 12:\n                                existingItemLocation = _context3.t0.body.links.item;\n\n                                if (resolver) {\n                                    _context3.next = 20;\n                                    break;\n                                }\n\n                                _context3.next = 16;\n                                return this._set(existingItemLocation, keyValue, resolver);\n\n                            case 16:\n                                value = _context3.sent;\n                                return _context3.abrupt(\"return\", { added: false, value: value });\n\n                            case 20:\n                                _context3.next = 22;\n                                return this.services.network.get(existingItemLocation);\n\n                            case 22:\n                                _response = _context3.sent;\n                                resolvedData = resolver(utils_1.deepClone(_response.body.data));\n                                _context3.next = 26;\n                                return this._set(existingItemLocation, {\n                                    key: _response.body.key,\n                                    revision: _response.body.revision,\n                                    data: resolvedData\n                                }, resolver);\n\n                            case 26:\n                                _value = _context3.sent;\n                                return _context3.abrupt(\"return\", { added: false, value: _value });\n\n                            case 28:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[0, 8]]);\n            }));\n        }\n        /**\n         * @return Promise<Object> Context of collection\n         * @private\n         */\n\n    }, {\n        key: \"getContext\",\n        value: function getContext() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                var response;\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                if (!(typeof this.context !== 'undefined')) {\n                                    _context4.next = 2;\n                                    break;\n                                }\n\n                                return _context4.abrupt(\"return\", this.context);\n\n                            case 2:\n                                _context4.next = 4;\n                                return this.services.network.get(this.links.context);\n\n                            case 4:\n                                response = _context4.sent;\n\n                                this.context = response.body.data;\n                                return _context4.abrupt(\"return\", this.context);\n\n                            case 7:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n        /**\n         * @param context {Object} New context value\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: \"updateContext\",\n        value: function updateContext(context) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee5() {\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                _context5.next = 2;\n                                return this.services.network.post(this.links.context, { data: context });\n\n                            case 2:\n                                this.context = context;\n                                this.emit('contextUpdated', context, true);\n\n                            case 4:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n        }\n        /**\n         * Set key and value pair in map\n         * @param {String} key  Key identifier\n         * @param {Object} value Value to set\n         * @returns {Promise<Item>}\n         * @public\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            return this._actualSet(key, value);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(key, value, resolver) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee6() {\n                var descriptor, added, item, arg, addOrUpdateResult;\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                descriptor = void 0;\n                                added = void 0;\n                                item = this.cache.get(key);\n\n                                if (!item) {\n                                    _context6.next = 11;\n                                    break;\n                                }\n\n                                arg = { key: key, data: value, revision: item.revision || undefined };\n                                _context6.next = 7;\n                                return this._set(item.uri, arg, resolver);\n\n                            case 7:\n                                descriptor = _context6.sent;\n\n                                added = false;\n                                _context6.next = 16;\n                                break;\n\n                            case 11:\n                                _context6.next = 13;\n                                return this._tryAddOrUpdate(this.links.items, { key: key, data: value }, resolver);\n\n                            case 13:\n                                addOrUpdateResult = _context6.sent;\n\n                                descriptor = addOrUpdateResult.value;\n                                added = addOrUpdateResult.added;\n\n                            case 16:\n                                item = this.cache.get(key);\n                                if (item && descriptor.last_event_id > item.lastEventId) {\n                                    item.update(descriptor.last_event_id, descriptor.revision, descriptor.data);\n                                    this.emit('itemUpdated', item, true);\n                                } else if (!item) {\n                                    item = this.cache.store(key, new mapitem_1.MapItem(descriptor), descriptor.last_event_id);\n                                    if (added) {\n                                        this.emit('itemAdded', item, true);\n                                    } else {\n                                        this.emit('itemUpdated', item, true);\n                                    }\n                                }\n                                return _context6.abrupt(\"return\", item);\n\n                            case 19:\n                            case \"end\":\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this);\n            }));\n        }\n        /**\n         * @param {String} key String identifier of entity in a map\n         * @return {Promise<Item>}\n         * @public\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee7() {\n                var result;\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                if (!this.cache.has(key)) {\n                                    _context7.next = 2;\n                                    break;\n                                }\n\n                                return _context7.abrupt(\"return\", this.cache.get(key));\n\n                            case 2:\n                                _context7.next = 4;\n                                return this.queryItems({ key: key });\n\n                            case 4:\n                                result = _context7.sent;\n\n                                if (!(result.items.length < 1)) {\n                                    _context7.next = 7;\n                                    break;\n                                }\n\n                                throw new Error('No item with key ' + key + ' found');\n\n                            case 7:\n                                return _context7.abrupt(\"return\", result.items[0]);\n\n                            case 8:\n                            case \"end\":\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n        }\n        /**\n         * @param {String} Key Item key\n         * @param {Map~Mutator} Mutator Function performing value mutation\n         * @return {Promise<Item>}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(key, mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee8() {\n                var value;\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                _context8.next = 2;\n                                return this.get(key).then(function (item) {\n                                    return item.value;\n                                }).catch(function () {\n                                    return {};\n                                });\n\n                            case 2:\n                                value = _context8.sent;\n                                return _context8.abrupt(\"return\", this._actualSet(key, mutator(utils_1.deepClone(value)), mutator));\n\n                            case 4:\n                            case \"end\":\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n        }\n        /**\n         * @param {String} key Item key\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Item>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(key, obj) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee9() {\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                return _context9.abrupt(\"return\", this.mutate(key, function (remote) {\n                                    return (0, _extends3.default)(remote, obj);\n                                }));\n\n                            case 1:\n                            case \"end\":\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n        }\n        /**\n         * Delete an entity by given key\n         * @return {Promise}\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(key) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee10() {\n                var item, response;\n                return _regenerator2.default.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                if (!(typeof key === 'undefined')) {\n                                    _context10.next = 2;\n                                    break;\n                                }\n\n                                throw new Error('Key argument is invalid');\n\n                            case 2:\n                                _context10.next = 4;\n                                return this.get(key);\n\n                            case 4:\n                                item = _context10.sent;\n                                _context10.next = 7;\n                                return this.services.network.delete(item.uri);\n\n                            case 7:\n                                response = _context10.sent;\n\n                                this.cache.delete(key, response.body.last_event_id);\n                                this.emit('itemRemoved', key, true);\n\n                            case 10:\n                            case \"end\":\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"queryItems\",\n        value: function queryItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee11() {\n                var _this3 = this;\n\n                var uri, response, items, meta;\n                return _regenerator2.default.wrap(function _callee11$(_context11) {\n                    while (1) {\n                        switch (_context11.prev = _context11.next) {\n                            case 0:\n                                args = args || {};\n                                uri = new utils_1.UriBuilder(this.links.items).queryParam('From', args.from).queryParam('PageSize', args.limit).queryParam('Key', args.key).queryParam('PageToken', args.pageToken).queryParam('Order', args.order).build();\n                                _context11.next = 4;\n                                return this.services.network.get(uri);\n\n                            case 4:\n                                response = _context11.sent;\n                                items = response.body.items.map(function (el) {\n                                    var itemInCache = _this3.cache.get(el.key);\n                                    if (itemInCache) {\n                                        _this3._handleItemUpdated(el.key, el.url, el.last_event_id, el.revision, el.data);\n                                    } else {\n                                        _this3.cache.store(el.key, new mapitem_1.MapItem(el), el.last_event_id);\n                                    }\n                                    return _this3.cache.get(el.key);\n                                });\n                                meta = response.body.meta;\n                                return _context11.abrupt(\"return\", new paginator_1.Paginator(items, function (pageToken) {\n                                    return _this3.queryItems({ pageToken: pageToken });\n                                }, meta.previous_token, meta.next_token));\n\n                            case 8:\n                            case \"end\":\n                                return _context11.stop();\n                        }\n                    }\n                }, _callee11, this);\n            }));\n        }\n        /**\n         * Get a list of items from the Map\n         * @param {Object} args Arguments for query\n         * @param {String} args.from Item, which should be used as an anchor. If undefined, starts from the beginning or end depending on args.order\n         * @param {Number} args.pageSize Result page size\n         * @param {String} args.order Order of results, should be 'asc' or 'desc'\n         * @return {Promise<Paginator>}\n         * @public\n         */\n\n    }, {\n        key: \"getItems\",\n        value: function getItems(args) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee12() {\n                return _regenerator2.default.wrap(function _callee12$(_context12) {\n                    while (1) {\n                        switch (_context12.prev = _context12.next) {\n                            case 0:\n                                args = args || {};\n                                args.limit = args.pageSize || args.limit || 50;\n                                args.order = args.order || 'asc';\n                                return _context12.abrupt(\"return\", this.queryItems(args));\n\n                            case 4:\n                            case \"end\":\n                                return _context12.stop();\n                        }\n                    }\n                }, _callee12, this);\n            }));\n        }\n        /**\n         * Enumerate through all of maps items\n         * It always triggers server interaction when being called for the first time for an object, so could be slow\n         * This method not supported now and not meant to be used externally\n         * @param {Function} handler Function to handle each argument\n         * @private\n         */\n\n    }, {\n        key: \"forEach\",\n        value: function forEach(handler) {\n            var _this4 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                function processPage(page) {\n                    page.items.forEach(function (x) {\n                        return handler(x);\n                    });\n                    if (page.hasNextPage) {\n                        page.nextPage().then(processPage).catch(reject);\n                    } else {\n                        resolve();\n                    }\n                }\n                _this4.queryItems().then(processPage).catch(reject);\n            });\n        }\n    }, {\n        key: \"shouldIgnoreEvent\",\n        value: function shouldIgnoreEvent(key, eventId) {\n            return this.cache.isKnown(key, eventId);\n        }\n        /**\n         * Handle update from the server\n         * @private\n         */\n\n    }, {\n        key: \"_update\",\n        value: function _update(update, isStrictlyOrdered) {\n            switch (update.type) {\n                case 'map_item_added':\n                    {\n                        this._handleItemAdded(update.item_key, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'map_item_updated':\n                    {\n                        this._handleItemUpdated(update.item_key, update.item_url, update.id, update.item_revision, update.item_data);\n                    }\n                    break;\n                case 'map_item_removed':\n                    {\n                        this._handleItemRemoved(update.item_key, update.id);\n                    }\n                    break;\n                case 'map_context_updated':\n                    {\n                        this._handleContextUpdate(update.context_data, update.id);\n                    }\n                    break;\n                case 'map_removed':\n                    {\n                        this.onRemoved(false);\n                    }\n                    break;\n            }\n            if (isStrictlyOrdered) {\n                this._advanceLastEventId(update.id, update.map_revision);\n            }\n        }\n    }, {\n        key: \"_advanceLastEventId\",\n        value: function _advanceLastEventId(eventId, revision) {\n            if (this.lastEventId < eventId) {\n                this.descriptor.last_event_id = eventId;\n                if (revision) {\n                    this.descriptor.revision = revision;\n                }\n            }\n        }\n        /**\n         * Handle entity insertion event, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemAdded\",\n        value: function _handleItemAdded(key, url, eventId, revision, value) {\n            if (!this.cache.has(key) && !this.shouldIgnoreEvent(key, eventId)) {\n                var item = new mapitem_1.MapItem({ key: key, url: url, last_event_id: eventId, revision: revision, data: value });\n                this.cache.store(key, item, eventId);\n                this.emit('itemAdded', item, false);\n                this.emit('itemAddedRemotely', item);\n            }\n        }\n        /**\n         * Handle new value of entity, coming from server\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemUpdated\",\n        value: function _handleItemUpdated(key, url, eventId, revision, value) {\n            var item = this.cache.get(key);\n            if (!item && !this.shouldIgnoreEvent(key, eventId)) {\n                item = new mapitem_1.MapItem({ key: key, url: url, last_event_id: eventId, revision: revision, data: value });\n                this.cache.store(key, item, eventId);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            } else if (item && eventId > item.lastEventId) {\n                item.update(eventId, revision, value);\n                this.emit('itemUpdated', item, false);\n                this.emit('itemUpdatedRemotely', item);\n            }\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_handleItemRemoved\",\n        value: function _handleItemRemoved(key, eventId) {\n            this.cache.delete(key, eventId);\n            this.emit('itemRemoved', key, false);\n            this.emit('itemRemovedRemotely', key);\n        }\n    }, {\n        key: \"_handleContextUpdate\",\n        value: function _handleContextUpdate(data, eventId) {\n            if (this.lastEventId < eventId) {\n                this.context = data;\n                this.emit('contextUpdated', data, false);\n                this.emit('contextUpdatedRemotely', data);\n            }\n        }\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            //\n            // Should also do some cleanup here\n            this.emit('collectionRemoved', locally);\n            if (!locally) {\n                this.emit('collectionRemovedRemotely');\n            }\n        }\n        /**\n         * Delete map from server. It will be impossible to restore it.\n         * @return {Promise} Promise to delete the collection\n         * @public\n         */\n\n    }, {\n        key: \"removeMap\",\n        value: function removeMap() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee13() {\n                return _regenerator2.default.wrap(function _callee13$(_context13) {\n                    while (1) {\n                        switch (_context13.prev = _context13.next) {\n                            case 0:\n                                _context13.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context13.stop();\n                        }\n                    }\n                }, _callee13, this);\n            }));\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"links\",\n        get: function get() {\n            return this.descriptor.links;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'map';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'map';\n        }\n    }]);\n    return SyncMap;\n}(entity_1.SyncEntity);\n\nexports.SyncMap = SyncMap;\n// export { SyncMap, MapDescriptor, Mutator };\nexports.default = SyncMap;\n/**\n * Applies a transformation to the item value\n * @callback Map~Mutator\n * @param {Object} data current value of an item\n * @return {Object} Modified data for an item\n */\n/**\n * Fired when item is added to the Map\n * @event Map#itemAdded\n * @type {Item} Added item\n */\n/**\n * Fired when item is added to the Map by remote actor\n * @event Map#itemAddedRemotely\n * @type {Item} Added item\n */\n/**\n * Fired when item is updated\n * @event Map#itemUpdated\n * @type {Item} Updated item\n */\n/**\n * Fired when item is updated by remote actor\n * @event Map#itemUpdatedRemotely\n * @type {Item} Updated item\n */\n/**\n * Fired when item is removed from the Map\n * @event Map#itemRemoved\n * @type {String} item key\n */\n/**\n * Fired when item is removed from the Map by remote actor\n * @event Map#itemRemovedRemotely\n * @type {String} item key\n */\n/**\n * Fired when Map is removed from server\n * @event Map#collectionRemoved\n */\n/**\n * Fired when Map is removed from server by remote actor\n * @event Map#collectionRemovedRemotely\n */\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/syncmap.js","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_is-array.js","// Deprecated\n\n\"use strict\";\n\nmodule.exports = function (obj) {\n return typeof obj === \"function\";\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/is-callable.js","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.rfc6902 = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _slicedToArray = function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { var _arr = []; for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) { _arr.push(_step.value); if (i && _arr.length === i) break; } return _arr; } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } };\n\nvar _toConsumableArray = function (arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } };\n\nexports.isDestructive = isDestructive;\n\n/**\nsubtract(a, b) returns the keys in `a` that are not in `b`.\n*/\nexports.subtract = subtract;\n\n/**\nintersection(objects) returns the keys that shared by all given `objects`.\n*/\nexports.intersection = intersection;\nexports.objectType = objectType;\n\n/**\nArray-diffing smarter (levenshtein-like) diffing here\n\nTo get from the input ABC to the output AZ we could just delete all the input\nand say \"insert A, insert Z\" and be done with it. That's what we do if the\ninput is empty. But we can be smarter.\n\n          output\n               A   Z\n               -   -\n          [0]  1   2\ninput A |  1  [0]  1\n      B |  2  [1]  1\n      C |  3   2  [2]\n\n1) start at 0,0 (+0)\n2) keep A (+0)\n3) remove B (+1)\n4) replace C with Z (+1)\n\nif input (source) is empty, they'll all be in the top row, just a bunch of\nadditions. If the output is empty, everything will be in the left column, as a\nbunch of deletions.\n*/\nexports.diffArrays = diffArrays;\nexports.diffObjects = diffObjects;\nexports.diffValues = diffValues;\nexports.diffAny = diffAny;\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar compare = _dereq_(\"./equal\").compare;\n\nfunction isDestructive(_ref) {\n    var op = _ref.op;\n\n    return op === \"remove\" || op === \"replace\" || op === \"copy\" || op === \"move\";\n}\n\nfunction subtract(a, b) {\n    var obj = {};\n    for (var add_key in a) {\n        obj[add_key] = 1;\n    }\n    for (var del_key in b) {\n        delete obj[del_key];\n    }\n    return Object.keys(obj);\n}\n\nfunction intersection(objects) {\n    // initialize like union()\n    var key_counts = {};\n    objects.forEach(function (object) {\n        for (var key in object) {\n            key_counts[key] = (key_counts[key] || 0) + 1;\n        }\n    });\n    // but then, extra requirement: delete less commonly-seen keys\n    var threshold = objects.length;\n    for (var key in key_counts) {\n        if (key_counts[key] < threshold) {\n            delete key_counts[key];\n        }\n    }\n    return Object.keys(key_counts);\n}\n\nfunction objectType(object) {\n    if (object === undefined) {\n        return \"undefined\";\n    }\n    if (object === null) {\n        return \"null\";\n    }\n    if (Array.isArray(object)) {\n        return \"array\";\n    }\n    return typeof object;\n}\n\nfunction isArrayAdd(array_operation) {\n    return array_operation.op === \"add\";\n}\nfunction isArrayRemove(array_operation) {\n    return array_operation.op === \"remove\";\n}\nfunction isArrayReplace(array_operation) {\n    return array_operation.op === \"replace\";\n}\nfunction diffArrays(input, output, ptr) {\n    // set up cost matrix (very simple initialization: just a map)\n    var memo = {\n        \"0,0\": { operations: [], cost: 0 }\n    };\n    /**\n    input[i's] -> output[j's]\n       Given the layout above, i is the row, j is the col\n       returns a list of Operations needed to get to from input.slice(0, i) to\n    output.slice(0, j), the each marked with the total cost of getting there.\n    `cost` is a non-negative integer.\n    Recursive.\n    */\n    function dist(i, j) {\n        // memoized\n        var memoized = memo[i + \",\" + j];\n        if (memoized === undefined) {\n            if (compare(input[i - 1], output[j - 1])) {\n                // equal (no operations => no cost)\n                memoized = dist(i - 1, j - 1);\n            } else {\n                var alternatives = [];\n                if (i > 0) {\n                    // NOT topmost row\n                    var remove_alternative = dist(i - 1, j);\n                    alternatives.push({\n                        // the new operation must be pushed on the end\n                        operations: remove_alternative.operations.concat({\n                            op: \"remove\",\n                            index: i - 1 }),\n                        cost: remove_alternative.cost + 1 });\n                }\n                if (j > 0) {\n                    // NOT leftmost column\n                    var add_alternative = dist(i, j - 1);\n                    alternatives.push({\n                        operations: add_alternative.operations.concat({\n                            op: \"add\",\n                            index: i - 1,\n                            value: output[j - 1] }),\n                        cost: add_alternative.cost + 1 });\n                }\n                if (i > 0 && j > 0) {\n                    // TABLE MIDDLE\n                    // supposing we replaced it, compute the rest of the costs:\n                    var replace_alternative = dist(i - 1, j - 1);\n                    // okay, the general plan is to replace it, but we can be smarter,\n                    // recursing into the structure and replacing only part of it if\n                    // possible, but to do so we'll need the original value\n                    alternatives.push({\n                        operations: replace_alternative.operations.concat({\n                            op: \"replace\",\n                            index: i - 1,\n                            original: input[i - 1],\n                            value: output[j - 1] }),\n                        cost: replace_alternative.cost + 1 });\n                }\n                // the only other case, i === 0 && j === 0, has already been memoized\n                // the meat of the algorithm:\n                // sort by cost to find the lowest one (might be several ties for lowest)\n                // [4, 6, 7, 1, 2].sort((a, b) => a - b); -> [ 1, 2, 4, 6, 7 ]\n                var best = alternatives.sort(function (a, b) {\n                    return a.cost - b.cost;\n                })[0];\n                memoized = best;\n            }\n            memo[i + \",\" + j] = memoized;\n        }\n        return memoized;\n    }\n    // handle weird objects masquerading as Arrays that don't have proper length\n    // properties by using 0 for everything but positive numbers\n    var input_length = isNaN(input.length) || input.length <= 0 ? 0 : input.length;\n    var output_length = isNaN(output.length) || output.length <= 0 ? 0 : output.length;\n    var array_operations = dist(input_length, output_length).operations;\n\n    var _array_operations$reduce = array_operations.reduce(function (_ref, array_operation) {\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var operations = _ref2[0];\n        var padding = _ref2[1];\n\n        if (isArrayAdd(array_operation)) {\n            var padded_index = array_operation.index + 1 + padding;\n            var index_token = padded_index < input_length + padding ? String(padded_index) : \"-\";\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(index_token).toString(),\n                value: array_operation.value };\n            // padding++; // maybe only if array_operation.index > -1 ?\n            return [operations.concat(operation), padding + 1];\n        } else if (isArrayRemove(array_operation)) {\n            var operation = {\n                op: array_operation.op,\n                path: ptr.add(String(array_operation.index + padding)).toString() };\n            // padding--;\n            return [operations.concat(operation), padding - 1];\n        } else {\n            var replace_ptr = ptr.add(String(array_operation.index + padding));\n            var replace_operations = diffAny(array_operation.original, array_operation.value, replace_ptr);\n            return [operations.concat.apply(operations, _toConsumableArray(replace_operations)), padding];\n        }\n    }, [[], 0]);\n\n    var _array_operations$reduce2 = _slicedToArray(_array_operations$reduce, 2);\n\n    var operations = _array_operations$reduce2[0];\n    var padding = _array_operations$reduce2[1];\n\n    return operations;\n}\n\nfunction diffObjects(input, output, ptr) {\n    // if a key is in input but not output -> remove it\n    var operations = [];\n    subtract(input, output).forEach(function (key) {\n        operations.push({ op: \"remove\", path: ptr.add(key).toString() });\n    });\n    // if a key is in output but not input -> add it\n    subtract(output, input).forEach(function (key) {\n        operations.push({ op: \"add\", path: ptr.add(key).toString(), value: output[key] });\n    });\n    // if a key is in both, diff it recursively\n    intersection([input, output]).forEach(function (key) {\n        operations.push.apply(operations, _toConsumableArray(diffAny(input[key], output[key], ptr.add(key))));\n    });\n    return operations;\n}\n\nfunction diffValues(input, output, ptr) {\n    if (!compare(input, output)) {\n        return [{ op: \"replace\", path: ptr.toString(), value: output }];\n    }\n    return [];\n}\n\nfunction diffAny(input, output, ptr) {\n    var input_type = objectType(input);\n    var output_type = objectType(output);\n    if (input_type == \"array\" && output_type == \"array\") {\n        return diffArrays(input, output, ptr);\n    }\n    if (input_type == \"object\" && output_type == \"object\") {\n        return diffObjects(input, output, ptr);\n    }\n    // only pairs of arrays and objects can go down a path to produce a smaller\n    // diff; everything else must be wholesale replaced if inequal\n    return diffValues(input, output, ptr);\n}\n\n},{\"./equal\":2}],2:[function(_dereq_,module,exports){\n\n/**\n`compare()` returns true if `left` and `right` are materially equal\n(i.e., would produce equivalent JSON), false otherwise.\n\n> Here, \"equal\" means that the value at the target location and the\n> value conveyed by \"value\" are of the same JSON type, and that they\n> are considered equal by the following rules for that type:\n> o  strings: are considered equal if they contain the same number of\n>    Unicode characters and their code points are byte-by-byte equal.\n> o  numbers: are considered equal if their values are numerically\n>    equal.\n> o  arrays: are considered equal if they contain the same number of\n>    values, and if each value can be considered equal to the value at\n>    the corresponding position in the other array, using this list of\n>    type-specific rules.\n> o  objects: are considered equal if they contain the same number of\n>    members, and if each member can be considered equal to a member in\n>    the other object, by comparing their keys (as strings) and their\n>    values (using this list of type-specific rules).\n> o  literals (false, true, and null): are considered equal if they are\n>    the same.\n*/\n\"use strict\";\n\nexports.compare = compare;\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\nzip(a, b) assumes that a.length === b.length.\n*/\nfunction zip(a, b) {\n    var zipped = [];\n    for (var i = 0, l = a.length; i < l; i++) {\n        zipped.push([a[i], b[i]]);\n    }\n    return zipped;\n}\n/**\ncompareArrays(left, right) assumes that `left` and `right` are both Arrays.\n*/\nfunction compareArrays(left, right) {\n    if (left.length !== right.length) {\n        return false;\n    }return zip(left, right).every(function (pair) {\n        return compare(pair[0], pair[1]);\n    });\n}\n/**\ncompareObjects(left, right) assumes that `left` and `right` are both Objects.\n*/\nfunction compareObjects(left, right) {\n    var left_keys = Object.keys(left);\n    var right_keys = Object.keys(right);\n    if (!compareArrays(left_keys, right_keys)) {\n        return false;\n    }return left_keys.every(function (key) {\n        return compare(left[key], right[key]);\n    });\n}\nfunction compare(left, right) {\n    // strict equality handles literals, numbers, and strings (a sufficient but not necessary cause)\n    if (left === right) {\n        return true;\n    } // check arrays\n    if (Array.isArray(left) && Array.isArray(right)) {\n        return compareArrays(left, right);\n    }\n    // check objects\n    if (Object(left) === left && Object(right) === right) {\n        return compareObjects(left, right);\n    }\n    // mismatched arrays & objects, etc., are always inequal\n    return false;\n}\n\n},{}],3:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar MissingError = exports.MissingError = (function (_Error) {\n    function MissingError(path) {\n        _classCallCheck(this, MissingError);\n\n        _get(Object.getPrototypeOf(MissingError.prototype), \"constructor\", this).call(this, \"Value required at path: \" + path);\n        this.path = path;\n        this.name = this.constructor.name;\n    }\n\n    _inherits(MissingError, _Error);\n\n    return MissingError;\n})(Error);\n\nvar InvalidOperationError = exports.InvalidOperationError = (function (_Error2) {\n    function InvalidOperationError(op) {\n        _classCallCheck(this, InvalidOperationError);\n\n        _get(Object.getPrototypeOf(InvalidOperationError.prototype), \"constructor\", this).call(this, \"Invalid operation: \" + op);\n        this.op = op;\n        this.name = this.constructor.name;\n    }\n\n    _inherits(InvalidOperationError, _Error2);\n\n    return InvalidOperationError;\n})(Error);\n\nvar TestError = exports.TestError = (function (_Error3) {\n    function TestError(actual, expected) {\n        _classCallCheck(this, TestError);\n\n        _get(Object.getPrototypeOf(TestError.prototype), \"constructor\", this).call(this, \"Test failed: \" + actual + \" != \" + expected);\n        this.actual = actual;\n        this.expected = expected;\n        this.name = this.constructor.name;\n        this.actual = actual;\n        this.expected = expected;\n    }\n\n    _inherits(TestError, _Error3);\n\n    return TestError;\n})(Error);\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\n/**\nApply a 'application/json-patch+json'-type patch to an object.\n\n`patch` *must* be an array of operations.\n\n> Operation objects MUST have exactly one \"op\" member, whose value\n> indicates the operation to perform.  Its value MUST be one of \"add\",\n> \"remove\", \"replace\", \"move\", \"copy\", or \"test\"; other values are\n> errors.\n\nThis method currently operates on the target object in-place.\n\nReturns list of results, one for each operation.\n  - `null` indicated success.\n  - otherwise, the result will be an instance of one of the Error classe\n    defined in errors.js.\n*/\nexports.applyPatch = applyPatch;\n\n/**\nProduce a 'application/json-patch+json'-type patch to get from one object to\nanother.\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\nReturns list of operations to perform on `input` to produce `output`.\n*/\nexports.createPatch = createPatch;\n\n/**\nProduce an 'application/json-patch+json'-type list of tests, to verify that\nexisting values in an object are identical to the those captured at some\ncheckpoint (whenever this function is called).\n\nThis does not alter `input` or `output` unless they have a property getter with\nside-effects (which is not a good idea anyway).\n\nReturns list of test operations.\n*/\nexports.createTests = createTests;\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar InvalidOperationError = _dereq_(\"./errors\").InvalidOperationError;\n\nvar Pointer = _dereq_(\"./pointer\").Pointer;\n\nvar operationFunctions = _interopRequireWildcard(_dereq_(\"./patch\"));\n\nvar _diff = _dereq_(\"./diff\");\n\nvar diffAny = _diff.diffAny;\nvar isDestructive = _diff.isDestructive;\n\nfunction applyPatch(object, patch) {\n    return patch.map(function (operation) {\n        var operationFunction = operationFunctions[operation.op];\n        // speedy exit if we don't recognize the operation name\n        if (operationFunction === undefined) {\n            return new InvalidOperationError(operation.op);\n        }\n        return operationFunction(object, operation);\n    });\n}\n\nfunction createPatch(input, output) {\n    var ptr = new Pointer();\n    // a new Pointer gets a default path of [''] if not specified\n    return diffAny(input, output, ptr);\n}\n\nfunction createTest(input, path) {\n    var endpoint = Pointer.fromJSON(path).evaluate(input);\n    if (endpoint !== undefined) {\n        return { op: \"test\", path: path, value: endpoint.value };\n    }\n}\nfunction createTests(input, patch) {\n    var tests = new Array();\n    patch.filter(isDestructive).forEach(function (operation) {\n        var pathTest = createTest(input, operation.path);\n        if (pathTest) tests.push(pathTest);\n        if (\"from\" in operation) {\n            var fromTest = createTest(input, operation.from);\n            if (fromTest) tests.push(fromTest);\n        }\n    });\n    return tests;\n}\n\n},{\"./diff\":1,\"./errors\":3,\"./patch\":5,\"./pointer\":6}],5:[function(_dereq_,module,exports){\n\n/**\n>  o  If the target location specifies an array index, a new value is\n>     inserted into the array at the specified index.\n>  o  If the target location specifies an object member that does not\n>     already exist, a new member is added to the object.\n>  o  If the target location specifies an object member that does exist,\n>     that member's value is replaced.\n*/\n\"use strict\";\n\nexports.add = add;\n\n/**\n> The \"remove\" operation removes the value at the target location.\n> The target location MUST exist for the operation to be successful.\n*/\nexports.remove = remove;\n\n/**\n> The \"replace\" operation replaces the value at the target location\n> with a new value.  The operation object MUST contain a \"value\" member\n> whose content specifies the replacement value.\n> The target location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to a \"remove\" operation for\n> a value, followed immediately by an \"add\" operation at the same\n> location with the replacement value.\n\nEven more simply, it's like the add operation with an existence check.\n*/\nexports.replace = replace;\n\n/**\n> The \"move\" operation removes the value at a specified location and\n> adds it to the target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to move the value from.\n> This operation is functionally identical to a \"remove\" operation on\n> the \"from\" location, followed immediately by an \"add\" operation at\n> the target location with the value that was just removed.\n\n> The \"from\" location MUST NOT be a proper prefix of the \"path\"\n> location; i.e., a location cannot be moved into one of its children.\n\nTODO: throw if the check described in the previous paragraph fails.\n*/\nexports.move = move;\n\n/**\n> The \"copy\" operation copies the value at a specified location to the\n> target location.\n> The operation object MUST contain a \"from\" member, which is a string\n> containing a JSON Pointer value that references the location in the\n> target document to copy the value from.\n> The \"from\" location MUST exist for the operation to be successful.\n\n> This operation is functionally identical to an \"add\" operation at the\n> target location using the value specified in the \"from\" member.\n\nAlternatively, it's like 'move' without the 'remove'.\n*/\nexports.copy = copy;\n\n/**\n> The \"test\" operation tests that a value at the target location is\n> equal to a specified value.\n> The operation object MUST contain a \"value\" member that conveys the\n> value to be compared to the target location's value.\n> The target location MUST be equal to the \"value\" value for the\n> operation to be considered successful.\n*/\nexports.test = test;\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar Pointer = _dereq_(\"./pointer\").Pointer;\n\nvar compare = _dereq_(\"./equal\").compare;\n\nvar _errors = _dereq_(\"./errors\");\n\nvar MissingError = _errors.MissingError;\nvar TestError = _errors.TestError;\n\nfunction _add(object, key, value) {\n    if (Array.isArray(object)) {\n        // `key` must be an index\n        if (key == \"-\") {\n            object.push(value);\n        } else {\n            object.splice(key, 0, value);\n        }\n    } else {\n        object[key] = value;\n    }\n}\nfunction _remove(object, key) {\n    if (Array.isArray(object)) {\n        // '-' syntax doesn't make sense when removing\n        object.splice(key, 1);\n    } else {\n        // not sure what the proper behavior is when path = ''\n        delete object[key];\n    }\n}\nfunction add(object, operation) {\n    var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    // it's not exactly a \"MissingError\" in the same way that `remove` is -- more like a MissingParent, or something\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }\n    _add(endpoint.parent, endpoint.key, operation.value);\n    return null;\n}\n\nfunction remove(object, operation) {\n    // endpoint has parent, key, and value properties\n    var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }\n    // not sure what the proper behavior is when path = ''\n    _remove(endpoint.parent, endpoint.key);\n    return null;\n}\n\nfunction replace(object, operation) {\n    var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.value === undefined) {\n        return new MissingError(operation.path);\n    }endpoint.parent[endpoint.key] = operation.value;\n    return null;\n}\n\nfunction move(object, operation) {\n    var from_endpoint = Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }_remove(from_endpoint.parent, from_endpoint.key);\n    _add(endpoint.parent, endpoint.key, from_endpoint.value);\n    return null;\n}\n\nfunction copy(object, operation) {\n    var from_endpoint = Pointer.fromJSON(operation.from).evaluate(object);\n    if (from_endpoint.value === undefined) {\n        return new MissingError(operation.from);\n    }var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    if (endpoint.parent === undefined) {\n        return new MissingError(operation.path);\n    }_remove(from_endpoint.parent, from_endpoint.key);\n    _add(endpoint.parent, endpoint.key, from_endpoint.value);\n    return null;\n}\n\nfunction test(object, operation) {\n    var endpoint = Pointer.fromJSON(operation.path).evaluate(object);\n    var result = compare(endpoint.value, operation.value);\n    if (!result) {\n        return new TestError(endpoint.value, operation.value);\n    }return null;\n}\n\n},{\"./equal\":2,\"./errors\":3,\"./pointer\":6}],6:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\nUnescape token part of a JSON Pointer string\n\n`token` should *not* contain any '/' characters.\n\n> Evaluation of each reference token begins by decoding any escaped\n> character sequence.  This is performed by first transforming any\n> occurrence of the sequence '~1' to '/', and then transforming any\n> occurrence of the sequence '~0' to '~'.  By performing the\n> substitutions in this order, an implementation avoids the error of\n> turning '~01' first into '~1' and then into '/', which would be\n> incorrect (the string '~01' correctly becomes '~1' after\n> transformation).\n\nHere's my take:\n\n~1 is unescaped with higher priority than ~0 because it is a lower-order escape character.\nI say \"lower order\" because '/' needs escaping due to the JSON Pointer serialization technique.\nWhereas, '~' is escaped because escaping '/' uses the '~' character.\n*/\nfunction unescape(token) {\n    return token.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n/** Escape token part of a JSON Pointer string\n\n> '~' needs to be encoded as '~0' and '/'\n> needs to be encoded as '~1' when these characters appear in a\n> reference token.\n\nThis is the exact inverse of `unescape()`, so the reverse replacements must take place in reverse order.\n*/\nfunction escape(token) {\n    return token.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\n/**\nJSON Pointer representation\n*/\n\nvar Pointer = exports.Pointer = (function () {\n    function Pointer() {\n        var tokens = arguments[0] === undefined ? [\"\"] : arguments[0];\n\n        _classCallCheck(this, Pointer);\n\n        this.tokens = tokens;\n    }\n\n    _createClass(Pointer, {\n        toString: {\n            value: function toString() {\n                return this.tokens.map(escape).join(\"/\");\n            }\n        },\n        evaluate: {\n            /**\n            Returns an object with 'parent', 'key', and 'value' properties.\n            In the special case that pointer = \"\", parent and key will be null, and `value = obj`\n            Otherwise, parent will be the such that `parent[key] == value`\n            */\n\n            value: function evaluate(object) {\n                var parent = null;\n                var token = null;\n                for (var i = 1, l = this.tokens.length; i < l; i++) {\n                    parent = object;\n                    token = this.tokens[i];\n                    // not sure if this the best way to handle non-existant paths...\n                    object = (parent || {})[token];\n                }\n                return {\n                    parent: parent,\n                    key: token,\n                    value: object };\n            }\n        },\n        push: {\n            value: function push(token) {\n                // mutable\n                this.tokens.push(token);\n            }\n        },\n        add: {\n            /**\n            `token` should be a String. It'll be coerced to one anyway.\n               immutable (shallowly)\n            */\n\n            value: function add(token) {\n                var tokens = this.tokens.concat(String(token));\n                return new Pointer(tokens);\n            }\n        }\n    }, {\n        fromJSON: {\n            /**\n            `path` *must* be a properly escaped string.\n            */\n\n            value: function fromJSON(path) {\n                var tokens = path.split(\"/\").map(unescape);\n                if (tokens[0] !== \"\") throw new Error(\"Invalid JSON Pointer: \" + path);\n                return new Pointer(tokens);\n            }\n        }\n    });\n\n    return Pointer;\n})();\n\n},{}]},{},[4])(4)\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/rfc6902/rfc6902.js","//      Copyright (c) 2012 Mathieu Turcotte\n//      Licensed under the MIT license.\n\nvar util = require('util');\nvar precond = require('precond');\n\nvar BackoffStrategy = require('./strategy');\n\n// Exponential backoff strategy.\nfunction ExponentialBackoffStrategy(options) {\n    BackoffStrategy.call(this, options);\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n    this.factor_ = ExponentialBackoffStrategy.DEFAULT_FACTOR;\n\n    if (options && options.factor !== undefined) {\n        precond.checkArgument(options.factor > 1,\n            'Exponential factor should be greater than 1 but got %s.',\n            options.factor);\n        this.factor_ = options.factor;\n    }\n}\nutil.inherits(ExponentialBackoffStrategy, BackoffStrategy);\n\n// Default multiplication factor used to compute the next backoff delay from\n// the current one. The value can be overridden by passing a custom factor as\n// part of the options.\nExponentialBackoffStrategy.DEFAULT_FACTOR = 2;\n\nExponentialBackoffStrategy.prototype.next_ = function() {\n    this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());\n    this.nextBackoffDelay_ = this.backoffDelay_ * this.factor_;\n    return this.backoffDelay_;\n};\n\nExponentialBackoffStrategy.prototype.reset_ = function() {\n    this.backoffDelay_ = 0;\n    this.nextBackoffDelay_ = this.getInitialDelay();\n};\n\nmodule.exports = ExponentialBackoffStrategy;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/backoff/lib/strategy/exponential.js","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iter-create.js","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_wks-define.js","require('./_wks-define')('asyncIterator');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable key-spacing */\nvar Backoff = require(\"backoff\");\nvar logger_1 = require(\"./logger\");\nvar syncerror_1 = require(\"./syncerror\");\nvar twilio_transport_1 = require(\"twilio-transport\");\n/**\n * A data container used by the Subscriptions class to track subscribed entities' local\n * representations and their state.\n */\n\nvar SubscribedEntity = function () {\n    function SubscribedEntity(entity) {\n        (0, _classCallCheck3.default)(this, SubscribedEntity);\n\n        this.localObject = entity;\n        this.pendingCorrelationId = null;\n        this.established = false;\n        this.retryCount = 0;\n    }\n\n    (0, _createClass3.default)(SubscribedEntity, [{\n        key: \"update\",\n        value: function update(event, isStrictlyOrderd) {\n            this.localObject._update(event, isStrictlyOrderd);\n        }\n    }, {\n        key: \"reset\",\n        value: function reset() {\n            this.pendingCorrelationId = null;\n            this.retryCount = 0;\n            this.established = false;\n        }\n    }, {\n        key: \"markAsFailed\",\n        value: function markAsFailed(message) {\n            this.rejectedWithError = message.error;\n            this.pendingCorrelationId = null;\n            this.localObject.reportFailure(new syncerror_1.SyncError(\"Failed to subscribe on service events: \" + message.error.message, message.error.status, message.error.code));\n        }\n    }, {\n        key: \"complete\",\n        value: function complete(eventId) {\n            this.pendingCorrelationId = null;\n            this.established = true;\n            this.localObject._advanceLastEventId(eventId);\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.localObject.sid;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return this.localObject.type;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.localObject.lastEventId;\n        }\n    }, {\n        key: \"isInTransition\",\n        get: function get() {\n            return this.pendingCorrelationId !== null;\n        }\n    }, {\n        key: \"isEstablished\",\n        get: function get() {\n            return this.established;\n        }\n    }]);\n    return SubscribedEntity;\n}();\n/**\n * @class Subscriptions\n * @classdesc A manager which, in batches of varying size, continuously persists the\n *      subscription intent of the caller to the Sync backend until it achieves a\n *      converged state.\n */\n\n\nvar Subscriptions = function () {\n    /**\n     * @constructor\n     * Prepares a new Subscriptions manager object with zero subscribed or persisted subscriptions.\n     *\n     * @param {object} config may include a key 'backoffConfig', wherein any of the parameters\n     *      of Backoff.exponential (from npm 'backoff') are valid and will override the defaults.\n     *\n     * @param {Network} must be a viable running Sync Network object, useful for routing requests.\n     */\n    function Subscriptions(services) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Subscriptions);\n\n        this.isConnected = false;\n        this.maxBatchSize = 100;\n        this.services = services;\n        this.subscriptions = new _map2.default();\n        this.persisted = new _map2.default();\n        this.latestPokeResponseArrivalTimestampByCorrelationId = new _map2.default();\n        var defaultBackoffConfig = {\n            randomisationFactor: 0.2,\n            initialDelay: 100,\n            maxDelay: 2 * 60 * 1000\n        };\n        this.backoff = Backoff.exponential((0, _extends3.default)(defaultBackoffConfig, this.services.config.backoffConfig));\n        // This block is triggered by #_persist. Every request is executed in a series of (ideally 1)\n        // backoff 'ready' event, at which point a new subscription set is calculated.\n        this.backoff.on('ready', function () {\n            var _getSubscriptionUpdat = _this.getSubscriptionUpdateBatch(),\n                action = _getSubscriptionUpdat.action,\n                subscriptionRequests = _getSubscriptionUpdat.subscriptions;\n\n            if (action) {\n                _this.applyNewSubscriptionUpdateBatch(action, subscriptionRequests);\n            } else {\n                _this.backoff.reset();\n                logger_1.default.info('All subscriptions resolved.');\n            }\n        });\n    }\n\n    (0, _createClass3.default)(Subscriptions, [{\n        key: \"getSubscriptionUpdateBatch\",\n        value: function getSubscriptionUpdateBatch() {\n            function substract(these, those, ignoreCurrentOp, limit) {\n                var result = [];\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(these), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n                            thisKey = _step$value[0],\n                            thisValue = _step$value[1];\n\n                        var otherValue = those.get(thisKey);\n                        if (!otherValue && (ignoreCurrentOp || !thisValue.isInTransition) && !thisValue.rejectedWithError) {\n                            result.push(thisValue);\n                            if (limit && result.length >= limit) {\n                                break;\n                            }\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                return result;\n            }\n            var listToAdd = substract(this.subscriptions, this.persisted, false, this.maxBatchSize);\n            if (listToAdd.length > 0) {\n                return { action: 'establish', subscriptions: listToAdd };\n            }\n            var listToRemove = substract(this.persisted, this.subscriptions, true, this.maxBatchSize);\n            if (listToRemove.length > 0) {\n                return { action: 'cancel', subscriptions: listToRemove };\n            }\n            return { action: null, subscriptions: null };\n        }\n    }, {\n        key: \"persist\",\n        value: function persist() {\n            try {\n                this.backoff.backoff();\n            } catch (e) {} // eslint-disable-line no-empty\n        }\n    }, {\n        key: \"applyNewSubscriptionUpdateBatch\",\n        value: function applyNewSubscriptionUpdateBatch(action, requests) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                var _this2 = this;\n\n                var correlationId, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, subscribed, response, newMaxBatchSize, estimatedDeliveryInMs, isNumeric, isValidTimeout, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, attemptedSubscription;\n\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.isConnected) {\n                                    _context.next = 4;\n                                    break;\n                                }\n\n                                logger_1.default.debug(\"Twilsock connection (required for subscription) not ready; waiting\\u2026\");\n                                this.backoff.reset();\n                                return _context.abrupt(\"return\");\n\n                            case 4:\n                                // Keeping in mind that events may begin flowing _before_ we receive the response\n                                requests = this.processLocalActions(action, requests);\n                                correlationId = new Date().getTime();\n                                _iteratorNormalCompletion2 = true;\n                                _didIteratorError2 = false;\n                                _iteratorError2 = undefined;\n                                _context.prev = 9;\n\n                                for (_iterator2 = (0, _getIterator3.default)(requests); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                    subscribed = _step2.value;\n\n                                    this.recordActionAttemptOn(subscribed, action, correlationId);\n                                }\n                                // Send this batch to the service\n                                _context.next = 17;\n                                break;\n\n                            case 13:\n                                _context.prev = 13;\n                                _context.t0 = _context[\"catch\"](9);\n                                _didIteratorError2 = true;\n                                _iteratorError2 = _context.t0;\n\n                            case 17:\n                                _context.prev = 17;\n                                _context.prev = 18;\n\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n\n                            case 20:\n                                _context.prev = 20;\n\n                                if (!_didIteratorError2) {\n                                    _context.next = 23;\n                                    break;\n                                }\n\n                                throw _iteratorError2;\n\n                            case 23:\n                                return _context.finish(20);\n\n                            case 24:\n                                return _context.finish(17);\n\n                            case 25:\n                                _context.prev = 25;\n                                _context.next = 28;\n                                return this.request(action, correlationId, requests);\n\n                            case 28:\n                                response = _context.sent;\n                                newMaxBatchSize = response.body.max_batch_size;\n\n                                if (!isNaN(parseInt(newMaxBatchSize)) && isFinite(newMaxBatchSize) && newMaxBatchSize > 0) {\n                                    this.maxBatchSize = newMaxBatchSize;\n                                }\n                                if (action === 'establish') {\n                                    estimatedDeliveryInMs = response.body.estimated_delivery_in_ms;\n                                    isNumeric = !isNaN(parseFloat(estimatedDeliveryInMs)) && isFinite(estimatedDeliveryInMs);\n                                    isValidTimeout = isNumeric && estimatedDeliveryInMs > 0;\n\n                                    if (isValidTimeout) {\n                                        setTimeout(function () {\n                                            return _this2.verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests);\n                                        }, estimatedDeliveryInMs);\n                                    } else {\n                                        logger_1.default.error(\"Invalid timeout: \" + estimatedDeliveryInMs);\n                                    }\n                                }\n                                this.backoff.reset();\n                                _context.next = 57;\n                                break;\n\n                            case 35:\n                                _context.prev = 35;\n                                _context.t1 = _context[\"catch\"](25);\n                                _iteratorNormalCompletion3 = true;\n                                _didIteratorError3 = false;\n                                _iteratorError3 = undefined;\n                                _context.prev = 40;\n\n                                for (_iterator3 = (0, _getIterator3.default)(requests); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                                    attemptedSubscription = _step3.value;\n\n                                    this.recordActionFailureOn(attemptedSubscription, action);\n                                }\n                                _context.next = 48;\n                                break;\n\n                            case 44:\n                                _context.prev = 44;\n                                _context.t2 = _context[\"catch\"](40);\n                                _didIteratorError3 = true;\n                                _iteratorError3 = _context.t2;\n\n                            case 48:\n                                _context.prev = 48;\n                                _context.prev = 49;\n\n                                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                    _iterator3.return();\n                                }\n\n                            case 51:\n                                _context.prev = 51;\n\n                                if (!_didIteratorError3) {\n                                    _context.next = 54;\n                                    break;\n                                }\n\n                                throw _iteratorError3;\n\n                            case 54:\n                                return _context.finish(51);\n\n                            case 55:\n                                return _context.finish(48);\n\n                            case 56:\n                                if (_context.t1 instanceof twilio_transport_1.TwilsockUnavailableError) {\n                                    logger_1.default.debug(\"Twilsock connection (required for subscription) not ready (c:\" + correlationId + \"); waiting\\u2026\");\n                                    this.backoff.reset();\n                                } else {\n                                    logger_1.default.debug(\"Failed an attempt to \" + action + \" subscriptions (c:\" + correlationId + \"); retrying\", _context.t1);\n                                    this.persist();\n                                }\n\n                            case 57:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[9, 13, 17, 25], [18,, 20, 24], [25, 35], [40, 44, 48, 56], [49,, 51, 55]]);\n            }));\n        }\n    }, {\n        key: \"verifyPokeDelivery\",\n        value: function verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests) {\n            var _this3 = this;\n\n            var lastReceived = this.latestPokeResponseArrivalTimestampByCorrelationId.get(correlationId);\n            var silencePeriod = lastReceived ? new Date().getTime() - lastReceived : estimatedDeliveryInMs;\n            if (silencePeriod >= estimatedDeliveryInMs) {\n                // If we haven't received _any_ responses from that poke request for the duration of estimated_delivery_in_ms, poke again\n                requests.filter(function (r) {\n                    return r.pendingCorrelationId === correlationId;\n                }).forEach(function (r) {\n                    r.pendingCorrelationId = null;\n                    r.retryCount++;\n                    _this3.persisted.delete(r.sid);\n                });\n                this.persist();\n                this.latestPokeResponseArrivalTimestampByCorrelationId.delete(correlationId);\n            } else {\n                // Otherwise, the poke responses are probably in transit and we should wait for them\n                var timeoutExtension = estimatedDeliveryInMs - silencePeriod;\n                setTimeout(function () {\n                    return _this3.verifyPokeDelivery(correlationId, estimatedDeliveryInMs, requests);\n                }, timeoutExtension);\n            }\n        }\n    }, {\n        key: \"processLocalActions\",\n        value: function processLocalActions(action, requests) {\n            if (action === 'cancel') {\n                return requests.filter(function (request) {\n                    return !request.rejectedWithError;\n                });\n            }\n            return requests;\n        }\n    }, {\n        key: \"recordActionAttemptOn\",\n        value: function recordActionAttemptOn(attemptedSubscription, action, correlationId) {\n            if (action === 'establish') {\n                this.persisted.set(attemptedSubscription.sid, attemptedSubscription);\n                attemptedSubscription.pendingCorrelationId = correlationId;\n            } else {\n                var persistedSubscription = this.persisted.get(attemptedSubscription.sid);\n                if (persistedSubscription) {\n                    persistedSubscription.pendingCorrelationId = correlationId;\n                }\n            }\n        }\n    }, {\n        key: \"recordActionFailureOn\",\n        value: function recordActionFailureOn(attemptedSubscription, action) {\n            attemptedSubscription.pendingCorrelationId = null;\n            if (action === 'establish') {\n                this.persisted.delete(attemptedSubscription.sid);\n            }\n        }\n    }, {\n        key: \"request\",\n        value: function request(action, correlationId, objects) {\n            var requests = objects.map(function (object) {\n                return {\n                    object_sid: object.sid,\n                    object_type: object.type,\n                    last_event_id: action === 'establish' ? object.lastEventId : undefined // eslint-disable-line no-undefined, camelcase\n                };\n            });\n            var retriedRequests = objects.filter(function (a) {\n                return a.retryCount > 0;\n            }).length;\n            logger_1.default.debug(\"Attempting '\" + action + \"' request (c:\" + correlationId + \"):\", requests);\n            /* eslint-disable camelcase */\n            var requestBody = {\n                event_protocol_version: 3,\n                action: action,\n                correlation_id: correlationId,\n                retried_requests: retriedRequests,\n                requests: requests\n            };\n            /* eslint-enable camelcase */\n            return this.services.network.post(this.services.config.subscriptionsUri, requestBody, null, true);\n        }\n        /**\n         * Establishes intent to be subscribed to this entity. That subscription will be effected\n         * asynchronously.\n         * If subscription to the given sid already exists, it will be overwritten.\n         *\n         * @param {string} sid should be a well-formed SID, uniquely identifying a single instance of a Sync entity.\n         * @param {object} entity should represent the (singular) local representation of this entity.\n         *      Incoming events and modifications to the entity will be directed at the _update() function\n         *      of this provided reference.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"add\",\n        value: function add(sid, entity) {\n            logger_1.default.debug(\"Establishing intent to subscribe to \" + sid);\n            var existingSubscription = this.subscriptions.get(sid);\n            if (existingSubscription && existingSubscription.lastEventId === entity.lastEventId) {\n                // If last event id is the same as before - we're fine\n                return;\n            }\n            this.persisted.delete(sid);\n            this.subscriptions.set(sid, new SubscribedEntity(entity));\n            this.persist();\n        }\n        /**\n         * Establishes the caller's intent to no longer be subscribed to this entity. Following this\n         * call, no further events shall be routed to the local representation of the entity, even\n         * though a server-side subscription may take more time to actually terminate.\n         *\n         * @param {string} sid should be any well-formed SID, uniquely identifying a Sync entity.\n         *      This call only has meaningful effect if that entity is subscribed at the\n         *      time of call. Otherwise does nothing.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(sid) {\n            logger_1.default.debug(\"Establishing intent to unsubscribe from \" + sid);\n            var removed = this.subscriptions.delete(sid);\n            if (removed) {\n                this.persist();\n            }\n        }\n        /**\n         * The point of ingestion for remote incoming messages (e.g. new data was written to a map\n         * to which we are subscribed).\n         *\n         * @param {object} message is the full, unaltered body of the incoming notification.\n         *\n         * @return undefined\n         */\n\n    }, {\n        key: \"acceptMessage\",\n        value: function acceptMessage(message, isStrictlyOrdered) {\n            logger_1.default.trace('Subscriptions received', message);\n            if (message.correlation_id) {\n                this.latestPokeResponseArrivalTimestampByCorrelationId.set(message.correlation_id, new Date().getTime());\n            }\n            switch (message.event_type) {\n                case 'subscription_established':\n                    this.applySubscriptionEstablishedMessage(message.event, message.correlation_id);\n                    break;\n                case 'subscription_canceled':\n                    this.applySubscriptionCancelledMessage(message.event, message.correlation_id);\n                    break;\n                case 'subscription_failed':\n                    this.applySubscriptionFailedMessage(message.event, message.correlation_id);\n                    break;\n                case (message.event_type.match(/^(?:map|list|document)_/) || {}).input:\n                    {\n                        var typedSid = function typedSid() {\n                            if (message.event_type.match(/^map_/)) {\n                                return message.event.map_sid;\n                            } else if (message.event_type.match(/^list_/)) {\n                                return message.event.list_sid;\n                            } else if (message.event_type.match(/^document_/)) {\n                                return message.event.document_sid;\n                            } else {\n                                return undefined;\n                            }\n                        };\n\n                        ;\n                        this.applyEventToSubscribedEntity(typedSid(), message, isStrictlyOrdered);\n                    }\n                    break;\n                default:\n                    logger_1.default.debug(\"Dropping unknown message type \" + message.event_type);\n                    break;\n            }\n        }\n    }, {\n        key: \"applySubscriptionEstablishedMessage\",\n        value: function applySubscriptionEstablishedMessage(message, correlationId) {\n            var sid = message.object_sid;\n            var subscriptionIntent = this.persisted.get(message.object_sid);\n            if (subscriptionIntent && subscriptionIntent.pendingCorrelationId === correlationId) {\n                if (message.replay_status === 'interrupted') {\n                    logger_1.default.debug(\"Event Replay for subscription to \" + sid + \" (c:\" + correlationId + \") interrupted; continuing eagerly.\");\n                    subscriptionIntent.pendingCorrelationId = null;\n                    this.persisted.delete(subscriptionIntent.sid);\n                    this.backoff.reset();\n                } else if (message.replay_status === 'completed') {\n                    logger_1.default.debug(\"Event Replay for subscription to \" + sid + \" (c:\" + correlationId + \") completed. Subscription is ready.\");\n                    subscriptionIntent.complete(message.last_event_id);\n                    this.persisted.set(message.object_sid, subscriptionIntent);\n                    this.backoff.reset();\n                }\n            } else {\n                logger_1.default.debug(\"Late message for \" + message.object_sid + \" (c:\" + correlationId + \") dropped.\");\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applySubscriptionCancelledMessage\",\n        value: function applySubscriptionCancelledMessage(message, correlationId) {\n            var persistedSubscription = this.persisted.get(message.object_sid);\n            if (persistedSubscription && persistedSubscription.pendingCorrelationId === correlationId) {\n                persistedSubscription.pendingCorrelationId = null;\n                this.persisted.delete(message.object_sid);\n            } else {\n                logger_1.default.debug(\"Late message for \" + message.object_sid + \" (c:\" + correlationId + \") dropped.\");\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applySubscriptionFailedMessage\",\n        value: function applySubscriptionFailedMessage(message, correlationId) {\n            var sid = message.object_sid;\n            var subscriptionIntent = this.subscriptions.get(sid);\n            var subscription = this.persisted.get(sid);\n            if (subscriptionIntent && subscription) {\n                if (subscription.pendingCorrelationId === correlationId) {\n                    logger_1.default.error(\"Failed to subscribe on \" + subscription.sid, message.error);\n                    subscription.markAsFailed(message);\n                }\n            } else if (!subscriptionIntent && subscription) {\n                this.persisted.delete(sid);\n            }\n            this.persist();\n        }\n    }, {\n        key: \"applyEventToSubscribedEntity\",\n        value: function applyEventToSubscribedEntity(sid, message, isStrictlyOrdered) {\n            var _this4 = this;\n\n            if (!sid) {\n                return;\n            }\n            // Looking for subscription descriptor to check if poke has been completed\n            isStrictlyOrdered = isStrictlyOrdered || function () {\n                var subscription = _this4.persisted.get(sid);\n                return subscription && subscription.isEstablished;\n            }();\n            // Still searching for subscriptionIntents. User could remove subscription already\n            var subscriptionIntent = this.subscriptions.get(sid);\n            if (subscriptionIntent) {\n                message.event.type = message.event_type;\n                subscriptionIntent.update(message.event, isStrictlyOrdered);\n            } else {\n                logger_1.default.debug(\"Message dropped for SID '\" + sid + \"', for which there is no subscription.\");\n            }\n        }\n    }, {\n        key: \"onConnectionStateChanged\",\n        value: function onConnectionStateChanged(isConnected) {\n            this.isConnected = isConnected;\n            if (isConnected) {\n                this.poke();\n            }\n        }\n        /**\n         * Prompts a playback of any missed changes made to any subscribed object. This method\n         * should be invoked whenever the connectivity layer has experienced cross-cutting\n         * delivery failures that would affect the entire local sync set. Any tangible result\n         * of this operation will result in calls to the _update() function of subscribed\n         * Sync entities.\n         */\n\n    }, {\n        key: \"poke\",\n        value: function poke() {\n            logger_1.default.info('Triggering event replay for all subscriptions.');\n            var failedSubscriptions = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(this.persisted.values()), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var it = _step4.value;\n\n                    it.reset();\n                    if (it.rejectedWithError) {\n                        failedSubscriptions.push(it);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            this.persisted.clear();\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = (0, _getIterator3.default)(failedSubscriptions), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var _it = _step5.value;\n\n                    this.persisted.set(_it.sid, _it);\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            this.persist();\n        }\n        /**\n         * Stops all communication, clears any subscription intent, and returns.\n         */\n\n    }, {\n        key: \"shutdown\",\n        value: function shutdown() {\n            this.backoff.reset();\n            this.subscriptions.clear();\n        }\n    }]);\n    return Subscriptions;\n}();\n\nexports.Subscriptions = Subscriptions;\nexports.default = Subscriptions;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/subscriptions.js","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-sap.js","'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_collection.js","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/create.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/classCallCheck.js","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/uuid/lib/bytesToUuid.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar client_1 = require(\"./client\");\nexports.SyncClient = client_1.SyncClient;\nvar syncdocument_1 = require(\"./syncdocument\");\nexports.SyncDocument = syncdocument_1.SyncDocument;\nvar synclist_1 = require(\"./synclist\");\nexports.SyncList = synclist_1.SyncList;\nvar listitem_1 = require(\"./listitem\");\nexports.SyncListItem = listitem_1.ListItem;\nvar syncmap_1 = require(\"./syncmap\");\nexports.SyncMap = syncmap_1.SyncMap;\nvar mapitem_1 = require(\"./mapitem\");\nexports.SyncMapItem = mapitem_1.MapItem;\nexports.default = client_1.SyncClient;\n\nmodule.exports = client_1.SyncClient;\nmodule.exports.SyncClient = client_1.SyncClient;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/index.js","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/set-prototype-of.js","module.exports = {};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iterators.js","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_meta.js","\"use strict\";\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar syncerror_1 = require(\"./syncerror\");\n\nvar SyncNetworkError = function (_syncerror_1$SyncErro) {\n    (0, _inherits3.default)(SyncNetworkError, _syncerror_1$SyncErro);\n\n    function SyncNetworkError(message) {\n        var status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var body = arguments[3];\n        (0, _classCallCheck3.default)(this, SyncNetworkError);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncNetworkError.__proto__ || (0, _getPrototypeOf2.default)(SyncNetworkError)).call(this, message, status, code));\n\n        _this.body = body;\n        return _this;\n    }\n\n    return SyncNetworkError;\n}(syncerror_1.SyncError);\n\nexports.SyncNetworkError = SyncNetworkError;\nexports.default = SyncNetworkError;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/syncNetworkError.js","module.exports = require('./_global').document && document.documentElement;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_html.js","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/uuid/lib/rng-browser.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REQUEST_TIMEOUT = 30000;\n\nfunction isHttpSuccess(code) {\n  return code >= 200 && code < 300;\n}\n\nfunction isHttpReply(packet) {\n  return packet && packet.header && packet.header.http_status;\n}\n\nvar PacketInterface = function () {\n  function PacketInterface(socket) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, PacketInterface);\n\n    (0, _defineProperties2.default)(this, {\n      _activeRequests: { value: new _map2.default() },\n      _socket: { value: socket }\n    });\n\n    this._socket.on('reply', this._processReply.bind(this));\n    this._socket.on('disconnected', function () {\n      _this._activeRequests.forEach(function (descriptor) {\n        clearTimeout(descriptor.timeout);\n        descriptor.reject(new Error('Twilsock disconnected'));\n      });\n      _this._activeRequests.clear();\n    });\n  }\n\n  (0, _createClass3.default)(PacketInterface, [{\n    key: '_processReply',\n    value: function _processReply(reply) {\n      var request = this._activeRequests.get(reply.id);\n      if (request) {\n        clearTimeout(request.timeout);\n        this._activeRequests.delete(reply.id);\n\n        setTimeout(function () {\n          // User shouldn't intercept connection handling, thus making it asynchronous\n          if (!isHttpSuccess(reply.status.code)) {\n            request.reject(new Error('Transport failure: ' + reply.status.status));\n          } else if (isHttpReply(reply) && !isHttpSuccess(reply.header.http_status.code)) {\n            request.reject({\n              status: reply.header.http_status.code,\n              description: reply.header.http_status.status,\n              body: reply.body\n            });\n          } else {\n            request.resolve(reply);\n          }\n        }, 0);\n      }\n    }\n  }, {\n    key: '_storeRequest',\n    value: function _storeRequest(id, resolve, reject) {\n      var requestDescriptor = {\n        resolve: resolve,\n        reject: reject,\n        timeout: setTimeout(function () {\n          _logger2.default.debug('request', id, 'is timed out');\n          reject(new Error('Twilsock: request timeout: ' + id));\n        }, REQUEST_TIMEOUT)\n      };\n      this._activeRequests.set(id, requestDescriptor);\n    }\n  }, {\n    key: 'send',\n    value: function send(address, headers, body) {\n      var _this2 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this2._socket.isConnected) {\n          _logger2.default.info('Can not send upstream message. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var id = _this2._socket.sendUpstreamMessage(address, headers, body);\n        _logger2.default.trace('message sent: ', { id: id, address: address, headers: headers, body: body });\n        _this2._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'putNotificationContext',\n    value: function putNotificationContext(contextId, context) {\n      var _this3 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this3._socket.isConnected) {\n          _logger2.default.info('Can not send put notification context. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var header = { method: 'put_notification_ctx', notification_ctx_id: contextId }; // eslint-disable-line camelcase\n        var id = _this3._socket.send(header, context);\n        _this3._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'deleteNotificationContext',\n    value: function deleteNotificationContext(contextId) {\n      var _this4 = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        if (!_this4._socket.isConnected) {\n          _logger2.default.info('Can not send delete notification context. Twilsock is not in connected state');\n          reject(new Error('Twilsock is not connected'));\n        }\n\n        var packet = { method: 'delete_notification_ctx', notification_ctx_id: contextId }; // eslint-disable-line camelcase\n        var id = _this4._socket.send(packet);\n        _this4._storeRequest(id, resolve, reject);\n      });\n    }\n  }, {\n    key: 'shutdown',\n    value: function shutdown() {\n      this._activeRequests.forEach(function (descriptor) {\n        clearTimeout(descriptor.timeout);\n        descriptor.reject(new Error('Twilsock: request cancelled by user'));\n      });\n      this._activeRequests.clear();\n    }\n  }]);\n  return PacketInterface;\n}();\n\nexports.default = PacketInterface;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/packetinterface.js","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) {\n return (val !== _undefined) && (val !== null);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/is-value.js","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.assign\n\t: require(\"./shim\");\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/assign/index.js","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.1\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.1\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bluebird/js/browser/bluebird.js","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_a-function.js","/*\n * Copyright (c) 2012 Mathieu Turcotte\n * Licensed under the MIT license.\n */\n\nvar util = require('util');\n\nvar errors = module.exports = require('./errors');\n\nfunction failCheck(ExceptionConstructor, callee, messageFormat, formatArgs) {\n    messageFormat = messageFormat || '';\n    var message = util.format.apply(this, [messageFormat].concat(formatArgs));\n    var error = new ExceptionConstructor(message);\n    Error.captureStackTrace(error, callee);\n    throw error;\n}\n\nfunction failArgumentCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalArgumentError, callee, message, formatArgs);\n}\n\nfunction failStateCheck(callee, message, formatArgs) {\n    failCheck(errors.IllegalStateError, callee, message, formatArgs);\n}\n\nmodule.exports.checkArgument = function(value, message) {\n    if (!value) {\n        failArgumentCheck(arguments.callee, message,\n            Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkState = function(value, message) {\n    if (!value) {\n        failStateCheck(arguments.callee, message,\n            Array.prototype.slice.call(arguments, 2));\n    }\n};\n\nmodule.exports.checkIsDef = function(value, message) {\n    if (value !== undefined) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message ||\n        'Expected value to be defined but was undefined.',\n        Array.prototype.slice.call(arguments, 2));\n};\n\nmodule.exports.checkIsDefAndNotNull = function(value, message) {\n    // Note that undefined == null.\n    if (value != null) {\n        return value;\n    }\n\n    failArgumentCheck(arguments.callee, message ||\n        'Expected value to be defined and not null but got \"' +\n        typeOf(value) + '\".', Array.prototype.slice.call(arguments, 2));\n};\n\n// Fixed version of the typeOf operator which returns 'null' for null values\n// and 'array' for arrays.\nfunction typeOf(value) {\n    var s = typeof value;\n    if (s == 'object') {\n        if (!value) {\n            return 'null';\n        } else if (value instanceof Array) {\n            return 'array';\n        }\n    }\n    return s;\n}\n\nfunction typeCheck(expect) {\n    return function(value, message) {\n        var type = typeOf(value);\n\n        if (type == expect) {\n            return value;\n        }\n\n        failArgumentCheck(arguments.callee, message ||\n            'Expected \"' + expect + '\" but got \"' + type + '\".',\n            Array.prototype.slice.call(arguments, 2));\n    };\n}\n\nmodule.exports.checkIsString = typeCheck('string');\nmodule.exports.checkIsArray = typeCheck('array');\nmodule.exports.checkIsNumber = typeCheck('number');\nmodule.exports.checkIsBoolean = typeCheck('boolean');\nmodule.exports.checkIsFunction = typeCheck('function');\nmodule.exports.checkIsObject = typeCheck('object');\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/precond/lib/checks.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/assign.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/util/util.js","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-dps.js","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/is-iterable.js","module.exports = require('./_hide');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_redefine.js","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n return false;\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/keys/is-implemented.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/webpack/buildin/global.js","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iter-call.js","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/uuid/v1.js","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/uuid/v4.js","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.define-property.js","\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = _promise2.default))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar logger_1 = require(\"./logger\");\nvar entity_1 = require(\"./entity\");\nvar rfc6902_1 = require(\"rfc6902\");\nvar retryingqueue_1 = require(\"./retryingqueue\");\nvar utils_1 = require(\"./utils\");\n/**\n * @class\n * @alias Document\n * @classdesc\n * Primitive to store a single document in DataSync service\n * @property {String} sid SyncDocument unique id\n * @property {String} uniqueName Unique name of a document\n * @property {Object} value Value of a document\n *\n * @fires Document#updated\n * @fires Document#updatedRemotely\n * @fires Document#removed\n * @fires Document#removedRemotely\n */\n\nvar SyncDocument = function (_entity_1$SyncEntity) {\n    (0, _inherits3.default)(SyncDocument, _entity_1$SyncEntity);\n\n    /**\n     * @private\n     */\n    function SyncDocument(services, descriptor, removalHandler) {\n        (0, _classCallCheck3.default)(this, SyncDocument);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SyncDocument.__proto__ || (0, _getPrototypeOf2.default)(SyncDocument)).call(this, services, removalHandler));\n\n        _this.actionQueue = new retryingqueue_1.RetryingQueue();\n        _this.descriptor = descriptor;\n        _this.descriptor.data = _this.descriptor.data || {};\n        return _this;\n    }\n\n    (0, _createClass3.default)(SyncDocument, [{\n        key: \"_update\",\n\n        /**\n         * Update data entity with new data\n         * @private\n         */\n        value: function _update(update) {\n            switch (update.type) {\n                case 'document_updated':\n                    if (update.id > this.lastEventId) {\n                        var originalData = this.descriptor.data;\n                        this.descriptor.last_event_id = update.id;\n                        this.descriptor.revision = update.document_revision;\n                        this.descriptor.data = update.document_data;\n                        this.traverse(originalData, update.document_data, false);\n                        this.emit('updated', update.document_data, false);\n                        this.emit('updatedRemotely', update.document_data);\n                        this.services.storage.update(this.type, this.sid, this.uniqueName, { last_event_id: update.id, revision: update.document_revision, data: update.document_data });\n                    }\n                    break;\n                case 'document_removed':\n                    this.onRemoved(false);\n                    break;\n            }\n        }\n        /**\n         * Calculate diff between old and new data\n         * @private\n         */\n\n    }, {\n        key: \"traverse\",\n        value: function traverse(originalData, updatedData, isLocalEvent) {\n            var _this2 = this;\n\n            var diff = rfc6902_1.createPatch(originalData, updatedData);\n            diff.forEach(function (row) {\n                if (row.op === 'add') {\n                    _this2.emit('keyAdded', row.path, row.value, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyAddedRemotely', row.path, row.value);\n                    }\n                } else if (row.op === 'replace') {\n                    _this2.emit('keyUpdated', row.path, row.value, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyUpdatedRemotely', row.path, row.value);\n                    }\n                } else if (row.op === 'remove') {\n                    _this2.emit('keyRemoved', row.path, isLocalEvent);\n                    if (!isLocalEvent) {\n                        _this2.emit('keyRemovedRemotely', row.path);\n                    }\n                }\n            });\n        }\n        /**\n         * @returns {Object} Internal data of entity\n         * For now use a 'value' property instead\n         * @private\n         */\n\n    }, {\n        key: \"get\",\n        value: function get(path) {\n            // return !path ? this.value : this.value(path);\n            return this.value;\n        }\n        /**\n         * Set new value for the document\n         * @param {Object} value New value for the document\n         * @param {Boolean} [conditional=false] Check for remote modification when updating.\n         * If true, promise will be rejected if value was remotely modified\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(value, conditional) {\n            return this._actualSet(value, conditional ? function () {\n                throw new Error('Revision mismatch');\n            } : null);\n        }\n        /**\n         * @private\n         */\n\n    }, {\n        key: \"_actualSet\",\n        value: function _actualSet(data, conflictResolver) {\n            var _this3 = this;\n\n            var resolver = void 0;\n            var arg = { data: data,\n                revision: conflictResolver ? this.revision : undefined };\n            if (conflictResolver) {\n                resolver = function resolver(err) {\n                    return __awaiter(_this3, void 0, void 0, _regenerator2.default.mark(function _callee() {\n                        return _regenerator2.default.wrap(function _callee$(_context) {\n                            while (1) {\n                                switch (_context.prev = _context.next) {\n                                    case 0:\n                                        if (!(err.status === 412)) {\n                                            _context.next = 4;\n                                            break;\n                                        }\n\n                                        _context.next = 3;\n                                        return this.softSync();\n\n                                    case 3:\n                                        return _context.abrupt(\"return\", { revision: this.revision,\n                                            data: conflictResolver(utils_1.deepClone(this.value)) });\n\n                                    case 4:\n                                        throw err;\n\n                                    case 5:\n                                    case \"end\":\n                                        return _context.stop();\n                                }\n                            }\n                        }, _callee, this);\n                    }));\n                };\n            }\n            return this.actionQueue.add(this._set.bind(this), this.uri, arg, resolver).then(function (result) {\n                if (result.last_event_id > _this3.descriptor.last_event_id) {\n                    // Ignore returned value if we already got a newer one\n                    _this3.descriptor.revision = result.revision;\n                    _this3.descriptor.data = result.data;\n                    _this3.descriptor.last_event_id = result.last_event_id;\n                    _this3.services.storage.update(_this3.type, _this3.sid, _this3.uniqueName, { last_event_id: result.last_event_id, revision: result.revision, data: result.data });\n                }\n                _this3.emit('updated', _this3.value, true);\n                return _this3.value;\n            });\n        }\n        /**\n         * @param {Document~Mutator} mutator Function to apply to current data in order to modify it.\n         * Can be called multiple times if same data modified remotely at the same time.\n         * @return {Promise<Object>}\n         */\n\n    }, {\n        key: \"mutate\",\n        value: function mutate(mutator) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee2() {\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                return _context2.abrupt(\"return\", this._actualSet(mutator(utils_1.deepClone(this.value)), mutator));\n\n                            case 1:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n        /**\n         * @param {Object} update Set of fields to update\n         * @return {Promise<Object>} Result data\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(obj) {\n            return this.mutate(function (remote) {\n                return (0, _extends3.default)(remote, obj);\n            });\n        }\n    }, {\n        key: \"_set\",\n        value: function _set(context, param) {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee3() {\n                var response;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.next = 2;\n                                return this.services.network.post(this.uri, { data: param.data }, param.revision);\n\n                            case 2:\n                                response = _context3.sent;\n                                return _context3.abrupt(\"return\", { revision: response.body.revision, data: param.data, last_event_id: response.body.last_event_id });\n\n                            case 4:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n        /**\n         * Get new data from server\n         * @private\n         */\n\n    }, {\n        key: \"softSync\",\n        value: function softSync() {\n            var _this4 = this;\n\n            return this.services.network.get(this.uri).then(function (response) {\n                _this4._update({ type: 'document_updated',\n                    id: response.body.last_event_id,\n                    document_revision: response.body.revision,\n                    document_data: response.body.data }); // eslint-disable-line camelcase\n                return _this4;\n            }).catch(function (err) {\n                if (err.status === 404) {\n                    _this4.onRemoved(false);\n                } else {\n                    logger_1.default.error(\"Can't get updates for \" + _this4.sid + \":\", err);\n                }\n            });\n        }\n        /**\n         * Get value by given path\n         * @param {string} path JSON path\n         * @private\n         */\n        /*\n        _value(path) {\n          let result;\n          try {\n            let pathArr = path.replace(/^\\/|\\/$/gm, '').split('/');\n            let obj = this.data;\n            pathArr.forEach((el) => { obj = obj[el]; });\n            result = obj;\n          } catch (e) {\n            log.warn('Failed to get value:', e);\n          }\n          return result;\n        }\n        */\n\n    }, {\n        key: \"onRemoved\",\n        value: function onRemoved(locally) {\n            this._unsubscribe();\n            this.removalHandler(this.type, this.sid, this.uniqueName);\n            // Should also do some cleanup here\n            this.emit('removed', locally);\n            if (!locally) {\n                this.emit('removedRemotely');\n            }\n        }\n        /**\n         * Removes document from service\n         * @return {Promise}\n         * @public\n         */\n\n    }, {\n        key: \"removeDocument\",\n        value: function removeDocument() {\n            return __awaiter(this, void 0, void 0, _regenerator2.default.mark(function _callee4() {\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.next = 2;\n                                return this.services.network.delete(this.uri);\n\n                            case 2:\n                                this.onRemoved(true);\n\n                            case 3:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n    }, {\n        key: \"uri\",\n        get: function get() {\n            return this.descriptor.url;\n        }\n    }, {\n        key: \"revision\",\n        get: function get() {\n            return this.descriptor.revision;\n        }\n    }, {\n        key: \"lastEventId\",\n        get: function get() {\n            return this.descriptor.last_event_id;\n        }\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.descriptor.sid;\n        }\n    }, {\n        key: \"value\",\n        get: function get() {\n            return this.descriptor.data;\n        }\n    }, {\n        key: \"uniqueName\",\n        get: function get() {\n            return this.descriptor.unique_name || null;\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return 'document';\n        }\n    }], [{\n        key: \"type\",\n        get: function get() {\n            return 'document';\n        }\n    }]);\n    return SyncDocument;\n}(entity_1.SyncEntity);\n\nexports.SyncDocument = SyncDocument;\nexports.default = SyncDocument;\n/**\n * Applies a transformation to the document value\n * @callback Document~Mutator\n * @param {Object} data current value\n * @return {Object} Modified value\n */\n/**\n* Fired when document value changed\n* @event Document#updated\n* @type {Object}\n*/\n/**\n* Fired when document value changed remotely\n* @event Document#updatedRemotely\n* @type {Object}\n*/\n/**\n* Fired when document removed from server\n* @event Document#removed\n*/\n/**\n* Fired when document removed from server remotely\n* @event Document#removedRemotely\n*/\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/syncdocument.js","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.string.iterator.js","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\n/**\n * Provides retrier service\n */\nvar Retrier = (function (_super) {\n    __extends(Retrier, _super);\n    /**\n     * Creates a new Retrier instance\n     */\n    function Retrier(options) {\n        var _this = _super.call(this) || this;\n        _this.minDelay = options.min;\n        _this.maxDelay = options.max;\n        _this.initialDelay = options.initial || 0;\n        _this.maxAttemptsCount = options.maxAttemptsCount || 0;\n        _this.maxAttemptsTime = options.maxAttemptsTime || 0;\n        _this.randomness = options.randomness || 0;\n        _this.inProgress = false;\n        _this.attemptNum = 0;\n        _this.prevDelay = 0;\n        _this.currDelay = 0;\n        return _this;\n    }\n    Retrier.prototype.attempt = function () {\n        clearTimeout(this.timeout);\n        this.attemptNum++;\n        this.timeout = null;\n        this.emit(\"attempt\", this);\n    };\n    Retrier.prototype.nextDelay = function (delayOverride) {\n        if (typeof delayOverride === 'number') {\n            this.prevDelay = 0;\n            this.currDelay = delayOverride;\n            return delayOverride;\n        }\n        if (this.attemptNum == 0) {\n            return this.initialDelay;\n        }\n        if (this.attemptNum == 1) {\n            this.currDelay = this.minDelay;\n            return this.currDelay;\n        }\n        var delay = this.currDelay + this.prevDelay;\n        this.prevDelay = this.currDelay;\n        this.currDelay = delay;\n        return delay;\n    };\n    Retrier.prototype.randomize = function (delay) {\n        var area = delay * this.randomness;\n        var corr = Math.round(Math.random() * area * 2 - area);\n        return Math.max(0, delay + corr);\n    };\n    Retrier.prototype.scheduleAttempt = function (delayOverride) {\n        var _this = this;\n        if (this.maxAttemptsCount && this.attemptNum >= this.maxAttemptsCount) {\n            this.cleanup();\n            this.emit('failed', new Error('Maximum attempt count limit reached'));\n            this.reject(new Error('Maximum attempt count reached'));\n            return;\n        }\n        var delay = this.nextDelay(delayOverride);\n        delay = this.randomize(delay);\n        if (this.maxAttemptsTime && (this.startTimestamp + this.maxAttemptsTime < Date.now() + delay)) {\n            this.cleanup();\n            this.emit('failed', new Error('Maximum attempt time limit reached'));\n            this.reject(new Error('Maximum attempt time limit reached'));\n        }\n        this.timeout = setTimeout(function () { return _this.attempt(); }, delay);\n    };\n    Retrier.prototype.cleanup = function () {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.inProgress = false;\n        this.attemptNum = 0;\n        this.prevDelay = 0;\n        this.currDelay = 0;\n    };\n    Retrier.prototype.start = function () {\n        var _this = this;\n        if (this.inProgress) {\n            throw new Error('Retrier is already in progress');\n        }\n        this.inProgress = true;\n        return new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n            _this.startTimestamp = Date.now();\n            _this.scheduleAttempt(_this.initialDelay);\n        });\n    };\n    Retrier.prototype.cancel = function () {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n            this.inProgress = false;\n            this.emit(\"cancelled\");\n            this.reject(new Error(\"Cancelled\"));\n        }\n    };\n    Retrier.prototype.succeeded = function (arg) {\n        this.emit(\"succeeded\", arg);\n        this.resolve(arg);\n    };\n    Retrier.prototype.failed = function (err, nextAttemptDelayOverride) {\n        if (this.timeout) {\n            throw new Error(\"Retrier attempt is already in progress\");\n        }\n        this.scheduleAttempt(nextAttemptDelayOverride);\n    };\n    Retrier.prototype.run = function (handler) {\n        var _this = this;\n        this.on('attempt', function () {\n            handler().then(function (v) { return _this.succeeded(v); }).catch(function (e) { return _this.failed(e); });\n        });\n        return this.start();\n    };\n    return Retrier;\n}(events_1.EventEmitter));\nexports.Retrier = Retrier;\nexports.default = Retrier;\n//# sourceMappingURL=retrier.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/operation-retrier/lib/retrier.js","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_global.js","'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/d/index.js","'use strict';\n\nvar EventEmitter = require('events').EventEmitter;\nvar inherits = require('util').inherits;\nvar Promise = global.Promise || require('es6-promise').Promise;\n\n/**\n * Construct an {@link AccessManager} from an initial Access Token.\n * @class\n * @classdesc An {@link AccessManager} manages everything necessary for a\n *   Twilio Client to access Twilio. Namely, the {@link AccessManager} manages\n *   Access Tokens, and raises Access Token expiration events in the form of\n *   {@link AccessManager#event:tokenExpired}.\n * @param {string} initialToken - The initial Access Token\n * @property {?string} identity - The identity granted by the current Access\n *   Token; this value is populated asynchronously and is initially null\n * @property {string} token - The current Access Token\n * @property {boolean} isExpired - Whether or not the current Access Token is\n *   expired\n * @property {?Date} expires - The time at which he current Access Token\n *   expires; this value is populated asynchronously and is initially null\n * @fires AccessManager#error\n * @fires AccessManager#tokenExpired\n * @fires AccessManager#tokenWillExpire\n * @fires AccessManager#tokenUpdated\n */\nfunction AccessManager(initialToken) {\n  if (!(this instanceof AccessManager)) {\n    return new AccessManager(initialToken);\n  }\n  EventEmitter.call(this);\n  var expires = null;\n  var identity = null;\n  var isExpired = false;\n  var pendingUpdate = null;\n  var token = initialToken;\n  var tokenWillExpireTimer = null;\n  var tokenExpiredTimer = null;\n  var tokenUpdatedTimer = null;\n  var tokenPayload = null;\n  Object.defineProperties(this, {\n    _expires: {\n      get: function() {\n        return expires;\n      },\n      set: function(_expires) {\n        expires = _expires;\n      }\n    },\n    _identity: {\n      get: function() {\n        return identity;\n      },\n      set: function(_identity) {\n        identity = _identity;\n      }\n    },\n    _isExpired: {\n      get: function() {\n        return isExpired;\n      },\n      set: function(_isExpired) {\n        isExpired = _isExpired;\n      }\n    },\n    _pendingUpdate: {\n      get: function() {\n        return pendingUpdate;\n      },\n      set: function(_pendingUpdate) {\n        pendingUpdate = _pendingUpdate;\n      }\n    },\n    _token: {\n      get: function() {\n        return token;\n      },\n      set: function(_token) {\n        token = _token;\n      }\n    },\n    _tokenExpiredTimer: {\n      get: function() {\n        return tokenExpiredTimer;\n      },\n      set: function(_tokenExpiredTimer) {\n        tokenExpiredTimer = _tokenExpiredTimer;\n      }\n    },\n    _tokenWillExpireTimer: {\n      get: function() {\n        return tokenWillExpireTimer;\n      },\n      set: function(_tokenWillExpireTimer) {\n        tokenWillExpireTimer = _tokenWillExpireTimer;\n      }\n    },\n    _tokenUpdatedTimer: {\n      get: function() {\n        return tokenUpdatedTimer;\n      },\n      set: function(_tokenUpdatedTimer) {\n        tokenUpdatedTimer = _tokenUpdatedTimer;\n      }\n    },\n    _tokenPayload: {\n      get: function() {\n        return tokenPayload;\n      },\n      set: function(_tokenPayload) {\n        tokenPayload = _tokenPayload;\n      }\n    },\n    expires: {\n      enumerable: true,\n      get: function() {\n        return expires;\n      }\n    },\n    identity: {\n      enumerable: true,\n      get: function() {\n        return identity;\n      }\n    },\n    isExpired: {\n      enumerable: true,\n      get: function() {\n        return isExpired;\n      }\n    },\n    token: {\n      enumerable: true,\n      get: function() {\n        return token;\n      }\n    }\n  });\n  var _pendingUpdate = this.updateToken(initialToken);\n  _pendingUpdate.catch(function(error) {\n    if (this._pendingUpdate === _pendingUpdate) {\n      this.emit('error', error);\n    }\n  }.bind(this));\n}\n\ninherits(AccessManager, EventEmitter);\n\n/**\n * Update the {@link AccessManager}'s current Access Token.\n * @param {string} newToken - A new Access Token\n * @returns {Promise<this>}\n * @fires AccessManager#tokenUpdated\n */\nAccessManager.prototype.updateToken = function updateToken(newToken) {\n  var self = this;\n\n  var pendingUpdate = new Promise(function(resolve) {\n\n    var payload = parsePayload(newToken);\n\n    // Set the identity.\n    self._identity = getIdentity(payload);\n\n    // Emit the tokenUpdated event after the Promise resolves.\n    clearTimeout(self._tokenUpdatedTimer);\n    self._tokenUpdatedTimer = setTimeout(function tokenUpdated() {\n      self._tokenUpdatedTimer = null;\n      self.emit('tokenUpdated', self);\n    });\n\n    // Set expires, isExpired, tokenExpired and tokenWillExpire timers.\n    self._expires = new Date(payload.exp * 1000);\n    self._isExpired = Date.now() >= self.expires;\n\n    clearTimeout(self._tokenWillExpireTimer);\n    self._tokenWillExpireTimer = setTimeout(function tokenWillExpireTimer() {\n      self._tokenWillExpireTimer = null;\n      self.emit('tokenWillExpire', self);\n    }, self.expires - Date.now() - 3 * 60 * 1000); // 3 minutes before expiration\n    // Negative timeout for setTimeout is fine and means \"almost now\"\n\n    clearTimeout(self._tokenExpiredTimer);\n    self._tokenExpiredTimer = setTimeout(function tokenExpiredTimer() {\n      self._isExpired = true;\n      self._tokenExpiredTimer = null;\n      self.emit('tokenExpired', self);\n    }, self.expires - Date.now());\n\n    // Update the token and tokenPayload.\n    self._token = newToken;\n    self._tokenPayload = payload;\n\n    resolve(self);\n  });\n\n  this._pendingUpdate = pendingUpdate;\n\n  return pendingUpdate;\n};\n\n/**\n * Parse the payload of a JSON Web Token (JWT).\n * @private\n * @param {string} jwt\n * @returns {object}\n */\nfunction parsePayload(jwt) {\n  var segments = jwt.split('.');\n  if (segments.length !== 3) {\n    throw new Error('Token is invalid or malformed');\n  }\n  var encodedPayloadString = segments[1];\n  var payloadString = decodeBase64URL(encodedPayloadString);\n  var payload = JSON.parse(payloadString);\n  return payload;\n}\n\n/**\n * Decode a base64url-encoded string.\n * @private\n * @param {string} encoded\n * @returns {string}\n */\nfunction decodeBase64URL(encoded) {\n  var remainder = encoded.length % 4;\n  if (remainder > 0) {\n    var padlen = 4 - remainder;\n    encoded += new Array(padlen + 1).join('=');\n  }\n  encoded = encoded.replace(/-/g, '+')\n                   .replace(/_/g, '/');\n  return decodeBase64(encoded);\n}\n\n/**\n * Decode a base64-encoded string.\n * @private\n * @param {string} encoded\n * @returns {string}\n */\nfunction decodeBase64(encoded) {\n  return new Buffer(encoded, 'base64').toString();\n}\n\n/**\n * Get the identity from the payload of an Access Token.\n * @private\n * @param {object} payload\n * @returns {?string}\n */\nfunction getIdentity(payload) {\n  var identity = null;\n  if (!payload.grants && payload.scope) {\n    identity = getIdentityFromCapabilityTokenScope(payload.scope);\n  } else if (payload.grants instanceof Array) {\n    identity = getIdentityFromSATGrants(payload.grants);\n  } else if (typeof payload.grants === 'object') {\n    identity = getIdentityFromFPAGrants(payload.grants);\n  }\n  return identity;\n}\n\n/**\n * Get the identity from a Capability Token's Scope.\n * @private\n * @param {String} scope\n * @returns {?string}\n */\n// TODO(rrowland): Remove this function as soon as we move to FPA.\nfunction getIdentityFromCapabilityTokenScope(scope) {\n  var match = decodeURIComponent(scope).match(/identity=(.*?)(&|$)/i);\n  return match && decodeURIComponent(match[1]);\n}\n\n/**\n * Get the identity from Scoped Access Token (SAT) grants.\n * @private\n * @param {Array<Object>} grants\n * @returns {?string}\n */\n// TODO(mroberts): Remove this function as soon as we move to FPA.\nfunction getIdentityFromSATGrants(grants) {\n  var identity = null;\n  for (var i = 0; i < grants.length; i++) {\n    var grant = grants[i];\n    if (grant && typeof grant.res === 'string') {\n      var match = grant.res.match(/^sip:(.*)@/);\n      if (match) {\n        identity = decodeURIComponent(match[1]);\n        break;\n      }\n    }\n  }\n  return identity;\n}\n\n/**\n * Get the identity from First-Person Access Token (FPA) grants.\n * @private\n * @param {object} grants\n * @returns {?string}\n */\nfunction getIdentityFromFPAGrants(grants) {\n  return grants.identity || null;\n}\n\n/**\n * An error occurred.\n * @param {Error} error\n * @event AccessManager#error\n */\n\n/**\n * The Access Token expired.\n * @param {AccessManager} manager\n * @event AccessManager#tokenExpired\n */\n\n/**\n * The Access Token will expire in 3 minutes\n * (or less if token TTL is less then 3 minutes).\n * @param {AccessManager} manager\n * @event AccessManager#tokenWillExpire\n */\n\n/**\n * The Access Token was updated.\n * @param {AccessManager} manager\n * @event AccessManager#tokenUpdated\n */\n\nmodule.exports = AccessManager;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-common/lib/accessmanager.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar XHR = typeof XMLHttpRequest === 'undefined' ? require('xmlhttprequest').XMLHttpRequest : XMLHttpRequest;\n\nfunction parseResponseHeaders(headerString) {\n  return headerString.split('\\r\\n').map(function (el) {\n    return el.split(': ');\n  }).filter(function (el) {\n    return el.length === 2 && el[1].length > 0;\n  }).reduce(function (prev, curr) {\n    prev[curr[0]] = curr[1];return prev;\n  }, {});\n}\n\nfunction extractBody(xhr) {\n  var contentType = xhr.getResponseHeader('Content-Type');\n  if (!contentType || contentType.indexOf('application/json') !== 0 || xhr.responseText.length === 0) {\n    return xhr.responseText;\n  }\n\n  try {\n    return JSON.parse(xhr.responseText);\n  } catch (e) {\n    return xhr.responseText;\n  }\n}\n\n/**\n * Use XMLHttpRequest to get a network resource.\n * @param {String} method - HTTP Method\n * @param {Object} params - Request parameters\n * @param {String} params.url - URL of the resource\n * @param {Array}  params.headers - An array of headers to pass [{ headerName : headerBody }]\n * @param {Object} params.body - A JSON body to send to the resource\n * @returns {Promise}\n **/\n\nvar Request = function () {\n  function Request() {\n    _classCallCheck(this, Request);\n  }\n\n  _createClass(Request, null, [{\n    key: 'request',\n    value: function request(method, params) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XHR();\n        xhr.open(method, params.url, true);\n\n        xhr.onreadystatechange = function onreadystatechange() {\n          if (xhr.readyState !== 4) {\n            return;\n          }\n\n          var headers = parseResponseHeaders(xhr.getAllResponseHeaders());\n          var body = extractBody(xhr);\n\n          if (200 <= xhr.status && xhr.status < 300) {\n            resolve({ status: xhr.status, headers: headers, body: body });\n          } else {\n            reject({ status: xhr.status, description: xhr.statusText, headers: headers, body: body });\n          }\n        };\n\n        for (var headerName in params.headers) {\n          xhr.setRequestHeader(headerName, params.headers[headerName]);\n          if (headerName === 'Content-Type' && params.headers[headerName] === 'application/json') {\n            params.body = JSON.stringify(params.body);\n          }\n        }\n\n        xhr.send(params.body);\n      });\n    }\n\n    /**\n     * Sugar function for request('GET', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'get',\n    value: function get(params) {\n      return this.request('GET', params);\n    }\n\n    /**\n     * Sugar function for request('POST', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'post',\n    value: function post(params) {\n      return this.request('POST', params);\n    }\n\n    /**\n     * Sugar function for request('PUT', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(params) {\n      return this.request('PUT', params);\n    }\n\n    /**\n     * Sugar function for request('DELETE', params);\n     * @param {Object} params - Request parameters\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(params) {\n      return this.request('DELETE', params);\n    }\n  }]);\n\n  return Request;\n}();\n\nexports.default = Request;\n\n\nmodule.exports = Request;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-transport/lib/httprequest.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/symbol.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/createClass.js","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-keys.js","/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Waterfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (isModuleScope && isHostType(context, 'system') && (data = [context.system])[0]) {\n          os || (os = data[0].os || null);\n          try {\n            data[1] = context.require('ringo/engine').version;\n            version = data[1].join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if (data[0].global.system == context.system) {\n              name = 'Narwhal';\n            }\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          } else {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version)\n            version = version ? version[0] : 'unknown';\n          }\n        }\n        else if (rhino) {\n          name = 'Rhino';\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/platform/platform.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _freeze = require('babel-runtime/core-js/object/freeze');\n\nvar _freeze2 = _interopRequireDefault(_freeze);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _events = require('events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _backoff = require('backoff');\n\nvar _backoff2 = _interopRequireDefault(_backoff);\n\nvar _javascriptStateMachine = require('javascript-state-machine');\n\nvar _javascriptStateMachine2 = _interopRequireDefault(_javascriptStateMachine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WebSocket = global.WebSocket || global.MozWebSocket || require('ws');\n\nvar ACTIVITY_CHECK_INTERVAL = 5000;\nvar ACTIVITY_TIMEOUT = 43000;\n\nvar INIT_TIMEOUT = 5000;\nvar UPDATE_TIMEOUT = 5000;\nvar DISCONNECTING_TIMEOUT = 3000;\n\nfunction byteLength(s) {\n  var escstr = encodeURIComponent(s);\n  var binstr = escstr.replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  });\n  return binstr.length;\n}\n\nfunction stringToUint8Array(s) {\n  var escstr = encodeURIComponent(s);\n  var binstr = escstr.replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  });\n  var ua = new Uint8Array(binstr.length);\n  Array.prototype.forEach.call(binstr, function (ch, i) {\n    ua[i] = ch.charCodeAt(0);\n  });\n  return ua;\n}\n\nfunction uint8ArrayToString(ua) {\n  var binstr = Array.prototype.map.call(ua, function (ch) {\n    return String.fromCharCode(ch);\n  }).join('');\n  var escstr = binstr.replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  });\n  return decodeURIComponent(escstr);\n}\n\nfunction getMagic(buffer) {\n  var strMagic = '';\n  var idx = 0;\n  for (; idx < buffer.length; ++idx) {\n    var chr = String.fromCharCode(buffer[idx]);\n    strMagic += chr;\n    if (chr === '\\r') {\n      idx += 2;\n      break;\n    }\n  }\n\n  var magics = strMagic.split(' ');\n  return {\n    size: idx,\n    protocol: magics[0],\n    version: magics[1],\n    headerSize: Number(magics[2])\n  };\n}\n\n/**\n * Makes sure that body is properly stringified\n */\nfunction preparePayload(payload) {\n  switch (typeof payload === 'undefined' ? 'undefined' : (0, _typeof3.default)(payload)) {\n    case 'undefined':\n      return '';\n    case 'object':\n      return (0, _stringify2.default)(payload);\n    default:\n      return payload;\n  }\n}\n\n/**\n * @param {Uint8Array} array\n * @returns {Object}\n */\nfunction getJsonObject(array) {\n  var str = uint8ArrayToString(array);\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    _logger2.default.error('failed to parse input: ', str);\n    throw e;\n  }\n}\n\n/**\n * @class TwilsockChannel\n * @classdesc Twilsock connection\n *\n * @param config\n */\n\nvar TwilsockChannel = function (_EventEmitter) {\n  (0, _inherits3.default)(TwilsockChannel, _EventEmitter);\n\n  function TwilsockChannel(config) {\n    (0, _classCallCheck3.default)(this, TwilsockChannel);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (TwilsockChannel.__proto__ || (0, _getPrototypeOf2.default)(TwilsockChannel)).call(this));\n\n    if (config.logLevel) {\n      _logger2.default.setLevel(config.logLevel);\n    }\n\n    var backoff = _backoff2.default.exponential({\n      randomisationFactor: 0.2,\n      initialDelay: 2 * 1000,\n      maxDelay: 2 * 60 * 1000\n    });\n\n    backoff.on('ready', function () {\n      _this._retry();\n    });\n    _this.on('reply', function (reply) {\n      _this._processReply(reply);\n    });\n\n    (0, _defineProperties2.default)(_this, {\n      _config: { value: config },\n      _transportReady: { value: false, writable: true },\n      _disconnectedPromiseResolve: { value: null, writable: true },\n      _backoffDefault: { value: backoff },\n      _backoff: { value: backoff, writable: true },\n      _fsm: { value: null, writable: true },\n      _watchTimer: { value: null, writable: true },\n      _timestamp: { value: 0, writable: true },\n      _socket: { value: null, writable: true },\n      _activeToken: { value: null, writable: true },\n      activeToken: { enumerable: true, get: function get() {\n          return _this._activeToken;\n        } },\n      state: { enumberable: true, get: function get() {\n          return _this._getState();\n        } },\n      isConnected: { enumberable: true, get: function get() {\n          return _this._isConnected();\n        } },\n      _activeRequests: { value: new _map2.default() },\n      _disconnectingTimer: { value: null, writable: true },\n      _isDeferredUpdate: { value: false, writable: true }\n    });\n\n    _this._fsm = _javascriptStateMachine2.default.create({\n      initial: 'disconnected',\n      events: [{ name: 'userConnect', from: ['disconnected', 'rejected'], to: 'connecting' }, { name: 'userConnect', from: ['connecting', 'connected'] }, // ignore event\n      { name: 'userDisconnect', from: ['connecting', 'initialising', 'connected', 'updating', 'retrying', 'rejected', 'waitSocketClosed', 'waitOffloadSocketClosed'], to: 'disconnecting' }, { name: 'userRetry', from: ['retrying'], to: 'connecting' }, { name: 'socketConnected', from: ['connecting'], to: 'initialising' }, { name: 'socketClosed', from: ['connecting', 'initialising', 'connected', 'updating', 'error', 'waitOffloadSocketClosed'], to: 'retrying' }, { name: 'socketClosed', from: ['disconnecting'], to: 'disconnected' }, { name: 'socketClosed', from: ['waitSocketClosed'], to: 'disconnected' }, { name: 'socketClosed', from: ['rejected'], to: 'rejected' }, { name: 'initSuccess', from: ['initialising'], to: 'connected' }, { name: 'initError', from: ['initialising'], to: 'error' }, { name: 'tokenRejected', from: ['initialising', 'updating'], to: 'rejected' }, { name: 'protocolError', from: ['initialising', 'connected', 'updating'], to: 'error' }, { name: 'receiveClose', from: ['initialising', 'connected', 'updating'], to: 'waitSocketClosed' }, { name: 'receiveOffload', from: ['initialising', 'connected', 'updating'], to: 'waitOffloadSocketClosed' }, { name: 'unsupportedProtocol', from: ['initialising', 'connected', 'updating'], to: 'unsupported' }, { name: 'receiveFatalClose', from: ['initialising', 'connected', 'updating'], to: 'unsupported' }, { name: 'userUpdateToken', from: ['disconnected', 'rejected', 'connecting', 'retrying'], to: 'connecting' }, { name: 'userUpdateToken', from: ['connected'], to: 'updating' }, { name: 'updateSuccess', from: ['updating'], to: 'connected' }, { name: 'updateError', from: ['updating'], to: 'error' }],\n      callbacks: {\n        onconnecting: function onconnecting() {\n          _this._startWatchdogTimer();\n          _this._setupSocket();\n          _this.emit('connecting');\n        },\n        onenterinitialising: function onenterinitialising() {\n          _this._sendInit();\n        },\n        onleaveinitialising: function onleaveinitialising() {\n          _this._cancelInit();\n        },\n        onenterupdating: function onenterupdating() {\n          _this._sendUpdate();\n        },\n        onleaveupdating: function onleaveupdating() {\n          _this._cancelUpdate();\n        },\n        onenterretrying: function onenterretrying() {\n          _this._initRetry();\n          _this.emit('connecting');\n        },\n        onenterconnected: function onenterconnected() {\n          _this._resetBackoff();\n          _this._onConnected();\n        },\n        onuserUpdateToken: function onuserUpdateToken() {\n          _this._resetBackoff();\n        },\n        ontokenRejected: function ontokenRejected() {\n          _this._resetBackoff();\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onuserDisconnect: function onuserDisconnect() {\n          _this._closeSocket();\n        },\n        onenterdisconnecting: function onenterdisconnecting() {\n          _this._startDisconnectTimer();\n        },\n        onleavedisconnecting: function onleavedisconnecting() {\n          _this._cancelDisconnectTimer();\n        },\n        onenterwaitSocketClosed: function onenterwaitSocketClosed() {\n          _this._startDisconnectTimer();\n        },\n        onleavewaitSocketClosed: function onleavewaitSocketClosed() {\n          _this._cancelDisconnectTimer();\n        },\n        onenterwaitOffloadSocketClosed: function onenterwaitOffloadSocketClosed() {\n          _this._startDisconnectTimer();\n        },\n        onleavewaitOffloadSocketClosed: function onleavewaitOffloadSocketClosed() {\n          _this._cancelDisconnectTimer();\n        },\n        ondisconnected: function ondisconnected() {\n          _this._resetBackoff();\n          _this._finalizeSocket();\n        },\n        onreceiveClose: function onreceiveClose(event, from, to, args) {\n          _logger2.default.debug('onreceiveClose: ', args);\n          _this._onCloseReceived(args);\n        },\n        onreceiveOffload: function onreceiveOffload(event, from, to, args) {\n          _logger2.default.debug('onreceiveoffload: ', args);\n          _this._modifyBackoff(args.body);\n          _this._onCloseReceived(args.status);\n        },\n        onunsupported: function onunsupported() {\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onerror: function onerror() {\n          _this._closeSocket();\n          _this._finalizeSocket();\n        },\n        onenterstate: function onenterstate(event, from, to) {\n          _this._changeState(event, from, to);\n        }\n      },\n      error: function error() {\n        _logger2.default.warn('FSM: unexpected transition', arguments);\n      }\n    });\n\n    return _this;\n  }\n\n  (0, _createClass3.default)(TwilsockChannel, [{\n    key: '_changeState',\n    value: function _changeState(event, from, to) {\n      var _this2 = this;\n\n      _logger2.default.debug('FSM: ', event, ': ', from, '>>', to);\n\n      this.emit('stateChanged', this.state);\n\n      if (this._isDeferredUpdate) {\n        this._isDeferredUpdate = false;\n        setTimeout(function () {\n          _this2.updateToken();\n        }, 0);\n      }\n    }\n  }, {\n    key: '_resetBackoff',\n    value: function _resetBackoff() {\n      _logger2.default.trace('_resetBackoff');\n      this._backoff = this._backoffDefault;\n      this._backoff.reset();\n    }\n  }, {\n    key: '_modifyBackoff',\n    value: function _modifyBackoff(body) {\n      _logger2.default.trace('_modifyBackoff', body);\n\n      var backoffPolicy = body ? body.backoff_policy : null;\n\n      if (backoffPolicy) {\n        var min = backoffPolicy.reconnect_min_ms || 2 * 1000;\n        var max = backoffPolicy.reconnect_max_ms || 2 * 60 * 1000;\n\n        _logger2.default.debug('new backoff policy', min, max);\n\n        this._backoff = _backoff2.default.exponential({\n          randomisationFactor: 0.2,\n          initialDelay: min,\n          maxDelay: max\n        });\n      }\n    }\n  }, {\n    key: '_startDisconnectTimer',\n    value: function _startDisconnectTimer() {\n      var _this3 = this;\n\n      _logger2.default.trace('_startDisconnectTimer');\n\n      if (this._disconnectingTimer) {\n        clearTimeout(this._disconnectingTimer);\n        this._disconnectingTimer = null;\n      }\n\n      this._disconnectingTimer = setTimeout(function () {\n        _logger2.default.debug('disconnecting is timed out');\n        _this3._closeSocket();\n      }, DISCONNECTING_TIMEOUT);\n    }\n  }, {\n    key: '_cancelDisconnectTimer',\n    value: function _cancelDisconnectTimer() {\n      _logger2.default.trace('_cancelDisconnectTimer');\n\n      if (this._disconnectingTimer) {\n        clearTimeout(this._disconnectingTimer);\n        this._disconnectingTimer = null;\n      }\n    }\n  }, {\n    key: '_processReply',\n    value: function _processReply(reply) {\n      _logger2.default.debug('receive reply:', reply);\n\n      var request = this._activeRequests.get(reply.id);\n      if (request) {\n        clearTimeout(request.timeout);\n        this._activeRequests.delete(reply.id);\n\n        switch (request.reqType) {\n          case 'init':\n            if (reply.status.code >= 200 && reply.status.code < 300) {\n              this._fsm.initSuccess(reply.body);\n            } else if (reply.status.code === 401 || reply.status.code === 403) {\n              this._fsm.tokenRejected(reply.status);\n            } else if (reply.status.code === 429) {\n              this._modifyBackoff(reply.body);\n              this._fsm.initError(reply.status);\n            } else {\n              this._fsm.initError(reply.status);\n            }\n            break;\n          case 'update':\n            if (reply.status.code >= 200 && reply.status.code < 300) {\n              this._fsm.updateSuccess(reply.body);\n            } else if (reply.status.code === 401 || reply.status.code === 403) {\n              this._fsm.tokenRejected(reply.status);\n            } else if (reply.status.code === 429) {\n              this._modifyBackoff(reply.body);\n              this._fsm.updateError(reply.status);\n            } else {\n              this._fsm.updateError(reply.status);\n            }\n            break;\n          default:\n            _logger2.default.error('unexpected reply');\n        }\n      }\n    }\n  }, {\n    key: '_storeRequest',\n    value: function _storeRequest(id, type, timeoutMs) {\n      var _this4 = this;\n\n      _logger2.default.trace('_storeRequest');\n\n      var requestDescriptor = {\n        reqType: type,\n        timeout: setTimeout(function () {\n          _logger2.default.debug('request', type, ': ', id, 'is timed out');\n\n          if (type !== 'init' && type !== 'update') {\n            _logger2.default.error('unknown request type', type);\n          }\n\n          _this4._closeSocket();\n        }, timeoutMs)\n      };\n\n      this._activeRequests.set(id, requestDescriptor);\n    }\n\n    /**\n     * Checks if connection established\n     * @public\n     */\n\n  }, {\n    key: '_isConnected',\n    value: function _isConnected() {\n      return this.state === TwilsockChannel.state.CONNECTED && this._socket && this._socket.readyState === 1;\n    }\n\n    /**\n     * @returns {Number} Connection state\n     * @public\n     */\n\n  }, {\n    key: '_getState',\n    value: function _getState() {\n      if (!this._fsm) {\n        return TwilsockChannel.state.DISCONNECTED;\n      }\n\n      switch (this._fsm.current) {\n        case 'connecting':\n        case 'initialising':\n        case 'retrying':\n        case 'error':\n          return TwilsockChannel.state.CONNECTING;\n        case 'updating':\n        case 'connected':\n          return TwilsockChannel.state.CONNECTED;\n        case 'rejected':\n          return TwilsockChannel.state.REJECTED;\n        case 'disconnecting':\n        case 'waitSocketClosed':\n        case 'waitOffloadSocketClosed':\n          return TwilsockChannel.state.DISCONNECTING;\n        case 'disconnected':\n        default:\n          return TwilsockChannel.state.DISCONNECTED;\n      }\n    }\n  }, {\n    key: '_initRetry',\n    value: function _initRetry() {\n      _logger2.default.trace('_initRetry');\n\n      this._backoff.backoff();\n    }\n  }, {\n    key: '_retry',\n    value: function _retry() {\n      _logger2.default.trace('_retry');\n\n      this._socket = null;\n      this._activeToken = null;\n      this._fsm.userRetry();\n    }\n  }, {\n    key: '_onConnected',\n    value: function _onConnected() {\n      this.emit('connected');\n    }\n  }, {\n    key: '_finalizeSocket',\n    value: function _finalizeSocket() {\n      _logger2.default.trace('_finalizeSocket');\n\n      this._stopWatchdogTimer();\n      this._onDisconnected();\n\n      if (this._disconnectedPromiseResolve) {\n        var resolve = this._disconnectedPromiseResolve;\n        this._disconnectedPromiseResolve = null;\n        resolve();\n      }\n    }\n  }, {\n    key: '_onDisconnected',\n    value: function _onDisconnected() {\n      this._socket = null;\n      this._activeToken = null;\n      this.emit('disconnected');\n    }\n  }, {\n    key: '_setupSocket',\n    value: function _setupSocket() {\n      _logger2.default.trace('_setupSocket:', this._config.token);\n\n      var self = this;\n      var uri = this._config.twilsockUri;\n\n      _logger2.default.debug('try to connect to:', uri);\n\n      var socket = new WebSocket(uri);\n      socket.binaryType = 'arraybuffer';\n\n      socket.onopen = function () {\n        _logger2.default.info('socket opened');\n        self._fsm.socketConnected();\n      };\n\n      socket.onclose = function (e) {\n        _logger2.default.info('socket closed', e);\n        self._fsm.socketClosed();\n      };\n\n      socket.onerror = function (e) {\n        _logger2.default.error('error: ', e);\n      };\n\n      socket.onmessage = function (message) {\n        _logger2.default.trace('data: ', message.data);\n\n        var fieldMargin = 2;\n\n        var dataView = new Uint8Array(message.data);\n        var magic = getMagic(dataView);\n        if (magic.protocol !== 'TWILSOCK' || magic.version !== 'V3.0') {\n          _logger2.default.error('unsupported protocol: ' + magic.protocol + ' ver ' + magic.version);\n          self._fsm.unsupportedProtocol();\n          return;\n        }\n\n        var header = null;\n        try {\n          header = getJsonObject(dataView.subarray(magic.size, magic.size + magic.headerSize));\n        } catch (e) {\n          _logger2.default.error('failed to parse message header', e, message);\n          self._fsm.protocolError();\n          return;\n        }\n        _logger2.default.trace('message received: ', header);\n\n        var payload = null;\n        if (header.payload_size > 0) {\n          var payloadOffset = fieldMargin + magic.size + magic.headerSize;\n          var payloadSize = header.payload_size;\n\n          if (!header.hasOwnProperty('payload_type') || header.payload_type.indexOf('application/json') === 0) {\n            try {\n              payload = getJsonObject(dataView.subarray(payloadOffset, payloadOffset + payloadSize));\n            } catch (e) {\n              _logger2.default.error('failed to parse message body', e, message);\n              self._fsm.protocolError();\n              return;\n            }\n          } else if (header.payload_type.indexOf('text/plain') === 0) {\n            payload = uint8ArrayToString(dataView.subarray(payloadOffset, payloadOffset + payloadSize));\n          }\n        }\n\n        self._updateActivityTimestamp();\n\n        if (header.method === 'notification') {\n          self._confirmReceiving(header);\n          self.emit('message', header.message_type, payload);\n        } else if (header.method === 'reply') {\n          self.emit('reply', {\n            id: header.id,\n            status: header.status,\n            header: header,\n            body: payload\n          });\n        } else if (header.method === 'ping') {\n          self._confirmReceiving(header);\n        } else if (header.method === 'close') {\n          _logger2.default.trace('connection close initated by server');\n          self._confirmReceiving(header);\n\n          if (header.status.code === 308) {\n            _logger2.default.info('connection has been offloaded');\n            self._fsm.receiveOffload({ status: header.status.status, body: payload });\n          } else if (header.status.code === 406) {\n            // Not acceptable message\n            _logger2.default.error('connection has been rejected because server can not parse protocol');\n            self._fsm.receiveFatalClose();\n          } else if (header.status.code === 417) {\n            // Protocol error\n            _logger2.default.info('connection has been rejected because server could not understand client`s reply');\n            self._fsm.receiveFatalClose(header.status.status);\n          } else if (header.status.code === 410) {\n            // Expired connection\n            _logger2.default.info('connection has expired');\n            self._fsm.receiveClose(header.status.status);\n          } else if (header.status.code === 401) {\n            // Authentication fail\n            _logger2.default.info('connection is not authenticate');\n            self._fsm.receiveClose(header.status.status);\n          } else {\n            _logger2.default.error('unexpected close: ', header.status);\n            // Try to reconnect\n            self._fsm.receiveOffload({ status: header.status.status, body: null });\n          }\n        }\n      };\n\n      this._activeToken = this._config.token;\n      this._socket = socket;\n    }\n  }, {\n    key: '_sendInit',\n    value: function _sendInit() {\n      _logger2.default.trace('_sendInit');\n\n      var header = {\n        id: _uuid2.default.v4(),\n        method: 'init',\n        token: this._activeToken\n      };\n\n      this._sendPacket(header);\n      this._storeRequest(header.id, 'init', INIT_TIMEOUT);\n    }\n  }, {\n    key: '_sendUpdate',\n    value: function _sendUpdate() {\n      _logger2.default.trace('_sendUpdate');\n\n      var header = {\n        id: _uuid2.default.v4(),\n        method: 'update',\n        token: this._activeToken\n      };\n\n      this._sendPacket(header);\n      this._storeRequest(header.id, 'update', UPDATE_TIMEOUT);\n    }\n  }, {\n    key: '_cancelInit',\n    value: function _cancelInit() {\n      _logger2.default.trace('_cancelInit');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(this._activeRequests), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n              id = _step$value[0],\n              request = _step$value[1];\n\n          if (request && request.reqType === 'init') {\n            clearTimeout(request.timeout);\n            this._activeRequests.delete(id);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: '_cancelUpdate',\n    value: function _cancelUpdate() {\n      _logger2.default.trace('_cancelUpdate');\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = (0, _getIterator3.default)(this._activeRequests), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _step2$value = (0, _slicedToArray3.default)(_step2.value, 2),\n              id = _step2$value[0],\n              request = _step2$value[1];\n\n          if (request && request.reqType === 'update') {\n            clearTimeout(request.timeout);\n            this._activeRequests.delete(id);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n\n    /**\n     * Should be called for each message to confirm it received\n     */\n\n  }, {\n    key: '_confirmReceiving',\n    value: function _confirmReceiving(messageHeader) {\n      _logger2.default.trace('_confirmReceiving');\n\n      var header = {\n        method: 'reply',\n        id: messageHeader.id,\n        payload_type: 'application/json', // eslint-disable-line camelcase\n        status: { code: 200, status: 'OK' }\n      };\n\n      try {\n        this._sendPacket(header);\n      } catch (e) {\n        _logger2.default.debug('failed to confirm packet receiving', e);\n      }\n    }\n\n    /**\n     * Prepare binary packet and send it over the network\n     */\n\n  }, {\n    key: '_sendPacket',\n    value: function _sendPacket(header, payload) {\n      var payloadString = preparePayload(payload);\n\n      header.payload_size = byteLength(payloadString); // eslint-disable-line camelcase\n      var headerString = (0, _stringify2.default)(header) + '\\r\\n';\n      var magicString = 'TWILSOCK V3.0 ' + (byteLength(headerString) - 2) + '\\r\\n';\n\n      _logger2.default.debug('send request:', magicString + headerString + payloadString);\n\n      var message = stringToUint8Array(magicString + headerString + payloadString);\n\n      try {\n        this._socket.send(message.buffer);\n      } catch (e) {\n        _logger2.default.info('failed to send ', header, e);\n        _logger2.default.info(e.stack);\n        throw e;\n      }\n    }\n\n    /**\n     * Shutdown connection\n     * @private\n     */\n\n  }, {\n    key: '_closeSocket',\n    value: function _closeSocket() {\n      _logger2.default.trace('_closeSocket');\n\n      if (this._socket) {\n        this._socket.onopen = null;\n        this._socket.onclose = null;\n        this._socket.onerror = null;\n        this._socket.onmessage = null;\n\n        this._socket.close();\n      }\n      this._fsm.socketClosed();\n    }\n\n    /**\n     * Initiate the twilsock connection\n     * If already connected, it does nothing\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect() {\n      _logger2.default.trace('connect');\n      this._fsm.userConnect();\n    }\n\n    /**\n     * Close twilsock connection\n     * If already disconnected, it does nothing\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      var _this5 = this;\n\n      _logger2.default.trace('disconnect');\n\n      if (this._fsm.is('disconnected')) {\n        return _promise2.default.resolve();\n      }\n\n      return new _promise2.default(function (resolve) {\n        _this5._disconnectedPromiseResolve = resolve;\n        _this5._fsm.userDisconnect();\n      });\n    }\n\n    /**\n     * Update fpa token for twilsock connection\n     */\n\n  }, {\n    key: 'updateToken',\n    value: function updateToken() {\n      _logger2.default.trace('updateToken:', this._config.token);\n\n      if (this._fsm.current === 'initialising' || this._fsm.current === 'updating' || this._fsm.current === 'waitSocketClosed' || this._fsm.current === 'waitOffloadSocketClosed') {\n\n        _logger2.default.debug('defer updateToken because of', this._fsm.current, 'is in progress');\n        this._isDeferredUpdate = true;\n        return;\n      }\n\n      this._isDeferredUpdate = false;\n\n      this._activeToken = this._config.token;\n      this._fsm.userUpdateToken();\n    }\n\n    /**\n     * Send upstream message\n     * @returns {String} id of sent message\n     */\n\n  }, {\n    key: 'sendUpstreamMessage',\n    value: function sendUpstreamMessage(address, headers, body) {\n      var id = _uuid2.default.v4();\n\n      var httpRequest = {\n        host: address.host,\n        path: address.path,\n        method: address.method\n      };\n\n      if (address.hasOwnProperty('params')) {\n        httpRequest.params = address.params;\n      }\n\n      /* eslint-disable camelcase */\n      var twilsockHeader = {\n        method: 'message',\n        id: id,\n        http_request: httpRequest\n      };\n\n      if (headers) {\n        twilsockHeader.http_request.headers = headers;\n      }\n\n      if (headers && headers.hasOwnProperty('Content-Type')) {\n        twilsockHeader.payload_type = headers['Content-Type'];\n      }\n\n      this._sendPacket(twilsockHeader, body);\n      return id;\n      /* eslint-enable camelcase */\n    }\n  }, {\n    key: 'send',\n    value: function send(header, body) {\n      header.id = header.id || _uuid2.default.v4();\n      this._sendPacket(header, body);\n      return header.id;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_onCloseReceived',\n    value: function _onCloseReceived(reason) {\n      _logger2.default.trace('_onCloseReceived');\n      _logger2.default.info('connection closed by server, reason is', reason);\n\n      // Waiting for server close connection. All others events are skipped\n      if (this._socket) {\n        this._socket.onopen = null;\n        this._socket.onerror = null;\n        this._socket.onmessage = null;\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_startWatchdogTimer',\n    value: function _startWatchdogTimer() {\n      var _this6 = this;\n\n      _logger2.default.trace('_startWatchdogTimer');\n\n      this._timestamp = Date.now();\n      this._watchTimer = setInterval(function () {\n        if (Date.now() - _this6._timestamp > ACTIVITY_TIMEOUT && _this6._socket) {\n          _this6._socket.close();\n        }\n      }, ACTIVITY_CHECK_INTERVAL);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_stopWatchdogTimer',\n    value: function _stopWatchdogTimer() {\n      _logger2.default.trace('_stopWatchdogTimer');\n\n      clearInterval(this._watchTimer);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_updateActivityTimestamp',\n    value: function _updateActivityTimestamp() {\n      _logger2.default.trace('_updateActivityTimestamp');\n\n      this._timestamp = Date.now();\n    }\n  }]);\n  return TwilsockChannel;\n}(_events2.default);\n/**\n * Enum for connection state values.\n * @readonly\n * @enum {number}\n */\n\n\nexports.default = TwilsockChannel;\nTwilsockChannel.state = {\n  DISCONNECTED: 'disconnected',\n  CONNECTING: 'connecting',\n  CONNECTED: 'connected',\n  DISCONNECTING: 'disconnecting',\n  ERROR: 'error',\n  REJECTED: 'rejected'\n};\n(0, _freeze2.default)(TwilsockChannel.state);\n\n(0, _freeze2.default)(TwilsockChannel);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/twilsock.js","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/get-prototype-of.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/webpack/buildin/module.js","\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _iterator2 = require(\"babel-runtime/core-js/symbol/iterator\");\n\nvar _iterator3 = _interopRequireDefault(_iterator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nvar Node = function () {\n    function Node(key, value) {\n        (0, _classCallCheck3.default)(this, Node);\n\n        this.balanceFactor = 0;\n        this.key = key;\n        this.value = value;\n        this.parent = null;\n        this.left = null;\n        this.right = null;\n    }\n\n    (0, _createClass3.default)(Node, [{\n        key: \"update\",\n        value: function update(value) {\n            this.value = value;\n        }\n    }, {\n        key: \"replace\",\n        value: function replace(target, replacement) {\n            if (!target) {\n                return;\n            }\n            if (this.left === replacement) {\n                this.left = replacement;\n            } else if (this.right === replacement) {\n                this.right = replacement;\n            }\n        }\n    }, {\n        key: \"isRoot\",\n        get: function get() {\n            return this.parent === null;\n        }\n    }, {\n        key: \"isLeaf\",\n        get: function get() {\n            return this.left === null && this.right === null;\n        }\n    }, {\n        key: \"isLeftChild\",\n        get: function get() {\n            return this.parent.left === this;\n        }\n    }]);\n    return Node;\n}();\n/**\n * @property length\n */\n\n\nvar TreeMap = function () {\n    function TreeMap(less, equal) {\n        (0, _classCallCheck3.default)(this, TreeMap);\n\n        this.isLessThan = less || function (x, y) {\n            return x < y;\n        };\n        this.isEqual = equal || function (x, y) {\n            return x === y;\n        };\n        this.root = null;\n        this.count = null;\n    }\n\n    (0, _createClass3.default)(TreeMap, [{\n        key: \"clear\",\n        value: function clear() {\n            this.root = null;\n            this.count = 0;\n        }\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            var node = this.getNode(key);\n            if (node) {\n                node.update(value);\n            } else {\n                this.insert(key, value);\n            }\n            // return node;\n        }\n    }, {\n        key: \"insert\",\n        value: function insert(key, value) {\n            var node = new Node(key, value);\n            this.count++;\n            if (!this.root) {\n                this.root = node;\n                // return node;\n                return;\n            }\n            var currNode = this.root;\n            for (;;) {\n                if (this.isLessThan(key, currNode.key)) {\n                    if (currNode.left) {\n                        currNode = currNode.left;\n                    } else {\n                        currNode.left = node;\n                        break;\n                    }\n                } else {\n                    if (currNode.right) {\n                        currNode = currNode.right;\n                    } else {\n                        currNode.right = node;\n                        break;\n                    }\n                }\n            }\n            node.parent = currNode;\n            currNode = node;\n            while (currNode.parent) {\n                var parent = currNode.parent;\n                var prevBalanceFactor = parent.balanceFactor;\n                if (currNode.isLeftChild) {\n                    parent.balanceFactor++;\n                } else {\n                    parent.balanceFactor--;\n                }\n                if (Math.abs(parent.balanceFactor) < Math.abs(prevBalanceFactor)) {\n                    break;\n                }\n                if (parent.balanceFactor < -1 || parent.balanceFactor > 1) {\n                    this.rebalance(parent);\n                    break;\n                }\n                currNode = parent;\n            }\n            // return node;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            var currentNode = this.root;\n            while (currentNode) {\n                if (this.isEqual(key, currentNode.key)) {\n                    return currentNode.value;\n                }\n                if (this.isLessThan(key, currentNode.key)) {\n                    currentNode = currentNode.left;\n                } else {\n                    currentNode = currentNode.right;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key) {\n            // update this algorithm and remove any\n            var node = this.getNode(key);\n            if (!node || node.key !== key) {\n                return null;\n            }\n            var parent = node.parent;\n            var left = node.left;\n            var right = node.right;\n            if (!!left !== !!right) {\n                var child = left || right;\n                if (!parent && !child) {\n                    this.root = null;\n                } else if (parent && !child) {\n                    this.root = child;\n                } else {\n                    parent.replace(node, null);\n                    this.rebalance(parent);\n                }\n            } else {\n                var maxLeft = node.left;\n                while (maxLeft.right) {\n                    maxLeft = maxLeft.right;\n                }\n                if (node.left === maxLeft) {\n                    if (node.isRoot) {\n                        this.root = maxLeft;\n                        maxLeft.parent = null;\n                    } else {\n                        if (node.isLeftChild) {\n                            node.parent.left = maxLeft;\n                        } else {\n                            node.parent.right = maxLeft;\n                        }\n                        maxLeft.parent = node.parent;\n                    }\n                    maxLeft.right = node.right;\n                    maxLeft.right.parent = maxLeft;\n                    maxLeft.balanceFactor = node.balanceFactor;\n                    node = {\n                        parent: maxLeft, isLeftChild: true\n                    };\n                } else {\n                    var mlParent = maxLeft.parent;\n                    var mlLeft = maxLeft.left;\n                    mlParent.right = mlLeft;\n                    if (mlLeft) {\n                        mlLeft.parent = mlParent;\n                    }\n                    if (node.isRoot) {\n                        this.root = maxLeft;\n                        maxLeft.parent = null;\n                    } else {\n                        if (node.isLeftChild) {\n                            node.parent.left = maxLeft;\n                        } else {\n                            node.parent.right = maxLeft;\n                        }\n                        maxLeft.parent = node.parent;\n                    }\n                    maxLeft.right = node.right;\n                    maxLeft.right.parent = maxLeft;\n                    maxLeft.left = node.left;\n                    maxLeft.left.parent = maxLeft;\n                    maxLeft.balanceFactor = node.balanceFactor;\n                    node = {\n                        parent: mlParent, isLeftChild: false\n                    };\n                }\n            }\n            this.count--;\n            while (node.parent) {\n                var _parent = node.parent;\n                var prevBalanceFactor = _parent.balanceFactor;\n                if (node.isLeftChild) {\n                    _parent.balanceFactor -= 1;\n                } else {\n                    _parent.balanceFactor += 1;\n                }\n                if (Math.abs(_parent.balanceFactor) > Math.abs(prevBalanceFactor)) {\n                    if (_parent.balanceFactor < -1 || _parent.balanceFactor > 1) {\n                        this.rebalance(_parent);\n                        if (_parent.parent.balanceFactor === 0) {\n                            node = _parent.parent;\n                        } else {\n                            break;\n                        }\n                    } else {\n                        break;\n                    }\n                } else {\n                    node = _parent;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"getNode\",\n        value: function getNode(key) {\n            var currentNode = this.root;\n            while (currentNode) {\n                if (this.isEqual(key, currentNode.key)) {\n                    return currentNode;\n                }\n                if (this.isLessThan(key, currentNode.key)) {\n                    currentNode = currentNode.left;\n                } else {\n                    currentNode = currentNode.right;\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"rebalance\",\n        value: function rebalance(node) {\n            if (node.balanceFactor < 0) {\n                if (node.right.balanceFactor > 0) {\n                    this.rotateRight(node.right);\n                    this.rotateLeft(node);\n                } else {\n                    this.rotateLeft(node);\n                }\n            } else if (node.balanceFactor > 0) {\n                if (node.left.balanceFactor < 0) {\n                    this.rotateLeft(node.left);\n                    this.rotateRight(node);\n                } else {\n                    this.rotateRight(node);\n                }\n            }\n        }\n    }, {\n        key: \"rotateLeft\",\n        value: function rotateLeft(pivot) {\n            var root = pivot.right;\n            pivot.right = root.left;\n            if (root.left !== null) {\n                root.left.parent = pivot;\n            }\n            root.parent = pivot.parent;\n            if (root.parent === null) {\n                this.root = root;\n            } else if (pivot.isLeftChild) {\n                root.parent.left = root;\n            } else {\n                root.parent.right = root;\n            }\n            root.left = pivot;\n            pivot.parent = root;\n            pivot.balanceFactor = pivot.balanceFactor + 1 - Math.min(root.balanceFactor, 0);\n            root.balanceFactor = root.balanceFactor + 1 - Math.max(pivot.balanceFactor, 0);\n        }\n    }, {\n        key: \"rotateRight\",\n        value: function rotateRight(pivot) {\n            var root = pivot.left;\n            pivot.left = root.right;\n            if (root.right !== null) {\n                root.right.parent = pivot;\n            }\n            root.parent = pivot.parent;\n            if (root.parent === null) {\n                this.root = root;\n            } else if (pivot.isLeftChild) {\n                root.parent.left = root;\n            } else {\n                root.parent.right = root;\n            }\n            root.right = pivot;\n            pivot.parent = root;\n            pivot.balanceFactor = pivot.balanceFactor - 1 - Math.min(root.balanceFactor, 0);\n            root.balanceFactor = root.balanceFactor - 1 - Math.max(pivot.balanceFactor, 0);\n        }\n    }, {\n        key: _iterator3.default,\n        value: _regenerator2.default.mark(function value() {\n            var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, iter;\n\n            return _regenerator2.default.wrap(function value$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _iteratorNormalCompletion = true;\n                            _didIteratorError = false;\n                            _iteratorError = undefined;\n                            _context.prev = 3;\n                            _iterator = (0, _getIterator3.default)(this.getIterator());\n\n                        case 5:\n                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                                _context.next = 12;\n                                break;\n                            }\n\n                            iter = _step.value;\n                            _context.next = 9;\n                            return iter;\n\n                        case 9:\n                            _iteratorNormalCompletion = true;\n                            _context.next = 5;\n                            break;\n\n                        case 12:\n                            _context.next = 18;\n                            break;\n\n                        case 14:\n                            _context.prev = 14;\n                            _context.t0 = _context[\"catch\"](3);\n                            _didIteratorError = true;\n                            _iteratorError = _context.t0;\n\n                        case 18:\n                            _context.prev = 18;\n                            _context.prev = 19;\n\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n\n                        case 21:\n                            _context.prev = 21;\n\n                            if (!_didIteratorError) {\n                                _context.next = 24;\n                                break;\n                            }\n\n                            throw _iteratorError;\n\n                        case 24:\n                            return _context.finish(21);\n\n                        case 25:\n                            return _context.finish(18);\n\n                        case 26:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, value, this, [[3, 14, 18, 26], [19,, 21, 25]]);\n        })\n    }, {\n        key: \"getIterator\",\n        value: _regenerator2.default.mark(function getIterator() {\n            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n            var currentNode, fromleft;\n            return _regenerator2.default.wrap(function getIterator$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            currentNode = this.root;\n\n                        case 1:\n                            if (!currentNode) {\n                                _context2.next = 7;\n                                break;\n                            }\n\n                            if (!(this.isEqual(key, currentNode.key) || key === null && !currentNode.left)) {\n                                _context2.next = 4;\n                                break;\n                            }\n\n                            return _context2.abrupt(\"break\", 7);\n\n                        case 4:\n                            if (this.isLessThan(key, currentNode.key) || key === null) {\n                                currentNode = currentNode.left;\n                            } else {\n                                currentNode = currentNode.right;\n                            }\n                            _context2.next = 1;\n                            break;\n\n                        case 7:\n                            if (currentNode) {\n                                _context2.next = 9;\n                                break;\n                            }\n\n                            return _context2.abrupt(\"return\", null);\n\n                        case 9:\n                            fromleft = true;\n\n                        case 10:\n                            if (!fromleft) {\n                                _context2.next = 28;\n                                break;\n                            }\n\n                            _context2.next = 13;\n                            return [currentNode.key, currentNode.value];\n\n                        case 13:\n                            fromleft = false;\n\n                            if (!currentNode.right) {\n                                _context2.next = 20;\n                                break;\n                            }\n\n                            currentNode = currentNode.right;\n                            while (currentNode.left) {\n                                currentNode = currentNode.left;\n                            }\n                            fromleft = true;\n                            _context2.next = 26;\n                            break;\n\n                        case 20:\n                            if (!currentNode.parent) {\n                                _context2.next = 25;\n                                break;\n                            }\n\n                            fromleft = currentNode.parent.left === currentNode;\n                            currentNode = currentNode.parent;\n                            _context2.next = 26;\n                            break;\n\n                        case 25:\n                            return _context2.abrupt(\"break\", 36);\n\n                        case 26:\n                            _context2.next = 34;\n                            break;\n\n                        case 28:\n                            if (!currentNode.parent) {\n                                _context2.next = 33;\n                                break;\n                            }\n\n                            fromleft = currentNode.parent.left === currentNode;\n                            currentNode = currentNode.parent;\n                            _context2.next = 34;\n                            break;\n\n                        case 33:\n                            return _context2.abrupt(\"break\", 36);\n\n                        case 34:\n                            _context2.next = 10;\n                            break;\n\n                        case 36:\n                            return _context2.abrupt(\"return\", null);\n\n                        case 37:\n                        case \"end\":\n                            return _context2.stop();\n                    }\n                }\n            }, getIterator, this);\n        })\n    }, {\n        key: \"getReverseIterator\",\n        value: _regenerator2.default.mark(function getReverseIterator() {\n            var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n            var currentNode, fromright;\n            return _regenerator2.default.wrap(function getReverseIterator$(_context3) {\n                while (1) {\n                    switch (_context3.prev = _context3.next) {\n                        case 0:\n                            currentNode = this.root;\n\n                        case 1:\n                            if (!currentNode) {\n                                _context3.next = 7;\n                                break;\n                            }\n\n                            if (!(this.isEqual(key, currentNode.key) || key === null && !currentNode.right)) {\n                                _context3.next = 4;\n                                break;\n                            }\n\n                            return _context3.abrupt(\"break\", 7);\n\n                        case 4:\n                            if (!this.isLessThan(key, currentNode.key) || key === null) {\n                                currentNode = currentNode.right;\n                            } else {\n                                currentNode = currentNode.left;\n                            }\n                            _context3.next = 1;\n                            break;\n\n                        case 7:\n                            if (currentNode) {\n                                _context3.next = 9;\n                                break;\n                            }\n\n                            return _context3.abrupt(\"return\", null);\n\n                        case 9:\n                            fromright = true;\n\n                        case 10:\n                            if (!fromright) {\n                                _context3.next = 28;\n                                break;\n                            }\n\n                            _context3.next = 13;\n                            return [currentNode.key, currentNode.value];\n\n                        case 13:\n                            fromright = false;\n\n                            if (!currentNode.left) {\n                                _context3.next = 20;\n                                break;\n                            }\n\n                            currentNode = currentNode.left;\n                            while (currentNode.right) {\n                                currentNode = currentNode.right;\n                            }\n                            fromright = true;\n                            _context3.next = 26;\n                            break;\n\n                        case 20:\n                            if (!currentNode.parent) {\n                                _context3.next = 25;\n                                break;\n                            }\n\n                            fromright = currentNode.parent.right === currentNode;\n                            currentNode = currentNode.parent;\n                            _context3.next = 26;\n                            break;\n\n                        case 25:\n                            return _context3.abrupt(\"break\", 36);\n\n                        case 26:\n                            _context3.next = 34;\n                            break;\n\n                        case 28:\n                            if (!currentNode.parent) {\n                                _context3.next = 33;\n                                break;\n                            }\n\n                            fromright = currentNode.parent.right === currentNode;\n                            currentNode = currentNode.parent;\n                            _context3.next = 34;\n                            break;\n\n                        case 33:\n                            return _context3.abrupt(\"break\", 36);\n\n                        case 34:\n                            _context3.next = 10;\n                            break;\n\n                        case 36:\n                            return _context3.abrupt(\"return\", null);\n\n                        case 37:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, getReverseIterator, this);\n        })\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this.count;\n        }\n    }]);\n    return TreeMap;\n}();\n\nexports.TreeMap = TreeMap;\n//# sourceMappingURL=tree.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/karibu/browser/tree.js","\"use strict\";\n\nvar _from = require(\"babel-runtime/core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar log = require(\"loglevel\");\nfunction prepareLine(prefix, args) {\n    return [prefix].concat((0, _from2.default)(args));\n}\nexports.default = {\n    setLevel: function setLevel(level) {\n        log.setLevel(level);\n    },\n    trace: function trace() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        log.trace.apply(null, prepareLine('EMS T:', args));\n    },\n    debug: function debug() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        log.debug.apply(null, prepareLine('EMS D:', args));\n    },\n    info: function info() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        log.info.apply(null, prepareLine('EMS I:', args));\n    },\n    warn: function warn() {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n        }\n\n        log.warn.apply(null, prepareLine('EMS W:', args));\n    },\n    error: function error() {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n        }\n\n        log.error.apply(null, prepareLine('EMS E:', args));\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-ems-client/browser/logger.js","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_string-at.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/helpers/slicedToArray.js","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_to-object.js","/**\n\tC-like unsigned 32 bits integers in Javascript\n\tCopyright (C) 2013, Pierre Curto\n\tMIT license\n */\n;(function (root) {\n\n\t// Local cache for typical radices\n\tvar radixPowerCache = {\n\t\t36: UINT32( Math.pow(36, 5) )\n\t,\t16: UINT32( Math.pow(16, 7) )\n\t,\t10: UINT32( Math.pow(10, 9) )\n\t,\t2:  UINT32( Math.pow(2, 30) )\n\t}\n\tvar radixCache = {\n\t\t36: UINT32(36)\n\t,\t16: UINT32(16)\n\t,\t10: UINT32(10)\n\t,\t2:  UINT32(2)\n\t}\n\n\t/**\n\t *\tRepresents an unsigned 32 bits integer\n\t * @constructor\n\t * @param {Number|String|Number} low bits     | integer as a string \t\t | integer as a number\n\t * @param {Number|Number|Undefined} high bits | radix (optional, default=10)\n\t * @return \n\t */\n\tfunction UINT32 (l, h) {\n\t\tif ( !(this instanceof UINT32) )\n\t\t\treturn new UINT32(l, h)\n\n\t\tthis._low = 0\n\t\tthis._high = 0\n\t\tthis.remainder = null\n\t\tif (typeof h == 'undefined')\n\t\t\treturn fromNumber.call(this, l)\n\n\t\tif (typeof l == 'string')\n\t\t\treturn fromString.call(this, l, h)\n\n\t\tfromBits.call(this, l, h)\n\t}\n\n\t/**\n\t * Set the current _UINT32_ object with its low and high bits\n\t * @method fromBits\n\t * @param {Number} low bits\n\t * @param {Number} high bits\n\t * @return ThisExpression\n\t */\n\tfunction fromBits (l, h) {\n\t\tthis._low = l | 0\n\t\tthis._high = h | 0\n\n\t\treturn this\n\t}\n\tUINT32.prototype.fromBits = fromBits\n\n\t/**\n\t * Set the current _UINT32_ object from a number\n\t * @method fromNumber\n\t * @param {Number} number\n\t * @return ThisExpression\n\t */\n\tfunction fromNumber (value) {\n\t\tthis._low = value & 0xFFFF\n\t\tthis._high = value >>> 16\n\n\t\treturn this\n\t}\n\tUINT32.prototype.fromNumber = fromNumber\n\n\t/**\n\t * Set the current _UINT32_ object from a string\n\t * @method fromString\n\t * @param {String} integer as a string\n\t * @param {Number} radix (optional, default=10)\n\t * @return ThisExpression\n\t */\n\tfunction fromString (s, radix) {\n\t\tvar value = parseInt(s, radix || 10)\n\n\t\tthis._low = value & 0xFFFF\n\t\tthis._high = value >>> 16\n\n\t\treturn this\n\t}\n\tUINT32.prototype.fromString = fromString\n\n\t/**\n\t * Convert this _UINT32_ to a number\n\t * @method toNumber\n\t * @return {Number} the converted UINT32\n\t */\n\tUINT32.prototype.toNumber = function () {\n\t\treturn (this._high * 65536) + this._low\n\t}\n\n\t/**\n\t * Convert this _UINT32_ to a string\n\t * @method toString\n\t * @param {Number} radix (optional, default=10)\n\t * @return {String} the converted UINT32\n\t */\n\tUINT32.prototype.toString = function (radix) {\n\t\treturn this.toNumber().toString(radix || 10)\n\t}\n\n\t/**\n\t * Add two _UINT32_. The current _UINT32_ stores the result\n\t * @method add\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.add = function (other) {\n\t\tvar a00 = this._low + other._low\n\t\tvar a16 = a00 >>> 16\n\n\t\ta16 += this._high + other._high\n\n\t\tthis._low = a00 & 0xFFFF\n\t\tthis._high = a16 & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Subtract two _UINT32_. The current _UINT32_ stores the result\n\t * @method subtract\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.subtract = function (other) {\n\t\t//TODO inline\n\t\treturn this.add( other.clone().negate() )\n\t}\n\n\t/**\n\t * Multiply two _UINT32_. The current _UINT32_ stores the result\n\t * @method multiply\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.multiply = function (other) {\n\t\t/*\n\t\t\ta = a00 + a16\n\t\t\tb = b00 + b16\n\t\t\ta*b = (a00 + a16)(b00 + b16)\n\t\t\t\t= a00b00 + a00b16 + a16b00 + a16b16\n\n\t\t\ta16b16 overflows the 32bits\n\t\t */\n\t\tvar a16 = this._high\n\t\tvar a00 = this._low\n\t\tvar b16 = other._high\n\t\tvar b00 = other._low\n\n/* Removed to increase speed under normal circumstances (i.e. not multiplying by 0 or 1)\n\t\t// this == 0 or other == 1: nothing to do\n\t\tif ((a00 == 0 && a16 == 0) || (b00 == 1 && b16 == 0)) return this\n\n\t\t// other == 0 or this == 1: this = other\n\t\tif ((b00 == 0 && b16 == 0) || (a00 == 1 && a16 == 0)) {\n\t\t\tthis._low = other._low\n\t\t\tthis._high = other._high\n\t\t\treturn this\n\t\t}\n*/\n\n\t\tvar c16, c00\n\t\tc00 = a00 * b00\n\t\tc16 = c00 >>> 16\n\n\t\tc16 += a16 * b00\n\t\tc16 &= 0xFFFF\t\t// Not required but improves performance\n\t\tc16 += a00 * b16\n\n\t\tthis._low = c00 & 0xFFFF\n\t\tthis._high = c16 & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Divide two _UINT32_. The current _UINT32_ stores the result.\n\t * The remainder is made available as the _remainder_ property on\n\t * the _UINT32_ object. It can be null, meaning there are no remainder.\n\t * @method div\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.div = function (other) {\n\t\tif ( (other._low == 0) && (other._high == 0) ) throw Error('division by zero')\n\n\t\t// other == 1\n\t\tif (other._high == 0 && other._low == 1) {\n\t\t\tthis.remainder = new UINT32(0)\n\t\t\treturn this\n\t\t}\n\n\t\t// other > this: 0\n\t\tif ( other.gt(this) ) {\n\t\t\tthis.remainder = this.clone()\n\t\t\tthis._low = 0\n\t\t\tthis._high = 0\n\t\t\treturn this\n\t\t}\n\t\t// other == this: 1\n\t\tif ( this.eq(other) ) {\n\t\t\tthis.remainder = new UINT32(0)\n\t\t\tthis._low = 1\n\t\t\tthis._high = 0\n\t\t\treturn this\n\t\t}\n\n\t\t// Shift the divisor left until it is higher than the dividend\n\t\tvar _other = other.clone()\n\t\tvar i = -1\n\t\twhile ( !this.lt(_other) ) {\n\t\t\t// High bit can overflow the default 16bits\n\t\t\t// Its ok since we right shift after this loop\n\t\t\t// The overflown bit must be kept though\n\t\t\t_other.shiftLeft(1, true)\n\t\t\ti++\n\t\t}\n\n\t\t// Set the remainder\n\t\tthis.remainder = this.clone()\n\t\t// Initialize the current result to 0\n\t\tthis._low = 0\n\t\tthis._high = 0\n\t\tfor (; i >= 0; i--) {\n\t\t\t_other.shiftRight(1)\n\t\t\t// If shifted divisor is smaller than the dividend\n\t\t\t// then subtract it from the dividend\n\t\t\tif ( !this.remainder.lt(_other) ) {\n\t\t\t\tthis.remainder.subtract(_other)\n\t\t\t\t// Update the current result\n\t\t\t\tif (i >= 16) {\n\t\t\t\t\tthis._high |= 1 << (i - 16)\n\t\t\t\t} else {\n\t\t\t\t\tthis._low |= 1 << i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Negate the current _UINT32_\n\t * @method negate\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.negate = function () {\n\t\tvar v = ( ~this._low & 0xFFFF ) + 1\n\t\tthis._low = v & 0xFFFF\n\t\tthis._high = (~this._high + (v >>> 16)) & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Equals\n\t * @method eq\n\t * @param {Object} other UINT32\n\t * @return {Boolean}\n\t */\n\tUINT32.prototype.equals = UINT32.prototype.eq = function (other) {\n\t\treturn (this._low == other._low) && (this._high == other._high)\n\t}\n\n\t/**\n\t * Greater than (strict)\n\t * @method gt\n\t * @param {Object} other UINT32\n\t * @return {Boolean}\n\t */\n\tUINT32.prototype.greaterThan = UINT32.prototype.gt = function (other) {\n\t\tif (this._high > other._high) return true\n\t\tif (this._high < other._high) return false\n\t\treturn this._low > other._low\n\t}\n\n\t/**\n\t * Less than (strict)\n\t * @method lt\n\t * @param {Object} other UINT32\n\t * @return {Boolean}\n\t */\n\tUINT32.prototype.lessThan = UINT32.prototype.lt = function (other) {\n\t\tif (this._high < other._high) return true\n\t\tif (this._high > other._high) return false\n\t\treturn this._low < other._low\n\t}\n\n\t/**\n\t * Bitwise OR\n\t * @method or\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.or = function (other) {\n\t\tthis._low |= other._low\n\t\tthis._high |= other._high\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise AND\n\t * @method and\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.and = function (other) {\n\t\tthis._low &= other._low\n\t\tthis._high &= other._high\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise NOT\n\t * @method not\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.not = function() {\n\t\tthis._low = ~this._low & 0xFFFF\n\t\tthis._high = ~this._high & 0xFFFF\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise XOR\n\t * @method xor\n\t * @param {Object} other UINT32\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.xor = function (other) {\n\t\tthis._low ^= other._low\n\t\tthis._high ^= other._high\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise shift right\n\t * @method shiftRight\n\t * @param {Number} number of bits to shift\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.shiftRight = UINT32.prototype.shiftr = function (n) {\n\t\tif (n > 16) {\n\t\t\tthis._low = this._high >> (n - 16)\n\t\t\tthis._high = 0\n\t\t} else if (n == 16) {\n\t\t\tthis._low = this._high\n\t\t\tthis._high = 0\n\t\t} else {\n\t\t\tthis._low = (this._low >> n) | ( (this._high << (16-n)) & 0xFFFF )\n\t\t\tthis._high >>= n\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise shift left\n\t * @method shiftLeft\n\t * @param {Number} number of bits to shift\n\t * @param {Boolean} allow overflow\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.shiftLeft = UINT32.prototype.shiftl = function (n, allowOverflow) {\n\t\tif (n > 16) {\n\t\t\tthis._high = this._low << (n - 16)\n\t\t\tthis._low = 0\n\t\t\tif (!allowOverflow) {\n\t\t\t\tthis._high &= 0xFFFF\n\t\t\t}\n\t\t} else if (n == 16) {\n\t\t\tthis._high = this._low\n\t\t\tthis._low = 0\n\t\t} else {\n\t\t\tthis._high = (this._high << n) | (this._low >> (16-n))\n\t\t\tthis._low = (this._low << n) & 0xFFFF\n\t\t\tif (!allowOverflow) {\n\t\t\t\t// Overflow only allowed on the high bits...\n\t\t\t\tthis._high &= 0xFFFF\n\t\t\t}\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise rotate left\n\t * @method rotl\n\t * @param {Number} number of bits to rotate\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.rotateLeft = UINT32.prototype.rotl = function (n) {\n\t\tvar v = (this._high << 16) | this._low\n\t\tv = (v << n) | (v >>> (32 - n))\n\t\tthis._low = v & 0xFFFF\n\t\tthis._high = v >>> 16\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Bitwise rotate right\n\t * @method rotr\n\t * @param {Number} number of bits to rotate\n\t * @return ThisExpression\n\t */\n\tUINT32.prototype.rotateRight = UINT32.prototype.rotr = function (n) {\n\t\tvar v = (this._high << 16) | this._low\n\t\tv = (v >>> n) | (v << (32 - n))\n\t\tthis._low = v & 0xFFFF\n\t\tthis._high = v >>> 16\n\n\t\treturn this\n\t}\n\n\t/**\n\t * Clone the current _UINT32_\n\t * @method clone\n\t * @return {Object} cloned UINT32\n\t */\n\tUINT32.prototype.clone = function () {\n\t\treturn new UINT32(this._low, this._high)\n\t}\n\n\tif (typeof define != 'undefined' && define.amd) {\n\t\t// AMD / RequireJS\n\t\tdefine([], function () {\n\t\t\treturn UINT32\n\t\t})\n\t} else if (typeof module != 'undefined' && module.exports) {\n\t\t// Node.js\n\t\tmodule.exports = UINT32\n\t} else {\n\t\t// Browser\n\t\troot['UINT32'] = UINT32\n\t}\n\n})(this)\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/cuint/lib/uint32.js","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/symbol/iterator.js","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.keys\n\t: require(\"./shim\");\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/keys/index.js","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_invoke.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _from = require('babel-runtime/core-js/array/from');\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _loglevel = require('loglevel');\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction prepareLine(prefix, args) {\n  return [prefix].concat((0, _from2.default)(args));\n}\n\nexports.default = {\n  setLevel: function setLevel(level) {\n    _loglevel2.default.setLevel(level);\n  },\n\n  trace: function trace() {\n    _loglevel2.default.trace.apply(null, prepareLine('Twilsock T:', arguments));\n  },\n  debug: function debug() {\n    _loglevel2.default.debug.apply(null, prepareLine('Twilsock D:', arguments));\n  },\n  info: function info() {\n    _loglevel2.default.info.apply(null, prepareLine('Twilsock I:', arguments));\n  },\n  warn: function warn() {\n    _loglevel2.default.warn.apply(null, prepareLine('Twilsock W:', arguments));\n  },\n  error: function error() {\n    _loglevel2.default.error.apply(null, prepareLine('Twilsock E:', arguments));\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilsock/lib/logger.js","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/assign/shim.js","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_for-of.js","'use strict';\n\nmodule.exports.AccessManager = require('./accessmanager');\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-common/lib/index.js","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_keyof.js","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/node-libs-browser/node_modules/buffer/index.js","'use strict';\n\nvar _preact = require('preact');\n\nif (process.env.NODE_ENV === 'development') {\n\trequire('preact/devtools');\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\n\nconst interopDefault = m => m && m.default ? m.default : m;\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root = document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-cli/lib/lib/entry.js","module.exports = {\"_args\":[[\"twilio-sync@0.5.8\",\"/Users/dkundel/dev/twilio-barista-node\"]],\"_from\":\"twilio-sync@0.5.8\",\"_id\":\"twilio-sync@0.5.8\",\"_inBundle\":false,\"_integrity\":\"sha1-8k4W1ffyRW2J3/Vi5ZDr7h4TCNo=\",\"_location\":\"/twilio-sync\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"version\",\"registry\":true,\"raw\":\"twilio-sync@0.5.8\",\"name\":\"twilio-sync\",\"escapedName\":\"twilio-sync\",\"rawSpec\":\"0.5.8\",\"saveSpec\":null,\"fetchSpec\":\"0.5.8\"},\"_requiredBy\":[\"/\"],\"_resolved\":\"https://registry.npmjs.org/twilio-sync/-/twilio-sync-0.5.8.tgz\",\"_spec\":\"0.5.8\",\"_where\":\"/Users/dkundel/dev/twilio-barista-node\",\"author\":{\"name\":\"Twilio\"},\"browser\":\"browser/index.js\",\"dependencies\":{\"babel-runtime\":\"^6.23.0\",\"karibu\":\"^1.0.1\",\"loglevel\":\"^1.4.1\",\"operation-retrier\":\"^1.1.2\",\"platform\":\"^1.3.3\",\"rfc6902\":\"^1.3.0\",\"twilio-ems-client\":\"^0.2.0\",\"twilio-notifications\":\"^0.4.0\",\"twilio-transport\":\"^0.1.2\",\"twilsock\":\"^0.3.0\",\"uuid\":\"^3.0.1\",\"xxhashjs\":\"^0.2.1\"},\"description\":\"Twilio Sync client library\",\"devDependencies\":{\"@types/chai\":\"^3.4.35\",\"@types/chai-as-promised\":\"0.0.29\",\"@types/loglevel\":\"^1.4.29\",\"@types/mocha\":\"^2.2.39\",\"@types/node\":\"^7.0.5\",\"@types/sinon\":\"^1.16.35\",\"@types/sinon-as-promised\":\"^4.0.5\",\"@types/sinon-chai\":\"^2.7.27\",\"async-test-tools\":\"^1.0.6\",\"babel-cli\":\"^6.23.0\",\"babel-plugin-add-module-exports\":\"^0.2.1\",\"babel-plugin-array-includes\":\"^2.0.3\",\"babel-plugin-transform-object-assign\":\"^6.22.0\",\"babel-plugin-transform-runtime\":\"^6.23.0\",\"babel-preset-es2015\":\"^6.22.0\",\"babelify\":\"^7.3.0\",\"backoff\":\"^2.5.0\",\"browserify\":\"^14.1.0\",\"chai\":\"^3.5.0\",\"chai-as-promised\":\"^6.0.0\",\"cheerio\":\"^0.22.0\",\"del\":\"^2.2.2\",\"gulp\":\"^3.9.1\",\"gulp-babel\":\"^6.1.2\",\"gulp-derequire\":\"^2.1.0\",\"gulp-exit\":\"0.0.2\",\"gulp-insert\":\"^0.5.0\",\"gulp-istanbul\":\"^1.1.1\",\"gulp-mocha\":\"^4.0.1\",\"gulp-rename\":\"^1.2.2\",\"gulp-replace\":\"^0.5.4\",\"gulp-tap\":\"^0.1.3\",\"gulp-tslint\":\"^7.1.0\",\"gulp-typescript\":\"^3.1.5\",\"gulp-uglify\":\"^2.0.1\",\"gulp-util\":\"^3.0.8\",\"ink-docstrap\":\"^1.3.0\",\"isparta\":\"^4.0.0\",\"jsdoc\":\"^3.4.3\",\"jsonwebtoken\":\"^7.3.0\",\"karma\":\"^1.5.0\",\"karma-browserify\":\"^5.1.1\",\"karma-browserstack-launcher\":\"^1.2.0\",\"karma-mocha\":\"^1.3.0\",\"karma-mocha-reporter\":\"^2.2.2\",\"run-sequence\":\"^1.2.2\",\"sinon\":\"^1.17.7\",\"sinon-as-promised\":\"^4.0.2\",\"sinon-chai\":\"^2.8.0\",\"ts-node\":\"^3.0.0\",\"tslint\":\"^4.5.1\",\"twilio\":\"^3.3.0-edge\",\"typescript\":\"2.2.1\",\"underscore\":\"^1.8.3\",\"vinyl-buffer\":\"^1.0.0\",\"vinyl-source-stream\":\"^1.1.0\",\"watchify\":\"^3.9.0\"},\"engines\":{\"node\":\">=6\"},\"license\":\"MIT\",\"main\":\"lib/index.js\",\"name\":\"twilio-sync\",\"scripts\":{\"prepublish\":\"gulp build\",\"test\":\"gulp unit-test\"},\"version\":\"0.5.8\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/twilio-sync/package.json\n// module id = qEFr\n// module chunks = 5 6","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/uuid/index.js","\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @class\n * @classdesc List item\n * Represents a data for each element in a collection\n * @alias ListItem\n * @property {Number} index  - identifier of an item\n * @property {Object} value - value of an item\n */\n\nvar ListItem = function () {\n  /**\n   * @private\n   * @constructor\n   * @param {Object} data Item descriptor\n   * @param {Number} data.index Item identifier\n   * @param {String} data.uri Item URI\n   * @param {Object} data.value Item data\n   */\n  function ListItem(data) {\n    (0, _classCallCheck3.default)(this, ListItem);\n\n    this.data = data;\n  }\n\n  (0, _createClass3.default)(ListItem, [{\n    key: \"update\",\n\n    /**\n     * Update item data\n     * @param {Number} EventId Update event id\n     * @param {String} Revision Updated item revision\n     * @param {Object} Value Updated item data\n     * @private\n     */\n    value: function update(eventId, revision, value) {\n      this.data.lastEventId = eventId;\n      this.data.revision = revision;\n      this.data.value = value;\n      return this;\n    }\n  }, {\n    key: \"uri\",\n    get: function get() {\n      return this.data.uri;\n    }\n  }, {\n    key: \"revision\",\n    get: function get() {\n      return this.data.revision;\n    }\n  }, {\n    key: \"lastEventId\",\n    get: function get() {\n      return this.data.lastEventId;\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this.data.index;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.data.value;\n    }\n  }]);\n  return ListItem;\n}();\n\nexports.ListItem = ListItem;\nexports.default = ListItem;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-sync/browser/listitem.js","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/function/noop.js","module.exports = {\n\th32: require(\"./xxhash\")\n,\th64: require(\"./xxhash64\")\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/xxhashjs/lib/index.js","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-gopn-ext.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children[0] && props.children[0]({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: path === props.path\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-router/match.js","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-gopd.js","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_array-methods.js","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/util/node_modules/inherits/inherits_browser.js","require('../../modules/es6.object.define-properties');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperties(T, D){\n  return $Object.defineProperties(T, D);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/define-properties.js","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iter-define.js","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/core.get-iterator.js","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-assign.js","/*\n\n  Javascript State Machine Library - https://github.com/jakesgordon/javascript-state-machine\n\n  Copyright (c) 2012, 2013, 2014, 2015, Jake Gordon and contributors\n  Released under the MIT license - https://github.com/jakesgordon/javascript-state-machine/blob/master/LICENSE\n\n*/\n\n(function () {\n\n  var StateMachine = {\n\n    //---------------------------------------------------------------------------\n\n    VERSION: \"2.4.0\",\n\n    //---------------------------------------------------------------------------\n\n    Result: {\n      SUCCEEDED:    1, // the event transitioned successfully from one state to another\n      NOTRANSITION: 2, // the event was successfull but no state transition was necessary\n      CANCELLED:    3, // the event was cancelled by the caller in a beforeEvent callback\n      PENDING:      4  // the event is asynchronous and the caller is in control of when the transition occurs\n    },\n\n    Error: {\n      INVALID_TRANSITION: 100, // caller tried to fire an event that was innapropriate in the current state\n      PENDING_TRANSITION: 200, // caller tried to fire an event while an async transition was still pending\n      INVALID_CALLBACK:   300 // caller provided callback function threw an exception\n    },\n\n    WILDCARD: '*',\n    ASYNC: 'async',\n\n    //---------------------------------------------------------------------------\n\n    create: function(cfg, target) {\n\n      var initial      = (typeof cfg.initial == 'string') ? { state: cfg.initial } : cfg.initial; // allow for a simple string, or an object with { state: 'foo', event: 'setup', defer: true|false }\n      var terminal     = cfg.terminal || cfg['final'];\n      var fsm          = target || cfg.target  || {};\n      var events       = cfg.events || [];\n      var callbacks    = cfg.callbacks || {};\n      var map          = {}; // track state transitions allowed for an event { event: { from: [ to ] } }\n      var transitions  = {}; // track events allowed from a state            { state: [ event ] }\n\n      var add = function(e) {\n        var from = Array.isArray(e.from) ? e.from : (e.from ? [e.from] : [StateMachine.WILDCARD]); // allow 'wildcard' transition if 'from' is not specified\n        map[e.name] = map[e.name] || {};\n        for (var n = 0 ; n < from.length ; n++) {\n          transitions[from[n]] = transitions[from[n]] || [];\n          transitions[from[n]].push(e.name);\n\n          map[e.name][from[n]] = e.to || from[n]; // allow no-op transition if 'to' is not specified\n        }\n        if (e.to)\n          transitions[e.to] = transitions[e.to] || [];\n      };\n\n      if (initial) {\n        initial.event = initial.event || 'startup';\n        add({ name: initial.event, from: 'none', to: initial.state });\n      }\n\n      for(var n = 0 ; n < events.length ; n++)\n        add(events[n]);\n\n      for(var name in map) {\n        if (map.hasOwnProperty(name))\n          fsm[name] = StateMachine.buildEvent(name, map[name]);\n      }\n\n      for(var name in callbacks) {\n        if (callbacks.hasOwnProperty(name))\n          fsm[name] = callbacks[name]\n      }\n\n      fsm.current     = 'none';\n      fsm.is          = function(state) { return Array.isArray(state) ? (state.indexOf(this.current) >= 0) : (this.current === state); };\n      fsm.can         = function(event) { return !this.transition && (map[event] !== undefined) && (map[event].hasOwnProperty(this.current) || map[event].hasOwnProperty(StateMachine.WILDCARD)); }\n      fsm.cannot      = function(event) { return !this.can(event); };\n      fsm.transitions = function()      { return (transitions[this.current] || []).concat(transitions[StateMachine.WILDCARD] || []); };\n      fsm.isFinished  = function()      { return this.is(terminal); };\n      fsm.error       = cfg.error || function(name, from, to, args, error, msg, e) { throw e || msg; }; // default behavior when something unexpected happens is to throw an exception, but caller can override this behavior if desired (see github issue #3 and #17)\n      fsm.states      = function() { return Object.keys(transitions).sort() };\n\n      if (initial && !initial.defer)\n        fsm[initial.event]();\n\n      return fsm;\n\n    },\n\n    //===========================================================================\n\n    doCallback: function(fsm, func, name, from, to, args) {\n      if (func) {\n        try {\n          return func.apply(fsm, [name, from, to].concat(args));\n        }\n        catch(e) {\n          return fsm.error(name, from, to, args, StateMachine.Error.INVALID_CALLBACK, \"an exception occurred in a caller-provided callback function\", e);\n        }\n      }\n    },\n\n    beforeAnyEvent:  function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onbeforeevent'],                       name, from, to, args); },\n    afterAnyEvent:   function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onafterevent'] || fsm['onevent'],      name, from, to, args); },\n    leaveAnyState:   function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onleavestate'],                        name, from, to, args); },\n    enterAnyState:   function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onenterstate'] || fsm['onstate'],      name, from, to, args); },\n    changeState:     function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onchangestate'],                       name, from, to, args); },\n\n    beforeThisEvent: function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onbefore' + name],                     name, from, to, args); },\n    afterThisEvent:  function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onafter'  + name] || fsm['on' + name], name, from, to, args); },\n    leaveThisState:  function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onleave'  + from],                     name, from, to, args); },\n    enterThisState:  function(fsm, name, from, to, args) { return StateMachine.doCallback(fsm, fsm['onenter'  + to]   || fsm['on' + to],   name, from, to, args); },\n\n    beforeEvent: function(fsm, name, from, to, args) {\n      if ((false === StateMachine.beforeThisEvent(fsm, name, from, to, args)) ||\n          (false === StateMachine.beforeAnyEvent( fsm, name, from, to, args)))\n        return false;\n    },\n\n    afterEvent: function(fsm, name, from, to, args) {\n      StateMachine.afterThisEvent(fsm, name, from, to, args);\n      StateMachine.afterAnyEvent( fsm, name, from, to, args);\n    },\n\n    leaveState: function(fsm, name, from, to, args) {\n      var specific = StateMachine.leaveThisState(fsm, name, from, to, args),\n          general  = StateMachine.leaveAnyState( fsm, name, from, to, args);\n      if ((false === specific) || (false === general))\n        return false;\n      else if ((StateMachine.ASYNC === specific) || (StateMachine.ASYNC === general))\n        return StateMachine.ASYNC;\n    },\n\n    enterState: function(fsm, name, from, to, args) {\n      StateMachine.enterThisState(fsm, name, from, to, args);\n      StateMachine.enterAnyState( fsm, name, from, to, args);\n    },\n\n    //===========================================================================\n\n    buildEvent: function(name, map) {\n      return function() {\n\n        var from  = this.current;\n        var to    = map[from] || (map[StateMachine.WILDCARD] != StateMachine.WILDCARD ? map[StateMachine.WILDCARD] : from) || from;\n        var args  = Array.prototype.slice.call(arguments); // turn arguments into pure array\n\n        if (this.transition)\n          return this.error(name, from, to, args, StateMachine.Error.PENDING_TRANSITION, \"event \" + name + \" inappropriate because previous transition did not complete\");\n\n        if (this.cannot(name))\n          return this.error(name, from, to, args, StateMachine.Error.INVALID_TRANSITION, \"event \" + name + \" inappropriate in current state \" + this.current);\n\n        if (false === StateMachine.beforeEvent(this, name, from, to, args))\n          return StateMachine.Result.CANCELLED;\n\n        if (from === to) {\n          StateMachine.afterEvent(this, name, from, to, args);\n          return StateMachine.Result.NOTRANSITION;\n        }\n\n        // prepare a transition method for use EITHER lower down, or by caller if they want an async transition (indicated by an ASYNC return value from leaveState)\n        var fsm = this;\n        this.transition = function() {\n          fsm.transition = null; // this method should only ever be called once\n          fsm.current = to;\n          StateMachine.enterState( fsm, name, from, to, args);\n          StateMachine.changeState(fsm, name, from, to, args);\n          StateMachine.afterEvent( fsm, name, from, to, args);\n          return StateMachine.Result.SUCCEEDED;\n        };\n        this.transition.cancel = function() { // provide a way for caller to cancel async transition if desired (issue #22)\n          fsm.transition = null;\n          StateMachine.afterEvent(fsm, name, from, to, args);\n        }\n\n        var leave = StateMachine.leaveState(this, name, from, to, args);\n        if (false === leave) {\n          this.transition = null;\n          return StateMachine.Result.CANCELLED;\n        }\n        else if (StateMachine.ASYNC === leave) {\n          return StateMachine.Result.PENDING;\n        }\n        else {\n          if (this.transition) // need to check in case user manually called transition() but forgot to return StateMachine.ASYNC\n            return this.transition();\n        }\n\n      };\n    }\n\n  }; // StateMachine\n\n  //===========================================================================\n\n  //======\n  // NODE\n  //======\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = StateMachine;\n    }\n    exports.StateMachine = StateMachine;\n  }\n  //============\n  // AMD/REQUIRE\n  //============\n  else if (typeof define === 'function' && define.amd) {\n    define(function(require) { return StateMachine; });\n  }\n  //========\n  // BROWSER\n  //========\n  else if (typeof window !== 'undefined') {\n    window.StateMachine = StateMachine;\n  }\n  //===========\n  // WEB WORKER\n  //===========\n  else if (typeof self !== 'undefined') {\n    self.StateMachine = StateMachine;\n  }\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/javascript-state-machine/state-machine.js","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_task.js","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_export.js","'use strict';\nvar $defineProperty = require('./_object-dp')\n  , createDesc      = require('./_property-desc');\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_create-property.js","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/object/assign.js","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/util/support/isBufferBrowser.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nmodule.exports = require('../modules/_core').Set;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/fn/set.js","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_fails.js","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_collection-to-json.js","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_iter-step.js","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn (obj.foo + obj.bar + obj.trzy) === \"razdwatrzy\";\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/object/assign/is-implemented.js","// Generated by CoffeeScript 1.11.0\n(function() {\n  module.exports = require(\"./Bottleneck\");\n\n  if (global.window != null) {\n    global.window.Bottleneck = module.exports;\n  }\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bottleneck/lib/index.js","var $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/es6.object.create.js","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_has.js","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_enum-keys.js","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/babel-runtime/core-js/object/create.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/base64-js/index.js","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? String.prototype.contains\n\t: require(\"./shim\");\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/es5-ext/string/#/contains/index.js","exports.f = {}.propertyIsEnumerable;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_object-pie.js","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_core.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperties = require('babel-runtime/core-js/object/define-properties');\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ERS_URI = 'https://ers.twilio.com';\nvar ERS_PATH = '/v1/registrations';\n\nvar NotificationConfig = function () {\n  function NotificationConfig(token, options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, NotificationConfig);\n\n    options = (options || {}).Notification || {};\n    var uri = options.ersUri || ERS_URI;\n\n    (0, _defineProperties2.default)(this, {\n      _registrarUri: { value: uri + ERS_PATH },\n      _token: { value: token, writable: true },\n\n      registrarUri: { get: function get() {\n          return _this._registrarUri;\n        } },\n      token: { get: function get() {\n          return _this._token;\n        } }\n    });\n  }\n\n  (0, _createClass3.default)(NotificationConfig, [{\n    key: 'updateToken',\n    value: function updateToken(token) {\n      this._token = token;\n    }\n  }]);\n  return NotificationConfig;\n}();\n\nexports.default = NotificationConfig;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../node_modules/twilio-notifications/lib/configuration.js","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/core-js/library/modules/_an-object.js"],"sourceRoot":""}